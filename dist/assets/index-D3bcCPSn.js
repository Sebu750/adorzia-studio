var Cz=Object.defineProperty;var kz=(t,r,s)=>r in t?Cz(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var et=(t,r,s)=>kz(t,typeof r!="symbol"?r+"":r,s);import{j as e,c as MD,_ as ao,a as FD,b as Az,u as Oe,d as ft,e as ze,Q as Pz,f as Ez}from"./data-vendor-BDFv397S.js";import{r as Tz,a as km,R as HN,u as Li,N as uc,L as fe,b as wr,c as KN,d as ci,e as LD,B as Oz,f as Dz,g as Ie,O as ch}from"./react-vendor-D5ooECDq.js";import{a as f,c as L,R as GN,X as ht,L as Ue,S as Ma,C as di,B as Mr,d as ui,D as Rs,T as ri,P as al,U as mt,e as pd,f as qp,A as St,M as $D,h as lr,i as ct,I as jo,j as Cl,k as zp,Y as YN,u as Bp,l as rf,m as W,n as si,o as C0,p as XN,q as Wn,s as qD,t as Za,Q as Rz,G as Up,v as zt,Z as nl,F as wo,w as zD,x as $i,E as Bt,y as Au,N as Iz,z as Tn,H as ks,J as At,K as us,O as Mt,V as Ze,W as Wr,_ as Mz,$ as Am,a0 as No,a1 as Fz,a2 as Wt,a3 as Vp,a4 as As,a5 as kl,a6 as BD,a7 as gr,a8 as qi,a9 as Ya,aa as Vs,ab as xd,ac as sf,ad as ms,ae as QN,af as ws,ag as Wp,ah as ai,ai as Hp,aj as tr,ak as JN,al as Xt,am as Hr,an as dr,ao as gd,ap as Oa,aq as Ot,ar as ZN,as as ra,at as Pu,au as Pm,av as UD,aw as af,ax as nf,ay as Ha,az as ba,aA as Ei,aB as VD,aC as ga,aD as k0,aE as Lz,aF as $z,aG as qz,aH as zz,aI as Bz,r as Uz,aJ as WD,aK as Eu,aL as fo,aM as Kp,aN as HD,aO as e_,aP as t_,aQ as KD,aR as Ti,aS as Rr,aT as Vz,aU as pu,aV as Wz,aW as Cc,aX as n2,aY as Al,aZ as A0,a_ as r_,a$ as Ka,b0 as zr,b1 as Hz,b2 as vn,b3 as po,b4 as mc,b5 as il,b6 as GD,b7 as Em,b8 as Hs,b9 as xn,ba as ol,bb as Kz,bc as Gp,bd as vd,be as Tu,bf as Gz,bg as YD,bh as kc,bi as XD,bj as s_,bk as P0,bl as QD,bm as Yz,bn as Ac,bo as dh,b as vr,bp as Eg,bq as Xz,br as JD,bs as Qz,bt as Jz,bu as Zz,bv as eB,bw as tB,bx as rB,by as sB,bz as aB,bA as Tm,bB as of,bC as co,bD as ZD,bE as eR,bF as nB,bG as io,bH as Oi,bI as iB,bJ as oB,bK as lB,bL as cB,bM as qh,bN as dB}from"./ui-vendor-DN_NX_Bf.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var uh={},i2;function uB(){if(i2)return uh;i2=1;var t=Tz();return uh.createRoot=t.createRoot,uh.hydrateRoot=t.hydrateRoot,uh}var mB=uB();const hB=1,fB=1e6;let Tg=0;function pB(){return Tg=(Tg+1)%Number.MAX_SAFE_INTEGER,Tg.toString()}const Og=new Map,o2=t=>{if(Og.has(t))return;const r=setTimeout(()=>{Og.delete(t),xu({type:"REMOVE_TOAST",toastId:t})},fB);Og.set(t,r)},xB=(t,r)=>{switch(r.type){case"ADD_TOAST":return{...t,toasts:[r.toast,...t.toasts].slice(0,hB)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?o2(s):t.toasts.forEach(a=>{o2(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==r.toastId)}}},zh=[];let Bh={toasts:[]};function xu(t){Bh=xB(Bh,t),zh.forEach(r=>{r(Bh)})}function gB({...t}){const r=pB(),s=n=>xu({type:"UPDATE_TOAST",toast:{...n,id:r}}),a=()=>xu({type:"DISMISS_TOAST",toastId:r});return xu({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:n=>{n||a()}}}),{id:r,dismiss:a,update:s}}function Ge(){const[t,r]=f.useState(Bh);return f.useEffect(()=>(zh.push(r),()=>{const s=zh.indexOf(r);s>-1&&zh.splice(s,1)}),[t]),{...t,toast:gB,dismiss:s=>xu({type:"DISMISS_TOAST",toastId:s})}}function ve(t,r,{checkForDefaultPrevented:s=!0}={}){return function(n){if(t?.(n),s===!1||!n.defaultPrevented)return r?.(n)}}function l2(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function Js(...t){return r=>{let s=!1;const a=t.map(n=>{const i=l2(n,r);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let n=0;n<a.length;n++){const i=a[n];typeof i=="function"?i():l2(t[n],null)}}}}function Xe(...t){return f.useCallback(Js(...t),t)}function vB(t,r){const s=f.createContext(r),a=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return e.jsx(s.Provider,{value:c,children:o})};a.displayName=t+"Provider";function n(i){const o=f.useContext(s);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[a,n]}function Ur(t,r=[]){let s=[];function a(i,o){const l=f.createContext(o),c=s.length;s=[...s,o];const d=m=>{const{scope:h,children:p,...v}=m,x=h?.[t]?.[c]||l,g=f.useMemo(()=>v,Object.values(v));return e.jsx(x.Provider,{value:g,children:p})};d.displayName=i+"Provider";function u(m,h){const p=h?.[t]?.[c]||l,v=f.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const n=()=>{const i=s.map(o=>f.createContext(o));return function(l){const c=l?.[t]||i;return f.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return n.scopeName=t,[a,bB(n,...r)]}function bB(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const a=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return f.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return s.scopeName=r.scopeName,s}function c2(t){const r=yB(t),s=f.forwardRef((a,n)=>{const{children:i,...o}=a,l=f.Children.toArray(i),c=l.find(wB);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return e.jsx(r,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return e.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${t}.Slot`,s}function yB(t){const r=f.forwardRef((s,a)=>{const{children:n,...i}=s;if(f.isValidElement(n)){const o=_B(n),l=NB(i,n.props);return n.type!==f.Fragment&&(l.ref=a?Js(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var jB=Symbol("radix.slottable");function wB(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jB}function NB(t,r){const s={...r};for(const a in r){const n=t[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...t,...s}}function _B(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function _o(t){const r=t+"CollectionProvider",[s,a]=Ur(r),[n,i]=s(r,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:b}=x,y=L.useRef(null),j=L.useRef(new Map).current;return e.jsx(n,{scope:g,itemMap:j,collectionRef:y,children:b})};o.displayName=r;const l=t+"CollectionSlot",c=c2(l),d=L.forwardRef((x,g)=>{const{scope:b,children:y}=x,j=i(l,b),S=Xe(g,j.collectionRef);return e.jsx(c,{ref:S,children:y})});d.displayName=l;const u=t+"CollectionItemSlot",m="data-radix-collection-item",h=c2(u),p=L.forwardRef((x,g)=>{const{scope:b,children:y,...j}=x,S=L.useRef(null),w=Xe(g,S),_=i(u,b);return L.useEffect(()=>(_.itemMap.set(S,{ref:S,...j}),()=>{_.itemMap.delete(S)})),e.jsx(h,{[m]:"",ref:w,children:y})});p.displayName=u;function v(x){const g=i(t+"CollectionConsumer",x);return L.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${m}]`));return Array.from(g.itemMap.values()).sort((_,N)=>j.indexOf(_.ref.current)-j.indexOf(N.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},v,a]}function SB(t){const r=CB(t),s=f.forwardRef((a,n)=>{const{children:i,...o}=a,l=f.Children.toArray(i),c=l.find(AB);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return e.jsx(r,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return e.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${t}.Slot`,s}function CB(t){const r=f.forwardRef((s,a)=>{const{children:n,...i}=s;if(f.isValidElement(n)){const o=EB(n),l=PB(i,n.props);return n.type!==f.Fragment&&(l.ref=a?Js(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var kB=Symbol("radix.slottable");function AB(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kB}function PB(t,r){const s={...r};for(const a in r){const n=t[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...t,...s}}function EB(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var TB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=TB.reduce((t,r)=>{const s=SB(`Primitive.${r}`),a=f.forwardRef((n,i)=>{const{asChild:o,...l}=n,c=o?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${r}`,{...t,[r]:a}},{});function Ou(t,r){t&&km.flushSync(()=>t.dispatchEvent(r))}function pr(t){const r=f.useRef(t);return f.useEffect(()=>{r.current=t}),f.useMemo(()=>(...s)=>r.current?.(...s),[])}function OB(t,r=globalThis?.document){const s=pr(t);f.useEffect(()=>{const a=n=>{n.key==="Escape"&&s(n)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var DB="DismissableLayer",E0="dismissableLayer.update",RB="dismissableLayer.pointerDownOutside",IB="dismissableLayer.focusOutside",d2,tR=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),So=f.forwardRef((t,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=f.useContext(tR),[u,m]=f.useState(null),h=u?.ownerDocument??globalThis?.document,[,p]=f.useState({}),v=Xe(r,N=>m(N)),x=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(g),y=u?x.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,S=y>=b,w=FB(N=>{const k=N.target,C=[...d.branches].some(P=>P.contains(k));!S||C||(n?.(N),o?.(N),N.defaultPrevented||l?.())},h),_=LB(N=>{const k=N.target;[...d.branches].some(P=>P.contains(k))||(i?.(N),o?.(N),N.defaultPrevented||l?.())},h);return OB(N=>{y===d.layers.size-1&&(a?.(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),f.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(d2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),u2(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=d2)}},[u,h,s,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),u2())},[u,d]),f.useEffect(()=>{const N=()=>p({});return document.addEventListener(E0,N),()=>document.removeEventListener(E0,N)},[]),e.jsx(we.div,{...c,ref:v,style:{pointerEvents:j?S?"auto":"none":void 0,...t.style},onFocusCapture:ve(t.onFocusCapture,_.onFocusCapture),onBlurCapture:ve(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ve(t.onPointerDownCapture,w.onPointerDownCapture)})});So.displayName=DB;var MB="DismissableLayerBranch",rR=f.forwardRef((t,r)=>{const s=f.useContext(tR),a=f.useRef(null),n=Xe(r,a);return f.useEffect(()=>{const i=a.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),e.jsx(we.div,{...t,ref:n})});rR.displayName=MB;function FB(t,r=globalThis?.document){const s=pr(t),a=f.useRef(!1),n=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){sR(RB,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",n.current),n.current=c,r.addEventListener("click",n.current,{once:!0})):c()}else r.removeEventListener("click",n.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",n.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function LB(t,r=globalThis?.document){const s=pr(t),a=f.useRef(!1);return f.useEffect(()=>{const n=i=>{i.target&&!a.current&&sR(IB,s,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",n),()=>r.removeEventListener("focusin",n)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function u2(){const t=new CustomEvent(E0);document.dispatchEvent(t)}function sR(t,r,s,{discrete:a}){const n=s.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});r&&n.addEventListener(t,r,{once:!0}),a?Ou(n,i):n.dispatchEvent(i)}var $B=So,qB=rR,Fr=globalThis?.document?f.useLayoutEffect:()=>{},zB="Portal",bd=f.forwardRef((t,r)=>{const{container:s,...a}=t,[n,i]=f.useState(!1);Fr(()=>i(!0),[]);const o=s||n&&globalThis?.document?.body;return o?HN.createPortal(e.jsx(we.div,{...a,ref:r}),o):null});bd.displayName=zB;function BB(t,r){return f.useReducer((s,a)=>r[s][a]??s,t)}var qr=t=>{const{present:r,children:s}=t,a=UB(r),n=typeof s=="function"?s({present:a.isPresent}):f.Children.only(s),i=Xe(a.ref,VB(n));return typeof s=="function"||a.isPresent?f.cloneElement(n,{ref:i}):null};qr.displayName="Presence";function UB(t){const[r,s]=f.useState(),a=f.useRef(null),n=f.useRef(t),i=f.useRef("none"),o=t?"mounted":"unmounted",[l,c]=BB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=mh(a.current);i.current=l==="mounted"?d:"none"},[l]),Fr(()=>{const d=a.current,u=n.current;if(u!==t){const h=i.current,p=mh(d);t?c("MOUNT"):p==="none"||d?.display==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,c]),Fr(()=>{if(r){let d;const u=r.ownerDocument.defaultView??window,m=p=>{const x=mh(a.current).includes(p.animationName);if(p.target===r&&x&&(c("ANIMATION_END"),!n.current)){const g=r.style.animationFillMode;r.style.animationFillMode="forwards",d=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=g)})}},h=p=>{p.target===r&&(i.current=mh(a.current))};return r.addEventListener("animationstart",h),r.addEventListener("animationcancel",m),r.addEventListener("animationend",m),()=>{u.clearTimeout(d),r.removeEventListener("animationstart",h),r.removeEventListener("animationcancel",m),r.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{a.current=d?getComputedStyle(d):null,s(d)},[])}}function mh(t){return t?.animationName||"none"}function VB(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var WB=GN[" useInsertionEffect ".trim().toString()]||Fr;function Is({prop:t,defaultProp:r,onChange:s=()=>{},caller:a}){const[n,i,o]=HB({defaultProp:r,onChange:s}),l=t!==void 0,c=l?t:n;{const u=f.useRef(t!==void 0);f.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${a} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,a])}const d=f.useCallback(u=>{if(l){const m=KB(u)?u(t):u;m!==t&&o.current?.(m)}else i(u)},[l,t,i,o]);return[c,d]}function HB({defaultProp:t,onChange:r}){const[s,a]=f.useState(t),n=f.useRef(s),i=f.useRef(r);return WB(()=>{i.current=r},[r]),f.useEffect(()=>{n.current!==s&&(i.current?.(s),n.current=s)},[s,n]),[s,a,i]}function KB(t){return typeof t=="function"}var aR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GB="VisuallyHidden",Yp=f.forwardRef((t,r)=>e.jsx(we.span,{...t,ref:r,style:{...aR,...t.style}}));Yp.displayName=GB;var nR=Yp,a_="ToastProvider",[n_,YB,XB]=_o("Toast"),[iR]=Ur("Toast",[XB]),[QB,Xp]=iR(a_),oR=t=>{const{__scopeToast:r,label:s="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:i=50,children:o}=t,[l,c]=f.useState(null),[d,u]=f.useState(0),m=f.useRef(!1),h=f.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${a_}\`. Expected non-empty \`string\`.`),e.jsx(n_.Provider,{scope:r,children:e.jsx(QB,{scope:r,label:s,duration:a,swipeDirection:n,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(p=>p+1),[]),onToastRemove:f.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};oR.displayName=a_;var lR="ToastViewport",JB=["F8"],T0="toast.viewportPause",O0="toast.viewportResume",cR=f.forwardRef((t,r)=>{const{__scopeToast:s,hotkey:a=JB,label:n="Notifications ({hotkey})",...i}=t,o=Xp(lR,s),l=YB(s),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),m=f.useRef(null),h=Xe(r,m,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;f.useEffect(()=>{const g=b=>{a.length!==0&&a.every(j=>b[j]||b.code===j)&&m.current?.focus()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[a]),f.useEffect(()=>{const g=c.current,b=m.current;if(v&&g&&b){const y=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(T0);b.dispatchEvent(_),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(O0);b.dispatchEvent(_),o.isClosePausedRef.current=!1}},S=_=>{!g.contains(_.relatedTarget)&&j()},w=()=>{g.contains(document.activeElement)||j()};return g.addEventListener("focusin",y),g.addEventListener("focusout",S),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",w),window.addEventListener("blur",y),window.addEventListener("focus",j),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",S),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",y),window.removeEventListener("focus",j)}}},[v,o.isClosePausedRef]);const x=f.useCallback(({tabbingDirection:g})=>{const y=l().map(j=>{const S=j.ref.current,w=[S,...uU(S)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return f.useEffect(()=>{const g=m.current;if(g){const b=y=>{const j=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!j){const w=document.activeElement,_=y.shiftKey;if(y.target===g&&_){d.current?.focus();return}const C=x({tabbingDirection:_?"backwards":"forwards"}),P=C.findIndex(A=>A===w);Dg(C.slice(P+1))?y.preventDefault():_?d.current?.focus():u.current?.focus()}};return g.addEventListener("keydown",b),()=>g.removeEventListener("keydown",b)}},[l,x]),e.jsxs(qB,{ref:c,role:"region","aria-label":n.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&e.jsx(D0,{ref:d,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"forwards"});Dg(g)}}),e.jsx(n_.Slot,{scope:s,children:e.jsx(we.ol,{tabIndex:-1,...i,ref:h})}),v&&e.jsx(D0,{ref:u,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"backwards"});Dg(g)}})]})});cR.displayName=lR;var dR="ToastFocusProxy",D0=f.forwardRef((t,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=t,i=Xp(dR,s);return e.jsx(Yp,{"aria-hidden":!0,tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&a()}})});D0.displayName=dR;var Om="Toast",ZB="toast.swipeStart",eU="toast.swipeMove",tU="toast.swipeCancel",rU="toast.swipeEnd",uR=f.forwardRef((t,r)=>{const{forceMount:s,open:a,defaultOpen:n,onOpenChange:i,...o}=t,[l,c]=Is({prop:a,defaultProp:n??!0,onChange:i,caller:Om});return e.jsx(qr,{present:s||l,children:e.jsx(nU,{open:l,...o,ref:r,onClose:()=>c(!1),onPause:pr(t.onPause),onResume:pr(t.onResume),onSwipeStart:ve(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(t.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ve(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(t.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});uR.displayName=Om;var[sU,aU]=iR(Om,{onClose(){}}),nU=f.forwardRef((t,r)=>{const{__scopeToast:s,type:a="foreground",duration:n,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:p,...v}=t,x=Xp(Om,s),[g,b]=f.useState(null),y=Xe(r,F=>b(F)),j=f.useRef(null),S=f.useRef(null),w=n||x.duration,_=f.useRef(0),N=f.useRef(w),k=f.useRef(0),{onToastAdd:C,onToastRemove:P}=x,A=pr(()=>{g?.contains(document.activeElement)&&x.viewport?.focus(),o()}),O=f.useCallback(F=>{!F||F===1/0||(window.clearTimeout(k.current),_.current=new Date().getTime(),k.current=window.setTimeout(A,F))},[A]);f.useEffect(()=>{const F=x.viewport;if(F){const $=()=>{O(N.current),d?.()},E=()=>{const M=new Date().getTime()-_.current;N.current=N.current-M,window.clearTimeout(k.current),c?.()};return F.addEventListener(T0,E),F.addEventListener(O0,$),()=>{F.removeEventListener(T0,E),F.removeEventListener(O0,$)}}},[x.viewport,w,c,d,O]),f.useEffect(()=>{i&&!x.isClosePausedRef.current&&O(w)},[i,w,x.isClosePausedRef,O]),f.useEffect(()=>(C(),()=>P()),[C,P]);const I=f.useMemo(()=>g?vR(g):null,[g]);return x.viewport?e.jsxs(e.Fragment,{children:[I&&e.jsx(iU,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),e.jsx(sU,{scope:s,onClose:A,children:km.createPortal(e.jsx(n_.ItemSlot,{scope:s,children:e.jsx($B,{asChild:!0,onEscapeKeyDown:ve(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||A(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(we.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ve(t.onKeyDown,F=>{F.key==="Escape"&&(l?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:ve(t.onPointerDown,F=>{F.button===0&&(j.current={x:F.clientX,y:F.clientY})}),onPointerMove:ve(t.onPointerMove,F=>{if(!j.current)return;const $=F.clientX-j.current.x,E=F.clientY-j.current.y,M=!!S.current,z=["left","right"].includes(x.swipeDirection),R=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,te=z?R(0,$):0,V=z?0:R(0,E),D=F.pointerType==="touch"?10:2,H={x:te,y:V},ae={originalEvent:F,delta:H};M?(S.current=H,hh(eU,m,ae,{discrete:!1})):m2(H,x.swipeDirection,D)?(S.current=H,hh(ZB,u,ae,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs($)>D||Math.abs(E)>D)&&(j.current=null)}),onPointerUp:ve(t.onPointerUp,F=>{const $=S.current,E=F.target;if(E.hasPointerCapture(F.pointerId)&&E.releasePointerCapture(F.pointerId),S.current=null,j.current=null,$){const M=F.currentTarget,z={originalEvent:F,delta:$};m2($,x.swipeDirection,x.swipeThreshold)?hh(rU,p,z,{discrete:!0}):hh(tU,h,z,{discrete:!0}),M.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),iU=t=>{const{__scopeToast:r,children:s,...a}=t,n=Xp(Om,r),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return cU(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:e.jsx(bd,{asChild:!0,children:e.jsx(Yp,{...a,children:i&&e.jsxs(e.Fragment,{children:[n.label," ",s]})})})},oU="ToastTitle",mR=f.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t;return e.jsx(we.div,{...a,ref:r})});mR.displayName=oU;var lU="ToastDescription",hR=f.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t;return e.jsx(we.div,{...a,ref:r})});hR.displayName=lU;var fR="ToastAction",pR=f.forwardRef((t,r)=>{const{altText:s,...a}=t;return s.trim()?e.jsx(gR,{altText:s,asChild:!0,children:e.jsx(i_,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${fR}\`. Expected non-empty \`string\`.`),null)});pR.displayName=fR;var xR="ToastClose",i_=f.forwardRef((t,r)=>{const{__scopeToast:s,...a}=t,n=aU(xR,s);return e.jsx(gR,{asChild:!0,children:e.jsx(we.button,{type:"button",...a,ref:r,onClick:ve(t.onClick,n.onClose)})})});i_.displayName=xR;var gR=f.forwardRef((t,r)=>{const{__scopeToast:s,altText:a,...n}=t;return e.jsx(we.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:r})});function vR(t){const r=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&r.push(a.textContent),dU(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!n)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&r.push(o)}else r.push(...vR(a))}}),r}function hh(t,r,s,{discrete:a}){const n=s.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});r&&n.addEventListener(t,r,{once:!0}),a?Ou(n,i):n.dispatchEvent(i)}var m2=(t,r,s=0)=>{const a=Math.abs(t.x),n=Math.abs(t.y),i=a>n;return r==="left"||r==="right"?i&&a>s:!i&&n>s};function cU(t=()=>{}){const r=pr(t);Fr(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[r])}function dU(t){return t.nodeType===t.ELEMENT_NODE}function uU(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function Dg(t){const r=document.activeElement;return t.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var mU=oR,bR=cR,yR=uR,jR=mR,wR=hR,NR=pR,_R=i_;function SR(t){var r,s,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=SR(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function jt(){for(var t,r,s=0,a="",n=arguments.length;s<n;s++)(t=arguments[s])&&(r=SR(t))&&(a&&(a+=" "),a+=r);return a}const h2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,f2=jt,Pl=(t,r)=>s=>{var a;if(r?.variants==null)return f2(t,s?.class,s?.className);const{variants:n,defaultVariants:i}=r,o=Object.keys(n).map(d=>{const u=s?.[d],m=i?.[d];if(u===null)return null;const h=h2(u)||h2(m);return n[d][h]}),l=s&&Object.entries(s).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(v=>{let[x,g]=v;return Array.isArray(g)?g.includes({...i,...l}[x]):{...i,...l}[x]===g})?[...d,m,h]:d},[]);return f2(t,o,c,s?.class,s?.className)},o_="-",hU=t=>{const r=pU(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:o=>{const l=o.split(o_);return l[0]===""&&l.length!==1&&l.shift(),CR(l,r)||fU(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},CR=(t,r)=>{if(t.length===0)return r.classGroupId;const s=t[0],a=r.nextPart.get(s),n=a?CR(t.slice(1),a):void 0;if(n)return n;if(r.validators.length===0)return;const i=t.join(o_);return r.validators.find(({validator:o})=>o(i))?.classGroupId},p2=/^\[(.+)\]$/,fU=t=>{if(p2.test(t)){const r=p2.exec(t)[1],s=r?.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},pU=t=>{const{theme:r,prefix:s}=t,a={nextPart:new Map,validators:[]};return gU(Object.entries(t.classGroups),s).forEach(([i,o])=>{R0(o,a,i,r)}),a},R0=(t,r,s,a)=>{t.forEach(n=>{if(typeof n=="string"){const i=n===""?r:x2(r,n);i.classGroupId=s;return}if(typeof n=="function"){if(xU(n)){R0(n(a),r,s,a);return}r.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,o])=>{R0(o,x2(r,i),s,a)})})},x2=(t,r)=>{let s=t;return r.split(o_).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},xU=t=>t.isThemeGetter,gU=(t,r)=>r?t.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[r+o,l])):i);return[s,n]}):t,vU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const n=(i,o)=>{s.set(i,o),r++,r>t&&(r=0,a=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return n(i,o),o},set(i,o){s.has(i)?s.set(i,o):n(i,o)}}},kR="!",bU=t=>{const{separator:r,experimentalParseClassName:s}=t,a=r.length===1,n=r[0],i=r.length,o=l=>{const c=[];let d=0,u=0,m;for(let g=0;g<l.length;g++){let b=l[g];if(d===0){if(b===n&&(a||l.slice(g,g+i)===r)){c.push(l.slice(u,g)),u=g+i;continue}if(b==="/"){m=g;continue}}b==="["?d++:b==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(kR),v=p?h.substring(1):h,x=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:o}):o},yU=t=>{if(t.length<=1)return t;const r=[];let s=[];return t.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},jU=t=>({cache:vU(t.cacheSize),parseClassName:bU(t),...hU(t)}),wU=/\s+/,NU=(t,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=r,i=[],o=t.trim().split(wU);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:p}=s(d);let v=!!p,x=a(v?h.substring(0,p):h);if(!x){if(!v){l=d+(l.length>0?" "+l:l);continue}if(x=a(h),!x){l=d+(l.length>0?" "+l:l);continue}v=!1}const g=yU(u).join(":"),b=m?g+kR:g,y=b+x;if(i.includes(y))continue;i.push(y);const j=n(x,v);for(let S=0;S<j.length;++S){const w=j[S];i.push(b+w)}l=d+(l.length>0?" "+l:l)}return l};function _U(){let t=0,r,s,a="";for(;t<arguments.length;)(r=arguments[t++])&&(s=AR(r))&&(a&&(a+=" "),a+=s);return a}const AR=t=>{if(typeof t=="string")return t;let r,s="";for(let a=0;a<t.length;a++)t[a]&&(r=AR(t[a]))&&(s&&(s+=" "),s+=r);return s};function SU(t,...r){let s,a,n,i=o;function o(c){const d=r.reduce((u,m)=>m(u),t());return s=jU(d),a=s.cache.get,n=s.cache.set,i=l,l(c)}function l(c){const d=a(c);if(d)return d;const u=NU(c,s);return n(c,u),u}return function(){return i(_U.apply(null,arguments))}}const Tr=t=>{const r=s=>s[t]||[];return r.isThemeGetter=!0,r},PR=/^\[(?:([a-z-]+):)?(.+)\]$/i,CU=/^\d+\/\d+$/,kU=new Set(["px","full","screen"]),AU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vi=t=>hc(t)||kU.has(t)||CU.test(t),Gi=t=>yd(t,"length",qU),hc=t=>!!t&&!Number.isNaN(Number(t)),Rg=t=>yd(t,"number",hc),$d=t=>!!t&&Number.isInteger(Number(t)),DU=t=>t.endsWith("%")&&hc(t.slice(0,-1)),kt=t=>PR.test(t),Yi=t=>AU.test(t),RU=new Set(["length","size","percentage"]),IU=t=>yd(t,RU,ER),MU=t=>yd(t,"position",ER),FU=new Set(["image","url"]),LU=t=>yd(t,FU,BU),$U=t=>yd(t,"",zU),qd=()=>!0,yd=(t,r,s)=>{const a=PR.exec(t);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},qU=t=>PU.test(t)&&!EU.test(t),ER=()=>!1,zU=t=>TU.test(t),BU=t=>OU.test(t),UU=()=>{const t=Tr("colors"),r=Tr("spacing"),s=Tr("blur"),a=Tr("brightness"),n=Tr("borderColor"),i=Tr("borderRadius"),o=Tr("borderSpacing"),l=Tr("borderWidth"),c=Tr("contrast"),d=Tr("grayscale"),u=Tr("hueRotate"),m=Tr("invert"),h=Tr("gap"),p=Tr("gradientColorStops"),v=Tr("gradientColorStopPositions"),x=Tr("inset"),g=Tr("margin"),b=Tr("opacity"),y=Tr("padding"),j=Tr("saturate"),S=Tr("scale"),w=Tr("sepia"),_=Tr("skew"),N=Tr("space"),k=Tr("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",kt,r],O=()=>[kt,r],I=()=>["",vi,Gi],F=()=>["auto",hc,kt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",kt],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[hc,kt];return{cacheSize:500,separator:":",theme:{colors:[qd],spacing:[vi,Gi],blur:["none","",Yi,kt],brightness:V(),borderColor:[t],borderRadius:["none","","full",Yi,kt],borderSpacing:O(),borderWidth:I(),contrast:V(),grayscale:R(),hueRotate:V(),invert:R(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[DU,Gi],inset:A(),margin:A(),opacity:V(),padding:O(),saturate:V(),scale:V(),sepia:R(),skew:V(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[Yi]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),kt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$d,kt]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",$d,kt]}],"grid-cols":[{"grid-cols":[qd]}],"col-start-end":[{col:["auto",{span:["full",$d,kt]},kt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[qd]}],"row-start-end":[{row:["auto",{span:[$d,kt]},kt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,r]}],"min-w":[{"min-w":[kt,r,"min","max","fit"]}],"max-w":[{"max-w":[kt,r,"none","full","min","max","fit","prose",{screen:[Yi]},Yi]}],h:[{h:[kt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Yi,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rg]}],"font-family":[{font:[qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",hc,Rg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vi,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...E(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vi,Gi]}],"underline-offset":[{"underline-offset":["auto",vi,kt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),MU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LU]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...E(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:E()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...E()]}],"outline-offset":[{"outline-offset":[vi,kt]}],"outline-w":[{outline:[vi,Gi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[vi,Gi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yi,$U]}],"shadow-color":[{shadow:[qd]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yi,kt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[$d,kt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vi,Gi,Rg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},VU=SU(UU);function q(...t){return VU(jt(t))}const WU=mU,TR=f.forwardRef(({className:t,...r},s)=>e.jsx(bR,{ref:s,className:q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...r}));TR.displayName=bR.displayName;const HU=Pl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),OR=f.forwardRef(({className:t,variant:r,...s},a)=>e.jsx(yR,{ref:a,className:q(HU({variant:r}),t),...s}));OR.displayName=yR.displayName;const KU=f.forwardRef(({className:t,...r},s)=>e.jsx(NR,{ref:s,className:q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...r}));KU.displayName=NR.displayName;const DR=f.forwardRef(({className:t,...r},s)=>e.jsx(_R,{ref:s,className:q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:e.jsx(ht,{className:"h-4 w-4"})}));DR.displayName=_R.displayName;const RR=f.forwardRef(({className:t,...r},s)=>e.jsx(jR,{ref:s,className:q("text-sm font-semibold",t),...r}));RR.displayName=jR.displayName;const IR=f.forwardRef(({className:t,...r},s)=>e.jsx(wR,{ref:s,className:q("text-sm opacity-90",t),...r}));IR.displayName=wR.displayName;function GU(){const{toasts:t}=Ge();return e.jsxs(WU,{children:[t.map(function({id:r,title:s,description:a,action:n,...i}){return e.jsxs(OR,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(RR,{children:s}),a&&e.jsx(IR,{children:a})]}),n,e.jsx(DR,{})]},r)}),e.jsx(TR,{})]})}var lf=["light","dark"],l_="(prefers-color-scheme: dark)",YU=typeof window>"u",c_=f.createContext(void 0),XU={setTheme:t=>{},themes:[]},QU=()=>{var t;return(t=f.useContext(c_))!=null?t:XU},MR=t=>f.useContext(c_)?t.children:f.createElement(ZU,{...t}),JU=["light","dark"],ZU=({forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:a=!0,storageKey:n="theme",themes:i=JU,defaultTheme:o=s?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[m,h]=f.useState(()=>g2(n,o)),[p,v]=f.useState(()=>g2(n)),x=c?Object.values(c):i,g=f.useCallback(S=>{let w=S;if(!w)return;S==="system"&&s&&(w=v2());let _=c?c[w]:w,N=r?tV():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...x),_&&k.classList.add(_)):_?k.setAttribute(l,_):k.removeAttribute(l),a){let C=lf.includes(o)?o:null,P=lf.includes(w)?w:C;k.style.colorScheme=P}N?.()},[]),b=f.useCallback(S=>{let w=typeof S=="function"?S(S):S;h(w);try{localStorage.setItem(n,w)}catch{}},[t]),y=f.useCallback(S=>{let w=v2(S);v(w),m==="system"&&s&&!t&&g("system")},[m,t]);f.useEffect(()=>{let S=window.matchMedia(l_);return S.addListener(y),y(S),()=>S.removeListener(y)},[y]),f.useEffect(()=>{let S=w=>{if(w.key!==n)return;let _=w.newValue||o;b(_)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[b]),f.useEffect(()=>{g(t??m)},[t,m]);let j=f.useMemo(()=>({theme:m,setTheme:b,forcedTheme:t,resolvedTheme:m==="system"?p:m,themes:s?[...i,"system"]:i,systemTheme:s?p:void 0}),[m,b,t,p,s,i]);return f.createElement(c_.Provider,{value:j},f.createElement(eV,{forcedTheme:t,disableTransitionOnChange:r,enableSystem:s,enableColorScheme:a,storageKey:n,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:x,nonce:u}),d)},eV=f.memo(({forcedTheme:t,storageKey:r,attribute:s,enableSystem:a,enableColorScheme:n,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,m=n?lf.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,x=!1,g=!0)=>{let b=o?o[v]:v,y=x?v+"|| ''":`'${b}'`,j="";return n&&g&&!x&&lf.includes(v)&&(j+=`d.style.colorScheme = '${v}';`),s==="class"?x||b?j+=`c.add(${y})`:j+="null":b&&(j+=`d[s](n,${y})`),j},p=t?`!function(){${u}${h(t)}}()`:a?`!function(){try{${u}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${d})){var t='${l_}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${r}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return f.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),g2=(t,r)=>{if(YU)return;let s;try{s=localStorage.getItem(t)||void 0}catch{}return s||r},tV=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},v2=t=>(t||(t=window.matchMedia(l_)),t.matches?"dark":"light"),rV=t=>{switch(t){case"success":return nV;case"info":return oV;case"warning":return iV;case"error":return lV;default:return null}},sV=Array(12).fill(0),aV=({visible:t,className:r})=>L.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},L.createElement("div",{className:"sonner-spinner"},sV.map((s,a)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),nV=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iV=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oV=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lV=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cV=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dV=()=>{let[t,r]=L.useState(document.hidden);return L.useEffect(()=>{let s=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t},I0=1,uV=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:s,...a}=t,n=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:I0++,i=this.toasts.find(l=>l.id===n),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),i?this.toasts=this.toasts.map(l=>l.id===n?(this.publish({...l,...t,id:n,title:s}),{...l,...t,id:n,dismissible:o,title:s}):l):this.addToast({title:s,...a,dismissible:o,id:n}),n},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),n=s!==void 0,i,o=a.then(async c=>{if(i=["resolve",c],L.isValidElement(c))n=!1,this.create({id:s,type:"default",message:c});else if(hV(c)&&!c.ok){n=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,u=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description;this.create({id:s,type:"error",message:d,description:u})}else if(r.success!==void 0){n=!1;let d=typeof r.success=="function"?await r.success(c):r.success,u=typeof r.description=="function"?await r.description(c):r.description;this.create({id:s,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],r.error!==void 0){n=!1;let d=typeof r.error=="function"?await r.error(c):r.error,u=typeof r.description=="function"?await r.description(c):r.description;this.create({id:s,type:"error",message:d,description:u})}}).finally(()=>{var c;n&&(this.dismiss(s),s=void 0),(c=r.finally)==null||c.call(r)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof s!="string"&&typeof s!="number"?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(t,r)=>{let s=r?.id||I0++;return this.create({jsx:t(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},fa=new uV,mV=(t,r)=>{let s=r?.id||I0++;return fa.addToast({title:t,...r,id:s}),s},hV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fV=mV,pV=()=>fa.toasts,xV=()=>fa.getActiveToasts(),Re=Object.assign(fV,{success:fa.success,info:fa.info,warning:fa.warning,error:fa.error,custom:fa.custom,message:fa.message,promise:fa.promise,dismiss:fa.dismiss,loading:fa.loading},{getHistory:pV,getToasts:xV});function gV(t,{insertAt:r}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}gV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fh(t){return t.label!==void 0}var vV=3,bV="32px",yV="16px",b2=4e3,jV=356,wV=14,NV=20,_V=200;function on(...t){return t.filter(Boolean).join(" ")}function SV(t){let[r,s]=t.split("-"),a=[];return r&&a.push(r),s&&a.push(s),a}var CV=t=>{var r,s,a,n,i,o,l,c,d,u,m;let{invert:h,toast:p,unstyled:v,interacting:x,setHeights:g,visibleToasts:b,heights:y,index:j,toasts:S,expanded:w,removeToast:_,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:P,actionButtonStyle:A,className:O="",descriptionClassName:I="",duration:F,position:$,gap:E,loadingIcon:M,expandByDefault:z,classNames:R,icons:te,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:D}=t,[H,ae]=L.useState(null),[U,se]=L.useState(null),[Q,pe]=L.useState(!1),[le,ue]=L.useState(!1),[De,he]=L.useState(!1),[st,Qe]=L.useState(!1),[Ct,Tt]=L.useState(!1),[Jt,_t]=L.useState(0),[Er,Z]=L.useState(0),oe=L.useRef(p.duration||F||b2),me=L.useRef(null),Pe=L.useRef(null),ke=j===0,ce=j+1<=b,be=p.type,He=p.dismissible!==!1,pt=p.className||"",mr=p.descriptionClassName||"",Kt=L.useMemo(()=>y.findIndex(bt=>bt.toastId===p.id)||0,[y,p.id]),Es=L.useMemo(()=>{var bt;return(bt=p.closeButton)!=null?bt:k},[p.closeButton,k]),In=L.useMemo(()=>p.duration||F||b2,[p.duration,F]),qt=L.useRef(0),Qr=L.useRef(0),nr=L.useRef(0),ne=L.useRef(null),[ye,lt]=$.split("-"),ps=L.useMemo(()=>y.reduce((bt,dt,Zt)=>Zt>=Kt?bt:bt+dt.height,0),[y,Kt]),Vt=dV(),Ls=p.invert||h,Mn=be==="loading";Qr.current=L.useMemo(()=>Kt*E+ps,[Kt,ps]),L.useEffect(()=>{oe.current=In},[In]),L.useEffect(()=>{pe(!0)},[]),L.useEffect(()=>{let bt=Pe.current;if(bt){let dt=bt.getBoundingClientRect().height;return Z(dt),g(Zt=>[{toastId:p.id,height:dt,position:p.position},...Zt]),()=>g(Zt=>Zt.filter(Sa=>Sa.toastId!==p.id))}},[g,p.id]),L.useLayoutEffect(()=>{if(!Q)return;let bt=Pe.current,dt=bt.style.height;bt.style.height="auto";let Zt=bt.getBoundingClientRect().height;bt.style.height=dt,Z(Zt),g(Sa=>Sa.find(da=>da.toastId===p.id)?Sa.map(da=>da.toastId===p.id?{...da,height:Zt}:da):[{toastId:p.id,height:Zt,position:p.position},...Sa])},[Q,p.title,p.description,g,p.id]);let $s=L.useCallback(()=>{ue(!0),_t(Qr.current),g(bt=>bt.filter(dt=>dt.toastId!==p.id)),setTimeout(()=>{_(p)},_V)},[p,_,g,Qr]);L.useEffect(()=>{if(p.promise&&be==="loading"||p.duration===1/0||p.type==="loading")return;let bt;return w||x||D&&Vt?(()=>{if(nr.current<qt.current){let dt=new Date().getTime()-qt.current;oe.current=oe.current-dt}nr.current=new Date().getTime()})():oe.current!==1/0&&(qt.current=new Date().getTime(),bt=setTimeout(()=>{var dt;(dt=p.onAutoClose)==null||dt.call(p,p),$s()},oe.current)),()=>clearTimeout(bt)},[w,x,p,be,D,Vt,$s]),L.useEffect(()=>{p.delete&&$s()},[$s,p.delete]);function kg(){var bt,dt,Zt;return te!=null&&te.loading?L.createElement("div",{className:on(R?.loader,(bt=p?.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":be==="loading"},te.loading):M?L.createElement("div",{className:on(R?.loader,(dt=p?.classNames)==null?void 0:dt.loader,"sonner-loader"),"data-visible":be==="loading"},M):L.createElement(aV,{className:on(R?.loader,(Zt=p?.classNames)==null?void 0:Zt.loader),visible:be==="loading"})}return L.createElement("li",{tabIndex:0,ref:Pe,className:on(O,pt,R?.toast,(r=p?.classNames)==null?void 0:r.toast,R?.default,R?.[be],(s=p?.classNames)==null?void 0:s[be]),"data-sonner-toast":"","data-rich-colors":(a=p.richColors)!=null?a:N,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":Ct,"data-removed":le,"data-visible":ce,"data-y-position":ye,"data-x-position":lt,"data-index":j,"data-front":ke,"data-swiping":De,"data-dismissible":He,"data-type":be,"data-invert":Ls,"data-swipe-out":st,"data-swipe-direction":U,"data-expanded":!!(w||z&&Q),style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${le?Jt:Qr.current}px`,"--initial-height":z?"auto":`${Er}px`,...C,...p.style},onDragEnd:()=>{he(!1),ae(null),ne.current=null},onPointerDown:bt=>{Mn||!He||(me.current=new Date,_t(Qr.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(he(!0),ne.current={x:bt.clientX,y:bt.clientY}))},onPointerUp:()=>{var bt,dt,Zt,Sa;if(st||!He)return;ne.current=null;let da=Number(((bt=Pe.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),La=Number(((dt=Pe.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Fn=new Date().getTime()-((Zt=me.current)==null?void 0:Zt.getTime()),ua=H==="x"?da:La,Ln=Math.abs(ua)/Fn;if(Math.abs(ua)>=NV||Ln>.11){_t(Qr.current),(Sa=p.onDismiss)==null||Sa.call(p,p),se(H==="x"?da>0?"right":"left":La>0?"down":"up"),$s(),Qe(!0),Tt(!1);return}he(!1),ae(null)},onPointerMove:bt=>{var dt,Zt,Sa,da;if(!ne.current||!He||((dt=window.getSelection())==null?void 0:dt.toString().length)>0)return;let La=bt.clientY-ne.current.y,Fn=bt.clientX-ne.current.x,ua=(Zt=t.swipeDirections)!=null?Zt:SV($);!H&&(Math.abs(Fn)>1||Math.abs(La)>1)&&ae(Math.abs(Fn)>Math.abs(La)?"x":"y");let Ln={x:0,y:0};H==="y"?(ua.includes("top")||ua.includes("bottom"))&&(ua.includes("top")&&La<0||ua.includes("bottom")&&La>0)&&(Ln.y=La):H==="x"&&(ua.includes("left")||ua.includes("right"))&&(ua.includes("left")&&Fn<0||ua.includes("right")&&Fn>0)&&(Ln.x=Fn),(Math.abs(Ln.x)>0||Math.abs(Ln.y)>0)&&Tt(!0),(Sa=Pe.current)==null||Sa.style.setProperty("--swipe-amount-x",`${Ln.x}px`),(da=Pe.current)==null||da.style.setProperty("--swipe-amount-y",`${Ln.y}px`)}},Es&&!p.jsx?L.createElement("button",{"aria-label":V,"data-disabled":Mn,"data-close-button":!0,onClick:Mn||!He?()=>{}:()=>{var bt;$s(),(bt=p.onDismiss)==null||bt.call(p,p)},className:on(R?.closeButton,(n=p?.classNames)==null?void 0:n.closeButton)},(i=te?.close)!=null?i:cV):null,p.jsx||f.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:L.createElement(L.Fragment,null,be||p.icon||p.promise?L.createElement("div",{"data-icon":"",className:on(R?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||kg():null,p.type!=="loading"?p.icon||te?.[be]||rV(be):null):null,L.createElement("div",{"data-content":"",className:on(R?.content,(l=p?.classNames)==null?void 0:l.content)},L.createElement("div",{"data-title":"",className:on(R?.title,(c=p?.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?L.createElement("div",{"data-description":"",className:on(I,mr,R?.description,(d=p?.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),f.isValidElement(p.cancel)?p.cancel:p.cancel&&fh(p.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:bt=>{var dt,Zt;fh(p.cancel)&&He&&((Zt=(dt=p.cancel).onClick)==null||Zt.call(dt,bt),$s())},className:on(R?.cancelButton,(u=p?.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,f.isValidElement(p.action)?p.action:p.action&&fh(p.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:bt=>{var dt,Zt;fh(p.action)&&((Zt=(dt=p.action).onClick)==null||Zt.call(dt,bt),!bt.defaultPrevented&&$s())},className:on(R?.actionButton,(m=p?.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function y2(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function kV(t,r){let s={};return[t,r].forEach((a,n)=>{let i=n===1,o=i?"--mobile-offset":"--offset",l=i?yV:bV;function c(d){["top","right","bottom","left"].forEach(u=>{s[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof a=="number"||typeof a=="string"?c(a):typeof a=="object"?["top","right","bottom","left"].forEach(d=>{a[d]===void 0?s[`${o}-${d}`]=l:s[`${o}-${d}`]=typeof a[d]=="number"?`${a[d]}px`:a[d]}):c(l)}),s}var AV=f.forwardRef(function(t,r){let{invert:s,position:a="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:m,duration:h,style:p,visibleToasts:v=vV,toastOptions:x,dir:g=y2(),gap:b=wV,loadingIcon:y,icons:j,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:w}=t,[_,N]=L.useState([]),k=L.useMemo(()=>Array.from(new Set([a].concat(_.filter(D=>D.position).map(D=>D.position)))),[_,a]),[C,P]=L.useState([]),[A,O]=L.useState(!1),[I,F]=L.useState(!1),[$,E]=L.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=L.useRef(null),z=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=L.useRef(null),te=L.useRef(!1),V=L.useCallback(D=>{N(H=>{var ae;return(ae=H.find(U=>U.id===D.id))!=null&&ae.delete||fa.dismiss(D.id),H.filter(({id:U})=>U!==D.id)})},[]);return L.useEffect(()=>fa.subscribe(D=>{if(D.dismiss){N(H=>H.map(ae=>ae.id===D.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{HN.flushSync(()=>{N(H=>{let ae=H.findIndex(U=>U.id===D.id);return ae!==-1?[...H.slice(0,ae),{...H[ae],...D},...H.slice(ae+1)]:[D,...H]})})})}),[]),L.useEffect(()=>{if(u!=="system"){E(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?E("dark"):E("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:H})=>{E(H?"dark":"light")})}catch{D.addListener(({matches:ae})=>{try{E(ae?"dark":"light")}catch(U){console.error(U)}})}},[u]),L.useEffect(()=>{_.length<=1&&O(!1)},[_]),L.useEffect(()=>{let D=H=>{var ae,U;n.every(se=>H[se]||H.code===se)&&(O(!0),(ae=M.current)==null||ae.focus()),H.code==="Escape"&&(document.activeElement===M.current||(U=M.current)!=null&&U.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[n]),L.useEffect(()=>{if(M.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,te.current=!1)}},[M.current]),L.createElement("section",{ref:r,"aria-label":`${S} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((D,H)=>{var ae;let[U,se]=D.split("-");return _.length?L.createElement("ol",{key:D,dir:g==="auto"?y2():g,tabIndex:-1,ref:M,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":U,"data-lifted":A&&_.length>1&&!i,"data-x-position":se,style:{"--front-toast-height":`${((ae=C[0])==null?void 0:ae.height)||0}px`,"--width":`${jV}px`,"--gap":`${b}px`,...p,...kV(c,d)},onBlur:Q=>{te.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(te.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||te.current||(te.current=!0,R.current=Q.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{I||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},_.filter(Q=>!Q.position&&H===0||Q.position===D).map((Q,pe)=>{var le,ue;return L.createElement(CV,{key:Q.id,icons:j,index:pe,toast:Q,defaultRichColors:m,duration:(le=x?.duration)!=null?le:h,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:s,visibleToasts:v,closeButton:(ue=x?.closeButton)!=null?ue:o,interacting:I,position:D,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:V,toasts:_.filter(De=>De.position==Q.position),heights:C.filter(De=>De.position==Q.position),setHeights:P,expandByDefault:i,gap:b,loadingIcon:y,expanded:A,pauseWhenPageIsHidden:w,swipeDirections:t.swipeDirections})})):null}))});const PV=({...t})=>{const{theme:r="system"}=QU();return e.jsx(AV,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var EV=GN[" useId ".trim().toString()]||(()=>{}),TV=0;function Kr(t){const[r,s]=f.useState(EV());return Fr(()=>{s(a=>a??String(TV++))},[t]),t||(r?`radix-${r}`:"")}const OV=["top","right","bottom","left"],xo=Math.min,Ea=Math.max,cf=Math.round,ph=Math.floor,Qn=t=>({x:t,y:t}),DV={left:"right",right:"left",bottom:"top",top:"bottom"},RV={start:"end",end:"start"};function M0(t,r,s){return Ea(t,xo(r,s))}function Di(t,r){return typeof t=="function"?t(r):t}function Ri(t){return t.split("-")[0]}function jd(t){return t.split("-")[1]}function d_(t){return t==="x"?"y":"x"}function u_(t){return t==="y"?"height":"width"}const IV=new Set(["top","bottom"]);function Hn(t){return IV.has(Ri(t))?"y":"x"}function m_(t){return d_(Hn(t))}function MV(t,r,s){s===void 0&&(s=!1);const a=jd(t),n=m_(t),i=u_(n);let o=n==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=df(o)),[o,df(o)]}function FV(t){const r=df(t);return[F0(t),r,F0(r)]}function F0(t){return t.replace(/start|end/g,r=>RV[r])}const j2=["left","right"],w2=["right","left"],LV=["top","bottom"],$V=["bottom","top"];function qV(t,r,s){switch(t){case"top":case"bottom":return s?r?w2:j2:r?j2:w2;case"left":case"right":return r?LV:$V;default:return[]}}function zV(t,r,s,a){const n=jd(t);let i=qV(Ri(t),s==="start",a);return n&&(i=i.map(o=>o+"-"+n),r&&(i=i.concat(i.map(F0)))),i}function df(t){return t.replace(/left|right|bottom|top/g,r=>DV[r])}function BV(t){return{top:0,right:0,bottom:0,left:0,...t}}function FR(t){return typeof t!="number"?BV(t):{top:t,right:t,bottom:t,left:t}}function uf(t){const{x:r,y:s,width:a,height:n}=t;return{width:a,height:n,top:s,left:r,right:r+a,bottom:s+n,x:r,y:s}}function N2(t,r,s){let{reference:a,floating:n}=t;const i=Hn(r),o=m_(r),l=u_(o),c=Ri(r),d=i==="y",u=a.x+a.width/2-n.width/2,m=a.y+a.height/2-n.height/2,h=a[l]/2-n[l]/2;let p;switch(c){case"top":p={x:u,y:a.y-n.height};break;case"bottom":p={x:u,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:m};break;case"left":p={x:a.x-n.width,y:m};break;default:p={x:a.x,y:a.y}}switch(jd(r)){case"start":p[o]-=h*(s&&d?-1:1);break;case"end":p[o]+=h*(s&&d?-1:1);break}return p}const UV=async(t,r,s)=>{const{placement:a="bottom",strategy:n="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:t,floating:r,strategy:n}),{x:u,y:m}=N2(d,a,c),h=a,p={},v=0;for(let x=0;x<l.length;x++){const{name:g,fn:b}=l[x],{x:y,y:j,data:S,reset:w}=await b({x:u,y:m,initialPlacement:a,placement:h,strategy:n,middlewareData:p,rects:d,platform:o,elements:{reference:t,floating:r}});u=y??u,m=j??m,p={...p,[g]:{...p[g],...S}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:t,floating:r,strategy:n}):w.rects),{x:u,y:m}=N2(d,h,c)),x=-1)}return{x:u,y:m,placement:h,strategy:n,middlewareData:p}};async function Du(t,r){var s;r===void 0&&(r={});const{x:a,y:n,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=Di(r,t),v=FR(p),g=l[h?m==="floating"?"reference":"floating":m],b=uf(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(g)))==null||s?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=m==="floating"?{x:a,y:n,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},w=uf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:j,strategy:c}):y);return{top:(b.top-w.top+v.top)/S.y,bottom:(w.bottom-b.bottom+v.bottom)/S.y,left:(b.left-w.left+v.left)/S.x,right:(w.right-b.right+v.right)/S.x}}const VV=t=>({name:"arrow",options:t,async fn(r){const{x:s,y:a,placement:n,rects:i,platform:o,elements:l,middlewareData:c}=r,{element:d,padding:u=0}=Di(t,r)||{};if(d==null)return{};const m=FR(u),h={x:s,y:a},p=m_(n),v=u_(p),x=await o.getDimensions(d),g=p==="y",b=g?"top":"left",y=g?"bottom":"right",j=g?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[p]-h[p]-i.floating[v],w=h[p]-i.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let N=_?_[j]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[j]||i.floating[v]);const k=S/2-w/2,C=N/2-x[v]/2-1,P=xo(m[b],C),A=xo(m[y],C),O=P,I=N-x[v]-A,F=N/2-x[v]/2+k,$=M0(O,F,I),E=!c.arrow&&jd(n)!=null&&F!==$&&i.reference[v]/2-(F<O?P:A)-x[v]/2<0,M=E?F<O?F-O:F-I:0;return{[p]:h[p]+M,data:{[p]:$,centerOffset:F-$-M,...E&&{alignmentOffset:M}},reset:E}}}),WV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var s,a;const{placement:n,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=r,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...g}=Di(t,r);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const b=Ri(n),y=Hn(l),j=Ri(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(j||!x?[df(l)]:FV(l)),_=v!=="none";!h&&_&&w.push(...zV(l,x,v,S));const N=[l,...w],k=await Du(r,g),C=[];let P=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&C.push(k[b]),m){const F=MV(n,o,S);C.push(k[F[0]],k[F[1]])}if(P=[...P,{placement:n,overflows:C}],!C.every(F=>F<=0)){var A,O;const F=(((A=i.flip)==null?void 0:A.index)||0)+1,$=N[F];if($&&(!(m==="alignment"?y!==Hn($):!1)||P.every(z=>z.overflows[0]>0&&Hn(z.placement)===y)))return{data:{index:F,overflows:P},reset:{placement:$}};let E=(O=P.filter(M=>M.overflows[0]<=0).sort((M,z)=>M.overflows[1]-z.overflows[1])[0])==null?void 0:O.placement;if(!E)switch(p){case"bestFit":{var I;const M=(I=P.filter(z=>{if(_){const R=Hn(z.placement);return R===y||R==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(R=>R>0).reduce((R,te)=>R+te,0)]).sort((z,R)=>z[1]-R[1])[0])==null?void 0:I[0];M&&(E=M);break}case"initialPlacement":E=l;break}if(n!==E)return{reset:{placement:E}}}return{}}}};function _2(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function S2(t){return OV.some(r=>t[r]>=0)}const HV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:s}=r,{strategy:a="referenceHidden",...n}=Di(t,r);switch(a){case"referenceHidden":{const i=await Du(r,{...n,elementContext:"reference"}),o=_2(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:S2(o)}}}case"escaped":{const i=await Du(r,{...n,altBoundary:!0}),o=_2(i,s.floating);return{data:{escapedOffsets:o,escaped:S2(o)}}}default:return{}}}}},LR=new Set(["left","top"]);async function KV(t,r){const{placement:s,platform:a,elements:n}=t,i=await(a.isRTL==null?void 0:a.isRTL(n.floating)),o=Ri(s),l=jd(s),c=Hn(s)==="y",d=LR.has(o)?-1:1,u=i&&c?-1:1,m=Di(r,t);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const GV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var s,a;const{x:n,y:i,placement:o,middlewareData:l}=r,c=await KV(r,t);return o===((s=l.offset)==null?void 0:s.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:n+c.x,y:i+c.y,data:{...c,placement:o}}}}},YV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:s,y:a,placement:n}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:b,y}=g;return{x:b,y}}},...c}=Di(t,r),d={x:s,y:a},u=await Du(r,c),m=Hn(Ri(n)),h=d_(m);let p=d[h],v=d[m];if(i){const g=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=p+u[g],j=p-u[b];p=M0(y,p,j)}if(o){const g=m==="y"?"top":"left",b=m==="y"?"bottom":"right",y=v+u[g],j=v-u[b];v=M0(y,v,j)}const x=l.fn({...r,[h]:p,[m]:v});return{...x,data:{x:x.x-s,y:x.y-a,enabled:{[h]:i,[m]:o}}}}}},XV=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:s,y:a,placement:n,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Di(t,r),u={x:s,y:a},m=Hn(n),h=d_(m);let p=u[h],v=u[m];const x=Di(l,r),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const j=h==="y"?"height":"width",S=i.reference[h]-i.floating[j]+g.mainAxis,w=i.reference[h]+i.reference[j]-g.mainAxis;p<S?p=S:p>w&&(p=w)}if(d){var b,y;const j=h==="y"?"width":"height",S=LR.has(Ri(n)),w=i.reference[m]-i.floating[j]+(S&&((b=o.offset)==null?void 0:b[m])||0)+(S?0:g.crossAxis),_=i.reference[m]+i.reference[j]+(S?0:((y=o.offset)==null?void 0:y[m])||0)-(S?g.crossAxis:0);v<w?v=w:v>_&&(v=_)}return{[h]:p,[m]:v}}}},QV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var s,a;const{placement:n,rects:i,platform:o,elements:l}=r,{apply:c=()=>{},...d}=Di(t,r),u=await Du(r,d),m=Ri(n),h=jd(n),p=Hn(n)==="y",{width:v,height:x}=i.floating;let g,b;m==="top"||m==="bottom"?(g=m,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=m,g=h==="end"?"top":"bottom");const y=x-u.top-u.bottom,j=v-u.left-u.right,S=xo(x-u[g],y),w=xo(v-u[b],j),_=!r.middlewareData.shift;let N=S,k=w;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(k=j),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(N=y),_&&!h){const P=Ea(u.left,0),A=Ea(u.right,0),O=Ea(u.top,0),I=Ea(u.bottom,0);p?k=v-2*(P!==0||A!==0?P+A:Ea(u.left,u.right)):N=x-2*(O!==0||I!==0?O+I:Ea(u.top,u.bottom))}await c({...r,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return v!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function Qp(){return typeof window<"u"}function wd(t){return $R(t)?(t.nodeName||"").toLowerCase():"#document"}function Da(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function mi(t){var r;return(r=($R(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function $R(t){return Qp()?t instanceof Node||t instanceof Da(t).Node:!1}function bn(t){return Qp()?t instanceof Element||t instanceof Da(t).Element:!1}function ni(t){return Qp()?t instanceof HTMLElement||t instanceof Da(t).HTMLElement:!1}function C2(t){return!Qp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Da(t).ShadowRoot}const JV=new Set(["inline","contents"]);function Dm(t){const{overflow:r,overflowX:s,overflowY:a,display:n}=yn(t);return/auto|scroll|overlay|hidden|clip/.test(r+a+s)&&!JV.has(n)}const ZV=new Set(["table","td","th"]);function eW(t){return ZV.has(wd(t))}const tW=[":popover-open",":modal"];function Jp(t){return tW.some(r=>{try{return t.matches(r)}catch{return!1}})}const rW=["transform","translate","scale","rotate","perspective"],sW=["transform","translate","scale","rotate","perspective","filter"],aW=["paint","layout","strict","content"];function h_(t){const r=f_(),s=bn(t)?yn(t):t;return rW.some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||sW.some(a=>(s.willChange||"").includes(a))||aW.some(a=>(s.contain||"").includes(a))}function nW(t){let r=go(t);for(;ni(r)&&!Pc(r);){if(h_(r))return r;if(Jp(r))return null;r=go(r)}return null}function f_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iW=new Set(["html","body","#document"]);function Pc(t){return iW.has(wd(t))}function yn(t){return Da(t).getComputedStyle(t)}function Zp(t){return bn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function go(t){if(wd(t)==="html")return t;const r=t.assignedSlot||t.parentNode||C2(t)&&t.host||mi(t);return C2(r)?r.host:r}function qR(t){const r=go(t);return Pc(r)?t.ownerDocument?t.ownerDocument.body:t.body:ni(r)&&Dm(r)?r:qR(r)}function Ru(t,r,s){var a;r===void 0&&(r=[]),s===void 0&&(s=!0);const n=qR(t),i=n===((a=t.ownerDocument)==null?void 0:a.body),o=Da(n);if(i){const l=L0(o);return r.concat(o,o.visualViewport||[],Dm(n)?n:[],l&&s?Ru(l):[])}return r.concat(n,Ru(n,[],s))}function L0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zR(t){const r=yn(t);let s=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const n=ni(t),i=n?t.offsetWidth:s,o=n?t.offsetHeight:a,l=cf(s)!==i||cf(a)!==o;return l&&(s=i,a=o),{width:s,height:a,$:l}}function p_(t){return bn(t)?t:t.contextElement}function fc(t){const r=p_(t);if(!ni(r))return Qn(1);const s=r.getBoundingClientRect(),{width:a,height:n,$:i}=zR(r);let o=(i?cf(s.width):s.width)/a,l=(i?cf(s.height):s.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oW=Qn(0);function BR(t){const r=Da(t);return!f_()||!r.visualViewport?oW:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function lW(t,r,s){return r===void 0&&(r=!1),!s||r&&s!==Da(t)?!1:r}function ll(t,r,s,a){r===void 0&&(r=!1),s===void 0&&(s=!1);const n=t.getBoundingClientRect(),i=p_(t);let o=Qn(1);r&&(a?bn(a)&&(o=fc(a)):o=fc(t));const l=lW(i,s,a)?BR(i):Qn(0);let c=(n.left+l.x)/o.x,d=(n.top+l.y)/o.y,u=n.width/o.x,m=n.height/o.y;if(i){const h=Da(i),p=a&&bn(a)?Da(a):a;let v=h,x=L0(v);for(;x&&a&&p!==v;){const g=fc(x),b=x.getBoundingClientRect(),y=yn(x),j=b.left+(x.clientLeft+parseFloat(y.paddingLeft))*g.x,S=b.top+(x.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,m*=g.y,c+=j,d+=S,v=Da(x),x=L0(v)}}return uf({width:u,height:m,x:c,y:d})}function x_(t,r){const s=Zp(t).scrollLeft;return r?r.left+s:ll(mi(t)).left+s}function UR(t,r,s){s===void 0&&(s=!1);const a=t.getBoundingClientRect(),n=a.left+r.scrollLeft-(s?0:x_(t,a)),i=a.top+r.scrollTop;return{x:n,y:i}}function cW(t){let{elements:r,rect:s,offsetParent:a,strategy:n}=t;const i=n==="fixed",o=mi(a),l=r?Jp(r.floating):!1;if(a===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},d=Qn(1);const u=Qn(0),m=ni(a);if((m||!m&&!i)&&((wd(a)!=="body"||Dm(o))&&(c=Zp(a)),ni(a))){const p=ll(a);d=fc(a),u.x=p.x+a.clientLeft,u.y=p.y+a.clientTop}const h=o&&!m&&!i?UR(o,c,!0):Qn(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:s.y*d.y-c.scrollTop*d.y+u.y+h.y}}function dW(t){return Array.from(t.getClientRects())}function uW(t){const r=mi(t),s=Zp(t),a=t.ownerDocument.body,n=Ea(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=Ea(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-s.scrollLeft+x_(t);const l=-s.scrollTop;return yn(a).direction==="rtl"&&(o+=Ea(r.clientWidth,a.clientWidth)-n),{width:n,height:i,x:o,y:l}}function mW(t,r){const s=Da(t),a=mi(t),n=s.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(n){i=n.width,o=n.height;const d=f_();(!d||d&&r==="fixed")&&(l=n.offsetLeft,c=n.offsetTop)}return{width:i,height:o,x:l,y:c}}const hW=new Set(["absolute","fixed"]);function fW(t,r){const s=ll(t,!0,r==="fixed"),a=s.top+t.clientTop,n=s.left+t.clientLeft,i=ni(t)?fc(t):Qn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=n*i.x,d=a*i.y;return{width:o,height:l,x:c,y:d}}function k2(t,r,s){let a;if(r==="viewport")a=mW(t,s);else if(r==="document")a=uW(mi(t));else if(bn(r))a=fW(r,s);else{const n=BR(t);a={x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height}}return uf(a)}function VR(t,r){const s=go(t);return s===r||!bn(s)||Pc(s)?!1:yn(s).position==="fixed"||VR(s,r)}function pW(t,r){const s=r.get(t);if(s)return s;let a=Ru(t,[],!1).filter(l=>bn(l)&&wd(l)!=="body"),n=null;const i=yn(t).position==="fixed";let o=i?go(t):t;for(;bn(o)&&!Pc(o);){const l=yn(o),c=h_(o);!c&&l.position==="fixed"&&(n=null),(i?!c&&!n:!c&&l.position==="static"&&!!n&&hW.has(n.position)||Dm(o)&&!c&&VR(t,o))?a=a.filter(u=>u!==o):n=l,o=go(o)}return r.set(t,a),a}function xW(t){let{element:r,boundary:s,rootBoundary:a,strategy:n}=t;const o=[...s==="clippingAncestors"?Jp(r)?[]:pW(r,this._c):[].concat(s),a],l=o[0],c=o.reduce((d,u)=>{const m=k2(r,u,n);return d.top=Ea(m.top,d.top),d.right=xo(m.right,d.right),d.bottom=xo(m.bottom,d.bottom),d.left=Ea(m.left,d.left),d},k2(r,l,n));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gW(t){const{width:r,height:s}=zR(t);return{width:r,height:s}}function vW(t,r,s){const a=ni(r),n=mi(r),i=s==="fixed",o=ll(t,!0,i,r);let l={scrollLeft:0,scrollTop:0};const c=Qn(0);function d(){c.x=x_(n)}if(a||!a&&!i)if((wd(r)!=="body"||Dm(n))&&(l=Zp(r)),a){const p=ll(r,!0,i,r);c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}else n&&d();i&&!a&&n&&d();const u=n&&!a&&!i?UR(n,l):Qn(0),m=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:m,y:h,width:o.width,height:o.height}}function Ig(t){return yn(t).position==="static"}function A2(t,r){if(!ni(t)||yn(t).position==="fixed")return null;if(r)return r(t);let s=t.offsetParent;return mi(t)===s&&(s=s.ownerDocument.body),s}function WR(t,r){const s=Da(t);if(Jp(t))return s;if(!ni(t)){let n=go(t);for(;n&&!Pc(n);){if(bn(n)&&!Ig(n))return n;n=go(n)}return s}let a=A2(t,r);for(;a&&eW(a)&&Ig(a);)a=A2(a,r);return a&&Pc(a)&&Ig(a)&&!h_(a)?s:a||nW(t)||s}const bW=async function(t){const r=this.getOffsetParent||WR,s=this.getDimensions,a=await s(t.floating);return{reference:vW(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function yW(t){return yn(t).direction==="rtl"}const jW={convertOffsetParentRelativeRectToViewportRelativeRect:cW,getDocumentElement:mi,getClippingRect:xW,getOffsetParent:WR,getElementRects:bW,getClientRects:dW,getDimensions:gW,getScale:fc,isElement:bn,isRTL:yW};function HR(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function wW(t,r){let s=null,a;const n=mi(t);function i(){var l;clearTimeout(a),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:m,width:h,height:p}=d;if(l||r(),!h||!p)return;const v=ph(m),x=ph(n.clientWidth-(u+h)),g=ph(n.clientHeight-(m+p)),b=ph(u),j={rootMargin:-v+"px "+-x+"px "+-g+"px "+-b+"px",threshold:Ea(0,xo(1,c))||1};let S=!0;function w(_){const N=_[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):a=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!HR(d,t.getBoundingClientRect())&&o(),S=!1}try{s=new IntersectionObserver(w,{...j,root:n.ownerDocument})}catch{s=new IntersectionObserver(w,j)}s.observe(t)}return o(!0),i}function NW(t,r,s,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=p_(t),u=n||i?[...d?Ru(d):[],...Ru(r)]:[];u.forEach(b=>{n&&b.addEventListener("scroll",s,{passive:!0}),i&&b.addEventListener("resize",s)});const m=d&&l?wW(d,s):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(r)})),s()}),d&&!c&&p.observe(d),p.observe(r));let v,x=c?ll(t):null;c&&g();function g(){const b=ll(t);x&&!HR(x,b)&&s(),x=b,v=requestAnimationFrame(g)}return s(),()=>{var b;u.forEach(y=>{n&&y.removeEventListener("scroll",s),i&&y.removeEventListener("resize",s)}),m?.(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const _W=GV,SW=YV,CW=WV,kW=QV,AW=HV,P2=VV,PW=XV,EW=(t,r,s)=>{const a=new Map,n={platform:jW,...s},i={...n.platform,_c:a};return UV(t,r,{...n,platform:i})};var TW=typeof document<"u",OW=function(){},Uh=TW?f.useLayoutEffect:OW;function mf(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let s,a,n;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==r.length)return!1;for(a=s;a--!==0;)if(!mf(t[a],r[a]))return!1;return!0}if(n=Object.keys(t),s=n.length,s!==Object.keys(r).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(r,n[a]))return!1;for(a=s;a--!==0;){const i=n[a];if(!(i==="_owner"&&t.$$typeof)&&!mf(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}function KR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function E2(t,r){const s=KR(t);return Math.round(r*s)/s}function Mg(t){const r=f.useRef(t);return Uh(()=>{r.current=t}),r}function DW(t){t===void 0&&(t={});const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:n,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,m]=f.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[h,p]=f.useState(a);mf(h,a)||p(a);const[v,x]=f.useState(null),[g,b]=f.useState(null),y=f.useCallback(z=>{z!==_.current&&(_.current=z,x(z))},[]),j=f.useCallback(z=>{z!==N.current&&(N.current=z,b(z))},[]),S=i||v,w=o||g,_=f.useRef(null),N=f.useRef(null),k=f.useRef(u),C=c!=null,P=Mg(c),A=Mg(n),O=Mg(d),I=f.useCallback(()=>{if(!_.current||!N.current)return;const z={placement:r,strategy:s,middleware:h};A.current&&(z.platform=A.current),EW(_.current,N.current,z).then(R=>{const te={...R,isPositioned:O.current!==!1};F.current&&!mf(k.current,te)&&(k.current=te,km.flushSync(()=>{m(te)}))})},[h,r,s,A,O]);Uh(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[d]);const F=f.useRef(!1);Uh(()=>(F.current=!0,()=>{F.current=!1}),[]),Uh(()=>{if(S&&(_.current=S),w&&(N.current=w),S&&w){if(P.current)return P.current(S,w,I);I()}},[S,w,I,P,C]);const $=f.useMemo(()=>({reference:_,floating:N,setReference:y,setFloating:j}),[y,j]),E=f.useMemo(()=>({reference:S,floating:w}),[S,w]),M=f.useMemo(()=>{const z={position:s,left:0,top:0};if(!E.floating)return z;const R=E2(E.floating,u.x),te=E2(E.floating,u.y);return l?{...z,transform:"translate("+R+"px, "+te+"px)",...KR(E.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:R,top:te}},[s,l,E.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:I,refs:$,elements:E,floatingStyles:M}),[u,I,$,E,M])}const RW=t=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:a,padding:n}=typeof t=="function"?t(s):t;return a&&r(a)?a.current!=null?P2({element:a.current,padding:n}).fn(s):{}:a?P2({element:a,padding:n}).fn(s):{}}}},IW=(t,r)=>({..._W(t),options:[t,r]}),MW=(t,r)=>({...SW(t),options:[t,r]}),FW=(t,r)=>({...PW(t),options:[t,r]}),LW=(t,r)=>({...CW(t),options:[t,r]}),$W=(t,r)=>({...kW(t),options:[t,r]}),qW=(t,r)=>({...AW(t),options:[t,r]}),zW=(t,r)=>({...RW(t),options:[t,r]});var BW="Arrow",GR=f.forwardRef((t,r)=>{const{children:s,width:a=10,height:n=5,...i}=t;return e.jsx(we.svg,{...i,ref:r,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});GR.displayName=BW;var UW=GR;function Rm(t){const[r,s]=f.useState(void 0);return Fr(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const i=n[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;s({width:o,height:l})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else s(void 0)},[t]),r}var g_="Popper",[YR,Co]=Ur(g_),[VW,XR]=YR(g_),QR=t=>{const{__scopePopper:r,children:s}=t,[a,n]=f.useState(null);return e.jsx(VW,{scope:r,anchor:a,onAnchorChange:n,children:s})};QR.displayName=g_;var JR="PopperAnchor",ZR=f.forwardRef((t,r)=>{const{__scopePopper:s,virtualRef:a,...n}=t,i=XR(JR,s),o=f.useRef(null),l=Xe(r,o);return f.useEffect(()=>{i.onAnchorChange(a?.current||o.current)}),a?null:e.jsx(we.div,{...n,ref:l})});ZR.displayName=JR;var v_="PopperContent",[WW,HW]=YR(v_),e5=f.forwardRef((t,r)=>{const{__scopePopper:s,side:a="bottom",sideOffset:n=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...x}=t,g=XR(v_,s),[b,y]=f.useState(null),j=Xe(r,Q=>y(Q)),[S,w]=f.useState(null),_=Rm(S),N=_?.width??0,k=_?.height??0,C=a+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],O=A.length>0,I={padding:P,boundary:A.filter(GW),altBoundary:O},{refs:F,floatingStyles:$,placement:E,isPositioned:M,middlewareData:z}=DW({strategy:"fixed",placement:C,whileElementsMounted:(...Q)=>NW(...Q,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[IW({mainAxis:n+k,alignmentAxis:o}),c&&MW({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?FW():void 0,...I}),c&&LW({...I}),$W({...I,apply:({elements:Q,rects:pe,availableWidth:le,availableHeight:ue})=>{const{width:De,height:he}=pe.reference,st=Q.floating.style;st.setProperty("--radix-popper-available-width",`${le}px`),st.setProperty("--radix-popper-available-height",`${ue}px`),st.setProperty("--radix-popper-anchor-width",`${De}px`),st.setProperty("--radix-popper-anchor-height",`${he}px`)}}),S&&zW({element:S,padding:l}),YW({arrowWidth:N,arrowHeight:k}),h&&qW({strategy:"referenceHidden",...I})]}),[R,te]=s5(E),V=pr(v);Fr(()=>{M&&V?.()},[M,V]);const D=z.arrow?.x,H=z.arrow?.y,ae=z.arrow?.centerOffset!==0,[U,se]=f.useState();return Fr(()=>{b&&se(window.getComputedStyle(b).zIndex)},[b]),e.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:M?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(WW,{scope:s,placedSide:R,onArrowChange:w,arrowX:D,arrowY:H,shouldHideArrow:ae,children:e.jsx(we.div,{"data-side":R,"data-align":te,...x,ref:j,style:{...x.style,animation:M?void 0:"none"}})})})});e5.displayName=v_;var t5="PopperArrow",KW={top:"bottom",right:"left",bottom:"top",left:"right"},r5=f.forwardRef(function(r,s){const{__scopePopper:a,...n}=r,i=HW(t5,a),o=KW[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(UW,{...n,ref:s,style:{...n.style,display:"block"}})})});r5.displayName=t5;function GW(t){return t!==null}var YW=t=>({name:"transformOrigin",options:t,fn(r){const{placement:s,rects:a,middlewareData:n}=r,o=n.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=s5(s),m={start:"0%",center:"50%",end:"100%"}[u],h=(n.arrow?.x??0)+l/2,p=(n.arrow?.y??0)+c/2;let v="",x="";return d==="bottom"?(v=o?m:`${h}px`,x=`${-c}px`):d==="top"?(v=o?m:`${h}px`,x=`${a.floating.height+c}px`):d==="right"?(v=`${-c}px`,x=o?m:`${p}px`):d==="left"&&(v=`${a.floating.width+c}px`,x=o?m:`${p}px`),{data:{x:v,y:x}}}});function s5(t){const[r,s="center"]=t.split("-");return[r,s]}var ex=QR,Im=ZR,tx=e5,rx=r5,XW=Symbol("radix.slottable");function QW(t){const r=({children:s})=>e.jsx(e.Fragment,{children:s});return r.displayName=`${t}.Slottable`,r.__radixId=XW,r}var[sx]=Ur("Tooltip",[Co]),ax=Co(),a5="TooltipProvider",JW=700,$0="tooltip.open",[ZW,b_]=sx(a5),n5=t=>{const{__scopeTooltip:r,delayDuration:s=JW,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:i}=t,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),e.jsx(ZW,{scope:r,isOpenDelayedRef:o,delayDuration:s,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:n,children:i})};n5.displayName=a5;var Iu="Tooltip",[e9,nx]=sx(Iu),i5=t=>{const{__scopeTooltip:r,children:s,open:a,defaultOpen:n,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=b_(Iu,t.__scopeTooltip),d=ax(r),[u,m]=f.useState(null),h=Kr(),p=f.useRef(0),v=o??c.disableHoverableContent,x=l??c.delayDuration,g=f.useRef(!1),[b,y]=Is({prop:a,defaultProp:n??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent($0))):c.onClose(),i?.(N)},caller:Iu}),j=f.useMemo(()=>b?g.current?"delayed-open":"instant-open":"closed",[b]),S=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,y(!0)},[y]),w=f.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),_=f.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,y(!0),p.current=0},x)},[x,y]);return f.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),e.jsx(ex,{...d,children:e.jsx(e9,{scope:r,contentId:h,open:b,stateAttribute:j,trigger:u,onTriggerChange:m,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayedRef.current?_():S()},[c.isOpenDelayedRef,_,S]),onTriggerLeave:f.useCallback(()=>{v?w():(window.clearTimeout(p.current),p.current=0)},[w,v]),onOpen:S,onClose:w,disableHoverableContent:v,children:s})})};i5.displayName=Iu;var q0="TooltipTrigger",o5=f.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,n=nx(q0,s),i=b_(q0,s),o=ax(s),l=f.useRef(null),c=Xe(r,l,n.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),m=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(Im,{asChild:!0,...o,children:e.jsx(we.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:c,onPointerMove:ve(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:ve(t.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:ve(t.onPointerDown,()=>{n.open&&n.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ve(t.onFocus,()=>{d.current||n.onOpen()}),onBlur:ve(t.onBlur,n.onClose),onClick:ve(t.onClick,n.onClose)})})});o5.displayName=q0;var t9="TooltipPortal",[gSe,r9]=sx(t9,{forceMount:void 0}),Ec="TooltipContent",l5=f.forwardRef((t,r)=>{const s=r9(Ec,t.__scopeTooltip),{forceMount:a=s.forceMount,side:n="top",...i}=t,o=nx(Ec,t.__scopeTooltip);return e.jsx(qr,{present:a||o.open,children:o.disableHoverableContent?e.jsx(c5,{side:n,...i,ref:r}):e.jsx(s9,{side:n,...i,ref:r})})}),s9=f.forwardRef((t,r)=>{const s=nx(Ec,t.__scopeTooltip),a=b_(Ec,t.__scopeTooltip),n=f.useRef(null),i=Xe(r,n),[o,l]=f.useState(null),{trigger:c,onClose:d}=s,u=n.current,{onPointerInTransitChange:m}=a,h=f.useCallback(()=>{l(null),m(!1)},[m]),p=f.useCallback((v,x)=>{const g=v.currentTarget,b={x:v.clientX,y:v.clientY},y=l9(b,g.getBoundingClientRect()),j=c9(b,y),S=d9(x.getBoundingClientRect()),w=m9([...j,...S]);l(w),m(!0)},[m]);return f.useEffect(()=>()=>h(),[h]),f.useEffect(()=>{if(c&&u){const v=g=>p(g,u),x=g=>p(g,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",x)}}},[c,u,p,h]),f.useEffect(()=>{if(o){const v=x=>{const g=x.target,b={x:x.clientX,y:x.clientY},y=c?.contains(g)||u?.contains(g),j=!u9(b,o);y?h():j&&(h(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,o,d,h]),e.jsx(c5,{...t,ref:i})}),[a9,n9]=sx(Iu,{isInside:!1}),i9=QW("TooltipContent"),c5=f.forwardRef((t,r)=>{const{__scopeTooltip:s,children:a,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=nx(Ec,s),d=ax(s),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener($0,u),()=>document.removeEventListener($0,u)),[u]),f.useEffect(()=>{if(c.trigger){const m=h=>{h.target?.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),e.jsx(So,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:e.jsxs(tx,{"data-state":c.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(i9,{children:a}),e.jsx(a9,{scope:s,isInside:!0,children:e.jsx(nR,{id:c.contentId,role:"tooltip",children:n||a})})]})})});l5.displayName=Ec;var d5="TooltipArrow",o9=f.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,n=ax(s);return n9(d5,s).isInside?null:e.jsx(rx,{...n,...a,ref:r})});o9.displayName=d5;function l9(t,r){const s=Math.abs(r.top-t.y),a=Math.abs(r.bottom-t.y),n=Math.abs(r.right-t.x),i=Math.abs(r.left-t.x);switch(Math.min(s,a,n,i)){case i:return"left";case n:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function c9(t,r,s=5){const a=[];switch(r){case"top":a.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":a.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":a.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":a.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return a}function d9(t){const{top:r,right:s,bottom:a,left:n}=t;return[{x:n,y:r},{x:s,y:r},{x:s,y:a},{x:n,y:a}]}function u9(t,r){const{x:s,y:a}=t;let n=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],c=r[o],d=l.x,u=l.y,m=c.x,h=c.y;u>a!=h>a&&s<(m-d)*(a-u)/(h-u)+d&&(n=!n)}return n}function m9(t){const r=t.slice();return r.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),h9(r)}function h9(t){if(t.length<=1)return t.slice();const r=[];for(let a=0;a<t.length;a++){const n=t[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}r.pop();const s=[];for(let a=t.length-1;a>=0;a--){const n=t[a];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))s.pop();else break}s.push(n)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var f9=n5,p9=i5,x9=o5,u5=l5;const Mu=f9,hf=p9,ff=x9,Fu=f.forwardRef(({className:t,sideOffset:r=4,...s},a)=>e.jsx(u5,{ref:a,sideOffset:r,className:q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Fu.displayName=u5.displayName;const g9="https://lnrhrevpouozugsarsmz.supabase.co",v9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucmhyZXZwb3VvenVnc2Fyc216Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MTQxMTQsImV4cCI6MjA4NDk5MDExNH0.--RPkMJJlA3wplVacHc_6azTrr6D9IE1Zsjjwuu_QXk",J=MD(g9,v9,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),m5=f.createContext(void 0);function y_({children:t}){const[r,s]=f.useState(null),[a,n]=f.useState(null),[i,o]=f.useState(!0),[l,c]=f.useState(null),[d,u]=f.useState(null),[m,h]=f.useState(!1),p=f.useRef(null),v=f.useRef(!0);p.current=r;const x=f.useCallback(async N=>{if(v.current)try{const{data:k,error:C}=await J.from("user_roles").select("role").eq("user_id",N);if(!v.current)return;if(C)c(null);else if(k&&k.length>0){const P=k.map(A=>A.role);P.includes("superadmin")?c("superadmin"):P.includes("admin")?c("admin"):P.includes("designer")?c("designer"):P.includes("customer")?c("customer"):c(null)}else c(null)}catch{v.current&&c(null)}finally{v.current&&o(!1)}},[]);f.useEffect(()=>{const N=k=>{v.current&&k.key?.includes("supabase.auth.token")&&k.newValue===null&&p.current&&(s(null),n(null),c(null))};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[]),f.useEffect(()=>{v.current=!0;let N;const{data:{subscription:k}}=J.auth.onAuthStateChange((C,P)=>{if(v.current){if(C==="TOKEN_REFRESHED"){n(P);return}n(P),s(P?.user??null),P?.user?(clearTimeout(N),N=setTimeout(()=>{v.current&&P.user&&x(P.user.id)},100)):(c(null),o(!1))}});return J.auth.getSession().then(({data:{session:C}})=>{v.current&&(n(C),s(C?.user??null),C?.user?x(C.user.id):o(!1))}).catch(C=>{v.current&&o(!1)}),()=>{v.current=!1,clearTimeout(N),k.unsubscribe()}},[]);const g=f.useCallback(async(N,k,C,P,A,O)=>{try{const I=`${window.location.origin}/`,{data:F,error:$}=await J.auth.signUp({email:N,password:k,options:{emailRedirectTo:I,data:{name:C,category:P,signup_type:"designer"}}});if($)throw $;return F.user&&(A||O)&&await J.from("profiles").update({bio:A||null,skills:O||[]}).eq("user_id",F.user.id),await J.from("auth_logs").insert({action:"signup",metadata:{timestamp:new Date().toISOString()},user_agent:navigator.userAgent}),{error:null}}catch(I){return{error:I}}},[]),b=f.useCallback(async(N,k)=>{try{const{data:C,error:P}=await J.auth.signInWithPassword({email:N,password:k});if(P)throw await J.from("auth_logs").insert({action:"login_failed",metadata:{error_type:P.message?.includes("Invalid")?"invalid_credentials":"unknown"},user_agent:navigator.userAgent}),P;return C.user&&await J.from("auth_logs").insert({user_id:C.user.id,action:"login_success",user_agent:navigator.userAgent}),{error:null}}catch(C){return{error:C}}},[]),y=f.useCallback(async()=>{if(!m){h(!0);try{r&&await J.from("auth_logs").insert({user_id:r.id,action:"logout",user_agent:navigator.userAgent}),await J.auth.signOut({scope:"local"}),c(null)}catch{}finally{v.current&&h(!1)}}},[r,m]);f.useEffect(()=>{r&&l==="customer"?j(r.id):u(null)},[r,l]);const j=f.useCallback(async N=>{try{const{data:k,error:C}=await J.from("marketplace_customers").select("*").eq("user_id",N).single();!C&&k&&u(k)}catch(k){console.error("Error fetching customer profile:",k)}},[]),S=l==="admin"||l==="superadmin",w=l==="designer"||S,_=l==="customer";return e.jsx(m5.Provider,{value:{user:r,session:a,loading:i,isAdmin:S,isDesigner:w,isCustomer:_,userRole:l,customerProfile:d,isSigningOut:m,signUp:g,signIn:b,signOut:y},children:t})}function ur(){const t=f.useContext(m5);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const b9="https://lnrhrevpouozugsarsmz.supabase.co",y9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucmhyZXZwb3VvenVnc2Fyc216Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MTQxMTQsImV4cCI6MjA4NDk5MDExNH0.--RPkMJJlA3wplVacHc_6azTrr6D9IE1Zsjjwuu_QXk",j9={getItem:t=>localStorage.getItem(`admin:${t}`),setItem:(t,r)=>localStorage.setItem(`admin:${t}`,r),removeItem:t=>localStorage.removeItem(`admin:${t}`)},ee=MD(b9,y9,{auth:{storage:j9,storageKey:"admin-auth-token",persistSession:!0,autoRefreshToken:!0}}),h5=f.createContext(void 0);function w9({children:t}){const[r,s]=f.useState(null),[a,n]=f.useState(null),[i,o]=f.useState(!0),[l,c]=f.useState(null),[d,u]=f.useState(!1),m=f.useRef(null),h=f.useRef(!0);m.current=r;const p=l==="superadmin",v=l==="superadmin",x=f.useCallback(async j=>{if(h.current)try{const{data:S,error:w}=await ee.from("user_roles").select("role").eq("user_id",j);if(!h.current)return;w?await g():S&&S.length>0?S.map(N=>N.role).includes("superadmin")?c("superadmin"):await g():await g()}catch{h.current&&await g()}finally{h.current&&o(!1)}},[]),g=f.useCallback(async()=>{h.current&&(c(null),s(null),n(null),await ee.auth.signOut({scope:"local"}))},[]);f.useEffect(()=>{const j=S=>{h.current&&S.key?.includes("admin:")&&S.key?.includes("auth-token")&&S.newValue===null&&m.current&&(s(null),n(null),c(null))};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[]),f.useEffect(()=>{h.current=!0;let j,S=!1;const{data:{subscription:w}}=ee.auth.onAuthStateChange((_,N)=>{if(h.current){if(_==="TOKEN_REFRESHED"){n(N);return}n(N),s(N?.user??null),N?.user?(!S||_==="SIGNED_IN")&&(clearTimeout(j),j=setTimeout(()=>{h.current&&N.user&&x(N.user.id)},100)):(c(null),o(!1))}});return ee.auth.getSession().then(({data:{session:_}})=>{h.current&&(S=!0,n(_),s(_?.user??null),_?.user?x(_.user.id):o(!1))}).catch(_=>{h.current&&o(!1)}),()=>{h.current=!1,clearTimeout(j),w.unsubscribe()}},[]);const b=f.useCallback(async(j,S)=>{try{const{data:w,error:_}=await ee.auth.signInWithPassword({email:j,password:S});if(_)throw await ee.from("auth_logs").insert({action:"admin_login_failed",metadata:{error_type:_.message?.includes("Invalid")?"invalid_credentials":"unknown"},user_agent:navigator.userAgent}),_;return w.user&&await ee.from("auth_logs").insert({user_id:w.user.id,action:"admin_login_success",user_agent:navigator.userAgent}),{error:null}}catch(w){return{error:w}}},[]),y=f.useCallback(async()=>{if(!d){u(!0);try{r&&await ee.from("admin_logs").insert({admin_id:r.id,action:"admin_logout",target_type:"session"}),await ee.auth.signOut({scope:"local"}),c(null)}catch{}finally{h.current&&u(!1)}}},[r,d]);return e.jsx(h5.Provider,{value:{user:r,session:a,loading:i,isAdmin:p,isSuperadmin:v,adminRole:l,isSigningOut:d,signIn:b,signOut:y},children:t})}function ja(){const t=f.useContext(h5);if(t===void 0)throw new Error("useAdminAuth must be used within an AdminAuthProvider");return t}const f5=f.createContext(void 0),T2="admin-theme";function N9({children:t}){const[r,s]=f.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem(T2);if(i==="dark"||i==="light")return i}return"light"});f.useEffect(()=>{localStorage.setItem(T2,r)},[r]);const a=i=>{s(i)},n=()=>{s(i=>i==="dark"?"light":"dark")};return e.jsx(f5.Provider,{value:{theme:r,setTheme:a,toggleTheme:n},children:e.jsx("div",{className:r==="dark"?"admin-dark":"admin-light",children:t})})}function _9(){const t=f.useContext(f5);return t||{theme:"light",setTheme:()=>{},toggleTheme:()=>{}}}const Lu={basic:{id:"basic",name:"Basic",subtitle:"Start Learning",price:0,priceFormatted:"FREE",priceId:"",productId:"",features:["Basic StyleBox challenges only","3 portfolio designs max","Community forum access","Learn design fundamentals","No marketplace earnings"],limits:{styleboxes:3,portfolioProjects:3,productionRequests:0,canPublish:!1,prioritySupport:!1,curatorReview:!1,earnFromSales:!1}},pro:{id:"pro",name:"Pro Artisan",subtitle:"Build Your Career",price:4200,priceFormatted:"PKR 4,200/mo",priceId:"price_1ScpNJK03OkAk5KYLuMBjFeW",productId:"prod_TZzMUrCNQhoSkG",features:["Full StyleBox challenge access","Up to 20 portfolio designs","1 production request/month","Revenue dashboard access","Earn from marketplace sales","Priority email support"],limits:{styleboxes:"unlimited",portfolioProjects:20,productionRequests:1,canPublish:!0,prioritySupport:!0,curatorReview:!1,earnFromSales:!0}},elite:{id:"elite",name:"Elite Studio",subtitle:"Lead the Industry",price:11e3,priceFormatted:"PKR 11,000/mo",priceId:"price_1ScpNcK03OkAk5KY6O0YcXzZ",productId:"prod_TZzMnU22Ntmp89",features:["All StyleBox challenges (incl. Team)","Unlimited portfolio designs","5 production requests/month","Dedicated curator review","Priority production queue","Early access to new features","Higher algorithm visibility"],limits:{styleboxes:"unlimited",portfolioProjects:"unlimited",productionRequests:5,canPublish:!0,prioritySupport:!0,curatorReview:!0,earnFromSales:!0}}},p5=f.createContext(void 0);function S9({children:t}){const{user:r,session:s}=ur(),[a,n]=f.useState(null),[i,o]=f.useState(!1),[l,c]=f.useState(null),[d,u]=f.useState(!0),[m,h]=f.useState(null),[p,v]=f.useState(0),x=f.useCallback(async()=>{console.log("Subscription check temporarily disabled to prevent 500 errors"),n("basic"),o(!1),c(null),u(!1),h(null),v(0)},[]),g=f.useCallback(async()=>x(),[x]),b=f.useCallback(async j=>{if(!s?.access_token)throw new Error("You must be logged in to subscribe");const S=Lu[j];if(!S)throw new Error("Invalid tier selected");const{data:w,error:_}=await J.functions.invoke("create-checkout",{body:{priceId:S.priceId},headers:{Authorization:`Bearer ${s.access_token}`}});if(_)throw _;if(w.error)throw new Error(w.error);w.url&&window.open(w.url,"_blank")},[s?.access_token]),y=f.useCallback(async()=>{if(!s?.access_token)throw new Error("You must be logged in to manage subscription");const{data:j,error:S}=await J.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${s.access_token}`}});if(S)throw S;if(j.error)throw new Error(j.error);j.url&&window.open(j.url,"_blank")},[s?.access_token]);return f.useEffect(()=>{n("basic"),o(!1),c(null),u(!1),h(null),v(0)},[]),e.jsx(p5.Provider,{value:{tier:a,isSubscribed:i,subscriptionEnd:l,loading:d,error:m,refreshSubscription:x,forceRefreshSubscription:g,startCheckout:b,openCustomerPortal:y},children:t})}function j_(){const t=f.useContext(p5);if(t===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return t}const x5=f.createContext(void 0),O2="studio-theme";function C9({children:t}){const[r,s]=f.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem(O2);if(i==="dark"||i==="light")return i}return"light"});f.useEffect(()=>{localStorage.setItem(O2,r)},[r]);const a=i=>{s(i)},n=()=>{s(i=>i==="dark"?"light":"dark")};return e.jsx(x5.Provider,{value:{theme:r,setTheme:a,toggleTheme:n},children:e.jsx("div",{className:r==="dark"?"studio-dark":"studio-light",children:t})})}function k9(){const t=f.useContext(x5);return t||{theme:"light",setTheme:()=>{},toggleTheme:()=>{}}}function Zs({children:t,requireAdmin:r=!1}){const{user:s,loading:a,isAdmin:n}=ur(),i=Li();if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin text-accent"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!s){const o=r||i.pathname.startsWith("/admin")?"/admin/login":"/auth";return e.jsx(uc,{to:o,state:{from:i.pathname},replace:!0})}return r&&!n?e.jsx(uc,{to:"/unauthorized",state:{attemptedPath:i.pathname},replace:!0}):e.jsx(e.Fragment,{children:t})}function Jr({children:t,requireSuperadmin:r=!1}){const{user:s,loading:a,isAdmin:n,isSuperadmin:i,adminRole:o}=ja(),l=Li();return console.log("AdminProtectedRoute state:",{user:!!s,loading:a,isAdmin:n,isSuperadmin:i,adminRole:o}),a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[hsl(var(--admin-login-background))]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin text-[hsl(var(--admin-login-button))]"}),e.jsx("p",{className:"text-[hsl(var(--admin-login-text-muted))]",children:"Verifying admin access..."})]})}):s?r&&!i?(console.log("Superadmin required but user is not superadmin"),e.jsx(uc,{to:"/unauthorized",state:{attemptedPath:l.pathname,roleRequired:"superadmin"},replace:!0})):n?(console.log("Admin access granted"),e.jsx(e.Fragment,{children:t})):(console.log("User authenticated but not admin, redirecting to unauthorized"),e.jsx(uc,{to:"/unauthorized",state:{attemptedPath:l.pathname},replace:!0})):(console.log("User not authenticated, redirecting to login"),e.jsx(uc,{to:"/admin/login",state:{from:l.pathname},replace:!0}))}var A9=Symbol.for("react.lazy"),pf=GN[" use ".trim().toString()];function P9(t){return typeof t=="object"&&t!==null&&"then"in t}function g5(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===A9&&"_payload"in t&&P9(t._payload)}function E9(t){const r=T9(t),s=f.forwardRef((a,n)=>{let{children:i,...o}=a;g5(i)&&typeof pf=="function"&&(i=pf(i._payload));const l=f.Children.toArray(i),c=l.find(D9);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return e.jsx(r,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return e.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${t}.Slot`,s}var ko=E9("Slot");function T9(t){const r=f.forwardRef((s,a)=>{let{children:n,...i}=s;if(g5(n)&&typeof pf=="function"&&(n=pf(n._payload)),f.isValidElement(n)){const o=I9(n),l=R9(i,n.props);return n.type!==f.Fragment&&(l.ref=a?Js(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var O9=Symbol("radix.slottable");function D9(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===O9}function R9(t,r){const s={...r};for(const a in r){const n=t[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...t,...s}}function I9(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}const $u=Pl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/50 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-60 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 hover:shadow-md active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90 active:scale-[0.98]",outline:"border border-input bg-background hover:bg-secondary hover:border-border/80 active:scale-[0.98]",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-[0.98]",ghost:"hover:bg-secondary hover:text-secondary-foreground active:scale-[0.98]",link:"text-primary underline-offset-4 hover:underline",accent:"bg-accent text-accent-foreground shadow-sm hover:shadow-md hover:bg-accent/90 active:scale-[0.98]",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90 active:scale-[0.98]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-lg px-3 text-xs",lg:"h-12 rounded-xl px-8 text-base font-semibold",xl:"h-14 rounded-xl px-10 text-lg font-semibold",icon:"h-10 w-10 rounded-lg","icon-sm":"h-8 w-8 rounded-lg","icon-lg":"h-12 w-12 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),T=f.forwardRef(({className:t,variant:r,size:s,asChild:a=!1,...n},i)=>{const o=a?ko:"button";return e.jsx(o,{className:q($u({variant:r,size:s,className:t})),ref:i,...n})});T.displayName="Button";function D2({children:t,allowGuest:r=!1}){const{user:s,loading:a,isCustomer:n,isDesigner:i,isAdmin:o}=ur(),l=Li();return console.log("CustomerProtectedRoute state:",{user:!!s,loading:a,isCustomer:n,isDesigner:i,isAdmin:o,allowGuest:r,path:l.pathname}),a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Verifying your account..."})]})}):s?n?e.jsx(e.Fragment,{children:t}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:e.jsxs("div",{className:"text-center space-y-6 max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-20 w-20 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx(Ma,{className:"h-10 w-10 text-amber-600"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Designer Account"}),e.jsx("p",{className:"text-muted-foreground",children:"This area is for shoppers only. As a designer, you have access to your studio dashboard instead."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(T,{asChild:!0,className:"w-full",children:e.jsx(fe,{to:"/dashboard",children:"Go to Studio Dashboard"})}),e.jsx(T,{variant:"outline",asChild:!0,className:"w-full",children:e.jsx(fe,{to:"/shop",children:"Continue Shopping"})})]})]})}):r?e.jsxs(e.Fragment,{children:[e.jsx(M9,{}),t]}):e.jsx(uc,{to:"/shop/auth",state:{from:l.pathname},replace:!0})}function M9(){return e.jsx("div",{className:"bg-primary/5 border-b border-primary/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"You're browsing as a guest. Create an account to save your items and track orders."}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(T,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(fe,{to:"/shop/auth",state:{from:window.location.pathname},children:"Sign In"})}),e.jsx(T,{size:"sm",asChild:!0,children:e.jsx(fe,{to:"/shop/auth?tab=signup",state:{from:window.location.pathname},children:"Create Account"})})]})]})})})}function F9(){const{pathname:t}=Li();return f.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[t]),null}const R2=new Map;let I2=null;function L9(){I2||(I2=setInterval(()=>{const t=Array.from(R2.entries());if(t.length===0)return;const r=Date.now(),s=t.filter(([a,n])=>n.count>3&&r-n.timestamp<3e4);s.length>0&&(console.warn("[API Monitor] Suspicious request patterns detected:"),s.forEach(([a,n])=>{console.warn(`  - ${a}: ${n.count} calls`)})),t.forEach(([a,n])=>{r-n.timestamp>6e4&&R2.delete(a)})},3e4))}class qn{static async createProject(r,s){try{const{data:a,error:n}=await J.from("projects").insert([{...s,designer_id:r}]).select().single();if(n)throw n;return a}catch(a){return console.error("Error creating project:",a),null}}static async updateProject(r,s,a){try{const{data:n,error:i}=await J.from("projects").select("designer_id").eq("id",r).single();if(i)throw i;if(n.designer_id!==a)throw new Error("Unauthorized: You do not own this project");const{data:o,error:l}=await J.from("projects").update(s).eq("id",r).select().single();if(l)throw l;return o}catch(n){return console.error("Error updating project:",n),null}}static async deleteProject(r,s){try{const{data:a,error:n}=await J.from("projects").select("designer_id").eq("id",r).single();if(n)throw n;if(a.designer_id!==s)throw new Error("Unauthorized: You do not own this project");const{error:i}=await J.from("projects").delete().eq("id",r);if(i)throw i;return!0}catch(a){return console.error("Error deleting project:",a),!1}}static async getDesignerProjects(r){try{const{data:s,error:a}=await J.from("projects").select("*").eq("designer_id",r).order("created_at",{ascending:!1});if(a)throw a;return s||[]}catch(s){return console.error("Error fetching designer projects:",s),[]}}static async uploadProjectAsset(r,s){try{const{data:a,error:n}=await J.from("projects").select("designer_id").eq("id",r).single();if(n)throw n;const{data:i,error:o}=await J.from("project_assets").insert([{...s,designer_id:a.designer_id,project_id:r}]).select().single();if(o)throw o;return i}catch(a){return console.error("Error uploading project asset:",a),null}}static async getProjectAssets(r){try{const{data:s,error:a}=await J.from("project_assets").select("*").eq("project_id",r).order("display_order");if(a)throw a;return s||[]}catch(s){return console.error("Error fetching project assets:",s),[]}}static async submitPublicationRequest(r,s){try{const{data:a,error:n}=await J.from("projects").select("designer_id").eq("id",s.project_id).single();if(n)throw n;if(a.designer_id!==r)throw new Error("Unauthorized: You do not own this project");const{data:i,error:o}=await J.from("publication_requests").insert([{...s,designer_id:r,status:"pending",submitted_at:new Date().toISOString()}]).select().single();if(o)throw o;return i}catch(a){return console.error("Error submitting publication request:",a),null}}static async getDesignerPublicationRequests(r){try{const{data:s,error:a}=await J.from("publication_requests").select(`
          *,
          projects!publication_requests_project_id_fkey(title, description, category)
        `).eq("designer_id",r).order("submitted_at",{ascending:!1});if(a)throw a;return(s||[]).map(n=>({...n,project_title:n.projects?.title,project_description:n.projects?.description}))}catch(s){return console.error("Error fetching designer publication requests:",s),[]}}static async getPendingPublicationRequests(){try{const{data:r,error:s}=await J.from("publication_requests").select(`
          *,
          projects!publication_requests_project_id_fkey(*)
        `).eq("status","pending").order("submitted_at",{ascending:!1});if(s)throw s;return r||[]}catch(r){return console.error("Error fetching pending publication requests:",r),[]}}static async reviewPublicationRequest(r,s,a,n){try{const{error:i}=await J.from("publication_requests").update({status:a,reviewed_at:new Date().toISOString(),reviewed_by:s,admin_notes:n||null}).eq("id",r);if(i)throw i;return a==="approved"&&await this.convertRequestToProduct(r,s),!0}catch(i){return console.error("Error reviewing publication request:",i),!1}}static async convertRequestToProduct(r,s){try{const{data:a,error:n}=await J.from("publication_requests").select(`
          *,
          projects!publication_requests_project_id_fkey(*)
        `).eq("id",r).single();if(n)throw n;const i=a,o=i.projects,{data:l,error:c}=await J.from("marketplace_products").insert([{title:o.title,description:o.description||"",designer_id:o.designer_id,price:0,inventory_count:0,status:"draft",images:o.metadata?.images||[],tags:o.tags||[],portfolio_publication_id:i.id}]).select().single();if(c)throw c;return await J.from("publication_requests").update({marketplace_conversion_id:l.id}).eq("id",r),console.log(`Converted request ${r} to product ${l.id}`),!0}catch(a){return console.error("Error converting request to product:",a),!1}}static async getProductForRequest(r){try{const{data:s,error:a}=await J.from("publication_requests").select("marketplace_conversion_id").eq("id",r).single();if(a)throw a;if(!s?.marketplace_conversion_id)return null;const{data:n,error:i}=await J.from("marketplace_products").select("*").eq("id",s.marketplace_conversion_id).single();if(i)throw i;return n}catch(s){return console.error("Error getting product for request:",s),null}}}const $9={projects:[],projectAssets:{},publicationRequests:[],loading:{projects:!1,assets:{},requests:!1},error:null},q9=(t,r)=>{switch(r.type){case"SET_PROJECTS":return{...t,projects:r.payload};case"ADD_PROJECT":return{...t,projects:[...t.projects,r.payload]};case"UPDATE_PROJECT":return{...t,projects:t.projects.map(n=>n.id===r.payload.id?r.payload:n)};case"DELETE_PROJECT":const{[r.payload]:s,...a}=t.projectAssets;return{...t,projects:t.projects.filter(n=>n.id!==r.payload),projectAssets:a};case"SET_PROJECT_ASSETS":return{...t,projectAssets:{...t.projectAssets,[r.payload.projectId]:r.payload.assets}};case"ADD_PROJECT_ASSET":return{...t,projectAssets:{...t.projectAssets,[r.payload.projectId]:[...t.projectAssets[r.payload.projectId]||[],r.payload.asset]}};case"SET_PUBLICATION_REQUESTS":return{...t,publicationRequests:r.payload};case"ADD_PUBLICATION_REQUEST":return{...t,publicationRequests:[...t.publicationRequests,r.payload]};case"UPDATE_PUBLICATION_REQUEST":return{...t,publicationRequests:t.publicationRequests.map(n=>n.id===r.payload.id?r.payload:n)};case"SET_LOADING":return r.payload.key==="assets"&&r.payload.projectId?{...t,loading:{...t.loading,assets:{...t.loading.assets,[r.payload.projectId]:r.payload.value}}}:{...t,loading:{...t.loading,[r.payload.key]:r.payload.value}};case"SET_ERROR":return{...t,error:r.payload};default:return t}},v5=f.createContext(void 0),z9=({children:t})=>{const[r,s]=f.useReducer(q9,$9),a=async p=>{s({type:"SET_LOADING",payload:{key:"projects",value:!0}});try{const v=await qn.getDesignerProjects(p);s({type:"SET_PROJECTS",payload:v}),s({type:"SET_ERROR",payload:null})}catch{s({type:"SET_ERROR",payload:"Failed to load projects"})}finally{s({type:"SET_LOADING",payload:{key:"projects",value:!1}})}},n=async(p,v)=>{try{const x=await qn.createProject(p,v);x&&s({type:"ADD_PROJECT",payload:x})}catch{s({type:"SET_ERROR",payload:"Failed to create project"})}},i=async(p,v,x)=>{try{const g=await qn.updateProject(p,v,x);g&&s({type:"UPDATE_PROJECT",payload:g})}catch{s({type:"SET_ERROR",payload:"Failed to update project"})}},o=async(p,v)=>{try{await qn.deleteProject(p,v)&&s({type:"DELETE_PROJECT",payload:p})}catch{s({type:"SET_ERROR",payload:"Failed to delete project"})}},l=async p=>{s({type:"SET_LOADING",payload:{key:"assets",value:!0,projectId:p}});try{const v=await qn.getProjectAssets(p);s({type:"SET_PROJECT_ASSETS",payload:{projectId:p,assets:v}})}catch{s({type:"SET_ERROR",payload:"Failed to load project assets"})}finally{s({type:"SET_LOADING",payload:{key:"assets",value:!1,projectId:p}})}},c=async(p,v)=>{try{const x=await qn.uploadProjectAsset(p,v);x&&s({type:"ADD_PROJECT_ASSET",payload:{projectId:p,asset:x}})}catch{s({type:"SET_ERROR",payload:"Failed to upload asset"})}},d=async p=>{s({type:"SET_LOADING",payload:{key:"requests",value:!0}});try{const v=await qn.getDesignerPublicationRequests(p);s({type:"SET_PUBLICATION_REQUESTS",payload:v})}catch{s({type:"SET_ERROR",payload:"Failed to load publication requests"})}finally{s({type:"SET_LOADING",payload:{key:"requests",value:!1}})}},u=async(p,v)=>{try{const x=await qn.submitPublicationRequest(p,v);x&&s({type:"ADD_PUBLICATION_REQUEST",payload:x})}catch{s({type:"SET_ERROR",payload:"Failed to submit publication request"})}},m=async()=>{try{const p=await qn.getPendingPublicationRequests();s({type:"SET_PUBLICATION_REQUESTS",payload:p})}catch{s({type:"SET_ERROR",payload:"Failed to load pending requests"})}},h=async(p,v,x,g)=>{try{if(await qn.reviewPublicationRequest(p,v,x,g)){const y={id:p,status:x,admin_notes:g||null,reviewed_at:new Date().toISOString(),reviewed_by:v};s({type:"UPDATE_PUBLICATION_REQUEST",payload:y})}}catch{s({type:"SET_ERROR",payload:"Failed to review publication request"})}};return e.jsx(v5.Provider,{value:{...r,createProject:n,updateProject:i,deleteProject:o,uploadProjectAsset:c,loadProjectAssets:l,submitPublicationRequest:u,loadDesignerProjects:a,loadDesignerPublicationRequests:d,loadPendingPublicationRequests:m,reviewPublicationRequest:h},children:t})},B9=()=>{const t=f.useContext(v5);if(t===void 0)throw new Error("useDualLayer must be used within a DualLayerProvider");return t},G=f.forwardRef(({className:t,hover:r=!1,variant:s="default",...a},n)=>e.jsx("div",{ref:n,className:q("rounded-xl border bg-card text-card-foreground transition-all duration-300",s==="default"&&"border-border shadow-sm",s==="elevated"&&"border-border/50 shadow-md",s==="ghost"&&"border-transparent shadow-none bg-transparent",r&&"hover:shadow-lg hover:border-border/80 hover:-translate-y-0.5 cursor-pointer",t),...a}));G.displayName="Card";const je=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:q("flex flex-col space-y-1.5 p-6",t),...r}));je.displayName="CardHeader";const Ne=f.forwardRef(({className:t,...r},s)=>e.jsx("h3",{ref:s,className:q("font-display text-2xl font-semibold leading-none tracking-tight",t),...r}));Ne.displayName="CardTitle";const er=f.forwardRef(({className:t,...r},s)=>e.jsx("p",{ref:s,className:q("text-sm text-muted-foreground",t),...r}));er.displayName="CardDescription";const Y=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:q("p-6 pt-0",t),...r}));Y.displayName="CardContent";const Tc=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:q("flex items-center p-6 pt-0",t),...r}));Tc.displayName="CardFooter";const U9=Pl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ring/50 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-sm",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-sm",outline:"text-foreground border-border hover:bg-secondary/50",success:"border-transparent bg-success text-success-foreground shadow-sm",warning:"border-transparent bg-warning text-warning-foreground shadow-sm",accent:"border-transparent bg-accent text-accent-foreground",muted:"border-transparent bg-muted text-muted-foreground",free:"border-success/30 bg-success/10 text-success",easy:"border-success/30 bg-success/10 text-success",medium:"border-warning/30 bg-warning/10 text-warning",hard:"border-destructive/30 bg-destructive/10 text-destructive",insane:"border-primary/30 bg-primary/10 text-primary font-semibold",bronze:"border-transparent bg-rank-bronze/10 text-rank-bronze",silver:"border-transparent bg-rank-silver/10 text-rank-silver",gold:"border-transparent bg-rank-gold/10 text-rank-gold",platinum:"border-transparent bg-rank-platinum/10 text-rank-platinum",diamond:"border-transparent bg-rank-diamond/10 text-rank-diamond",paid:"border-primary/30 bg-primary/5 text-primary",locked:"border-muted-foreground/30 bg-muted text-muted-foreground",pending:"border-warning/30 bg-warning/10 text-warning",active:"border-success/30 bg-success/10 text-success",completed:"border-primary/30 bg-primary/10 text-primary","in-progress":"border-primary/30 bg-primary/10 text-primary",submitted:"border-warning/30 bg-warning/10 text-warning","under-review":"border-warning/30 bg-warning/10 text-warning",approved:"border-success/30 bg-success/10 text-success",rejected:"border-destructive/30 bg-destructive/10 text-destructive","level-1":"border-muted bg-muted text-muted-foreground","level-2":"border-secondary bg-secondary text-secondary-foreground","level-3":"border-primary/20 bg-primary/10 text-primary","level-4":"border-transparent bg-primary text-primary-foreground",urgent:"border-destructive/30 bg-destructive/10 text-destructive animate-pulse","deadline-near":"border-warning/30 bg-warning/10 text-warning","deadline-passed":"border-muted bg-muted text-muted-foreground",season:"border-transparent bg-secondary text-secondary-foreground font-medium"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0 text-[10px]",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function B({className:t,variant:r,size:s,...a}){return e.jsx("div",{className:q(U9({variant:r,size:s}),t),...a})}var Fg="focusScope.autoFocusOnMount",Lg="focusScope.autoFocusOnUnmount",M2={bubbles:!1,cancelable:!0},V9="FocusScope",Mm=f.forwardRef((t,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...o}=t,[l,c]=f.useState(null),d=pr(n),u=pr(i),m=f.useRef(null),h=Xe(r,x=>c(x)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(a){let x=function(j){if(p.paused||!l)return;const S=j.target;l.contains(S)?m.current=S:eo(m.current,{select:!0})},g=function(j){if(p.paused||!l)return;const S=j.relatedTarget;S!==null&&(l.contains(S)||eo(m.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const w of j)w.removedNodes.length>0&&eo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),y.disconnect()}}},[a,l,p.paused]),f.useEffect(()=>{if(l){L2.add(p);const x=document.activeElement;if(!l.contains(x)){const b=new CustomEvent(Fg,M2);l.addEventListener(Fg,d),l.dispatchEvent(b),b.defaultPrevented||(W9(X9(b5(l)),{select:!0}),document.activeElement===x&&eo(l))}return()=>{l.removeEventListener(Fg,d),setTimeout(()=>{const b=new CustomEvent(Lg,M2);l.addEventListener(Lg,u),l.dispatchEvent(b),b.defaultPrevented||eo(x??document.body,{select:!0}),l.removeEventListener(Lg,u),L2.remove(p)},0)}}},[l,d,u,p]);const v=f.useCallback(x=>{if(!s&&!a||p.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,b=document.activeElement;if(g&&b){const y=x.currentTarget,[j,S]=H9(y);j&&S?!x.shiftKey&&b===S?(x.preventDefault(),s&&eo(j,{select:!0})):x.shiftKey&&b===j&&(x.preventDefault(),s&&eo(S,{select:!0})):b===y&&x.preventDefault()}},[s,a,p.paused]);return e.jsx(we.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Mm.displayName=V9;function W9(t,{select:r=!1}={}){const s=document.activeElement;for(const a of t)if(eo(a,{select:r}),document.activeElement!==s)return}function H9(t){const r=b5(t),s=F2(r,t),a=F2(r.reverse(),t);return[s,a]}function b5(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function F2(t,r){for(const s of t)if(!K9(s,{upTo:r}))return s}function K9(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function G9(t){return t instanceof HTMLInputElement&&"select"in t}function eo(t,{select:r=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&G9(t)&&r&&t.select()}}var L2=Y9();function Y9(){let t=[];return{add(r){const s=t[0];r!==s&&s?.pause(),t=$2(t,r),t.unshift(r)},remove(r){t=$2(t,r),t[0]?.resume()}}}function $2(t,r){const s=[...t],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function X9(t){return t.filter(r=>r.tagName!=="A")}var $g=0;function ix(){f.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??q2()),document.body.insertAdjacentElement("beforeend",t[1]??q2()),$g++,()=>{$g===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),$g--}},[])}function q2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vh="right-scroll-bar-position",Wh="width-before-scroll-bar",Q9="with-scroll-bars-hidden",J9="--removed-body-scroll-bar-size";function qg(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function Z9(t,r){var s=f.useState(function(){return{value:t,callback:r,facade:{get current(){return s.value},set current(a){var n=s.value;n!==a&&(s.value=a,s.callback(a,n))}}}})[0];return s.callback=r,s.facade}var eH=typeof window<"u"?f.useLayoutEffect:f.useEffect,z2=new WeakMap;function tH(t,r){var s=Z9(null,function(a){return t.forEach(function(n){return qg(n,a)})});return eH(function(){var a=z2.get(s);if(a){var n=new Set(a),i=new Set(t),o=s.current;n.forEach(function(l){i.has(l)||qg(l,null)}),i.forEach(function(l){n.has(l)||qg(l,o)})}z2.set(s,t)},[t]),s}function rH(t){return t}function sH(t,r){r===void 0&&(r=rH);var s=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(i){var o=r(i,a);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){a=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return n}function aH(t){t===void 0&&(t={});var r=sH(null);return r.options=ao({async:!0,ssr:!1},t),r}var y5=function(t){var r=t.sideCar,s=FD(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return f.createElement(a,ao({},s))};y5.isSideCarExport=!0;function nH(t,r){return t.useMedium(r),y5}var j5=aH(),zg=function(){},ox=f.forwardRef(function(t,r){var s=f.useRef(null),a=f.useState({onScrollCapture:zg,onWheelCapture:zg,onTouchMoveCapture:zg}),n=a[0],i=a[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,m=t.shards,h=t.sideCar,p=t.noRelative,v=t.noIsolation,x=t.inert,g=t.allowPinchZoom,b=t.as,y=b===void 0?"div":b,j=t.gapMode,S=FD(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,_=tH([s,r]),N=ao(ao({},S),n);return f.createElement(f.Fragment,null,u&&f.createElement(w,{sideCar:j5,removeScrollBar:d,shards:m,noRelative:p,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:s,gapMode:j}),o?f.cloneElement(f.Children.only(l),ao(ao({},N),{ref:_})):f.createElement(y,ao({},N,{className:c,ref:_}),l))});ox.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ox.classNames={fullWidth:Wh,zeroRight:Vh};var iH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=iH();return r&&t.setAttribute("nonce",r),t}function lH(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function cH(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var dH=function(){var t=0,r=null;return{add:function(s){t==0&&(r=oH())&&(lH(r,s),cH(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},uH=function(){var t=dH();return function(r,s){f.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&s])}},w5=function(){var t=uH(),r=function(s){var a=s.styles,n=s.dynamic;return t(a,n),null};return r},mH={left:0,top:0,right:0,gap:0},Bg=function(t){return parseInt(t||"",10)||0},hH=function(t){var r=window.getComputedStyle(document.body),s=r[t==="padding"?"paddingLeft":"marginLeft"],a=r[t==="padding"?"paddingTop":"marginTop"],n=r[t==="padding"?"paddingRight":"marginRight"];return[Bg(s),Bg(a),Bg(n)]},fH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mH;var r=hH(t),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},pH=w5(),pc="data-scroll-locked",xH=function(t,r,s,a){var n=t.left,i=t.top,o=t.right,l=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(Q9,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(pc,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vh,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Wh,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Vh," .").concat(Vh,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Wh," .").concat(Wh,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(pc,`] {
    `).concat(J9,": ").concat(l,`px;
  }
`)},B2=function(){var t=parseInt(document.body.getAttribute(pc)||"0",10);return isFinite(t)?t:0},gH=function(){f.useEffect(function(){return document.body.setAttribute(pc,(B2()+1).toString()),function(){var t=B2()-1;t<=0?document.body.removeAttribute(pc):document.body.setAttribute(pc,t.toString())}},[])},vH=function(t){var r=t.noRelative,s=t.noImportant,a=t.gapMode,n=a===void 0?"margin":a;gH();var i=f.useMemo(function(){return fH(n)},[n]);return f.createElement(pH,{styles:xH(i,!r,n,s?"":"!important")})},z0=!1;if(typeof window<"u")try{var xh=Object.defineProperty({},"passive",{get:function(){return z0=!0,!0}});window.addEventListener("test",xh,xh),window.removeEventListener("test",xh,xh)}catch{z0=!1}var Bl=z0?{passive:!1}:!1,bH=function(t){return t.tagName==="TEXTAREA"},N5=function(t,r){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!bH(t)&&s[r]==="visible")},yH=function(t){return N5(t,"overflowY")},jH=function(t){return N5(t,"overflowX")},U2=function(t,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=_5(t,a);if(n){var i=S5(t,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},wH=function(t){var r=t.scrollTop,s=t.scrollHeight,a=t.clientHeight;return[r,s,a]},NH=function(t){var r=t.scrollLeft,s=t.scrollWidth,a=t.clientWidth;return[r,s,a]},_5=function(t,r){return t==="v"?yH(r):jH(r)},S5=function(t,r){return t==="v"?wH(r):NH(r)},_H=function(t,r){return t==="h"&&r==="rtl"?-1:1},SH=function(t,r,s,a,n){var i=_H(t,window.getComputedStyle(r).direction),o=i*a,l=s.target,c=r.contains(l),d=!1,u=o>0,m=0,h=0;do{if(!l)break;var p=S5(t,l),v=p[0],x=p[1],g=p[2],b=x-g-i*v;(v||b)&&_5(t,l)&&(m+=b,h+=v);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(r.contains(l)||r===l));return(u&&Math.abs(m)<1||!u&&Math.abs(h)<1)&&(d=!0),d},gh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},V2=function(t){return[t.deltaX,t.deltaY]},W2=function(t){return t&&"current"in t?t.current:t},CH=function(t,r){return t[0]===r[0]&&t[1]===r[1]},kH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AH=0,Ul=[];function PH(t){var r=f.useRef([]),s=f.useRef([0,0]),a=f.useRef(),n=f.useState(AH++)[0],i=f.useState(w5)[0],o=f.useRef(t);f.useEffect(function(){o.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var x=Az([t.lockRef.current],(t.shards||[]).map(W2),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var l=f.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var b=gh(x),y=s.current,j="deltaX"in x?x.deltaX:y[0]-b[0],S="deltaY"in x?x.deltaY:y[1]-b[1],w,_=x.target,N=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in x&&N==="h"&&_.type==="range")return!1;var k=U2(N,_);if(!k)return!0;if(k?w=N:(w=N==="v"?"h":"v",k=U2(N,_)),!k)return!1;if(!a.current&&"changedTouches"in x&&(j||S)&&(a.current=w),!w)return!0;var C=a.current||w;return SH(C,g,x,C==="h"?j:S)},[]),c=f.useCallback(function(x){var g=x;if(!(!Ul.length||Ul[Ul.length-1]!==i)){var b="deltaY"in g?V2(g):gh(g),y=r.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&CH(w.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(W2).filter(Boolean).filter(function(w){return w.contains(g.target)}),S=j.length>0?l(g,j[0]):!o.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),d=f.useCallback(function(x,g,b,y){var j={name:x,delta:g,target:b,should:y,shadowParent:EH(b)};r.current.push(j),setTimeout(function(){r.current=r.current.filter(function(S){return S!==j})},1)},[]),u=f.useCallback(function(x){s.current=gh(x),a.current=void 0},[]),m=f.useCallback(function(x){d(x.type,V2(x),x.target,l(x,t.lockRef.current))},[]),h=f.useCallback(function(x){d(x.type,gh(x),x.target,l(x,t.lockRef.current))},[]);f.useEffect(function(){return Ul.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Bl),document.addEventListener("touchmove",c,Bl),document.addEventListener("touchstart",u,Bl),function(){Ul=Ul.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,Bl),document.removeEventListener("touchmove",c,Bl),document.removeEventListener("touchstart",u,Bl)}},[]);var p=t.removeScrollBar,v=t.inert;return f.createElement(f.Fragment,null,v?f.createElement(i,{styles:kH(n)}):null,p?f.createElement(vH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function EH(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const TH=nH(j5,PH);var Fm=f.forwardRef(function(t,r){return f.createElement(ox,ao({},t,{ref:r,sideCar:TH}))});Fm.classNames=ox.classNames;var OH=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},Vl=new WeakMap,vh=new WeakMap,bh={},Ug=0,C5=function(t){return t&&(t.host||C5(t.parentNode))},DH=function(t,r){return r.map(function(s){if(t.contains(s))return s;var a=C5(s);return a&&t.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},RH=function(t,r,s,a){var n=DH(r,Array.isArray(t)?t:[t]);bh[s]||(bh[s]=new WeakMap);var i=bh[s],o=[],l=new Set,c=new Set(n),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};n.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(a),v=p!==null&&p!=="false",x=(Vl.get(h)||0)+1,g=(i.get(h)||0)+1;Vl.set(h,x),i.set(h,g),o.push(h),x===1&&v&&vh.set(h,!0),g===1&&h.setAttribute(s,"true"),v||h.setAttribute(a,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(r),l.clear(),Ug++,function(){o.forEach(function(m){var h=Vl.get(m)-1,p=i.get(m)-1;Vl.set(m,h),i.set(m,p),h||(vh.has(m)||m.removeAttribute(a),vh.delete(m)),p||m.removeAttribute(s)}),Ug--,Ug||(Vl=new WeakMap,Vl=new WeakMap,vh=new WeakMap,bh={})}},lx=function(t,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),n=OH(t);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live]"))),RH(a,n,s,"aria-hidden")):function(){return null}};function IH(t){const r=MH(t),s=f.forwardRef((a,n)=>{const{children:i,...o}=a,l=f.Children.toArray(i),c=l.find(LH);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return e.jsx(r,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return e.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${t}.Slot`,s}function MH(t){const r=f.forwardRef((s,a)=>{const{children:n,...i}=s;if(f.isValidElement(n)){const o=qH(n),l=$H(i,n.props);return n.type!==f.Fragment&&(l.ref=a?Js(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var FH=Symbol("radix.slottable");function LH(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===FH}function $H(t,r){const s={...r};for(const a in r){const n=t[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...t,...s}}function qH(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var cx="Dialog",[k5,A5]=Ur(cx),[zH,On]=k5(cx),P5=t=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!0}=t,l=f.useRef(null),c=f.useRef(null),[d,u]=Is({prop:a,defaultProp:n??!1,onChange:i,caller:cx});return e.jsx(zH,{scope:r,triggerRef:l,contentRef:c,contentId:Kr(),titleId:Kr(),descriptionId:Kr(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(m=>!m),[u]),modal:o,children:s})};P5.displayName=cx;var E5="DialogTrigger",T5=f.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,n=On(E5,s),i=Xe(r,n.triggerRef);return e.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":__(n.open),...a,ref:i,onClick:ve(t.onClick,n.onOpenToggle)})});T5.displayName=E5;var w_="DialogPortal",[BH,O5]=k5(w_,{forceMount:void 0}),D5=t=>{const{__scopeDialog:r,forceMount:s,children:a,container:n}=t,i=On(w_,r);return e.jsx(BH,{scope:r,forceMount:s,children:f.Children.map(a,o=>e.jsx(qr,{present:s||i.open,children:e.jsx(bd,{asChild:!0,container:n,children:o})}))})};D5.displayName=w_;var xf="DialogOverlay",R5=f.forwardRef((t,r)=>{const s=O5(xf,t.__scopeDialog),{forceMount:a=s.forceMount,...n}=t,i=On(xf,t.__scopeDialog);return i.modal?e.jsx(qr,{present:a||i.open,children:e.jsx(VH,{...n,ref:r})}):null});R5.displayName=xf;var UH=IH("DialogOverlay.RemoveScroll"),VH=f.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,n=On(xf,s);return e.jsx(Fm,{as:UH,allowPinchZoom:!0,shards:[n.contentRef],children:e.jsx(we.div,{"data-state":__(n.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),cl="DialogContent",I5=f.forwardRef((t,r)=>{const s=O5(cl,t.__scopeDialog),{forceMount:a=s.forceMount,...n}=t,i=On(cl,t.__scopeDialog);return e.jsx(qr,{present:a||i.open,children:i.modal?e.jsx(WH,{...n,ref:r}):e.jsx(HH,{...n,ref:r})})});I5.displayName=cl;var WH=f.forwardRef((t,r)=>{const s=On(cl,t.__scopeDialog),a=f.useRef(null),n=Xe(r,s.contentRef,a);return f.useEffect(()=>{const i=a.current;if(i)return lx(i)},[]),e.jsx(M5,{...t,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(t.onCloseAutoFocus,i=>{i.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:ve(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ve(t.onFocusOutside,i=>i.preventDefault())})}),HH=f.forwardRef((t,r)=>{const s=On(cl,t.__scopeDialog),a=f.useRef(!1),n=f.useRef(!1);return e.jsx(M5,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||s.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;s.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),M5=f.forwardRef((t,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...o}=t,l=On(cl,s),c=f.useRef(null),d=Xe(r,c);return ix(),e.jsxs(e.Fragment,{children:[e.jsx(Mm,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:e.jsx(So,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":__(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(GH,{titleId:l.titleId}),e.jsx(XH,{contentRef:c,descriptionId:l.descriptionId})]})]})}),N_="DialogTitle",F5=f.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,n=On(N_,s);return e.jsx(we.h2,{id:n.titleId,...a,ref:r})});F5.displayName=N_;var L5="DialogDescription",$5=f.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,n=On(L5,s);return e.jsx(we.p,{id:n.descriptionId,...a,ref:r})});$5.displayName=L5;var q5="DialogClose",z5=f.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,n=On(q5,s);return e.jsx(we.button,{type:"button",...a,ref:r,onClick:ve(t.onClick,()=>n.onOpenChange(!1))})});z5.displayName=q5;function __(t){return t?"open":"closed"}var B5="DialogTitleWarning",[KH,U5]=vB(B5,{contentName:cl,titleName:N_,docsSlug:"dialog"}),GH=({titleId:t})=>{const r=U5(B5),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return f.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},YH="DialogDescriptionWarning",XH=({contentRef:t,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${U5(YH).contentName}}.`;return f.useEffect(()=>{const n=t.current?.getAttribute("aria-describedby");r&&n&&(document.getElementById(r)||console.warn(a))},[a,t,r]),null},dx=P5,S_=T5,ux=D5,Nd=R5,_d=I5,Lm=F5,$m=$5,mx=z5;const El=dx,hx=S_,QH=ux,V5=f.forwardRef(({className:t,...r},s)=>e.jsx(Nd,{className:q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));V5.displayName=Nd.displayName;const JH=Pl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ao=f.forwardRef(({side:t="right",className:r,children:s,...a},n)=>e.jsxs(QH,{children:[e.jsx(V5,{}),e.jsxs(_d,{ref:n,className:q(JH({side:t}),r),...a,children:[s,e.jsxs(mx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ao.displayName=_d.displayName;const qm=({className:t,...r})=>e.jsx("div",{className:q("flex flex-col space-y-2 text-center sm:text-left",t),...r});qm.displayName="SheetHeader";const zm=f.forwardRef(({className:t,...r},s)=>e.jsx(Lm,{ref:s,className:q("text-lg font-semibold text-foreground",t),...r}));zm.displayName=Lm.displayName;const ZH=f.forwardRef(({className:t,...r},s)=>e.jsx($m,{ref:s,className:q("text-sm text-muted-foreground",t),...r}));ZH.displayName=$m.displayName;var e7=f.createContext(void 0);function zi(t){const r=f.useContext(e7);return t||r||"ltr"}function Sd(t){const r=f.useRef({value:t,previous:t});return f.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var Tl="NavigationMenu",[C_,W5,t7]=_o(Tl),[B0,r7,s7]=_o(Tl),[k_]=Ur(Tl,[t7,s7]),[a7,en]=k_(Tl),[n7,i7]=k_(Tl),H5=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,value:a,onValueChange:n,defaultValue:i,delayDuration:o=200,skipDelayDuration:l=300,orientation:c="horizontal",dir:d,...u}=t,[m,h]=f.useState(null),p=Xe(r,C=>h(C)),v=zi(d),x=f.useRef(0),g=f.useRef(0),b=f.useRef(0),[y,j]=f.useState(!0),[S,w]=Is({prop:a,onChange:C=>{const P=C!=="",A=l>0;P?(window.clearTimeout(b.current),A&&j(!1)):(window.clearTimeout(b.current),b.current=window.setTimeout(()=>j(!0),l)),n?.(C)},defaultProp:i??"",caller:Tl}),_=f.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>w(""),150)},[w]),N=f.useCallback(C=>{window.clearTimeout(g.current),w(C)},[w]),k=f.useCallback(C=>{S===C?window.clearTimeout(g.current):x.current=window.setTimeout(()=>{window.clearTimeout(g.current),w(C)},o)},[S,w,o]);return f.useEffect(()=>()=>{window.clearTimeout(x.current),window.clearTimeout(g.current),window.clearTimeout(b.current)},[]),e.jsx(K5,{scope:s,isRootMenu:!0,value:S,dir:v,orientation:c,rootNavigationMenu:m,onTriggerEnter:C=>{window.clearTimeout(x.current),y?k(C):N(C)},onTriggerLeave:()=>{window.clearTimeout(x.current),_()},onContentEnter:()=>window.clearTimeout(g.current),onContentLeave:_,onItemSelect:C=>{w(P=>P===C?"":C)},onItemDismiss:()=>w(""),children:e.jsx(we.nav,{"aria-label":"Main","data-orientation":c,dir:v,...u,ref:p})})});H5.displayName=Tl;var U0="NavigationMenuSub",o7=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",...l}=t,c=en(U0,s),[d,u]=Is({prop:a,onChange:n,defaultProp:i??"",caller:U0});return e.jsx(K5,{scope:s,isRootMenu:!1,value:d,dir:c.dir,orientation:o,rootNavigationMenu:c.rootNavigationMenu,onTriggerEnter:m=>u(m),onItemSelect:m=>u(m),onItemDismiss:()=>u(""),children:e.jsx(we.div,{"data-orientation":o,...l,ref:r})})});o7.displayName=U0;var K5=t=>{const{scope:r,isRootMenu:s,rootNavigationMenu:a,dir:n,orientation:i,children:o,value:l,onItemSelect:c,onItemDismiss:d,onTriggerEnter:u,onTriggerLeave:m,onContentEnter:h,onContentLeave:p}=t,[v,x]=f.useState(null),[g,b]=f.useState(new Map),[y,j]=f.useState(null);return e.jsx(a7,{scope:r,isRootMenu:s,rootNavigationMenu:a,value:l,previousValue:Sd(l),baseId:Kr(),dir:n,orientation:i,viewport:v,onViewportChange:x,indicatorTrack:y,onIndicatorTrackChange:j,onTriggerEnter:pr(u),onTriggerLeave:pr(m),onContentEnter:pr(h),onContentLeave:pr(p),onItemSelect:pr(c),onItemDismiss:pr(d),onViewportContentChange:f.useCallback((S,w)=>{b(_=>(_.set(S,w),new Map(_)))},[]),onViewportContentRemove:f.useCallback(S=>{b(w=>w.has(S)?(w.delete(S),new Map(w)):w)},[]),children:e.jsx(C_.Provider,{scope:r,children:e.jsx(n7,{scope:r,items:g,children:o})})})},G5="NavigationMenuList",Y5=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,...a}=t,n=en(G5,s),i=e.jsx(we.ul,{"data-orientation":n.orientation,...a,ref:r});return e.jsx(we.div,{style:{position:"relative"},ref:n.onIndicatorTrackChange,children:e.jsx(C_.Slot,{scope:s,children:n.isRootMenu?e.jsx(nI,{asChild:!0,children:i}):i})})});Y5.displayName=G5;var X5="NavigationMenuItem",[l7,Q5]=k_(X5),J5=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,value:a,...n}=t,i=Kr(),o=a||i||"LEGACY_REACT_AUTO_VALUE",l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),u=f.useRef(()=>{}),m=f.useRef(!1),h=f.useCallback((v="start")=>{if(l.current){u.current();const x=W0(l.current);x.length&&E_(v==="start"?x:x.reverse())}},[]),p=f.useCallback(()=>{if(l.current){const v=W0(l.current);v.length&&(u.current=p7(v))}},[]);return e.jsx(l7,{scope:s,value:o,triggerRef:c,contentRef:l,focusProxyRef:d,wasEscapeCloseRef:m,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:p,onContentFocusOutside:p,children:e.jsx(we.li,{...n,ref:r})})});J5.displayName=X5;var V0="NavigationMenuTrigger",Z5=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,disabled:a,...n}=t,i=en(V0,t.__scopeNavigationMenu),o=Q5(V0,t.__scopeNavigationMenu),l=f.useRef(null),c=Xe(l,o.triggerRef,r),d=oI(i.baseId,o.value),u=lI(i.baseId,o.value),m=f.useRef(!1),h=f.useRef(!1),p=o.value===i.value;return e.jsxs(e.Fragment,{children:[e.jsx(C_.ItemSlot,{scope:s,value:o.value,children:e.jsx(iI,{asChild:!0,children:e.jsx(we.button,{id:d,disabled:a,"data-disabled":a?"":void 0,"data-state":T_(p),"aria-expanded":p,"aria-controls":u,...n,ref:c,onPointerEnter:ve(t.onPointerEnter,()=>{h.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:ve(t.onPointerMove,gf(()=>{a||h.current||o.wasEscapeCloseRef.current||m.current||(i.onTriggerEnter(o.value),m.current=!0)})),onPointerLeave:ve(t.onPointerLeave,gf(()=>{a||(i.onTriggerLeave(),m.current=!1)})),onClick:ve(t.onClick,()=>{i.onItemSelect(o.value),h.current=p}),onKeyDown:ve(t.onKeyDown,v=>{const g={horizontal:"ArrowDown",vertical:i.dir==="rtl"?"ArrowLeft":"ArrowRight"}[i.orientation];p&&v.key===g&&(o.onEntryKeyDown(),v.preventDefault())})})})}),p&&e.jsxs(e.Fragment,{children:[e.jsx(nR,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:v=>{const x=o.contentRef.current,g=v.relatedTarget,b=g===l.current,y=x?.contains(g);(b||!y)&&o.onFocusProxyEnter(b?"start":"end")}}),i.viewport&&e.jsx("span",{"aria-owns":u})]})]})});Z5.displayName=V0;var c7="NavigationMenuLink",H2="navigationMenu.linkSelect",eI=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,active:a,onSelect:n,...i}=t;return e.jsx(iI,{asChild:!0,children:e.jsx(we.a,{"data-active":a?"":void 0,"aria-current":a?"page":void 0,...i,ref:r,onClick:ve(t.onClick,o=>{const l=o.target,c=new CustomEvent(H2,{bubbles:!0,cancelable:!0});if(l.addEventListener(H2,d=>n?.(d),{once:!0}),Ou(l,c),!c.defaultPrevented&&!o.metaKey){const d=new CustomEvent(Hh,{bubbles:!0,cancelable:!0});Ou(l,d)}},{checkForDefaultPrevented:!1})})})});eI.displayName=c7;var A_="NavigationMenuIndicator",tI=f.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=en(A_,t.__scopeNavigationMenu),i=!!n.value;return n.indicatorTrack?HN.createPortal(e.jsx(qr,{present:s||i,children:e.jsx(d7,{...a,ref:r})}),n.indicatorTrack):null});tI.displayName=A_;var d7=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,...a}=t,n=en(A_,s),i=W5(s),[o,l]=f.useState(null),[c,d]=f.useState(null),u=n.orientation==="horizontal",m=!!n.value;f.useEffect(()=>{const v=i().find(x=>x.value===n.value)?.ref.current;v&&l(v)},[i,n.value]);const h=()=>{o&&d({size:u?o.offsetWidth:o.offsetHeight,offset:u?o.offsetLeft:o.offsetTop})};return H0(o,h),H0(n.indicatorTrack,h),c?e.jsx(we.div,{"aria-hidden":!0,"data-state":m?"visible":"hidden","data-orientation":n.orientation,...a,ref:r,style:{position:"absolute",...u?{left:0,width:c.size+"px",transform:`translateX(${c.offset}px)`}:{top:0,height:c.size+"px",transform:`translateY(${c.offset}px)`},...a.style}}):null}),Oc="NavigationMenuContent",rI=f.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=en(Oc,t.__scopeNavigationMenu),i=Q5(Oc,t.__scopeNavigationMenu),o=Xe(i.contentRef,r),l=i.value===n.value,c={value:i.value,triggerRef:i.triggerRef,focusProxyRef:i.focusProxyRef,wasEscapeCloseRef:i.wasEscapeCloseRef,onContentFocusOutside:i.onContentFocusOutside,onRootContentClose:i.onRootContentClose,...a};return n.viewport?e.jsx(u7,{forceMount:s,...c,ref:o}):e.jsx(qr,{present:s||l,children:e.jsx(sI,{"data-state":T_(l),...c,ref:o,onPointerEnter:ve(t.onPointerEnter,n.onContentEnter),onPointerLeave:ve(t.onPointerLeave,gf(n.onContentLeave)),style:{pointerEvents:!l&&n.isRootMenu?"none":void 0,...c.style}})})});rI.displayName=Oc;var u7=f.forwardRef((t,r)=>{const s=en(Oc,t.__scopeNavigationMenu),{onViewportContentChange:a,onViewportContentRemove:n}=s;return Fr(()=>{a(t.value,{ref:r,...t})},[t,r,a]),Fr(()=>()=>n(t.value),[t.value,n]),null}),Hh="navigationMenu.rootContentDismiss",sI=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,value:a,triggerRef:n,focusProxyRef:i,wasEscapeCloseRef:o,onRootContentClose:l,onContentFocusOutside:c,...d}=t,u=en(Oc,s),m=f.useRef(null),h=Xe(m,r),p=oI(u.baseId,a),v=lI(u.baseId,a),x=W5(s),g=f.useRef(null),{onItemDismiss:b}=u;f.useEffect(()=>{const j=m.current;if(u.isRootMenu&&j){const S=()=>{b(),l(),j.contains(document.activeElement)&&n.current?.focus()};return j.addEventListener(Hh,S),()=>j.removeEventListener(Hh,S)}},[u.isRootMenu,t.value,n,b,l]);const y=f.useMemo(()=>{const S=x().map(P=>P.value);u.dir==="rtl"&&S.reverse();const w=S.indexOf(u.value),_=S.indexOf(u.previousValue),N=a===u.value,k=_===S.indexOf(a);if(!N&&!k)return g.current;const C=(()=>{if(w!==_){if(N&&_!==-1)return w>_?"from-end":"from-start";if(k&&w!==-1)return w>_?"to-start":"to-end"}return null})();return g.current=C,C},[u.previousValue,u.value,u.dir,x,a]);return e.jsx(nI,{asChild:!0,children:e.jsx(So,{id:v,"aria-labelledby":p,"data-motion":y,"data-orientation":u.orientation,...d,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{const j=new Event(Hh,{bubbles:!0,cancelable:!0});m.current?.dispatchEvent(j)},onFocusOutside:ve(t.onFocusOutside,j=>{c();const S=j.target;u.rootNavigationMenu?.contains(S)&&j.preventDefault()}),onPointerDownOutside:ve(t.onPointerDownOutside,j=>{const S=j.target,w=x().some(N=>N.ref.current?.contains(S)),_=u.isRootMenu&&u.viewport?.contains(S);(w||_||!u.isRootMenu)&&j.preventDefault()}),onKeyDown:ve(t.onKeyDown,j=>{const S=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!S){const _=W0(j.currentTarget),N=document.activeElement,k=_.findIndex(A=>A===N),P=j.shiftKey?_.slice(0,k).reverse():_.slice(k+1,_.length);E_(P)?j.preventDefault():i.current?.focus()}}),onEscapeKeyDown:ve(t.onEscapeKeyDown,j=>{o.current=!0})})})}),P_="NavigationMenuViewport",aI=f.forwardRef((t,r)=>{const{forceMount:s,...a}=t,i=!!en(P_,t.__scopeNavigationMenu).value;return e.jsx(qr,{present:s||i,children:e.jsx(m7,{...a,ref:r})})});aI.displayName=P_;var m7=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,children:a,...n}=t,i=en(P_,s),o=Xe(r,i.onViewportChange),l=i7(Oc,t.__scopeNavigationMenu),[c,d]=f.useState(null),[u,m]=f.useState(null),h=c?c?.width+"px":void 0,p=c?c?.height+"px":void 0,v=!!i.value,x=v?i.value:i.previousValue;return H0(u,()=>{u&&d({width:u.offsetWidth,height:u.offsetHeight})}),e.jsx(we.div,{"data-state":T_(v),"data-orientation":i.orientation,...n,ref:o,style:{pointerEvents:!v&&i.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":p,...n.style},onPointerEnter:ve(t.onPointerEnter,i.onContentEnter),onPointerLeave:ve(t.onPointerLeave,gf(i.onContentLeave)),children:Array.from(l.items).map(([b,{ref:y,forceMount:j,...S}])=>{const w=x===b;return e.jsx(qr,{present:j||w,children:e.jsx(sI,{...S,ref:Js(y,_=>{w&&_&&m(_)})})},b)})})}),h7="FocusGroup",nI=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,...a}=t,n=en(h7,s);return e.jsx(B0.Provider,{scope:s,children:e.jsx(B0.Slot,{scope:s,children:e.jsx(we.div,{dir:n.dir,...a,ref:r})})})}),K2=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],f7="FocusGroupItem",iI=f.forwardRef((t,r)=>{const{__scopeNavigationMenu:s,...a}=t,n=r7(s),i=en(f7,s);return e.jsx(B0.ItemSlot,{scope:s,children:e.jsx(we.button,{...a,ref:r,onKeyDown:ve(t.onKeyDown,o=>{if(["Home","End",...K2].includes(o.key)){let c=n().map(m=>m.ref.current);if([i.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&c.reverse(),K2.includes(o.key)){const m=c.indexOf(o.currentTarget);c=c.slice(m+1)}setTimeout(()=>E_(c)),o.preventDefault()}})})})});function W0(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function E_(t){const r=document.activeElement;return t.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}function p7(t){return t.forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")}),()=>{t.forEach(r=>{const s=r.dataset.tabindex;r.setAttribute("tabindex",s)})}}function H0(t,r){const s=pr(r);Fr(()=>{let a=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(t),()=>{window.cancelAnimationFrame(a),n.unobserve(t)}}},[t,s])}function T_(t){return t?"open":"closed"}function oI(t,r){return`${t}-trigger-${r}`}function lI(t,r){return`${t}-content-${r}`}function gf(t){return r=>r.pointerType==="mouse"?t(r):void 0}var cI=H5,dI=Y5,x7=J5,uI=Z5,g7=eI,mI=tI,hI=rI,fI=aI;const pI=f.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(cI,{ref:a,className:q("relative z-10 flex max-w-max flex-1 items-center justify-center",t),...s,children:[r,e.jsx(bI,{})]}));pI.displayName=cI.displayName;const xI=f.forwardRef(({className:t,...r},s)=>e.jsx(dI,{ref:s,className:q("group flex flex-1 list-none items-center justify-center space-x-1",t),...r}));xI.displayName=dI.displayName;const v7=x7,b7=Pl("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),gI=f.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(uI,{ref:a,className:q(b7(),"group",t),...s,children:[r," ",e.jsx(di,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));gI.displayName=uI.displayName;const vI=f.forwardRef(({className:t,...r},s)=>e.jsx(hI,{ref:s,className:q("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto",t),...r}));vI.displayName=hI.displayName;const y7=g7,bI=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{className:q("absolute left-0 top-full flex justify-center"),children:e.jsx(fI,{className:q("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",t),ref:s,...r})}));bI.displayName=fI.displayName;const j7=f.forwardRef(({className:t,...r},s)=>e.jsx(mI,{ref:s,className:q("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",t),...r,children:e.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));j7.displayName=mI.displayName;const G2=[{label:"Home",href:"/"},{label:"About",href:"/about"},{label:"StyleBoxes",href:"/styleboxes-info",icon:Mr},{label:"Shop",href:"/shop",icon:ui},{label:"Blog",href:"/blog"},{label:"Pricing",href:"/pricing",icon:Rs}],Vg=[{label:"Competitions",href:"/competitions",icon:ri,description:"Join design challenges and win prizes"},{label:"Studio",href:"/studio-info",icon:al,description:"Professional design tools and resources"},{label:"Designer Profiles",href:"/designers",icon:mt,description:"Discover talented designers"},{label:"Monetization",href:"/monetization",icon:Rs,description:"Learn how to earn from your designs"},{label:"For Brands",href:"/brands",icon:pd,description:"Partner with emerging designers"},{label:"Support",href:"/support",icon:qp,description:"Help center and FAQs"}];function w7(){const[t,r]=f.useState(!1),[s,a]=f.useState(!1),n=Li();f.useEffect(()=>{const o=()=>r(window.scrollY>50);return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const i=o=>o==="/"?n.pathname==="/":n.pathname.startsWith(o);return e.jsx("header",{className:q("fixed top-0 left-0 right-0 z-50 transition-all duration-300",t?"bg-background/95 backdrop-blur-md border-b shadow-sm":"bg-transparent"),children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between",children:[e.jsx(fe,{to:"/",className:"flex items-center gap-2 shrink-0",children:e.jsx("span",{className:"font-display text-xl sm:text-2xl font-bold tracking-tight",children:"Adorzia"})}),e.jsxs("nav",{className:"hidden lg:flex items-center gap-1",children:[G2.map(o=>e.jsxs(fe,{to:o.href,className:q("relative px-3 py-2 text-sm transition-colors rounded-md",i(o.href)?"text-foreground font-medium":"text-muted-foreground hover:text-foreground hover:bg-secondary/50"),children:[o.label,i(o.href)&&e.jsx("span",{className:"absolute bottom-0 left-3 right-3 h-0.5 bg-primary rounded-full"})]},o.href)),e.jsx(pI,{children:e.jsx(xI,{children:e.jsxs(v7,{children:[e.jsx(gI,{className:q("text-sm bg-transparent",Vg.some(o=>i(o.href))?"text-foreground font-medium":"text-muted-foreground hover:text-foreground"),children:"More"}),e.jsx(vI,{children:e.jsx("ul",{className:"grid w-[400px] gap-1 p-3 md:grid-cols-2",children:Vg.map(o=>e.jsx("li",{children:e.jsx(y7,{asChild:!0,children:e.jsxs(fe,{to:o.href,className:q("flex items-start gap-3 p-3 rounded-lg hover:bg-secondary transition-colors group",i(o.href)&&"bg-secondary"),children:[e.jsx("div",{className:"h-9 w-9 rounded-md bg-primary/10 flex items-center justify-center shrink-0 group-hover:bg-primary/20 transition-colors",children:e.jsx(o.icon,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium",children:o.label}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:o.description})]})]})})},o.href))})})]})})})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(fe,{to:"/auth",className:"hidden sm:block",children:e.jsx(T,{variant:"ghost",size:"sm",children:"Sign In"})}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{size:"sm",className:"gap-2",children:["Get Started",e.jsx(St,{className:"h-4 w-4 hidden sm:block"})]})}),e.jsxs(El,{open:s,onOpenChange:a,children:[e.jsx(hx,{asChild:!0,className:"lg:hidden",children:e.jsx(T,{variant:"ghost",size:"icon",className:"shrink-0",children:e.jsx($D,{className:"h-5 w-5"})})}),e.jsx(Ao,{side:"right",className:"w-[300px] p-0",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx(fe,{to:"/",onClick:()=>a(!1),className:"font-display text-xl font-bold",children:"Adorzia"})}),e.jsxs("nav",{className:"flex-1 overflow-y-auto py-4",children:[e.jsx("div",{className:"px-3 mb-2",children:e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Platform"})}),G2.map(o=>e.jsxs(fe,{to:o.href,onClick:()=>a(!1),className:q("flex items-center gap-3 px-4 py-3 transition-colors",i(o.href)?"bg-secondary text-foreground font-medium border-l-2 border-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[o.icon&&e.jsx(o.icon,{className:"h-4 w-4"}),o.label,i(o.href)&&e.jsx(lr,{className:"h-4 w-4 ml-auto"})]},o.href)),e.jsx("div",{className:"px-3 mb-2 mt-6",children:e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Resources"})}),Vg.map(o=>e.jsxs(fe,{to:o.href,onClick:()=>a(!1),className:q("flex items-center gap-3 px-4 py-3 transition-colors",i(o.href)?"bg-secondary text-foreground font-medium border-l-2 border-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[e.jsx(o.icon,{className:"h-4 w-4"}),o.label]},o.href))]}),e.jsx("div",{className:"p-4 border-t bg-secondary/30",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(fe,{to:"/auth",onClick:()=>a(!1),children:e.jsxs(T,{className:"w-full gap-2",children:["Get Started Free",e.jsx(St,{className:"h-4 w-4"})]})}),e.jsx(fe,{to:"/auth",onClick:()=>a(!1),children:e.jsx(T,{variant:"outline",className:"w-full",children:"Sign In"})})]})})]})})]})]})]})})}const ie=f.forwardRef(({className:t,type:r,error:s,success:a,...n},i)=>e.jsx("input",{type:r,className:q("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-base","ring-offset-background transition-all duration-200","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:border-ring","disabled:cursor-not-allowed disabled:opacity-50","hover:border-ring/50","md:text-sm",s&&"border-destructive focus-visible:ring-destructive/30 focus-visible:border-destructive",a&&"border-success focus-visible:ring-success/30 focus-visible:border-success",t),ref:i,...n}));ie.displayName="Input";const nc={instagram:"https://instagram.com/adorziaofficial",twitter:"https://x.com/adorziaofficial",linkedin:"https://linkedin.com/company/adorziaofficial",youtube:"https://youtube.com/@adorziaofficial"},N7={Platform:[{label:"StyleBoxes",href:"/styleboxes-info"},{label:"Marketplace",href:"/marketplace-preview"},{label:"Competitions",href:"/competitions"},{label:"Studio",href:"/studio-info"},{label:"Pricing",href:"/pricing"}],Company:[{label:"About Us",href:"/about"},{label:"For Brands",href:"/brands"},{label:"Monetization",href:"/monetization"},{label:"Designers",href:"/designers"}],Resources:[{label:"Help Center",href:"/support"},{label:"FAQs",href:"/support#faq"},{label:"Contact",href:"/support#contact"}],Legal:[{label:"Privacy Policy",href:"/support#policies"},{label:"Terms of Service",href:"/support#policies"},{label:"Cookie Policy",href:"/support#policies"}]},_7=[{icon:jo,href:nc.instagram,label:"Instagram"},{icon:Cl,href:nc.twitter,label:"Twitter"},{icon:zp,href:nc.linkedin,label:"LinkedIn"},{icon:YN,href:nc.youtube,label:"YouTube"}],S7=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function C7(){const{toast:t}=Ge(),[r,s]=f.useState(""),[a,n]=f.useState(!1),i=async o=>{o.preventDefault();const l=r.trim();if(!l){t({title:"Email required",description:"Please enter your email address.",variant:"destructive"});return}if(!S7.test(l)){t({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}n(!0);try{const c=await J.functions.invoke("newsletter-subscribe",{body:{email:l,source:"footer"}});if(console.log("Newsletter response:",c),c.error)throw new Error(c.error.message||"Subscription failed");if(c.data?.error)throw new Error(c.data.error);t({title:"Subscribed!",description:c.data?.message||"Thank you for subscribing to our newsletter."}),s("")}catch(c){console.error("Newsletter subscription error:",c),t({title:"Subscription failed",description:c.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{n(!1)}};return e.jsxs("footer",{className:"bg-foreground text-background",children:[e.jsx("div",{className:"border-b border-background/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16",children:e.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-background/10 rounded-full px-4 py-1.5 mb-6",children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Start Your Journey"})]}),e.jsx("h3",{className:"font-display text-3xl sm:text-4xl font-bold mb-4",children:"Ready to Build Your Fashion Brand?"}),e.jsx("p",{className:"text-background/70 mb-8 text-lg",children:"Join thousands of designers learning, creating, and earning through Adorzia's integrated ecosystem."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(fe,{to:"/auth",children:e.jsxs(T,{size:"lg",variant:"secondary",className:"gap-2 w-full sm:w-auto",children:["Get Started Free",e.jsx(St,{className:"h-4 w-4"})]})}),e.jsx(fe,{to:"/pricing",children:e.jsx(T,{size:"lg",variant:"outline",className:"border-background/20 text-background hover:bg-background/10 w-full sm:w-auto",children:"View Pricing"})})]})]})})}),e.jsx("div",{className:"border-b border-background/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-12",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-2xl font-bold mb-2",children:"Join the Fashion Revolution"}),e.jsx("p",{className:"text-background/60",children:"Get updates on new StyleBoxes, competitions, and designer success stories."})]}),e.jsxs("form",{onSubmit:i,className:"flex gap-3",children:[e.jsx(ie,{type:"email",placeholder:"Enter your email",value:r,onChange:o=>s(o.target.value),disabled:a,className:"bg-background/10 border-background/20 text-background placeholder:text-background/40"}),e.jsx(T,{type:"submit",variant:"secondary",className:"shrink-0",disabled:a,children:a?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:["Subscribe",e.jsx(St,{className:"ml-2 h-4 w-4"})]})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8",children:[e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx(fe,{to:"/",className:"inline-block mb-4",children:e.jsx("span",{className:"font-display text-2xl font-bold",children:"Adorzia"})}),e.jsx("p",{className:"text-sm text-background/60 mb-6 max-w-xs",children:"The world's first fashion creation ecosystem. Built in Pakistan, engineered for global scale."}),e.jsx("div",{className:"flex gap-3",children:_7.map(o=>e.jsx("a",{href:o.href,target:"_blank",rel:"noopener noreferrer","aria-label":o.label,className:"h-9 w-9 rounded-full bg-background/10 flex items-center justify-center hover:bg-background/20 transition-colors",children:e.jsx(o.icon,{className:"h-4 w-4"})},o.label))})]}),Object.entries(N7).map(([o,l])=>e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4 text-sm",children:o}),e.jsx("ul",{className:"space-y-3",children:l.map(c=>e.jsx("li",{children:e.jsx(fe,{to:c.href,className:"text-sm text-background/60 hover:text-background transition-colors",children:c.label})},c.label))})]},o))]})}),e.jsx("div",{className:"border-t border-background/10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-sm text-background/60",children:[" ",new Date().getFullYear()," Adorzia. All rights reserved."]}),e.jsx("div",{className:"flex items-center gap-6",children:e.jsx("span",{className:"text-sm text-background/60",children:"Made with  in Pakistan"})})]})})})]})}function k7({message:t="Join 2,500+ designers building their fashion brands",linkText:r="Get Started Free",linkHref:s="/auth",className:a}){const[n,i]=f.useState(!1);return n?null:e.jsx("div",{className:q("bg-primary text-primary-foreground py-2 px-4 relative",a),children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-2 text-sm",children:[e.jsx(ct,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{className:"hidden sm:inline",children:t}),e.jsx("span",{className:"sm:hidden",children:"Join 2,500+ designers"}),e.jsxs(fe,{to:s,className:"font-medium underline underline-offset-4 hover:no-underline inline-flex items-center gap-1",children:[r,e.jsx(St,{className:"h-3 w-3"})]}),e.jsx("button",{onClick:()=>i(!0),className:"absolute right-2 sm:right-4 p-1 hover:bg-primary-foreground/10 rounded transition-colors","aria-label":"Dismiss banner",children:e.jsx(ht,{className:"h-4 w-4"})})]})})}const A7=()=>{const{scrollYProgress:t}=Bp(),r=rf(t,{stiffness:100,damping:30,restDelta:.001});return e.jsx(W.div,{className:"fixed top-0 left-0 right-0 h-1 bg-primary origin-left z-50",style:{scaleX:r}})},P7={initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:.4,ease:[.25,.46,.45,.94]}},exit:{opacity:0,y:-20,transition:{duration:.3,ease:[.25,.46,.45,.94]}}},E7=({children:t})=>e.jsx(W.div,{initial:"initial",animate:"enter",exit:"exit",variants:P7,children:t}),T7=({onComplete:t})=>{const[r,s]=f.useState(!0);return f.useEffect(()=>{const a=setTimeout(()=>{s(!1),t?.()},2e3);return()=>{clearTimeout(a),r&&(s(!1),t?.())}},[]),e.jsx(si,{children:r&&e.jsx(W.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeInOut"},className:"fixed inset-0 z-[100] flex items-center justify-center bg-background",children:e.jsxs("div",{className:"relative flex flex-col items-center gap-8",children:[e.jsxs(W.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,ease:"easeOut"},className:"relative",children:[e.jsx(W.div,{initial:{rotate:0},animate:{rotate:360},transition:{duration:2,ease:"linear",repeat:1/0},className:"absolute -inset-4 rounded-full border-2 border-dashed border-primary/30"}),e.jsx(W.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"font-display text-4xl md:text-5xl font-bold tracking-tight text-foreground",children:"Adorzia"})]}),e.jsx("div",{className:"w-48 h-1 bg-muted rounded-full overflow-hidden",children:e.jsx(W.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1,ease:"easeInOut",repeat:1/0},className:"h-full w-1/2 bg-gradient-to-r from-transparent via-primary to-transparent"})}),e.jsx(W.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},className:"text-muted-foreground text-sm tracking-widest uppercase",children:"Where Visionaries Rise"})]})})})};var O7="1.3.16";function yI(t,r,s){return Math.max(t,Math.min(r,s))}function D7(t,r,s){return(1-s)*t+s*r}function R7(t,r,s,a){return D7(t,r,1-Math.exp(-s*a))}function I7(t,r){return(t%r+r)%r}var M7=class{constructor(){et(this,"isRunning",!1);et(this,"value",0);et(this,"from",0);et(this,"to",0);et(this,"currentTime",0);et(this,"lerp");et(this,"duration");et(this,"easing");et(this,"onUpdate")}advance(r){if(!this.isRunning)return;let s=!1;if(this.duration&&this.easing){this.currentTime+=r;const a=yI(0,this.currentTime/this.duration,1);s=a>=1;const n=s?1:this.easing(a);this.value=this.from+(this.to-this.from)*n}else this.lerp?(this.value=R7(this.value,this.to,this.lerp*60,r),Math.round(this.value)===this.to&&(this.value=this.to,s=!0)):(this.value=this.to,s=!0);s&&this.stop(),this.onUpdate?.(this.value,s)}stop(){this.isRunning=!1}fromTo(r,s,{lerp:a,duration:n,easing:i,onStart:o,onUpdate:l}){this.from=this.value=r,this.to=s,this.lerp=a,this.duration=n,this.easing=i,this.currentTime=0,this.isRunning=!0,o?.(),this.onUpdate=l}};function F7(t,r){let s;return function(...a){let n=this;clearTimeout(s),s=setTimeout(()=>{s=void 0,t.apply(n,a)},r)}}var L7=class{constructor(t,r,{autoResize:s=!0,debounce:a=250}={}){et(this,"width",0);et(this,"height",0);et(this,"scrollHeight",0);et(this,"scrollWidth",0);et(this,"debouncedResize");et(this,"wrapperResizeObserver");et(this,"contentResizeObserver");et(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});et(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});et(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=r,s&&(this.debouncedResize=F7(this.resize,a),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},jI=class{constructor(){et(this,"events",{})}emit(t,...r){let s=this.events[t]||[];for(let a=0,n=s.length;a<n;a++)s[a]?.(...r)}on(t,r){return this.events[t]?.push(r)||(this.events[t]=[r]),()=>{this.events[t]=this.events[t]?.filter(s=>r!==s)}}off(t,r){this.events[t]=this.events[t]?.filter(s=>r!==s)}destroy(){this.events={}}},Y2=100/6,Xi={passive:!1},$7=class{constructor(t,r={wheelMultiplier:1,touchMultiplier:1}){et(this,"touchStart",{x:0,y:0});et(this,"lastDelta",{x:0,y:0});et(this,"window",{width:0,height:0});et(this,"emitter",new jI);et(this,"onTouchStart",t=>{const{clientX:r,clientY:s}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=r,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});et(this,"onTouchMove",t=>{const{clientX:r,clientY:s}=t.targetTouches?t.targetTouches[0]:t,a=-(r-this.touchStart.x)*this.options.touchMultiplier,n=-(s-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=r,this.touchStart.y=s,this.lastDelta={x:a,y:n},this.emitter.emit("scroll",{deltaX:a,deltaY:n,event:t})});et(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});et(this,"onWheel",t=>{let{deltaX:r,deltaY:s,deltaMode:a}=t;const n=a===1?Y2:a===2?this.window.width:1,i=a===1?Y2:a===2?this.window.height:1;r*=n,s*=i,r*=this.options.wheelMultiplier,s*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:r,deltaY:s,event:t})});et(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=t,this.options=r,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,Xi),this.element.addEventListener("touchstart",this.onTouchStart,Xi),this.element.addEventListener("touchmove",this.onTouchMove,Xi),this.element.addEventListener("touchend",this.onTouchEnd,Xi)}on(t,r){return this.emitter.on(t,r)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,Xi),this.element.removeEventListener("touchstart",this.onTouchStart,Xi),this.element.removeEventListener("touchmove",this.onTouchMove,Xi),this.element.removeEventListener("touchend",this.onTouchEnd,Xi)}},X2=t=>Math.min(1,1.001-Math.pow(2,-10*t)),q7=class{constructor({wrapper:t=window,content:r=document.documentElement,eventsTarget:s=t,smoothWheel:a=!0,syncTouch:n=!1,syncTouchLerp:i=.075,touchInertiaExponent:o=1.7,duration:l,easing:c,lerp:d=.1,infinite:u=!1,orientation:m="vertical",gestureOrientation:h=m==="horizontal"?"both":"vertical",touchMultiplier:p=1,wheelMultiplier:v=1,autoResize:x=!0,prevent:g,virtualScroll:b,overscroll:y=!0,autoRaf:j=!1,anchors:S=!1,autoToggle:w=!1,allowNestedScroll:_=!1,__experimental__naiveDimensions:N=!1}={}){et(this,"_isScrolling",!1);et(this,"_isStopped",!1);et(this,"_isLocked",!1);et(this,"_preventNextNativeScrollEvent",!1);et(this,"_resetVelocityTimeout",null);et(this,"__rafID",null);et(this,"isTouching");et(this,"time",0);et(this,"userData",{});et(this,"lastVelocity",0);et(this,"velocity",0);et(this,"direction",0);et(this,"options");et(this,"targetScroll");et(this,"animatedScroll");et(this,"animate",new M7);et(this,"emitter",new jI);et(this,"dimensions");et(this,"virtualScroll");et(this,"onScrollEnd",t=>{t instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&t.stopPropagation()});et(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});et(this,"onTransitionEnd",t=>{t.propertyName.includes("overflow")&&this.checkOverflow()});et(this,"onClick",t=>{const s=t.composedPath().find(a=>a instanceof HTMLAnchorElement&&a.getAttribute("href")?.includes("#"));if(s){const a=s.getAttribute("href");if(a){const n=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0,i=`#${a.split("#")[1]}`;this.scrollTo(i,n)}}});et(this,"onPointerDown",t=>{t.button===1&&this.reset()});et(this,"onVirtualScroll",t=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(t)===!1)return;const{deltaX:r,deltaY:s,event:a}=t;if(this.emitter.emit("virtual-scroll",{deltaX:r,deltaY:s,event:a}),a.ctrlKey||a.lenisStopPropagation)return;const n=a.type.includes("touch"),i=a.type.includes("wheel");this.isTouching=a.type==="touchstart"||a.type==="touchmove";const o=r===0&&s===0;if(this.options.syncTouch&&n&&a.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const c=this.options.gestureOrientation==="vertical"&&s===0||this.options.gestureOrientation==="horizontal"&&r===0;if(o||c)return;let d=a.composedPath();d=d.slice(0,d.indexOf(this.rootElement));const u=this.options.prevent;if(d.find(g=>g instanceof HTMLElement&&(typeof u=="function"&&u?.(g)||g.hasAttribute?.("data-lenis-prevent")||n&&g.hasAttribute?.("data-lenis-prevent-touch")||i&&g.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(g,{deltaX:r,deltaY:s}))))return;if(this.isStopped||this.isLocked){a.cancelable&&a.preventDefault();return}if(!(this.options.syncTouch&&n||this.options.smoothWheel&&i)){this.isScrolling="native",this.animate.stop(),a.lenisStopPropagation=!0;return}let h=s;this.options.gestureOrientation==="both"?h=Math.abs(s)>Math.abs(r)?s:r:this.options.gestureOrientation==="horizontal"&&(h=r),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&s>0||this.animatedScroll===this.limit&&s<0))&&(a.lenisStopPropagation=!0),a.cancelable&&a.preventDefault();const p=n&&this.options.syncTouch,x=n&&a.type==="touchend";x&&(h=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+h,{programmatic:!1,...p?{lerp:x?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});et(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const t=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-t,this.direction=Math.sign(this.animatedScroll-t),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});et(this,"raf",t=>{const r=t-(this.time||t);this.time=t,this.animate.advance(r*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=O7,(!t||t===document.documentElement)&&(t=window),typeof l=="number"&&typeof c!="function"?c=X2:typeof c=="function"&&typeof l!="number"&&(l=1),this.options={wrapper:t,content:r,eventsTarget:s,smoothWheel:a,syncTouch:n,syncTouchLerp:i,touchInertiaExponent:o,duration:l,easing:c,lerp:d,infinite:u,gestureOrientation:h,orientation:m,touchMultiplier:p,wheelMultiplier:v,autoResize:x,prevent:g,virtualScroll:b,overscroll:y,autoRaf:j,anchors:S,autoToggle:w,allowNestedScroll:_,__experimental__naiveDimensions:N},this.dimensions=new L7(t,r,{autoResize:x}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new $7(s,{touchMultiplier:p,wheelMultiplier:v}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(t,r){return this.emitter.on(t,r)}off(t,r){return this.emitter.off(t,r)}get overflow(){const t=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[t]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}setScroll(t){this.isHorizontal?this.options.wrapper.scrollTo({left:t,behavior:"instant"}):this.options.wrapper.scrollTo({top:t,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){if(this.isStopped){if(this.options.autoToggle){this.rootElement.style.removeProperty("overflow");return}this.internalStart()}}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){if(!this.isStopped){if(this.options.autoToggle){this.rootElement.style.setProperty("overflow","clip");return}this.internalStop()}}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}scrollTo(t,{offset:r=0,immediate:s=!1,lock:a=!1,duration:n=this.options.duration,easing:i=this.options.easing,lerp:o=this.options.lerp,onStart:l,onComplete:c,force:d=!1,programmatic:u=!0,userData:m}={}){if(!((this.isStopped||this.isLocked)&&!d)){if(typeof t=="string"&&["top","left","start","#"].includes(t))t=0;else if(typeof t=="string"&&["bottom","right","end"].includes(t))t=this.limit;else{let h;if(typeof t=="string"?(h=document.querySelector(t),h||(t==="#top"?t=0:console.warn("Lenis: Target not found",t))):t instanceof HTMLElement&&t?.nodeType&&(h=t),h){if(this.options.wrapper!==window){const v=this.rootElement.getBoundingClientRect();r-=this.isHorizontal?v.left:v.top}const p=h.getBoundingClientRect();t=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=r,t=Math.round(t),this.options.infinite){if(u){this.targetScroll=this.animatedScroll=this.scroll;const h=t-this.animatedScroll;h>this.limit/2?t=t-this.limit:h<-this.limit/2&&(t=t+this.limit)}}else t=yI(0,t,this.limit);if(t===this.targetScroll){l?.(this),c?.(this);return}if(this.userData=m??{},s){this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),c?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}u||(this.targetScroll=t),typeof n=="number"&&typeof i!="function"?i=X2:typeof i=="function"&&typeof n!="number"&&(n=1),this.animate.fromTo(this.animatedScroll,t,{duration:n,easing:i,lerp:o,onStart:()=>{a&&(this.isLocked=!0),this.isScrolling="smooth",l?.(this)},onUpdate:(h,p)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=h-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=h,this.setScroll(this.scroll),u&&(this.targetScroll=h),p||this.emit(),p&&(this.reset(),this.emit(),c?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(t,{deltaX:r,deltaY:s}){const a=Date.now(),n=t._lenis??(t._lenis={});let i,o,l,c,d,u,m,h;const p=this.options.gestureOrientation;if(a-(n.time??0)>2e3){n.time=Date.now();const w=window.getComputedStyle(t);n.computedStyle=w;const _=w.overflowX,N=w.overflowY;if(i=["auto","overlay","scroll"].includes(_),o=["auto","overlay","scroll"].includes(N),n.hasOverflowX=i,n.hasOverflowY=o,!i&&!o||p==="vertical"&&!o||p==="horizontal"&&!i)return!1;d=t.scrollWidth,u=t.scrollHeight,m=t.clientWidth,h=t.clientHeight,l=d>m,c=u>h,n.isScrollableX=l,n.isScrollableY=c,n.scrollWidth=d,n.scrollHeight=u,n.clientWidth=m,n.clientHeight=h}else l=n.isScrollableX,c=n.isScrollableY,i=n.hasOverflowX,o=n.hasOverflowY,d=n.scrollWidth,u=n.scrollHeight,m=n.clientWidth,h=n.clientHeight;if(!i&&!o||!l&&!c||p==="vertical"&&(!o||!c)||p==="horizontal"&&(!i||!l))return!1;let v;if(p==="horizontal")v="x";else if(p==="vertical")v="y";else{const w=r!==0,_=s!==0;w&&i&&l&&(v="x"),_&&o&&c&&(v="y")}if(!v)return!1;let x,g,b,y,j;if(v==="x")x=t.scrollLeft,g=d-m,b=r,y=i,j=l;else if(v==="y")x=t.scrollTop,g=u-h,b=s,y=o,j=c;else return!1;return(b>0?x<g:x>0)&&y&&j}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const t=this.options.wrapper;return this.isHorizontal?t.scrollX??t.scrollLeft:t.scrollY??t.scrollTop}get scroll(){return this.options.infinite?I7(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(t){this._isScrolling!==t&&(this._isScrolling=t,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(t){this._isStopped!==t&&(this._isStopped=t,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(t){this._isLocked!==t&&(this._isLocked=t,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let t="lenis";return this.options.autoToggle&&(t+=" lenis-autoToggle"),this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isScrolling==="smooth"&&(t+=" lenis-smooth"),t}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};const z7=({children:t})=>(f.useEffect(()=>{if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const s=new q7({duration:1.2,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,touchMultiplier:2});function a(n){s.raf(n),requestAnimationFrame(a)}return requestAnimationFrame(a),()=>{s.destroy()}},[]),e.jsx(e.Fragment,{children:t}));function Qs({children:t,showBanner:r=!1,showPreloader:s=!1}){const[a,n]=f.useState(s),i=f.useCallback(()=>{n(!1)},[]);return e.jsxs(z7,{children:[a&&e.jsx(T7,{onComplete:i}),e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(A7,{}),r&&e.jsx(k7,{}),e.jsx(w7,{}),e.jsx("main",{className:"flex-1",children:e.jsx(E7,{children:t})}),e.jsx(C7,{})]})]})}const Kh=({value:t,suffix:r="",prefix:s="",duration:a=2,className:n=""})=>{const i=f.useRef(null),o=C0(0),l=rf(o,{damping:60,stiffness:100}),c=XN(i,{once:!0,margin:"-100px"});return f.useEffect(()=>{c&&o.set(t)},[c,t,o]),f.useEffect(()=>l.on("change",u=>{i.current&&(i.current.textContent=`${s}${Math.floor(u).toLocaleString()}${r}`)}),[l,s,r]),e.jsxs(W.span,{ref:i,className:n,initial:{opacity:0,y:20},animate:c?{opacity:1,y:0}:{},transition:{duration:.5},children:[s,"0",r]})},Qi=[{image:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1920&q=80",title:"Design Your Future",subtitle:"Join Pakistan's premier fashion design platform"},{image:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=1920&q=80",title:"Create & Earn",subtitle:"Turn your designs into marketplace-ready products"},{image:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=1920&q=80",title:"Learn & Grow",subtitle:"Master skills through guided StyleBox challenges"}],B7=[{value:2500,suffix:"+",label:"Designers"},{value:150,suffix:"+",label:"StyleBoxes"},{value:50,prefix:"$",suffix:"K+",label:"Paid to Creators"}],U7=()=>{const t=f.useRef(null),[r,s]=f.useState(0),{scrollYProgress:a}=Bp({target:t,offset:["start start","end start"]}),n=Wn(a,[0,1],["0%","50%"]),i=Wn(a,[0,.5],[1,0]),o=Wn(a,[0,.5],[1,1.1]);f.useEffect(()=>{const d=setInterval(()=>{s(u=>(u+1)%Qi.length)},5e3);return()=>clearInterval(d)},[]);const l=()=>s(d=>(d+1)%Qi.length),c=()=>s(d=>(d-1+Qi.length)%Qi.length);return e.jsxs("section",{ref:t,className:"relative h-screen overflow-hidden",children:[Qi.map((d,u)=>e.jsx(W.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:r===u?1:0,scale:r===u?1.05:1},transition:{duration:1.5,ease:"easeInOut"},style:{y:n,scale:o},children:e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${d.image})`}})},u)),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/80 via-background/50 to-background"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background/60 via-transparent to-background/60"}),e.jsx(W.div,{className:"absolute top-1/4 left-10 w-20 h-20 border border-primary/20 rounded-full",animate:{y:[0,-20,0],rotate:[0,180,360]},transition:{duration:10,repeat:1/0,ease:"linear"}}),e.jsx(W.div,{className:"absolute bottom-1/3 right-20 w-32 h-32 border-2 border-dashed border-primary/10 rounded-full",animate:{y:[0,30,0],rotate:[360,180,0]},transition:{duration:15,repeat:1/0,ease:"linear"}}),e.jsx(W.div,{className:"relative z-10 container mx-auto h-full flex flex-col justify-center px-4",style:{opacity:i},children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"mb-6",children:e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 backdrop-blur-sm border border-primary/20 rounded-full text-sm text-primary",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),"Foundation Ranks Open  Limited Spots"]})}),e.jsx(W.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6,ease:"easeOut"},className:"font-display text-5xl md:text-7xl lg:text-8xl font-bold text-foreground mb-6 leading-tight",children:Qi[r].title},r),e.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-xl md:text-2xl text-muted-foreground mb-10 max-w-2xl",children:Qi[r].subtitle},`sub-${r}`),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"flex flex-wrap gap-4 mb-16",children:[e.jsx(T,{asChild:!0,size:"lg",className:"group relative overflow-hidden bg-primary text-primary-foreground hover:bg-primary/90 px-8 py-6 text-lg",children:e.jsxs(fe,{to:"/auth",children:[e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:["Start Creating",e.jsx(St,{className:"w-5 h-5 transition-transform group-hover:translate-x-1"})]}),e.jsx(W.div,{className:"absolute inset-0 bg-white/20",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.5}})]})}),e.jsxs(T,{variant:"outline",size:"lg",className:"group border-foreground/20 hover:bg-foreground/5 px-8 py-6 text-lg",children:[e.jsx(qD,{className:"w-5 h-5 mr-2 transition-transform group-hover:scale-110"}),"Watch Demo"]})]}),e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"flex gap-8 md:gap-16",children:B7.map((d,u)=>e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"font-display text-3xl md:text-4xl font-bold text-foreground",children:e.jsx(Kh,{value:d.value,prefix:d.prefix,suffix:d.suffix})}),e.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:d.label})]},u))})]})}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex items-center gap-4",children:[e.jsx("button",{onClick:c,className:"p-2 rounded-full bg-background/20 backdrop-blur-sm border border-foreground/10 hover:bg-background/40 transition-colors",children:e.jsx(Za,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex gap-2",children:Qi.map((d,u)=>e.jsx("button",{onClick:()=>s(u),className:`h-2 rounded-full transition-all duration-300 ${r===u?"w-8 bg-primary":"w-2 bg-foreground/30 hover:bg-foreground/50"}`},u))}),e.jsx("button",{onClick:l,className:"p-2 rounded-full bg-background/20 backdrop-blur-sm border border-foreground/10 hover:bg-background/40 transition-colors",children:e.jsx(lr,{className:"w-5 h-5"})})]}),e.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:.6},className:"absolute bottom-8 right-8 z-20",children:e.jsxs(W.div,{animate:{y:[0,10,0]},transition:{duration:1.5,repeat:1/0},className:"flex flex-col items-center gap-2 text-muted-foreground",children:[e.jsx("span",{className:"text-xs tracking-widest uppercase",children:"Scroll"}),e.jsx("div",{className:"w-px h-12 bg-gradient-to-b from-foreground/50 to-transparent"})]})})]})},yt=({children:t,className:r="",delay:s=0,as:a="h2"})=>{const n=f.useRef(null),i=XN(n,{once:!0,margin:"-50px"});return e.jsx(W.div,{ref:n,initial:{opacity:0,y:30},animate:i?{opacity:1,y:0}:{},transition:{duration:.6,delay:s,ease:[.25,.46,.45,.94]},children:e.jsx(a,{className:r,children:t})})},Ol=({children:t,className:r="",backgroundImage:s,speed:a=.5,overlay:n=!0})=>{const i=f.useRef(null),{scrollYProgress:o}=Bp({target:i,offset:["start end","end start"]}),l=Wn(o,[0,1],["0%",`${a*100}%`]);return e.jsxs("section",{ref:i,className:`relative overflow-hidden ${r}`,children:[s&&e.jsxs(e.Fragment,{children:[e.jsx(W.div,{className:"absolute inset-0 -top-20 -bottom-20 bg-cover bg-center",style:{backgroundImage:`url(${s})`,y:l}}),n&&e.jsx("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm"})]}),e.jsx("div",{className:"relative z-10",children:t})]})},V7=({testimonials:t,autoPlay:r=!0,interval:s=5e3})=>{const[a,n]=f.useState(0);f.useEffect(()=>{if(!r)return;const l=setInterval(()=>{n(c=>(c+1)%t.length)},s);return()=>clearInterval(l)},[r,s,t.length]);const i=()=>n(l=>(l+1)%t.length),o=()=>n(l=>(l-1+t.length)%t.length);return e.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[e.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 z-10",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(Rz,{className:"w-6 h-6 text-primary"})})}),e.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-2xl p-8 md:p-12 pt-12",children:[e.jsx(si,{mode:"wait",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"text-center",children:[e.jsxs("p",{className:"text-lg md:text-xl text-foreground/90 italic mb-8 leading-relaxed",children:['"',t[a].quote,'"']}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t[a].avatar?e.jsx(W.img,{src:t[a].avatar,alt:t[a].author,className:"w-16 h-16 rounded-full object-cover border-2 border-primary/20",initial:{scale:.8},animate:{scale:1},transition:{duration:.3}}):e.jsx(W.div,{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",initial:{scale:.8},animate:{scale:1},transition:{duration:.3},children:e.jsx("span",{className:"text-xl font-bold text-primary",children:t[a].author.charAt(0)})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground",children:t[a].author}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t[a].role})]})]})]},a)}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-8",children:[e.jsx("button",{onClick:o,className:"p-2 rounded-full bg-background/50 border border-border hover:bg-muted transition-colors",children:e.jsx(Za,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex gap-2",children:t.map((l,c)=>e.jsx("button",{onClick:()=>n(c),className:`h-2 rounded-full transition-all duration-300 ${a===c?"w-6 bg-primary":"w-2 bg-muted-foreground/30 hover:bg-muted-foreground/50"}`},c))}),e.jsx("button",{onClick:i,className:"p-2 rounded-full bg-background/50 border border-border hover:bg-muted transition-colors",children:e.jsx(lr,{className:"w-5 h-5"})})]})]})]})},W7=({children:t,className:r="",speed:s=30,pauseOnHover:a=!0,direction:n="left",repeat:i=4})=>{const o=100/s;return e.jsx("div",{className:`overflow-hidden whitespace-nowrap ${r}`,children:e.jsx(W.div,{className:`inline-flex ${a?"hover:[animation-play-state:paused]":""}`,animate:{x:n==="left"?["0%","-50%"]:["-50%","0%"]},transition:{x:{duration:o,repeat:1/0,ease:"linear"}},children:Array.from({length:i}).map((l,c)=>e.jsx("span",{className:"inline-flex items-center",children:t},c))})})},wa=({title:t="Adorzia Studio - Design, Create, Collaborate",description:r="The central platform for fashion, textile, and jewelry designers. Create with Styleboxes, build your portfolio, collaborate with teams, and publish to the marketplace.",image:s="https://storage.googleapis.com/gpt-engineer-file-uploads/sHqV9ywe4xagBe2NnweK5VS906N2/social-images/social-1765994096585-billboard_mockup_logo.png",url:a="https://studio.adorzia.com",type:n="website",keywords:i="fashion design, textile design, jewelry design, design platform, creative studio, portfolio, marketplace, Pakistan fashion",author:o="Adorzia"})=>(f.useEffect(()=>{document.title=t;const l=(d,u,m=!1)=>{const h=m?`meta[property="${d}"]`:`meta[name="${d}"]`;let p=document.querySelector(h);p||(p=document.createElement("meta"),m?p.setAttribute("property",d):p.setAttribute("name",d),document.head.appendChild(p)),p.setAttribute("content",u)};l("description",r),l("keywords",i),l("author",o),l("og:title",t,!0),l("og:description",r,!0),l("og:image",s,!0),l("og:url",a,!0),l("og:type",n,!0),l("twitter:title",t),l("twitter:description",r),l("twitter:image",s);let c=document.querySelector('link[rel="canonical"]');c||(c=document.createElement("link"),c.setAttribute("rel","canonical"),document.head.appendChild(c)),c.setAttribute("href",a)},[t,r,s,a,n,i,o]),null),js={sarahIqbal:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400&q=80",aliHassan:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&q=80",fatimaMalik:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400&q=80",zainAhmed:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400&q=80",ayeshaKhan:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&q=80",kamranMalik:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&q=80",zaraHussain:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=400&q=80",usmanTariq:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400&q=80",hiraNoor:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=400&q=80",sarahAhmed:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&q=80"},Wg={streetwearHoodie:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=600&q=80",heritageKurta:"https://images.unsplash.com/photo-1583391733956-6c78276477e2?w=600&q=80",urbanJoggers:"https://images.unsplash.com/photo-1552374196-1ab2a1c593e8?w=600&q=80"},gu={fashionShow:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1200&q=80",competition:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=1200&q=80",workshop:"https://images.unsplash.com/photo-1558171813-01ed3d751c2c?w=1200&q=80",runway:"https://images.unsplash.com/photo-1509631179647-0177331693ae?w=1200&q=80",designContest:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=1200&q=80"},fx={fashion:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=1920&q=80",textile:"https://images.unsplash.com/photo-1620799140408-edc6dcb6d633?w=1920&q=80",studio:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=1920&q=80"},Wl={streetwear:"https://images.unsplash.com/photo-1523398002811-999ca8dec234?w=800&q=80",couture:"https://images.unsplash.com/photo-1509631179647-0177331693ae?w=800&q=80",essentials:"https://images.unsplash.com/photo-1489987707025-afc232f7ea0f?w=800&q=80",formal:"https://images.unsplash.com/photo-1507679799987-c73779587ccf?w=800&q=80",avantGarde:"https://images.unsplash.com/photo-1518611012118-696072aa579a?w=800&q=80",sustainable:"https://images.unsplash.com/photo-1532453288672-3a27e9be9efd?w=800&q=80"},yh={patternDesign:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&q=80",moodboard:"https://images.unsplash.com/photo-1542621334-a254cf47733d?w=800&q=80",mockup:"https://images.unsplash.com/photo-1445205170230-053b83016050?w=800&q=80",techPack:"https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&q=80"},Q2={arena:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=1200&q=80",leaderboard:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&q=80"},H7={collaboration:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=1200&q=80"},K7=[{icon:Up,title:"Learn",description:"Master industry skills through gamified StyleBoxes"},{icon:Mr,title:"Create",description:"Build production-ready assets and portfolio pieces"},{icon:ui,title:"Publish",description:"Submit designs seamlessly to the marketplace"},{icon:zt,title:"Earn",description:"Generate revenue from real product sales"}],G7=[{name:"Streetwear",count:24},{name:"Couture",count:18},{name:"Essentials",count:32},{name:"Formal",count:16},{name:"Avant-Garde",count:12},{name:"Sustainable",count:20}],J2=[{level:"Beginner",title:"Foundation",desc:"Learn basics through guided challenges"},{level:"Intermediate",title:"Portfolio Builder",desc:"Create production-ready work"},{level:"Advanced",title:"Market Ready",desc:"Publish designs to marketplace"},{level:"Expert",title:"Fashionpreneur",desc:"Build your own fashion brand"}],Y7=[{icon:mt,title:"Creative Youth",desc:"70% of population under 35 with untapped creative talent"},{icon:wo,title:"Manufacturing Hub",desc:"5th largest textile exporter with established infrastructure"},{icon:zD,title:"Digital Ready",desc:"100M+ smartphone users driving digital transformation"},{icon:$i,title:"Global Reach",desc:"Strategic location connecting East and West markets"}],X7=[{id:1,title:"Karachi Street Hoodie",price:"PKR 4,500",image:Wg.streetwearHoodie},{id:2,title:"Heritage Kurta Set",price:"PKR 8,900",image:Wg.heritageKurta},{id:3,title:"Urban Joggers",price:"PKR 3,200",image:Wg.urbanJoggers}],Q7=[{quote:"Adorzia transformed my freelance career. The StyleBox challenges pushed my creativity while the marketplace gave me a platform to sell globally.",author:"Sarah Ahmed",role:"Fashion Designer  Elite Designer",avatar:js.sarahAhmed},{quote:"From novice to Lead Designer in 8 months. The ranking system keeps me motivated and the revenue share is unmatched.",author:"Kamran Malik",role:"Textile Artist  Lead Designer",avatar:js.kamranMalik},{quote:"Finally a platform that understands Pakistani designers. The Academy modules are practical and the community is supportive.",author:"Zara Hussain",role:"Jewelry Designer  Senior Designer",avatar:js.zaraHussain}];function J7(){return e.jsxs(Qs,{showPreloader:!1,children:[e.jsx(wa,{title:"Adorzia Studio - Design, Create, Collaborate",description:"The central platform for fashion, textile, and jewelry designers. Create with Styleboxes, build your portfolio, collaborate with teams, and publish to the marketplace.",url:"https://studio.adorzia.com"}),e.jsx(U7,{}),e.jsx("div",{className:"py-6 border-y bg-muted/30 overflow-hidden",children:e.jsxs(W7,{speed:25,className:"text-muted-foreground/60 font-medium text-sm uppercase tracking-widest",children:[e.jsx("span",{className:"mx-8",children:"Fashion Design"}),e.jsx("span",{className:"mx-8",children:""}),e.jsx("span",{className:"mx-8",children:"Textile Innovation"}),e.jsx("span",{className:"mx-8",children:""}),e.jsx("span",{className:"mx-8",children:"Jewelry Creation"}),e.jsx("span",{className:"mx-8",children:""}),e.jsx("span",{className:"mx-8",children:"Portfolio Building"}),e.jsx("span",{className:"mx-8",children:""}),e.jsx("span",{className:"mx-8",children:"Marketplace Publishing"}),e.jsx("span",{className:"mx-8",children:""}),e.jsx("span",{className:"mx-8",children:"Revenue Sharing"}),e.jsx("span",{className:"mx-8",children:""})]})}),e.jsxs("section",{className:"py-20 md:py-28 border-t relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 dot-pattern opacity-30"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"The Unified Journey"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"How Adorzia Works"}),e.jsx(W.p,{className:"text-muted-foreground",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"A seamless pipeline from learning to earningno gatekeeping, no barriers."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:K7.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},children:e.jsxs(G,{className:"h-full border hover:shadow-lg hover:border-primary/20 transition-all duration-500 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-4 right-4 text-6xl font-display font-bold text-muted-foreground/10 group-hover:text-primary/10 transition-colors",children:String(r+1).padStart(2,"0")}),e.jsxs(Y,{className:"p-6 relative",children:[e.jsx(W.div,{className:"h-12 w-12 rounded-lg bg-secondary flex items-center justify-center mb-4",whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:e.jsx(t.icon,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-display text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:t.description})]})]})},r))})]})]}),e.jsxs("section",{className:"py-20 md:py-28 bg-secondary/50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-secondary/20"}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx(W.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"Gamified Learning"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"StyleBoxes Overview"}),e.jsx(W.p,{className:"text-muted-foreground mb-6",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"Hands-on challenges that build true industry skills. Every completed box becomes a portfolio asset and a potential product on the marketplace."}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mb-8",children:G7.map((t,r)=>e.jsxs(W.div,{className:"flex items-center justify-between p-3 bg-background rounded-lg border hover:border-primary/30 transition-colors cursor-pointer group",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.05},whileHover:{x:4},children:[e.jsx("span",{className:"font-medium text-sm group-hover:text-primary transition-colors",children:t.name}),e.jsx(B,{variant:"secondary",className:"text-xs",children:t.count})]},t.name))}),e.jsx(fe,{to:"/styleboxes-info",children:e.jsxs(T,{className:"group",children:["Explore StyleBoxes",e.jsx(lr,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["Pattern Design","Moodboard Creation","Tech Pack","Collection Dev"].map((t,r)=>e.jsxs(W.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:r*.1},whileHover:{y:-8,transition:{duration:.2}},className:"aspect-square bg-background border rounded-xl p-6 flex flex-col justify-between shadow-sm hover:shadow-xl transition-shadow cursor-pointer",children:[e.jsx(W.div,{whileHover:{rotate:360},transition:{duration:.5},children:e.jsx(nl,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("p",{className:"font-medium text-sm",children:t})]},t))})]})})]}),e.jsx("section",{className:"py-20 md:py-28 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"Progression System"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Designer Success Path"}),e.jsx(W.p,{className:"text-muted-foreground",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"From beginner to fashionpreneur: level-based progression with practical tasks and real-world output."})]}),e.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:J2.map((t,r)=>e.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},className:"relative",children:[e.jsxs(W.div,{className:"h-full p-6 border rounded-xl bg-background hover:bg-secondary/30 transition-colors",whileHover:{y:-4},children:[e.jsx(B,{variant:"secondary",className:"mb-4",children:t.level}),e.jsx("h3",{className:"font-display text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.desc})]}),r<J2.length-1&&e.jsx("div",{className:"hidden md:block absolute top-1/2 -right-3 transform -translate-y-1/2",children:e.jsx(lr,{className:"h-6 w-6 text-muted-foreground"})})]},t.level))})]})}),e.jsxs("section",{className:"py-20 md:py-28 bg-foreground text-background relative overflow-hidden",children:[e.jsx(W.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-transparent to-primary/20",animate:{x:["-100%","100%"]},transition:{duration:15,repeat:1/0,ease:"linear"}}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4 border-background/20 text-background",children:"Designer Marketplace"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight text-background",children:"Marketplace Preview"}),e.jsx(W.p,{className:"text-background/60",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"Showcase of designer-made collections, limited drops, and next-gen fashion talent."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:X7.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},whileHover:{y:-8},children:e.jsxs(G,{className:"bg-background/5 border-background/10 overflow-hidden group cursor-pointer",children:[e.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden",children:[e.jsx(W.img,{src:t.image,alt:t.title,className:"w-full h-full object-cover",whileHover:{scale:1.05},transition:{duration:.4}}),e.jsx(W.div,{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(W.div,{className:"absolute bottom-4 left-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(T,{variant:"secondary",size:"sm",className:"w-full",children:"Quick View"})})]}),e.jsxs(Y,{className:"p-4",children:[e.jsx("p",{className:"font-medium text-background",children:t.title}),e.jsx("p",{className:"text-sm text-background/60",children:t.price})]})]})},t.id))}),e.jsx(W.div,{className:"text-center",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:e.jsx(fe,{to:"/marketplace-preview",children:e.jsxs(T,{variant:"secondary",size:"lg",className:"group",children:["Browse Marketplace",e.jsx(St,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]})]}),e.jsx(Ol,{backgroundImage:"https://images.unsplash.com/photo-1558171813-01ed3d751c2c?w=1920&q=80",className:"py-20 md:py-28",speed:.3,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"Strategic Advantage"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Why Pakistan. Why Now."}),e.jsx(W.p,{className:"text-muted-foreground",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"A powerful combination of creative youth, manufacturing strength, and digital transformation makes Pakistan the ideal launchpad for global fashion innovation."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:Y7.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},children:e.jsx(W.div,{whileHover:{y:-4},children:e.jsx(G,{className:"h-full bg-background/80 backdrop-blur-sm",children:e.jsxs(Y,{className:"p-6",children:[e.jsx(W.div,{className:"h-12 w-12 rounded-lg bg-secondary flex items-center justify-center mb-4",whileHover:{scale:1.1},children:e.jsx(t.icon,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-display text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t.desc})]})})})},t.title))})]})}),e.jsx("section",{className:"py-20 md:py-28 bg-secondary/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"Success Stories"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Designer Testimonials"}),e.jsx(W.p,{className:"text-muted-foreground",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"Early creators proving Adorzia's model through real products and global-ready portfolios."})]}),e.jsx(V7,{testimonials:Q7})]})})]})}const{entries:wI,setPrototypeOf:Z2,isFrozen:Z7,getPrototypeOf:eK,getOwnPropertyDescriptor:tK}=Object;let{freeze:ia,seal:Xa,create:K0}=Object,{apply:G0,construct:Y0}=typeof Reflect<"u"&&Reflect;ia||(ia=function(r){return r});Xa||(Xa=function(r){return r});G0||(G0=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];return r.apply(s,n)});Y0||(Y0=function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];return new r(...a)});const jh=oa(Array.prototype.forEach),rK=oa(Array.prototype.lastIndexOf),eC=oa(Array.prototype.pop),zd=oa(Array.prototype.push),sK=oa(Array.prototype.splice),Gh=oa(String.prototype.toLowerCase),Hg=oa(String.prototype.toString),Kg=oa(String.prototype.match),Bd=oa(String.prototype.replace),aK=oa(String.prototype.indexOf),nK=oa(String.prototype.trim),cn=oa(Object.prototype.hasOwnProperty),ea=oa(RegExp.prototype.test),Ud=iK(TypeError);function oa(t){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var s=arguments.length,a=new Array(s>1?s-1:0),n=1;n<s;n++)a[n-1]=arguments[n];return G0(t,r,a)}}function iK(t){return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return Y0(t,s)}}function Dt(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gh;Z2&&Z2(t,null);let a=r.length;for(;a--;){let n=r[a];if(typeof n=="string"){const i=s(n);i!==n&&(Z7(r)||(r[a]=i),n=i)}t[n]=!0}return t}function oK(t){for(let r=0;r<t.length;r++)cn(t,r)||(t[r]=null);return t}function zn(t){const r=K0(null);for(const[s,a]of wI(t))cn(t,s)&&(Array.isArray(a)?r[s]=oK(a):a&&typeof a=="object"&&a.constructor===Object?r[s]=zn(a):r[s]=a);return r}function Vd(t,r){for(;t!==null;){const a=tK(t,r);if(a){if(a.get)return oa(a.get);if(typeof a.value=="function")return oa(a.value)}t=eK(t)}function s(){return null}return s}const tC=ia(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gg=ia(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yg=ia(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),lK=ia(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xg=ia(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),cK=ia(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),rC=ia(["#text"]),sC=ia(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qg=ia(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),aC=ia(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),wh=ia(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dK=Xa(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uK=Xa(/<%[\w\W]*|[\w\W]*%>/gm),mK=Xa(/\$\{[\w\W]*/gm),hK=Xa(/^data-[\-\w.\u00B7-\uFFFF]+$/),fK=Xa(/^aria-[\-\w]+$/),NI=Xa(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pK=Xa(/^(?:\w+script|data):/i),xK=Xa(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_I=Xa(/^html$/i),gK=Xa(/^[a-z][.\w]*(-[.\w]+)+$/i);var nC=Object.freeze({__proto__:null,ARIA_ATTR:fK,ATTR_WHITESPACE:xK,CUSTOM_ELEMENT:gK,DATA_ATTR:hK,DOCTYPE_NAME:_I,ERB_EXPR:uK,IS_ALLOWED_URI:NI,IS_SCRIPT_OR_DATA:pK,MUSTACHE_EXPR:dK,TMPLIT_EXPR:mK});const Wd={element:1,text:3,progressingInstruction:7,comment:8,document:9},vK=function(){return typeof window>"u"?null:window},bK=function(r,s){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let a=null;const n="data-tt-policy-suffix";s&&s.hasAttribute(n)&&(a=s.getAttribute(n));const i="dompurify"+(a?"#"+a:"");try{return r.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},iC=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function SI(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vK();const r=at=>SI(at);if(r.version="3.3.1",r.removed=[],!t||!t.document||t.document.nodeType!==Wd.document||!t.Element)return r.isSupported=!1,r;let{document:s}=t;const a=s,n=a.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:h,trustedTypes:p}=t,v=c.prototype,x=Vd(v,"cloneNode"),g=Vd(v,"remove"),b=Vd(v,"nextSibling"),y=Vd(v,"childNodes"),j=Vd(v,"parentNode");if(typeof o=="function"){const at=s.createElement("template");at.content&&at.content.ownerDocument&&(s=at.content.ownerDocument)}let S,w="";const{implementation:_,createNodeIterator:N,createDocumentFragment:k,getElementsByTagName:C}=s,{importNode:P}=a;let A=iC();r.isSupported=typeof wI=="function"&&typeof j=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:O,ERB_EXPR:I,TMPLIT_EXPR:F,DATA_ATTR:$,ARIA_ATTR:E,IS_SCRIPT_OR_DATA:M,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:R}=nC;let{IS_ALLOWED_URI:te}=nC,V=null;const D=Dt({},[...tC,...Gg,...Yg,...Xg,...rC]);let H=null;const ae=Dt({},[...sC,...Qg,...aC,...wh]);let U=Object.seal(K0(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),se=null,Q=null;const pe=Object.seal(K0(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let le=!0,ue=!0,De=!1,he=!0,st=!1,Qe=!0,Ct=!1,Tt=!1,Jt=!1,_t=!1,Er=!1,Z=!1,oe=!0,me=!1;const Pe="user-content-";let ke=!0,ce=!1,be={},He=null;const pt=Dt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mr=null;const Kt=Dt({},["audio","video","img","source","image","track"]);let Es=null;const In=Dt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qt="http://www.w3.org/1998/Math/MathML",Qr="http://www.w3.org/2000/svg",nr="http://www.w3.org/1999/xhtml";let ne=nr,ye=!1,lt=null;const ps=Dt({},[qt,Qr,nr],Hg);let Vt=Dt({},["mi","mo","mn","ms","mtext"]),Ls=Dt({},["annotation-xml"]);const Mn=Dt({},["title","style","font","a","script"]);let $s=null;const kg=["application/xhtml+xml","text/html"],bt="text/html";let dt=null,Zt=null;const Sa=s.createElement("form"),da=function(re){return re instanceof RegExp||re instanceof Function},La=function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Zt&&Zt===re)){if((!re||typeof re!="object")&&(re={}),re=zn(re),$s=kg.indexOf(re.PARSER_MEDIA_TYPE)===-1?bt:re.PARSER_MEDIA_TYPE,dt=$s==="application/xhtml+xml"?Hg:Gh,V=cn(re,"ALLOWED_TAGS")?Dt({},re.ALLOWED_TAGS,dt):D,H=cn(re,"ALLOWED_ATTR")?Dt({},re.ALLOWED_ATTR,dt):ae,lt=cn(re,"ALLOWED_NAMESPACES")?Dt({},re.ALLOWED_NAMESPACES,Hg):ps,Es=cn(re,"ADD_URI_SAFE_ATTR")?Dt(zn(In),re.ADD_URI_SAFE_ATTR,dt):In,mr=cn(re,"ADD_DATA_URI_TAGS")?Dt(zn(Kt),re.ADD_DATA_URI_TAGS,dt):Kt,He=cn(re,"FORBID_CONTENTS")?Dt({},re.FORBID_CONTENTS,dt):pt,se=cn(re,"FORBID_TAGS")?Dt({},re.FORBID_TAGS,dt):zn({}),Q=cn(re,"FORBID_ATTR")?Dt({},re.FORBID_ATTR,dt):zn({}),be=cn(re,"USE_PROFILES")?re.USE_PROFILES:!1,le=re.ALLOW_ARIA_ATTR!==!1,ue=re.ALLOW_DATA_ATTR!==!1,De=re.ALLOW_UNKNOWN_PROTOCOLS||!1,he=re.ALLOW_SELF_CLOSE_IN_ATTR!==!1,st=re.SAFE_FOR_TEMPLATES||!1,Qe=re.SAFE_FOR_XML!==!1,Ct=re.WHOLE_DOCUMENT||!1,_t=re.RETURN_DOM||!1,Er=re.RETURN_DOM_FRAGMENT||!1,Z=re.RETURN_TRUSTED_TYPE||!1,Jt=re.FORCE_BODY||!1,oe=re.SANITIZE_DOM!==!1,me=re.SANITIZE_NAMED_PROPS||!1,ke=re.KEEP_CONTENT!==!1,ce=re.IN_PLACE||!1,te=re.ALLOWED_URI_REGEXP||NI,ne=re.NAMESPACE||nr,Vt=re.MATHML_TEXT_INTEGRATION_POINTS||Vt,Ls=re.HTML_INTEGRATION_POINTS||Ls,U=re.CUSTOM_ELEMENT_HANDLING||{},re.CUSTOM_ELEMENT_HANDLING&&da(re.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(U.tagNameCheck=re.CUSTOM_ELEMENT_HANDLING.tagNameCheck),re.CUSTOM_ELEMENT_HANDLING&&da(re.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(U.attributeNameCheck=re.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),re.CUSTOM_ELEMENT_HANDLING&&typeof re.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(U.allowCustomizedBuiltInElements=re.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),st&&(ue=!1),Er&&(_t=!0),be&&(V=Dt({},rC),H=[],be.html===!0&&(Dt(V,tC),Dt(H,sC)),be.svg===!0&&(Dt(V,Gg),Dt(H,Qg),Dt(H,wh)),be.svgFilters===!0&&(Dt(V,Yg),Dt(H,Qg),Dt(H,wh)),be.mathMl===!0&&(Dt(V,Xg),Dt(H,aC),Dt(H,wh))),re.ADD_TAGS&&(typeof re.ADD_TAGS=="function"?pe.tagCheck=re.ADD_TAGS:(V===D&&(V=zn(V)),Dt(V,re.ADD_TAGS,dt))),re.ADD_ATTR&&(typeof re.ADD_ATTR=="function"?pe.attributeCheck=re.ADD_ATTR:(H===ae&&(H=zn(H)),Dt(H,re.ADD_ATTR,dt))),re.ADD_URI_SAFE_ATTR&&Dt(Es,re.ADD_URI_SAFE_ATTR,dt),re.FORBID_CONTENTS&&(He===pt&&(He=zn(He)),Dt(He,re.FORBID_CONTENTS,dt)),re.ADD_FORBID_CONTENTS&&(He===pt&&(He=zn(He)),Dt(He,re.ADD_FORBID_CONTENTS,dt)),ke&&(V["#text"]=!0),Ct&&Dt(V,["html","head","body"]),V.table&&(Dt(V,["tbody"]),delete se.tbody),re.TRUSTED_TYPES_POLICY){if(typeof re.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ud('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof re.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ud('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=re.TRUSTED_TYPES_POLICY,w=S.createHTML("")}else S===void 0&&(S=bK(p,n)),S!==null&&typeof w=="string"&&(w=S.createHTML(""));ia&&ia(re),Zt=re}},Fn=Dt({},[...Gg,...Yg,...lK]),ua=Dt({},[...Xg,...cK]),Ln=function(re){let Ce=j(re);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:ne,tagName:"template"});const Ye=Gh(re.tagName),Lr=Gh(Ce.tagName);return lt[re.namespaceURI]?re.namespaceURI===Qr?Ce.namespaceURI===nr?Ye==="svg":Ce.namespaceURI===qt?Ye==="svg"&&(Lr==="annotation-xml"||Vt[Lr]):!!Fn[Ye]:re.namespaceURI===qt?Ce.namespaceURI===nr?Ye==="math":Ce.namespaceURI===Qr?Ye==="math"&&Ls[Lr]:!!ua[Ye]:re.namespaceURI===nr?Ce.namespaceURI===Qr&&!Ls[Lr]||Ce.namespaceURI===qt&&!Vt[Lr]?!1:!ua[Ye]&&(Mn[Ye]||!Fn[Ye]):!!($s==="application/xhtml+xml"&&lt[re.namespaceURI]):!1},$n=function(re){zd(r.removed,{element:re});try{j(re).removeChild(re)}catch{g(re)}},zo=function(re,Ce){try{zd(r.removed,{attribute:Ce.getAttributeNode(re),from:Ce})}catch{zd(r.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(re),re==="is")if(_t||Er)try{$n(Ce)}catch{}else try{Ce.setAttribute(re,"")}catch{}},XS=function(re){let Ce=null,Ye=null;if(Jt)re="<remove></remove>"+re;else{const ss=Kg(re,/^[\r\n\t ]+/);Ye=ss&&ss[0]}$s==="application/xhtml+xml"&&ne===nr&&(re='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+re+"</body></html>");const Lr=S?S.createHTML(re):re;if(ne===nr)try{Ce=new h().parseFromString(Lr,$s)}catch{}if(!Ce||!Ce.documentElement){Ce=_.createDocument(ne,"template",null);try{Ce.documentElement.innerHTML=ye?w:Lr}catch{}}const Ks=Ce.body||Ce.documentElement;return re&&Ye&&Ks.insertBefore(s.createTextNode(Ye),Ks.childNodes[0]||null),ne===nr?C.call(Ce,Ct?"html":"body")[0]:Ct?Ce.documentElement:Ks},QS=function(re){return N.call(re.ownerDocument||re,re,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Ag=function(re){return re instanceof m&&(typeof re.nodeName!="string"||typeof re.textContent!="string"||typeof re.removeChild!="function"||!(re.attributes instanceof u)||typeof re.removeAttribute!="function"||typeof re.setAttribute!="function"||typeof re.namespaceURI!="string"||typeof re.insertBefore!="function"||typeof re.hasChildNodes!="function")},JS=function(re){return typeof l=="function"&&re instanceof l};function xi(at,re,Ce){jh(at,Ye=>{Ye.call(r,re,Ce,Zt)})}const ZS=function(re){let Ce=null;if(xi(A.beforeSanitizeElements,re,null),Ag(re))return $n(re),!0;const Ye=dt(re.nodeName);if(xi(A.uponSanitizeElement,re,{tagName:Ye,allowedTags:V}),Qe&&re.hasChildNodes()&&!JS(re.firstElementChild)&&ea(/<[/\w!]/g,re.innerHTML)&&ea(/<[/\w!]/g,re.textContent)||re.nodeType===Wd.progressingInstruction||Qe&&re.nodeType===Wd.comment&&ea(/<[/\w]/g,re.data))return $n(re),!0;if(!(pe.tagCheck instanceof Function&&pe.tagCheck(Ye))&&(!V[Ye]||se[Ye])){if(!se[Ye]&&t2(Ye)&&(U.tagNameCheck instanceof RegExp&&ea(U.tagNameCheck,Ye)||U.tagNameCheck instanceof Function&&U.tagNameCheck(Ye)))return!1;if(ke&&!He[Ye]){const Lr=j(re)||re.parentNode,Ks=y(re)||re.childNodes;if(Ks&&Lr){const ss=Ks.length;for(let ma=ss-1;ma>=0;--ma){const gi=x(Ks[ma],!0);gi.__removalCount=(re.__removalCount||0)+1,Lr.insertBefore(gi,b(re))}}}return $n(re),!0}return re instanceof c&&!Ln(re)||(Ye==="noscript"||Ye==="noembed"||Ye==="noframes")&&ea(/<\/no(script|embed|frames)/i,re.innerHTML)?($n(re),!0):(st&&re.nodeType===Wd.text&&(Ce=re.textContent,jh([O,I,F],Lr=>{Ce=Bd(Ce,Lr," ")}),re.textContent!==Ce&&(zd(r.removed,{element:re.cloneNode()}),re.textContent=Ce)),xi(A.afterSanitizeElements,re,null),!1)},e2=function(re,Ce,Ye){if(oe&&(Ce==="id"||Ce==="name")&&(Ye in s||Ye in Sa))return!1;if(!(ue&&!Q[Ce]&&ea($,Ce))){if(!(le&&ea(E,Ce))){if(!(pe.attributeCheck instanceof Function&&pe.attributeCheck(Ce,re))){if(!H[Ce]||Q[Ce]){if(!(t2(re)&&(U.tagNameCheck instanceof RegExp&&ea(U.tagNameCheck,re)||U.tagNameCheck instanceof Function&&U.tagNameCheck(re))&&(U.attributeNameCheck instanceof RegExp&&ea(U.attributeNameCheck,Ce)||U.attributeNameCheck instanceof Function&&U.attributeNameCheck(Ce,re))||Ce==="is"&&U.allowCustomizedBuiltInElements&&(U.tagNameCheck instanceof RegExp&&ea(U.tagNameCheck,Ye)||U.tagNameCheck instanceof Function&&U.tagNameCheck(Ye))))return!1}else if(!Es[Ce]){if(!ea(te,Bd(Ye,z,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&re!=="script"&&aK(Ye,"data:")===0&&mr[re])){if(!(De&&!ea(M,Bd(Ye,z,"")))){if(Ye)return!1}}}}}}}return!0},t2=function(re){return re!=="annotation-xml"&&Kg(re,R)},r2=function(re){xi(A.beforeSanitizeAttributes,re,null);const{attributes:Ce}=re;if(!Ce||Ag(re))return;const Ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let Lr=Ce.length;for(;Lr--;){const Ks=Ce[Lr],{name:ss,namespaceURI:ma,value:gi}=Ks,zl=dt(ss),Pg=gi;let qs=ss==="value"?Pg:nK(Pg);if(Ye.attrName=zl,Ye.attrValue=qs,Ye.keepAttr=!0,Ye.forceKeepAttr=void 0,xi(A.uponSanitizeAttribute,re,Ye),qs=Ye.attrValue,me&&(zl==="id"||zl==="name")&&(zo(ss,re),qs=Pe+qs),Qe&&ea(/((--!?|])>)|<\/(style|title|textarea)/i,qs)){zo(ss,re);continue}if(zl==="attributename"&&Kg(qs,"href")){zo(ss,re);continue}if(Ye.forceKeepAttr)continue;if(!Ye.keepAttr){zo(ss,re);continue}if(!he&&ea(/\/>/i,qs)){zo(ss,re);continue}st&&jh([O,I,F],a2=>{qs=Bd(qs,a2," ")});const s2=dt(re.nodeName);if(!e2(s2,zl,qs)){zo(ss,re);continue}if(S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!ma)switch(p.getAttributeType(s2,zl)){case"TrustedHTML":{qs=S.createHTML(qs);break}case"TrustedScriptURL":{qs=S.createScriptURL(qs);break}}if(qs!==Pg)try{ma?re.setAttributeNS(ma,ss,qs):re.setAttribute(ss,qs),Ag(re)?$n(re):eC(r.removed)}catch{zo(ss,re)}}xi(A.afterSanitizeAttributes,re,null)},Sz=function at(re){let Ce=null;const Ye=QS(re);for(xi(A.beforeSanitizeShadowDOM,re,null);Ce=Ye.nextNode();)xi(A.uponSanitizeShadowNode,Ce,null),ZS(Ce),r2(Ce),Ce.content instanceof i&&at(Ce.content);xi(A.afterSanitizeShadowDOM,re,null)};return r.sanitize=function(at){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=null,Ye=null,Lr=null,Ks=null;if(ye=!at,ye&&(at="<!-->"),typeof at!="string"&&!JS(at))if(typeof at.toString=="function"){if(at=at.toString(),typeof at!="string")throw Ud("dirty is not a string, aborting")}else throw Ud("toString is not a function");if(!r.isSupported)return at;if(Tt||La(re),r.removed=[],typeof at=="string"&&(ce=!1),ce){if(at.nodeName){const gi=dt(at.nodeName);if(!V[gi]||se[gi])throw Ud("root node is forbidden and cannot be sanitized in-place")}}else if(at instanceof l)Ce=XS("<!---->"),Ye=Ce.ownerDocument.importNode(at,!0),Ye.nodeType===Wd.element&&Ye.nodeName==="BODY"||Ye.nodeName==="HTML"?Ce=Ye:Ce.appendChild(Ye);else{if(!_t&&!st&&!Ct&&at.indexOf("<")===-1)return S&&Z?S.createHTML(at):at;if(Ce=XS(at),!Ce)return _t?null:Z?w:""}Ce&&Jt&&$n(Ce.firstChild);const ss=QS(ce?at:Ce);for(;Lr=ss.nextNode();)ZS(Lr),r2(Lr),Lr.content instanceof i&&Sz(Lr.content);if(ce)return at;if(_t){if(Er)for(Ks=k.call(Ce.ownerDocument);Ce.firstChild;)Ks.appendChild(Ce.firstChild);else Ks=Ce;return(H.shadowroot||H.shadowrootmode)&&(Ks=P.call(a,Ks,!0)),Ks}let ma=Ct?Ce.outerHTML:Ce.innerHTML;return Ct&&V["!doctype"]&&Ce.ownerDocument&&Ce.ownerDocument.doctype&&Ce.ownerDocument.doctype.name&&ea(_I,Ce.ownerDocument.doctype.name)&&(ma="<!DOCTYPE "+Ce.ownerDocument.doctype.name+`>
`+ma),st&&jh([O,I,F],gi=>{ma=Bd(ma,gi," ")}),S&&Z?S.createHTML(ma):ma},r.setConfig=function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};La(at),Tt=!0},r.clearConfig=function(){Zt=null,Tt=!1},r.isValidAttribute=function(at,re,Ce){Zt||La({});const Ye=dt(at),Lr=dt(re);return e2(Ye,Lr,Ce)},r.addHook=function(at,re){typeof re=="function"&&zd(A[at],re)},r.removeHook=function(at,re){if(re!==void 0){const Ce=rK(A[at],re);return Ce===-1?void 0:sK(A[at],Ce,1)[0]}return eC(A[at])},r.removeHooks=function(at){A[at]=[]},r.removeAllHooks=function(){A=iC()},r}var px=SI();function yr(t){return!t||typeof t!="string"?"":px.sanitize(t,{ALLOWED_TAGS:["p","br","strong","b","em","i","u","strike","del","s","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","q","pre","code","sub","sup","small","mark"],ALLOWED_ATTR:["href","title","alt","src","class","id","style","target","rel"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,FORBID_TAGS:["script","object","embed","form","input","button","iframe","frame","frameset","link","meta","base","head"],FORBID_ATTR:["on*","srcdoc","sandbox"]})}function Yh(t){return!t||typeof t!="string"?"":px.sanitize(t,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]})}function O_(t){return!t||typeof t!="string"?"":px.sanitize(t,{ALLOWED_TAGS:["p","br","strong","b","em","i","u","strike","del","s","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","q","pre","code","sub","sup","small","mark","a","img"],ALLOWED_ATTR:["href","title","alt","src","class","id","style","target","rel"],ADD_ATTR:["target"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,FORBID_TAGS:["script","object","embed","form","input","button","iframe","frame","frameset","link","meta","base","head"],FORBID_ATTR:["on*","srcdoc","sandbox"]})}function oC(t){return Array.isArray(t)?t.map(r=>yr(r)):[]}const xx=({html:t,className:r,tagName:s="div",sanitizeOptions:a})=>{const n=f.useMemo(()=>t?a?px.sanitize(t,{ALLOWED_TAGS:a.ALLOWED_TAGS||["p","br","strong","b","em","i","u","strike","del","s","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","q","pre","code","sub","sup","small","mark","a","img"],ALLOWED_ATTR:a.ALLOWED_ATTR||["href","title","alt","src","class","id","style","target","rel"],ADD_ATTR:["target"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,FORBID_TAGS:["script","object","embed","form","input","button","iframe","frame","frameset","link","meta","base","head"],FORBID_ATTR:["on*","srcdoc","sandbox"]}):O_(t):"",[t,a]);return L.createElement(s,{className:r,dangerouslySetInnerHTML:{__html:n}})},Cr=({children:t,className:r="",tiltAmount:s=10,glareEnabled:a=!0})=>{const n=f.useRef(null),i=C0(0),o=C0(0),l=rf(i,{stiffness:300,damping:30}),c=rf(o,{stiffness:300,damping:30}),d=Wn(c,[-.5,.5],[s,-s]),u=Wn(l,[-.5,.5],[-s,s]),m=Wn(l,[-.5,.5],["0%","100%"]),h=Wn(c,[-.5,.5],["0%","100%"]),p=x=>{if(!n.current)return;const g=n.current.getBoundingClientRect(),b=g.width,y=g.height,j=x.clientX-g.left,S=x.clientY-g.top,w=j/b-.5,_=S/y-.5;i.set(w),o.set(_)},v=()=>{i.set(0),o.set(0)};return e.jsxs(W.div,{ref:n,onMouseMove:p,onMouseLeave:v,style:{rotateX:d,rotateY:u,transformStyle:"preserve-3d"},className:`relative ${r}`,children:[e.jsx("div",{style:{transform:"translateZ(0)"},children:t}),a&&e.jsx(W.div,{className:"pointer-events-none absolute inset-0 rounded-inherit overflow-hidden",style:{background:`radial-gradient(circle at ${m} ${h}, rgba(255,255,255,0.15) 0%, transparent 50%)`}})]})},CI=({stats:t,title:r,subtitle:s,className:a="",variant:n="default"})=>{const i=f.useRef(null),o=XN(i,{once:!0,margin:"-100px"});return n==="cards"?e.jsxs("div",{ref:i,className:a,children:[(r||s)&&e.jsxs("div",{className:"text-center mb-12",children:[r&&e.jsx(W.h2,{className:"font-display text-3xl md:text-4xl font-bold mb-4",initial:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{},children:r}),s&&e.jsx(W.p,{className:"text-muted-foreground max-w-2xl mx-auto",initial:{opacity:0},animate:o?{opacity:1}:{},transition:{delay:.2},children:s})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:t.map((l,c)=>e.jsxs(W.div,{className:"bg-card border border-border rounded-xl p-6 text-center hover:shadow-lg hover:border-primary/20 transition-all",initial:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{},transition:{delay:c*.1},whileHover:{y:-4},children:[l.icon&&e.jsx("div",{className:"flex justify-center mb-3",children:l.icon}),e.jsx("div",{className:"font-display text-3xl md:text-4xl font-bold text-foreground mb-2",children:e.jsx(Kh,{value:l.value,prefix:l.prefix,suffix:l.suffix})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.label})]},c))})]}):n==="minimal"?e.jsx("div",{ref:i,className:`flex flex-wrap justify-center gap-8 md:gap-16 ${a}`,children:t.map((l,c)=>e.jsxs(W.div,{className:"text-center",initial:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{},transition:{delay:c*.1},children:[e.jsx("div",{className:"font-display text-4xl md:text-5xl font-bold text-foreground",children:e.jsx(Kh,{value:l.value,prefix:l.prefix,suffix:l.suffix})}),e.jsx("p",{className:"text-muted-foreground mt-2",children:l.label})]},c))}):e.jsxs("div",{ref:i,className:a,children:[(r||s)&&e.jsxs("div",{className:"text-center mb-12",children:[r&&e.jsx(W.h2,{className:"font-display text-3xl md:text-4xl font-bold mb-4",initial:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{},children:r}),s&&e.jsx(W.p,{className:"text-muted-foreground max-w-2xl mx-auto",initial:{opacity:0},animate:o?{opacity:1}:{},transition:{delay:.2},children:s})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:t.map((l,c)=>e.jsxs(W.div,{className:"text-center",initial:{opacity:0,y:20},animate:o?{opacity:1,y:0}:{},transition:{delay:c*.1},children:[l.icon&&e.jsx("div",{className:"flex justify-center mb-3",children:l.icon}),e.jsx("div",{className:"font-display text-3xl md:text-4xl font-bold text-foreground",children:e.jsx(Kh,{value:l.value,prefix:l.prefix,suffix:l.suffix})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:l.label})]},c))})]})},yK=[{title:"End-to-End Integration",description:"No other platform combines education, studio tools, manufacturing automation, and monetization in one ecosystem."},{title:"Merit-Based Progression",description:"Your talent and output determine your successnot connections or traditional gatekeeping."},{title:"Production-Ready Output",description:"Every StyleBox produces actual market-ready designs, not just practice work."},{title:"Transparent Revenue Share",description:"Clear, rank-based revenue sharing up to 50%you always know what you'll earn."}],jK=[{name:"Haseeb Malik",role:"Founder & CEO",bio:"A software engineer by training and a contrarian by instinct. Without a traditional fashion background, he entered the industry to solve what others had normalized-systems that undervalue designers. Drawing from technology and entrepreneurship, he built Adorzia as an alternative to the exposure economy, where structure, ownership, and sustainability replace empty visibility.'",avatar:"HM",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&q=80"},{name:"M. Osama Khan",role:"Strategic Advisor & Friend",bio:"M. Osama Khan has been an invaluable friend and supporter throughout Adorzias journey.His insights and encouragement helped shape both the vision and the execution of the brand.From early ideas to concrete steps, his guidance has been a constant source of inspiration and support.",avatar:"AR",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400&q=80"}],wK=[{outlet:"FashionTech Daily",title:"Meet Haseeb Malik: The Contrarian Betting on the 'Artist,' Not the Algorithm",excerpt:"In a world obsessed with fast fashion and faster algorithms, Haseeb Malik is hitting the brakes. As the founder of Adorzia, Malik isn't just building another marketplace; he is engineering a rescue mission for the independent designer.",content:`The fashion industry has long operated on a brutal, unspoken rule: designers are disposable. Platforms demand high fees, retailers demand 60% margins, and everyone pays the creator in "exposure."

Haseeb Malik decided that math didn't work.

"I looked at the industry and saw brilliant people quitting not because they lacked talent, but because they were drowning in logistics," Malik says. "We built Adorzia to prove that you can treat designers like partners, not inventory, and still build a massive business."

Malik's background gave him a unique vantage pointseeing the gap between creative genius and operational reality. Adorzia was born from his refusal to accept the status quo. His vision was to create a "Cloud" for fashionan infrastructure that handles the boring, difficult parts of business (shipping, tech, payments) so the designer can simply create.

Under Malik's leadership, Adorzia has adopted a "Contrarian" approach. While competitors squeeze margins, Adorzia offers revenue splits up to 50%. While others automate support, Adorzia offers partnership.

"We aren't looking for the ones who want to make a quick buck," Malik notes. "We are looking for the designers who want to build a legacy. Adorzia is just the foundation they stand on."`,category:"Founder Profile"},{outlet:"The Startup Insider",title:"Why 90% of Fashion Startups Fail (And How Adorzia is Fixing the Odds)",excerpt:"The statistics are grim. Nine out of ten independent fashion brands will close their doors within the first three years. The reason is rarely 'bad design.' The killer is almost always 'bad operations.'",content:`For a young designer, launching a brand involves a paralyzing checklist: sourcing fabric, managing inventory, building a website, fighting algorithms for traffic, and handling returns. It is a CEO's job forced onto an Artist's shoulders.

Adorzia creates a new category in the market: The Fashion Accelerator Platform.

"We analyzed why startups fail," says the Adorzia team. "They fail because they spend 80% of their time packing boxes and fixing website bugs, and only 20% designing. We flipped that ratio."

Adorzia operates as an operational backbone for these startups. By joining the platform, designers essentially outsource their headaches.

 The Tech is handled: No more broken websites or invisible text.
 The Logistics are streamlined: No more manual shipping nightmares.
 The Money is fair: A transparent revenue model that actually leaves room for profit.

For a new generation of fashion startups, Adorzia isn't just a shop window; it is a survival kit. By removing the friction of "running a business," Adorzia allows startups to do the one thing that actually scales: making great products.`,category:"Industry Analysis"},{outlet:"Future Trends Weekly",title:"The 'Cloud Dancer' Era: How Adorzia is Defining the Look of 2026 Retail",excerpt:"Pantone recently announced 'Cloud Dancer' as the Color of the Year for 2026a symbol of clarity, balance, and a fresh start. But for one company, this isn't just a color trend; it is a business model.",content:`Adorzia is positioning itself as the "Cloud" behind the fashion industry's new wave.

The platform's branding and philosophy align perfectly with this shift toward serenity and minimalism. In an e-commerce landscape that feels cluttered, noisy, and aggressive, Adorzia offers a "clean canvas."

"We believe technology should be invisible," the company states. "Like a cloud, it should be everywhere, supporting everything, but you shouldn't have to think about it."

This philosophy extends to their promotional strategy for designers. Adorzia promotes a "Quality over Quantity" approach. Instead of flooding users with cheap items, the platform curates a selection of designers who care about craft.

For shoppers, it offers a premium, calm experience. For designers, it offers the freedom to "dance"to move fluidly without being weighed down by the heavy machinery of business.

As we move toward 2026, Adorzia is betting that the future belongs to those who can cut through the noise. With their advanced platform and "founder-friendly" ethos, they are poised to become the standard-bearer for the new digital fashion economy.`,category:"Trend Piece"}],NK=[{outlet:"Dawn",title:"Pakistani startup revolutionizes fashion design education"},{outlet:"Express Tribune",title:"Adorzia raises seed funding to scale designer marketplace"},{outlet:"TechCrunch",title:"How Pakistan is becoming a fashion-tech hub"}],_K=[{value:2500,suffix:"+",label:"Designers Onboarded",icon:e.jsx(mt,{className:"h-6 w-6 text-muted-foreground"})},{value:150,suffix:"+",label:"StyleBoxes Created",icon:e.jsx(Tn,{className:"h-6 w-6 text-muted-foreground"})},{value:50,prefix:"$",suffix:"K+",label:"Paid to Creators",icon:e.jsx(ks,{className:"h-6 w-6 text-muted-foreground"})},{value:3,label:"Countries Reached",icon:e.jsx($i,{className:"h-6 w-6 text-muted-foreground"})}];function SK(){return e.jsxs(Qs,{children:[e.jsx(wa,{title:"About Adorzia | Fashion Design Platform from Pakistan",description:"Learn about Adorzia's mission to reinvent fashion creation. Meet our team and discover how we're building the world's first end-to-end fashion ecosystem.",url:"https://studio.adorzia.com/about",keywords:"adorzia about, fashion platform, pakistan fashion tech, design ecosystem, fashion startup"}),e.jsxs("section",{className:"pt-24 pb-16 md:pt-32 md:pb-24 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-secondary/10"}),e.jsx(W.div,{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{duration:8,repeat:1/0}}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"About Adorzia"}),e.jsxs("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold leading-[1.1] mb-6 tracking-tight",children:["Reinventing Fashion",e.jsx("br",{}),e.jsx("span",{className:"text-muted-foreground",children:"From Pakistan"})]}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"We're building the world's first end-to-end fashion creation operating system where talent, output, and merit define opportunity."})]})})]}),e.jsx("section",{className:"py-12 border-t border-b bg-muted/30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx(CI,{stats:_K,variant:"default"})})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(Cr,{tiltAmount:6,children:e.jsx(G,{className:"h-full hover:shadow-lg transition-shadow",children:e.jsxs(Y,{className:"p-8",children:[e.jsx(W.div,{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-6",whileHover:{scale:1.1,rotate:5},children:e.jsx(Bt,{className:"h-6 w-6 text-primary"})}),e.jsx("h2",{className:"font-display text-2xl font-bold mb-4",children:"Vision"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To build a world where every designer can create, launch, and scale their own fashion brand without barriers. A future where geographic location, social connections, and capital are no longer prerequisites for success in fashion."})]})})})}),e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},children:e.jsx(Cr,{tiltAmount:6,children:e.jsx(G,{className:"h-full hover:shadow-lg transition-shadow",children:e.jsxs(Y,{className:"p-8",children:[e.jsx(W.div,{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-6",whileHover:{scale:1.1,rotate:-5},children:e.jsx(Au,{className:"h-6 w-6 text-primary"})}),e.jsx("h2",{className:"font-display text-2xl font-bold mb-4",children:"Mission"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"To empower designers to become independent fashionpreneurs through a seamless model that merges learning, creation, production, and commerce. We provide the tools, infrastructure, and marketplacedesigners provide the creativity."})]})})})})]})})}),e.jsx(Ol,{backgroundImage:"https://images.unsplash.com/photo-1558171813-01ed3d751c2c?w=1920&q=80",className:"py-20 md:py-28",speed:.3,children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(W.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-6",children:"Our Story"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-8 tracking-tight",children:"Replacing Gatekeeping with Merit"}),e.jsxs(W.div,{className:"text-left space-y-6 text-muted-foreground leading-relaxed bg-background/80 backdrop-blur-sm rounded-2xl p-8 border",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},children:[e.jsx("p",{children:"Adorzia was born from a simple observation: the fashion industry is filled with talented designers who never get a chance. Traditional paths require expensive education, industry connections, or startup capital that most creative people simply don't have."}),e.jsx("p",{children:"We asked: what if there was a system where your output was your credential? Where completing a design challenge could lead directly to a product on shelves? Where revenue share was transparent and fair?"}),e.jsx("p",{children:"That question became Adorziathe world's first fashion creation operating system. Built in Pakistan, leveraging the country's manufacturing strength and creative youth, and engineered for global scale."})]})]})})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"Differentiation"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"What Makes Adorzia Unique"}),e.jsx(W.p,{className:"text-muted-foreground",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"No other platform unifies the entire fashion lifecycle in one ecosystem."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:yK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:5,children:e.jsx(G,{className:"h-full hover:shadow-lg transition-shadow",children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(W.div,{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-primary/20 to-secondary flex items-center justify-center shrink-0",whileHover:{scale:1.1},children:e.jsx(ct,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t.description})]})]})})})})},t.title))})]})}),e.jsxs("section",{className:"py-20 md:py-28 bg-foreground text-background relative overflow-hidden",children:[e.jsx(W.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-transparent to-primary/10",animate:{x:["-100%","100%"]},transition:{duration:20,repeat:1/0,ease:"linear"}}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4 border-background/20 text-background",children:"The Team"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight text-background",children:"The Visionaries Behind the Shift"}),e.jsx(W.p,{className:"text-background/60",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"A founding team committed to reinventing the global fashion pipeline from Pakistan outward."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:jK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},whileHover:{y:-8},children:e.jsx(G,{className:"bg-background/5 border-background/10 backdrop-blur-sm overflow-hidden",children:e.jsxs(Y,{className:"p-0",children:[e.jsxs("div",{className:"relative h-64 overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/80 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.jsx("h3",{className:"font-display text-xl font-bold text-background",children:t.name}),e.jsx("p",{className:"text-sm text-background/80",children:t.role})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-sm text-background/70 leading-relaxed",children:t.bio}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(W.a,{href:nc.linkedin,target:"_blank",rel:"noopener noreferrer",className:"h-8 w-8 rounded-full bg-background/10 flex items-center justify-center hover:bg-background/20 transition-colors",whileHover:{scale:1.1},children:e.jsx(zp,{className:"h-4 w-4"})}),e.jsx(W.a,{href:nc.twitter,target:"_blank",rel:"noopener noreferrer",className:"h-8 w-8 rounded-full bg-background/10 flex items-center justify-center hover:bg-background/20 transition-colors",whileHover:{scale:1.1},children:e.jsx(Cl,{className:"h-4 w-4"})})]})]})]})})},t.name))})]})]}),e.jsx("section",{className:"py-20 md:py-28 bg-muted/30",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"Featured Stories"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"The Adorzia Story"}),e.jsx(W.p,{className:"text-muted-foreground",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"Deep dives into our mission, vision, and the future we're building."})]}),e.jsx("div",{className:"space-y-8",children:wK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(G,{className:"overflow-hidden hover:shadow-xl transition-all duration-300",children:e.jsx(Y,{className:"p-0",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-0",children:[e.jsxs("div",{className:"p-8 bg-gradient-to-br from-primary/5 to-secondary/10 flex flex-col justify-center",children:[e.jsx(B,{variant:"secondary",className:"w-fit mb-4",children:t.category}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:t.outlet}),e.jsx("h3",{className:"font-display text-xl font-bold leading-tight",children:t.title})]}),e.jsxs("div",{className:"md:col-span-2 p-8",children:[e.jsx("p",{className:"text-muted-foreground font-medium mb-4 text-lg",children:t.excerpt}),e.jsx(xx,{html:t.content,className:"text-sm text-muted-foreground/80 leading-relaxed whitespace-pre-line line-clamp-6"}),e.jsxs(T,{variant:"link",className:"mt-4 p-0 h-auto text-primary",children:["Read Full Article ",e.jsx(St,{className:"ml-2 h-4 w-4"})]})]})]})})})},t.title))})]})}),e.jsx("section",{id:"press",className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"In The News"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Press Coverage"}),e.jsx(W.p,{className:"text-muted-foreground",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"Positioning Adorzia as Pakistan's flagship fashion-tech innovator."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:NK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:5,children:e.jsx(G,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Iz,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t.outlet})]}),e.jsx("h3",{className:"font-display font-semibold",children:t.title})]})})})},t.outlet))})]})})]})}var D_="Progress",R_=100,[CK]=Ur(D_),[kK,AK]=CK(D_),kI=f.forwardRef((t,r)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:i=PK,...o}=t;(n||n===0)&&!lC(n)&&console.error(EK(`${n}`,"Progress"));const l=lC(n)?n:R_;a!==null&&!cC(a,l)&&console.error(TK(`${a}`,"Progress"));const c=cC(a,l)?a:null,d=vf(c)?i(c,l):void 0;return e.jsx(kK,{scope:s,value:c,max:l,children:e.jsx(we.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":vf(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":EI(c,l),"data-value":c??void 0,"data-max":l,...o,ref:r})})});kI.displayName=D_;var AI="ProgressIndicator",PI=f.forwardRef((t,r)=>{const{__scopeProgress:s,...a}=t,n=AK(AI,s);return e.jsx(we.div,{"data-state":EI(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:r})});PI.displayName=AI;function PK(t,r){return`${Math.round(t/r*100)}%`}function EI(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function vf(t){return typeof t=="number"}function lC(t){return vf(t)&&!isNaN(t)&&t>0}function cC(t,r){return vf(t)&&!isNaN(t)&&t<=r&&t>=0}function EK(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${R_}\`.`}function TK(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${R_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TI=kI,OK=PI;const la=f.forwardRef(({className:t,value:r,animated:s,...a},n)=>e.jsx(TI,{ref:n,className:q("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:e.jsx(OK,{className:q("h-full w-full flex-1 bg-foreground transition-all duration-500 ease-out",s&&"progress-animated"),style:{transform:`translateX(-${100-(r||0)}%)`}})}));la.displayName=TI.displayName;const DK=[{name:"Streetwear",count:24,image:Wl.streetwear,description:"Urban fashion and street culture designs"},{name:"Couture",count:18,image:Wl.couture,description:"High-end luxury and runway pieces"},{name:"Essentials",count:32,image:Wl.essentials,description:"Everyday wardrobe staples"},{name:"Formal",count:16,image:Wl.formal,description:"Business and occasion wear"},{name:"Avant-Garde",count:12,image:Wl.avantGarde,description:"Experimental and boundary-pushing designs"},{name:"Sustainable",count:20,image:Wl.sustainable,description:"Eco-friendly and ethical fashion"}],RK=[{name:"Free",color:"secondary",description:"Basic challenges to get started",boxes:5},{name:"Easy",color:"success",description:"Build foundational skills",boxes:15},{name:"Medium",color:"warning",description:"Production-ready techniques",boxes:25},{name:"Hard",color:"destructive",description:"Advanced industry challenges",boxes:20},{name:"Insane",color:"accent",description:"Elite designer mastery",boxes:10}],IK=[{title:"Pattern Foundation",level:"Easy",skill:"Pattern Design",xp:100},{title:"Moodboard Mastery",level:"Easy",skill:"Creative Direction",xp:100},{title:"Capsule Collection",level:"Medium",skill:"Collection Development",xp:250},{title:"Trend Interpretation",level:"Medium",skill:"Market Analysis",xp:250},{title:"Tech Pack Pro",level:"Hard",skill:"Production Ready",xp:500},{title:"Construction Expert",level:"Hard",skill:"Garment Construction",xp:500}],MK=[{name:"Creativity",description:"Originality and innovation in design approach"},{name:"Execution",description:"Technical accuracy and attention to detail"},{name:"Originality",description:"Unique perspective and personal style"},{name:"Brand Coherence",description:"Consistent aesthetic and messaging"},{name:"Craftsmanship",description:"Quality of construction and finishing"}],FK={basic:e.jsx(Up,{className:"h-5 w-5"}),pro:e.jsx(Tn,{className:"h-5 w-5"}),elite:e.jsx(zt,{className:"h-5 w-5"})},LK={basic:["3 Basic StyleBoxes","3 Portfolio Designs","Community Forum Access","No Marketplace Earnings"],pro:["Full StyleBox Access","20 Portfolio Designs","1 Production Request/mo","Marketplace Earnings "],elite:["All Challenges (incl. Team)","Unlimited Portfolio","5 Production Requests/mo","Curator Review "]};function $K(){return e.jsxs(Qs,{children:[e.jsx(wa,{title:"StyleBoxes - Learn Fashion Design | Adorzia",description:"Hands-on design challenges that build real industry skills. Every completed StyleBox becomes a portfolio asset and potential marketplace product.",url:"https://studio.adorzia.com/styleboxes-info",keywords:"fashion design challenges, learn fashion design, design portfolio, stylebox, gamified learning"}),e.jsxs("section",{className:"relative pt-24 pb-16 md:pt-32 md:pb-24 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/10"}),e.jsx(W.div,{className:"absolute top-20 right-10 w-72 h-72 bg-primary/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0}}),e.jsx(W.div,{className:"absolute bottom-10 left-10 w-96 h-96 bg-secondary/20 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0}}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"Gamified Learning"}),e.jsxs("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold leading-[1.1] mb-6 tracking-tight",children:["StyleBoxes",e.jsx("br",{}),e.jsx("span",{className:"text-muted-foreground",children:"Learn by Creating"})]}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8",children:"Hands-on challenges that build true industry skills. Every completed box becomes a portfolio asset and a potential product on the marketplace."}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{size:"lg",className:"group",children:["Start Your First StyleBox",e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})})]}),e.jsx("section",{className:"py-20 md:py-28 border-t",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Design Categories"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Explore Categories"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose your path across six distinct fashion verticals."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:DK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{className:"h-full",children:e.jsxs(G,{className:"h-full overflow-hidden group",children:[e.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"}),e.jsxs(B,{variant:"secondary",className:"absolute bottom-3 right-3",children:[t.count," boxes"]})]}),e.jsxs(Y,{className:"p-6",children:[e.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:t.name}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t.description})]})]})})},t.name))})]})}),e.jsx(Ol,{backgroundImage:fx.textile,className:"py-20 md:py-28",speed:.3,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Progression System"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Levels & Progression"}),e.jsx("p",{className:"text-muted-foreground",children:"Tiered challenges that unlock as you grow. Earn badges, rankings, and portfolio assets."})]}),e.jsx("div",{className:"space-y-4 max-w-3xl mx-auto",children:RK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(G,{className:"backdrop-blur-sm bg-background/90",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{variant:t.color,children:t.name}),e.jsx("span",{className:"font-medium",children:t.description})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.boxes," boxes"]})]}),e.jsx(la,{value:t.boxes/32*100,className:"h-2"})]})})},t.name))})]})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Challenge Examples"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Sample Challenges"}),e.jsx("p",{className:"text-muted-foreground",children:"From pattern building to collection developmentreal industry tasks."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:IK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:8,children:e.jsx(G,{className:"h-full hover:shadow-lg transition-shadow",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(B,{variant:t.level==="Easy"?"success":t.level==="Medium"?"warning":"destructive",children:t.level}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(ct,{className:"h-4 w-4"}),t.xp," XP"]})]}),e.jsx("h3",{className:"font-display text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.skill})]})})})},t.title))})]})}),e.jsx("section",{className:"py-20 md:py-28 bg-foreground text-background",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4 border-background/20 text-background",children:"Evaluation"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Skill Metrics"}),e.jsx("p",{className:"text-background/60",children:"Your work is evaluated across five core dimensions of fashion design."})]}),e.jsx("div",{className:"grid md:grid-cols-5 gap-6",children:MK.map((t,r)=>e.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"text-center",whileHover:{scale:1.05},children:[e.jsx(W.div,{className:"h-16 w-16 rounded-full bg-background/10 flex items-center justify-center mx-auto mb-4",whileHover:{rotate:360},transition:{duration:.5},children:e.jsx(Au,{className:"h-8 w-8"})}),e.jsx("h3",{className:"font-display font-semibold mb-2",children:t.name}),e.jsx("p",{className:"text-xs text-background/60",children:t.description})]},t.name))})]})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Access Tiers"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Subscription Access"}),e.jsx("p",{className:"text-muted-foreground",children:"Subscriptions unlock tools & challenges. Choose the tier that fits your journey."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:Object.keys(Lu).map((t,r)=>{const s=Lu[t],a=t==="pro",n=t==="elite",i=LK[t];return e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:5,children:e.jsxs(G,{className:`h-full relative overflow-hidden ${a?"border-primary ring-2 ring-primary/20":n?"border-amber-500/50 ring-1 ring-amber-500/20":""}`,children:[e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(B,{variant:"secondary",className:"text-xs",children:s.price===0?"Free":"Coming Soon"})}),a&&e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",children:e.jsxs(B,{className:"bg-primary text-primary-foreground flex items-center gap-1",children:[e.jsx(At,{className:"h-3 w-3"})," Popular"]})}),e.jsxs(Y,{className:"p-6 pt-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${n?"bg-amber-500/10 text-amber-600":a?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"}`,children:FK[t]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-lg font-semibold",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.subtitle})]})]}),e.jsx("div",{className:"mb-5",children:e.jsx("p",{className:"text-2xl font-bold",children:s.priceFormatted})}),e.jsx("ul",{className:"space-y-2.5",children:i.map((o,l)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[o.includes("No ")||o.includes("")?e.jsx(us,{className:"h-4 w-4 text-muted-foreground/50 mt-0.5 shrink-0"}):e.jsx(Mt,{className:"h-4 w-4 text-primary mt-0.5 shrink-0"}),e.jsx("span",{className:o.includes("No ")?"text-muted-foreground":"",children:o})]},l))}),e.jsx("div",{className:`mt-4 pt-4 border-t flex items-center gap-2 text-sm ${s.limits.canPublish?"text-primary":"text-muted-foreground"}`,children:s.limits.canPublish?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"h-4 w-4"}),"Publishing Rights Included"]}):e.jsxs(e.Fragment,{children:[e.jsx(us,{className:"h-4 w-4"}),"No Publishing Rights"]})})]})]})})},t)})}),e.jsxs("div",{className:"text-center mt-12 space-y-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Subscriptions are for ",e.jsx("span",{className:"font-medium text-foreground",children:"access to tools & challenges"}),". Want lifetime profit boosts? Check out our Founder Titles."]}),e.jsx(fe,{to:"/pricing",children:e.jsxs(T,{size:"lg",className:"group",children:["View Full Pricing & Founder Titles",e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})]})}const qK=[{title:"Summer Streetwear Sprint",participants:234,timeLeft:"2d 14h",prize:"PKR 50,000",difficulty:"Medium",image:gu.fashionShow},{title:"Sustainable Design Challenge",participants:156,timeLeft:"5d 8h",prize:"PKR 75,000",difficulty:"Hard",image:gu.designContest}],zK=[{title:"Eid Collection Styleathon",date:"Mar 15, 2024",theme:"Festive Traditional",registrations:89,image:gu.competition},{title:"Brand Collaboration Challenge",date:"Mar 22, 2024",theme:"Streetwear x Luxury",sponsor:"Partner Brand",image:gu.workshop},{title:"Monsoon Fashion Week",date:"Apr 1, 2024",theme:"Rain-Ready Designs",registrations:45,image:gu.runway}],BK=[{name:"Ayesha Khan",competition:"Winter Collection Challenge",prize:"PKR 100,000",avatar:js.ayeshaKhan},{name:"Zain Ahmed",competition:"Streetwear Showdown",prize:"PKR 75,000",avatar:js.zainAhmed},{name:"Fatima Malik",competition:"Sustainable Fashion Sprint",prize:"PKR 50,000",avatar:js.fatimaMalik}],dC=[{rank:1,name:"Sarah Iqbal",points:12450,category:"Streetwear",avatar:js.sarahIqbal},{rank:2,name:"Ali Hassan",points:11200,category:"Essentials",avatar:js.aliHassan},{rank:3,name:"Hira Noor",points:10800,category:"Couture",avatar:js.hiraNoor},{rank:4,name:"Usman Tariq",points:9950,category:"Sustainable",avatar:js.usmanTariq},{rank:5,name:"Maria Khan",points:9200,category:"Formal",avatar:js.sarahAhmed}];function UK(){return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Design Competitions | Adorzia Styleathon",description:"Compete in real-time fashion design challenges. Win prizes, build your reputation, and get discovered. Join live challenges and upcoming events.",url:"https://studio.adorzia.com/competitions",keywords:"design competition, fashion challenge, styleathon, design contest, win prizes"}),e.jsxs("section",{className:"relative pt-24 pb-16 md:pt-32 md:pb-24 bg-foreground text-background overflow-hidden",children:[e.jsx(W.div,{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url(${Q2.arena})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx(W.div,{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-primary/20 rounded-full blur-[120px]",animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0}}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"Styleathon Arena"}),e.jsxs("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold leading-[1.1] mb-6 tracking-tight",children:["Compete. Create.",e.jsx("br",{}),e.jsx("span",{className:"text-background/60",children:"Win Recognition."})]}),e.jsx("p",{className:"text-lg text-background/70 leading-relaxed mb-8",children:"Real-time fashion challenges where designers prove their skills. Enter the arena, build your reputation, and win prizes."}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{size:"lg",variant:"secondary",className:"group",children:["Enter the Arena",e.jsx(nl,{className:"ml-2 h-4 w-4 group-hover:scale-110 transition-transform"})]})})]})})]}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-12",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(W.div,{className:"h-3 w-3 rounded-full bg-destructive",animate:{scale:[1,1.2,1],opacity:[1,.5,1]},transition:{duration:1,repeat:1/0}}),e.jsx(B,{variant:"destructive",children:"LIVE NOW"})]}),e.jsx(yt,{className:"font-display text-3xl font-bold tracking-tight",children:"Live Challenges"})]})}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:qK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:8,glareEnabled:!0,children:e.jsxs(G,{className:"h-full border-2 hover:border-foreground/20 transition-colors overflow-hidden",children:[e.jsxs("div",{className:"aspect-[21/9] relative",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(B,{variant:t.difficulty==="Medium"?"warning":"destructive",children:t.difficulty}),e.jsxs("div",{className:"flex items-center gap-2 text-sm bg-background/80 backdrop-blur-sm px-2 py-1 rounded",children:[e.jsx(Ze,{className:"h-4 w-4 text-destructive"}),e.jsx("span",{className:"font-mono text-destructive",children:t.timeLeft})]})]})})]}),e.jsxs(Y,{className:"p-6",children:[e.jsx("h3",{className:"font-display text-xl font-semibold mb-4",children:t.title}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(mt,{className:"h-4 w-4"}),t.participants," competing"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ri,{className:"h-4 w-4 text-warning"}),e.jsx("span",{className:"font-bold",children:t.prize})]})]}),e.jsxs(T,{className:"w-full mt-6 group",children:["Join Challenge",e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})]})})},t.title))})]})}),e.jsx("section",{className:"py-20 md:py-28 bg-secondary/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Coming Soon"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Upcoming Events"}),e.jsx("p",{className:"text-muted-foreground",children:"Seasonal themes, brand-hosted challenges, and special drops."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:zK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{children:e.jsxs(G,{className:"h-full overflow-hidden group",children:[e.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"})]}),e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm text-muted-foreground",children:[e.jsx(Wr,{className:"h-4 w-4"}),t.date]}),e.jsx("h3",{className:"font-display text-lg font-semibold mb-2",children:t.title}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Theme: ",t.theme]}),t.sponsor&&e.jsx(B,{variant:"secondary",className:"mb-4",children:"Sponsored"}),t.registrations&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.registrations," pre-registered"]}),e.jsxs(T,{variant:"outline",className:"w-full mt-4 group",children:["Set Reminder",e.jsx(Wr,{className:"ml-2 h-4 w-4 group-hover:scale-110 transition-transform"})]})]})]})})},t.title))})]})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Hall of Fame"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Past Winners"}),e.jsx("p",{className:"text-muted-foreground",children:"Top creators and their winning work."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:BK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:10,children:e.jsxs(G,{className:"h-full overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-gradient-to-br from-primary/10 to-secondary/20 relative",children:e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(W.div,{className:"h-10 w-10 rounded-full bg-warning flex items-center justify-center",whileHover:{rotate:360,scale:1.2},transition:{duration:.5},children:e.jsx(ri,{className:"h-5 w-5 text-warning-foreground"})})})}),e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:t.avatar,alt:t.name,className:"h-12 w-12 rounded-full object-cover ring-2 ring-background"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display font-semibold",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.competition})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mz,{className:"h-4 w-4 text-warning"}),e.jsx("span",{className:"font-bold",children:t.prize})]})]})]})})},t.name))})]})}),e.jsx(Ol,{backgroundImage:Q2.leaderboard,className:"py-20 md:py-28",speed:.3,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Rankings"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Leaderboards"}),e.jsx("p",{className:"text-muted-foreground",children:"Category-based rankings and national standings."})]}),e.jsx(G,{className:"max-w-2xl mx-auto backdrop-blur-sm bg-background/95",children:e.jsx(Y,{className:"p-0",children:dC.map((t,r)=>e.jsxs(W.div,{className:`flex items-center justify-between p-4 ${r<dC.length-1?"border-b":""} hover:bg-muted/50 transition-colors`,initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.1},children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${t.rank===1?"bg-warning text-warning-foreground":t.rank===2?"bg-muted":t.rank===3?"bg-muted/70":"bg-muted/50"}`,children:t.rank===1?e.jsx(zt,{className:"h-5 w-5"}):e.jsx("span",{className:"font-bold",children:t.rank})}),e.jsx("img",{src:t.avatar,alt:t.name,className:"h-10 w-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold font-mono",children:t.points.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"points"})]})]},t.rank))})})]})})]})}const VK=[{icon:Am,title:"Pattern Tools",description:"Generate and refine production-ready patterns with precision grid systems and automatic measurements.",features:["Grid-based design","Auto measurements","Export formats","Size grading"],image:yh.patternDesign},{icon:No,title:"Moodboard Builder",description:"Transform ideas into structured creative direction with drag-and-drop mood composition.",features:["Image library","Color extraction","Layout templates","Shareable boards"],image:yh.moodboard},{icon:Fz,title:"Mockup Generator",description:"Instant visual representations of garments on realistic templates and models.",features:["3D previews","Multiple angles","Fabric simulation","Quick exports"],image:yh.mockup},{icon:Wt,title:"Tech Pack Automation",description:"Industry-standard documentation produced automatically from your designs.",features:["Auto-generated specs","BOM creation","Construction details","Factory-ready PDFs"],image:yh.techPack}],WK=[{category:"Textures",count:"500+"},{category:"Fabrics",count:"300+"},{category:"Silhouettes",count:"200+"},{category:"Templates",count:"150+"},{category:"Buttons & Trims",count:"400+"},{category:"Pattern Blocks",count:"100+"}];function HK(){return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Designer Studio Tools | Adorzia",description:"Professional design tools for every creator. Pattern tools, moodboard builders, mockup generators, and automated tech packsall in one workspace.",url:"https://studio.adorzia.com/studio-info",keywords:"fashion design tools, pattern design, moodboard builder, tech pack generator, design studio"}),e.jsxs("section",{className:"relative pt-24 pb-16 md:pt-32 md:pb-24 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/10"}),e.jsx(W.div,{className:"absolute top-20 right-20 w-64 h-64 bg-primary/10 rounded-full blur-3xl",animate:{y:[0,-20,0],scale:[1,1.1,1]},transition:{duration:6,repeat:1/0}}),e.jsx(W.div,{className:"absolute bottom-20 left-20 w-80 h-80 bg-secondary/20 rounded-full blur-3xl",animate:{y:[0,20,0],scale:[1.1,1,1.1]},transition:{duration:8,repeat:1/0}}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"Designer Studio"}),e.jsxs("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold leading-[1.1] mb-6 tracking-tight",children:["Professional Tools",e.jsx("br",{}),e.jsx("span",{className:"text-muted-foreground",children:"For Every Designer"})]}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8",children:"A complete creative workspace with pattern tools, moodboard builders, mockup generators, and automated tech packseverything you need to go from idea to production-ready design."}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{size:"lg",className:"group",children:["Try Studio Free",e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})})]}),e.jsx("section",{className:"py-20 md:py-28 border-t",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Core Tools"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Everything You Need"}),e.jsx("p",{className:"text-muted-foreground",children:"Professional-grade tools designed for fashion creators at every level."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:VK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:6,children:e.jsxs(G,{className:"h-full overflow-hidden group",children:[e.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),e.jsx(W.div,{className:"absolute bottom-4 left-4 h-14 w-14 rounded-xl bg-background/90 backdrop-blur-sm flex items-center justify-center",whileHover:{scale:1.1,rotate:5},children:e.jsx(t.icon,{className:"h-7 w-7"})})]}),e.jsxs(Y,{className:"p-8",children:[e.jsx("h3",{className:"font-display text-2xl font-semibold mb-3",children:t.title}),e.jsx("p",{className:"text-muted-foreground mb-6",children:t.description}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.features.map(s=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ct,{className:"h-3 w-3 text-primary"}),s]},s))})]})]})})},t.title))})]})}),e.jsx(Ol,{backgroundImage:fx.textile,className:"py-20 md:py-28",speed:.3,children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"backdrop-blur-sm bg-background/80 p-8 rounded-2xl",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Pattern Design"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Pattern Tools"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Generate and refine production-ready patterns with our intuitive grid-based design system. Automatic measurements, size grading, and export to industry-standard formats."}),e.jsx("ul",{className:"space-y-4 mb-8",children:["Precise grid-based pattern creation","Automatic size grading from XS to 3XL","Export to DXF, PDF, and SVG formats","Seam allowance automation","Pattern piece labeling"].map((t,r)=>e.jsxs(W.li,{className:"flex items-center gap-3",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.1},children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-foreground/10 flex items-center justify-center",children:e.jsx(Vp,{className:"h-3 w-3"})}),e.jsx("span",{children:t})]},r))})]}),e.jsx(Cr,{tiltAmount:10,children:e.jsx(G,{className:"aspect-video bg-gradient-to-br from-primary/10 to-secondary/20 flex items-center justify-center overflow-hidden",children:e.jsx(W.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:e.jsx(Am,{className:"h-32 w-32 text-muted-foreground/30"})})})})]})})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsx(Cr,{tiltAmount:10,className:"order-2 lg:order-1",children:e.jsx(G,{className:"aspect-video bg-gradient-to-br from-secondary/20 to-primary/10 flex items-center justify-center overflow-hidden",children:e.jsx(W.div,{animate:{scale:[1,1.1,1]},transition:{duration:4,repeat:1/0},children:e.jsx(al,{className:"h-32 w-32 text-muted-foreground/30"})})})}),e.jsxs("div",{className:"order-1 lg:order-2",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Creative Direction"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Moodboard Builder"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Transform scattered inspiration into structured creative direction. Drag and drop images, extract color palettes, and create presentation-ready boards."}),e.jsx("ul",{className:"space-y-4 mb-8",children:["Drag-and-drop composition","Automatic color palette extraction","Pre-designed layout templates","Integration with image library","Share and collaborate with team"].map((t,r)=>e.jsxs(W.li,{className:"flex items-center gap-3",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.1},children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-foreground/10 flex items-center justify-center",children:e.jsx(No,{className:"h-3 w-3"})}),e.jsx("span",{children:t})]},r))})]})]})})}),e.jsxs("section",{className:"relative py-20 md:py-28 bg-foreground text-background overflow-hidden",children:[e.jsx(W.div,{className:"absolute inset-0 opacity-10",style:{background:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.1) 50%, transparent 75%)",backgroundSize:"200% 200%"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:5,repeat:1/0,repeatType:"reverse"}}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx(B,{variant:"outline",className:"mb-4 border-background/20 text-background",children:"Production Ready"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Tech Pack Automation"}),e.jsx("p",{className:"text-background/70 mb-6",children:"Industry-standard documentation produced automatically. Generate complete tech packs with specs, BOMs, and construction detailsfactory-ready in minutes."}),e.jsx("ul",{className:"space-y-4 mb-8",children:["Auto-generated specifications","Bill of Materials creation","Construction sequence details","Factory-ready PDF exports","Version control and history"].map((t,r)=>e.jsxs(W.li,{className:"flex items-center gap-3 text-background/80",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.1},children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-background/10 flex items-center justify-center",children:e.jsx(Wt,{className:"h-3 w-3"})}),e.jsx("span",{children:t})]},r))})]}),e.jsx(G,{className:"aspect-video bg-background/5 border-background/10 flex items-center justify-center",children:e.jsx(W.div,{animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0},children:e.jsx(Wt,{className:"h-32 w-32 text-background/20"})})})]})})]}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Resources"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Asset Library"}),e.jsx("p",{className:"text-muted-foreground",children:"Thousands of textures, fabrics, silhouettes, and templates at your fingertips."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:WK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:r*.05},children:e.jsx(Cr,{tiltAmount:15,children:e.jsx(G,{className:"text-center hover:shadow-lg transition-all duration-300",children:e.jsxs(Y,{className:"p-6",children:[e.jsx(W.div,{className:"h-12 w-12 rounded-lg bg-secondary flex items-center justify-center mx-auto mb-4",whileHover:{rotate:10,scale:1.1},children:e.jsx(As,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-medium mb-1",children:t.category}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.count})]})})})},t.category))})]})})]})}const KK=[{step:1,title:"Create",description:"Complete StyleBox challenges and build portfolio"},{step:2,title:"Submit",description:"Request publication through Studio"},{step:3,title:"Review",description:"Our team evaluates for marketplace fit"},{step:4,title:"Refine",description:"Production team creates tech packs"},{step:5,title:"Produce",description:"Manufacturing begins locally"},{step:6,title:"List",description:"Product goes live on marketplace"},{step:7,title:"Sell",description:"Customers purchase your designs"},{step:8,title:"Earn",description:"Receive revenue share monthly"}],GK=[{rank:"Novice",share:"10%",description:"Starting designers"},{rank:"Apprentice",share:"15%",description:"Building skills"},{rank:"Designer",share:"20%",description:"Consistent quality"},{rank:"Senior",share:"28%",description:"Proven track record"},{rank:"Lead",share:"34%",description:"Industry expert"},{rank:"Elite",share:"40%",description:"Top performer"}],YK=["Local production in Pakistan","Quality control at every step","Ethical manufacturing practices","Sustainable material sourcing","Direct factory relationships","Fast turnaround times"],XK=[{metric:"Total Sales",value:"PKR 145,000"},{metric:"This Month",value:"PKR 32,500"},{metric:"Products Live",value:"8"},{metric:"Avg. Order Value",value:"PKR 4,200"}];function QK(){return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Monetize Your Designs | Adorzia Marketplace",description:"Turn your creativity into income. From design to doorstep, we handle production and fulfillment. Keep up to 40% revenue share on every sale.",url:"https://studio.adorzia.com/monetization",keywords:"designer earnings, fashion monetization, revenue share, design income, sell designs online"}),e.jsxs("section",{className:"relative pt-24 pb-16 md:pt-32 md:pb-24 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-secondary/10"}),e.jsx(W.div,{className:"absolute top-10 right-10 w-80 h-80 bg-green-500/10 rounded-full blur-3xl",animate:{scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0}}),e.jsx(W.div,{className:"absolute bottom-10 left-10 w-96 h-96 bg-primary/10 rounded-full blur-3xl",animate:{scale:[1.3,1,1.3],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0}}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"Earn From Your Designs"}),e.jsxs("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold leading-[1.1] mb-6 tracking-tight",children:["Turn Creativity",e.jsx("br",{}),e.jsx("span",{className:"text-muted-foreground",children:"Into Income"})]}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8",children:"From design to doorstepwe handle production, fulfillment, and sales. You keep up to 40% of every product sold."}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{size:"lg",className:"group",children:["Start Earning",e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})})]}),e.jsx("section",{className:"py-20 md:py-28 border-t",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Publication Pipeline"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"How Publishing Works"}),e.jsx("p",{className:"text-muted-foreground",children:"Submit your StyleBox output. Adorzia handles refinement, tech packs, and production."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:KK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.05},children:e.jsx(Cr,{tiltAmount:8,children:e.jsx(G,{className:"h-full hover:shadow-lg transition-shadow",children:e.jsxs(Y,{className:"p-4",children:[e.jsx(W.div,{className:"text-3xl font-display font-bold text-primary/20 mb-2",whileHover:{scale:1.2,color:"var(--primary)"},children:String(t.step).padStart(2,"0")}),e.jsx("h3",{className:"font-semibold mb-1",children:t.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})})})},t.step))})]})}),e.jsx(Ol,{backgroundImage:fx.fashion,className:"py-20 md:py-28",speed:.3,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Transparent Earnings"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Revenue Share by Rank"}),e.jsx("p",{className:"text-muted-foreground",children:"Creators keep the majority. Higher ranks earn more per sale."})]}),e.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-6 gap-4",children:GK.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:r*.05},children:e.jsx(Cr,{tiltAmount:12,glareEnabled:t.rank==="Elite",children:e.jsx(G,{className:`backdrop-blur-sm bg-background/90 ${t.rank==="Elite"?"ring-2 ring-primary/50":""}`,children:e.jsxs(Y,{className:"p-6 text-center",children:[t.rank==="Elite"&&e.jsx(W.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:e.jsx(zt,{className:"h-5 w-5 mx-auto mb-2 text-warning"})}),e.jsx("h3",{className:"font-display font-semibold mb-1",children:t.rank}),e.jsx("p",{className:"text-3xl font-bold mb-2",children:t.share}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]})})})},t.rank))}),e.jsx(W.div,{className:"text-center mt-12",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:e.jsx("p",{className:"text-muted-foreground text-sm backdrop-blur-sm bg-background/80 inline-block px-4 py-2 rounded-lg",children:"Early F1/F2 founders receive +5% to +10% bonus on top of their rank share."})})]})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"End-to-End Production"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Manufacturing & Fulfillment"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Local production strength connected directly to designers. We handle everything from sourcing to shippingyou focus on design."}),e.jsx("ul",{className:"space-y-3",children:YK.map((t,r)=>e.jsxs(W.li,{className:"flex items-center gap-3",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.1},children:[e.jsx(Mt,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:t})]},r))})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{icon:wo,title:"Local Production",desc:"Made in Pakistan"},{icon:kl,title:"Fast Shipping",desc:"Nationwide delivery"},{icon:BD,title:"Transparent Pricing",desc:"Know your margins"},{icon:ks,title:"Scale Ready",desc:"Grow with demand"}].map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:15,children:e.jsx(G,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(Y,{className:"p-6 text-center",children:[e.jsx(W.div,{whileHover:{scale:1.2,rotate:10},className:"inline-block",children:e.jsx(t.icon,{className:"h-10 w-10 mx-auto mb-4 text-primary"})}),e.jsx("h3",{className:"font-semibold",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.desc})]})})})},t.title))})]})})}),e.jsx("section",{className:"py-20 md:py-28 bg-secondary/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Real-Time Tracking"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Earnings Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Track sales, royalties, and performance in real-time."})]}),e.jsx(Cr,{tiltAmount:5,className:"max-w-3xl mx-auto",children:e.jsx(G,{className:"overflow-hidden",children:e.jsxs(Y,{className:"p-8",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:XK.map((t,r)=>e.jsxs(W.div,{className:"text-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:t.metric}),e.jsx("p",{className:"text-2xl font-bold",children:t.value})]},t.metric))}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{children:"Monthly Goal Progress"}),e.jsx("span",{className:"font-medium",children:"65%"})]}),e.jsx(W.div,{initial:{width:0},whileInView:{width:"100%"},viewport:{once:!0},transition:{duration:1},children:e.jsx(la,{value:65,className:"h-2"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Next Payout"}),e.jsxs(W.span,{className:"font-medium flex items-center gap-2",animate:{opacity:[1,.5,1]},transition:{duration:2,repeat:1/0},children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"Dec 1, 2024"]})]})]})]})})})]})})]})}const Or={standard:{id:"standard",name:"Standard",subtitle:"Start Your Journey",targetAudience:"Aspiring Designers & Students",price:0,priceFormatted:"FREE",isOneTime:!1,maxSlots:null,lifetimeBonus:0,startingShare:8,features:["Base Profit Share starts at 8%","Scales up to 40% with skill","Access to community features","Basic portfolio tools"],badge:null,badgeColor:null,ctaText:"Join for Free",highlighted:!1,perks:["Publishing: Standard Lottery System","StyleBox: Easy Level Only","Manufacturing: Limited Slots"]},f2:{id:"f2",name:"F2  The Pioneer",subtitle:"Early Supporter",targetAudience:"Designers building a side income",price:25e3,priceFormatted:"PKR 25,000",isOneTime:!0,maxSlots:100,lifetimeBonus:5,startingShare:13,features:["+5% Lifetime Profit Bonus on every sale","Starting share: 13% (5% boost over free)","Unlock Medium & Hard StyleBoxes","Access to founder community",'"Pioneer" Silver Badge on profile'],badge:"Pioneer",badgeColor:"silver",ctaText:"Become a Pioneer",highlighted:!1,perks:["Publishing: Priority Queue","StyleBox: Unlocks Medium & Hard Levels","Private Discord/WhatsApp access"]},f1:{id:"f1",name:"F1  Founding Legacy",subtitle:"Industry Leader",targetAudience:"Professionals & Brands ready to lead",price:5e4,priceFormatted:"PKR 50,000",isOneTime:!0,maxSlots:50,lifetimeBonus:10,startingShare:18,features:["+10% Lifetime Profit Bonus on every sale","Starting share: 18% (2x+ the free rate)","Can earn up to 50% Profit Share (Platform Max)","All StyleBox levels including Team Challenges",'"Founding Legacy" Gold Badge (Verified)',"First-in-Line Production Queue"],badge:"Founding Legacy",badgeColor:"gold",ctaText:"Secure F1 Rank",highlighted:!0,highlightLabel:"Best Value",perks:["Publishing: TOP PRIORITY (First Review)","StyleBox: All Levels (Including Team)","Manufacturing: Guaranteed Slots"]}},uC=[{rank:"Apprentice",scRange:"0-300",baseShare:8,f2Share:13,f1Share:18},{rank:"Patternist",scRange:"301-800",baseShare:12,f2Share:17,f1Share:22},{rank:"Stylist",scRange:"801-2,000",baseShare:18,f2Share:23,f1Share:28},{rank:"Couturier",scRange:"2,001-3,200",baseShare:25,f2Share:30,f1Share:35},{rank:"Visionary",scRange:"3,201-5,000",baseShare:32,f2Share:37,f1Share:42},{rank:"Creative Director",scRange:"5,000+",baseShare:40,f2Share:45,f1Share:50}],OI={general:{label:"General Concept",icon:"HelpCircle"},styleboxes:{label:"StyleBoxes & Challenges",icon:"Box"},"ip-ranks":{label:"IP, Ranks & Profit Sharing",icon:"Crown"},teaming:{label:"Teaming & Collaboration",icon:"Users"},financials:{label:"Financials & Career",icon:"Wallet"},founders:{label:"The Foundational Ranks",icon:"Award"}},I_=[{category:"general",question:"Is Adorzia a design agency or a software company?",answer:'Neither. Adorzia is a decentralized Fashion R&D Lab. We provide the infrastructure (briefs, assets, and technical constraints) for designers to solve high-level fashion challenges. Think of us as the "Intel" inside the fashion industrywe create the logic that brands then use to manufacture physical products.'},{category:"general",question:"Do I have to use specific software like CLO3D or Browzwear?",answer:"No. Adorzia is tool-agnostic. Whether you use industry-standard tools, Blender, or custom-coded engines, we only care about the Final Result (the render) and your Proof of Logic (the technical exploded view and Hack Log)."},{category:"styleboxes",question:'What is a "StyleBox"?',answer:'A StyleBox is a technical mission briefing. It includes a trend direction, a standardized 3D avatar, fabric PBR maps, and a set of "Hard Constraints" (e.g., specific pattern limits or physics requirements). Your goal is to "hack" the brief to create the best variation.'},{category:"styleboxes",question:'What is the "Hack Log"?',answer:`The Hack Log is a short text submission where you explain the technical math and logic behind your design. It's where you prove how you solved the challenge (e.g., "I used a double-bonded heat seal to handle the weight of the digital velvet"). This is often more important than the visual render.`},{category:"ip-ranks",question:"Who owns the Intellectual Property (IP) of my designs?",answer:`It depends on the StyleBox type:

 Seasonal/Core Briefs: You own the IP. If Adorzia chooses to manufacture your design, we pay you a royalty based on your rank.

 Sponsored/Branded Briefs: The Sponsoring Brand owns the IP. In exchange, these boxes offer high Cash Bounties paid out immediately upon winning.`},{category:"ip-ranks",question:'How does the "Profit Share" system work?',answer:`Adorzia rewards experience. Your base profit share starts at 8% (Apprentice) and increases as you Rank Up by earning Style Credits (SC):

 Apprentice: 8%
 Patternist: 12%
 Stylist: 18%
 Couturier: 25%
 Visionary: 32%
 Creative Director: 40%

Founder bonuses stack on top: F2 Pioneer adds +5% (max 45%), F1 Founding Legacy adds +10% (max 50% platform cap).`},{category:"teaming",question:"Can I work with other designers on a StyleBox?",answer:'Yes! We encourage Teaming. You can form a "House" (team) with specialistsfor example, one Pattern Architect, one Material Alchemist, and one Creative Lead. Teams receive a +15% Synergy Bonus on all SC earned.'},{category:"teaming",question:"How do we split the rewards if we work in a team?",answer:`The SC and profit share are split equally among tagged members, or according to the "Team Contract" set by the Lead Designer. Every member's individual rank will progress based on their contribution.`},{category:"financials",question:"What are Style Credits (SC), and can I cash them out?",answer:'SC is your Reputation Currency. It cannot be cashed out directly, but it is the only way to unlock higher Profit Share tiers and access to "Insane" difficulty StyleBoxes with larger cash bounties.'},{category:"financials",question:"How do I get paid?",answer:`Payouts are triggered in two ways:

 Winning a Bounty: Immediate payment for Sponsored StyleBoxes.

 Marketplace Sales: Quarterly royalty payouts for any of your designs that Adorzia produces and sells.`},{category:"founders",question:'Why should I pay PKR 50,000 for an F1 "Founding Legacy" rank?',answer:`The F1 and F2 ranks are limited-edition "Stakeholder" positions:

 F1  Founding Legacy (PKR 50,000): Permanent +10% profit bonus for life, "Founding Legacy" Gold Badge, first-in-line production queue, only 50 slots available.

 F2  The Pioneer (PKR 25,000): Permanent +5% profit bonus, "Pioneer" Silver Badge, priority queue access, 100 slots available.

These give you higher visibility in the Discover directory and guaranteed production priority.`},{category:"founders",question:"Can I upgrade from Free to F1 later?",answer:"Only if slots are remaining. There are strictly 50 F1 Founding Legacy slots. Once they are sold out, they will never be created again."},{category:"founders",question:"What's the difference between F1 and F2?",answer:"F1 gives you +10% lifetime bonus, gold badge, and first-in-line production. F2 gives you +5% lifetime bonus, silver badge, and priority queue access. F1 is for serious professionals who want maximum earnings."},{category:"founders",question:"Do I need a subscription AND a founder title?",answer:"The subscription (when launched) gives you ACCESS to tools and challenges. The founder title gives you PROFITABILITY through permanent bonus commission. Serious designers will want both."},{category:"founders",question:"Is the founder payment refundable?",answer:"No. The F1/F2 fee is a license purchase that immediately unlocks digital assets, higher access levels, and permanent account upgrades. All sales are final."},{category:"founders",question:"How do I pay?",answer:"We accept Credit/Debit Cards and Bank Transfers. All prices are in PKR (Pakistani Rupee). Contact hello@adorzia.com for bank transfer details."}];I_.filter(t=>t.category==="founders");const JK=()=>Oe({queryKey:["founder-slots"],queryFn:async()=>{const{count:t,error:r}=await J.from("foundation_purchases").select("*",{count:"exact",head:!0}).eq("status","completed").eq("rank_id","f1"),{count:s,error:a}=await J.from("foundation_purchases").select("*",{count:"exact",head:!0}).eq("status","completed").eq("rank_id","f2");(r||a)&&console.error("Error fetching slot counts:",r||a);const n=Or.f1.maxSlots,i=Or.f2.maxSlots,o=t||0,l=s||0;return{f1Remaining:Math.max(0,n-o),f2Remaining:Math.max(0,i-l),f1Total:n,f2Total:i,f1Sold:o,f2Sold:l}},staleTime:6e4,refetchInterval:6e4});var gx="Collapsible",[ZK,DI]=Ur(gx),[eG,M_]=ZK(gx),RI=f.forwardRef((t,r)=>{const{__scopeCollapsible:s,open:a,defaultOpen:n,disabled:i,onOpenChange:o,...l}=t,[c,d]=Is({prop:a,defaultProp:n??!1,onChange:o,caller:gx});return e.jsx(eG,{scope:s,disabled:i,contentId:Kr(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:e.jsx(we.div,{"data-state":q_(c),"data-disabled":i?"":void 0,...l,ref:r})})});RI.displayName=gx;var II="CollapsibleTrigger",F_=f.forwardRef((t,r)=>{const{__scopeCollapsible:s,...a}=t,n=M_(II,s);return e.jsx(we.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":q_(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...a,ref:r,onClick:ve(t.onClick,n.onOpenToggle)})});F_.displayName=II;var L_="CollapsibleContent",$_=f.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=M_(L_,t.__scopeCollapsible);return e.jsx(qr,{present:s||n.open,children:({present:i})=>e.jsx(tG,{...a,ref:r,present:i})})});$_.displayName=L_;var tG=f.forwardRef((t,r)=>{const{__scopeCollapsible:s,present:a,children:n,...i}=t,o=M_(L_,s),[l,c]=f.useState(a),d=f.useRef(null),u=Xe(r,d),m=f.useRef(0),h=m.current,p=f.useRef(0),v=p.current,x=o.open||l,g=f.useRef(x),b=f.useRef(void 0);return f.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),Fr(()=>{const y=d.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const j=y.getBoundingClientRect();m.current=j.height,p.current=j.width,g.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(a)}},[o.open,a]),e.jsx(we.div,{"data-state":q_(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:x&&n})});function q_(t){return t?"open":"closed"}var MI=RI,rG=F_,sG=$_,Dn="Accordion",aG=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[z_,nG,iG]=_o(Dn),[vx]=Ur(Dn,[iG,DI]),B_=DI(),FI=L.forwardRef((t,r)=>{const{type:s,...a}=t,n=a,i=a;return e.jsx(z_.Provider,{scope:t.__scopeAccordion,children:s==="multiple"?e.jsx(dG,{...i,ref:r}):e.jsx(cG,{...n,ref:r})})});FI.displayName=Dn;var[LI,oG]=vx(Dn),[$I,lG]=vx(Dn,{collapsible:!1}),cG=L.forwardRef((t,r)=>{const{value:s,defaultValue:a,onValueChange:n=()=>{},collapsible:i=!1,...o}=t,[l,c]=Is({prop:s,defaultProp:a??"",onChange:n,caller:Dn});return e.jsx(LI,{scope:t.__scopeAccordion,value:L.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:L.useCallback(()=>i&&c(""),[i,c]),children:e.jsx($I,{scope:t.__scopeAccordion,collapsible:i,children:e.jsx(qI,{...o,ref:r})})})}),dG=L.forwardRef((t,r)=>{const{value:s,defaultValue:a,onValueChange:n=()=>{},...i}=t,[o,l]=Is({prop:s,defaultProp:a??[],onChange:n,caller:Dn}),c=L.useCallback(u=>l((m=[])=>[...m,u]),[l]),d=L.useCallback(u=>l((m=[])=>m.filter(h=>h!==u)),[l]);return e.jsx(LI,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:e.jsx($I,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(qI,{...i,ref:r})})})}),[uG,bx]=vx(Dn),qI=L.forwardRef((t,r)=>{const{__scopeAccordion:s,disabled:a,dir:n,orientation:i="vertical",...o}=t,l=L.useRef(null),c=Xe(l,r),d=nG(s),m=zi(n)==="ltr",h=ve(t.onKeyDown,p=>{if(!aG.includes(p.key))return;const v=p.target,x=d().filter(k=>!k.ref.current?.disabled),g=x.findIndex(k=>k.ref.current===v),b=x.length;if(g===-1)return;p.preventDefault();let y=g;const j=0,S=b-1,w=()=>{y=g+1,y>S&&(y=j)},_=()=>{y=g-1,y<j&&(y=S)};switch(p.key){case"Home":y=j;break;case"End":y=S;break;case"ArrowRight":i==="horizontal"&&(m?w():_());break;case"ArrowDown":i==="vertical"&&w();break;case"ArrowLeft":i==="horizontal"&&(m?_():w());break;case"ArrowUp":i==="vertical"&&_();break}const N=y%b;x[N].ref.current?.focus()});return e.jsx(uG,{scope:s,disabled:a,direction:n,orientation:i,children:e.jsx(z_.Slot,{scope:s,children:e.jsx(we.div,{...o,"data-orientation":i,ref:c,onKeyDown:a?void 0:h})})})}),bf="AccordionItem",[mG,U_]=vx(bf),zI=L.forwardRef((t,r)=>{const{__scopeAccordion:s,value:a,...n}=t,i=bx(bf,s),o=oG(bf,s),l=B_(s),c=Kr(),d=a&&o.value.includes(a)||!1,u=i.disabled||t.disabled;return e.jsx(mG,{scope:s,open:d,disabled:u,triggerId:c,children:e.jsx(MI,{"data-orientation":i.orientation,"data-state":KI(d),...l,...n,ref:r,disabled:u,open:d,onOpenChange:m=>{m?o.onItemOpen(a):o.onItemClose(a)}})})});zI.displayName=bf;var BI="AccordionHeader",UI=L.forwardRef((t,r)=>{const{__scopeAccordion:s,...a}=t,n=bx(Dn,s),i=U_(BI,s);return e.jsx(we.h3,{"data-orientation":n.orientation,"data-state":KI(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:r})});UI.displayName=BI;var X0="AccordionTrigger",VI=L.forwardRef((t,r)=>{const{__scopeAccordion:s,...a}=t,n=bx(Dn,s),i=U_(X0,s),o=lG(X0,s),l=B_(s);return e.jsx(z_.ItemSlot,{scope:s,children:e.jsx(rG,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":n.orientation,id:i.triggerId,...l,...a,ref:r})})});VI.displayName=X0;var WI="AccordionContent",HI=L.forwardRef((t,r)=>{const{__scopeAccordion:s,...a}=t,n=bx(Dn,s),i=U_(WI,s),o=B_(s);return e.jsx(sG,{role:"region","aria-labelledby":i.triggerId,"data-orientation":n.orientation,...o,...a,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});HI.displayName=WI;function KI(t){return t?"open":"closed"}var hG=FI,fG=zI,pG=UI,GI=VI,YI=HI;const V_=hG,Bn=f.forwardRef(({className:t,...r},s)=>e.jsx(fG,{ref:s,className:q("border-b",t),...r}));Bn.displayName="AccordionItem";const Un=f.forwardRef(({className:t,children:r,...s},a)=>e.jsx(pG,{className:"flex",children:e.jsxs(GI,{ref:a,className:q("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[r,e.jsx(di,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Un.displayName=GI.displayName;const Vn=f.forwardRef(({className:t,children:r,...s},a)=>e.jsx(YI,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:e.jsx("div",{className:q("pb-4 pt-0",t),children:r})}));Vn.displayName=YI.displayName;const xG=({value:t,suffix:r=""})=>e.jsxs(W.span,{initial:{opacity:0,scale:.5},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{type:"spring",stiffness:100},children:[t.toLocaleString(),r]});function gG(){const{data:t,isLoading:r}=JK(),s=f.useRef(null),{scrollYProgress:a}=Bp({target:s,offset:["start start","end start"]}),n=Wn(a,[0,1],[1,0]),i=Wn(a,[0,1],[1,.95]),o=t?.f1Remaining??47,l=t?.f2Remaining??89,c=t?.f1Total??50,d=t?.f2Total??100,u=(c-o)/c*100,m=(d-l)/d*100;return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Pricing & Founder Access | Adorzia Studio",description:"Access professional design tools with monthly subscriptions. Secure lifetime profit boosts with limited Founder Titles. Up to 50% revenue share.",url:"https://studio.adorzia.com/pricing",keywords:"adorzia pricing, fashion design subscription, founder access, revenue share, designer earnings"}),e.jsxs(W.section,{ref:s,style:{opacity:n,scale:i},className:"relative pt-24 pb-20 md:pt-32 md:pb-28 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/10"}),e.jsx(W.div,{className:"absolute top-10 left-1/4 w-[500px] h-[500px] bg-gradient-to-r from-primary/20 to-purple-500/10 rounded-full blur-3xl",animate:{x:[0,80,0],y:[0,40,0],scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),e.jsx(W.div,{className:"absolute bottom-10 right-1/4 w-[400px] h-[400px] bg-gradient-to-l from-secondary/30 to-blue-500/10 rounded-full blur-3xl",animate:{x:[0,-60,0],y:[0,-30,0],opacity:[.2,.4,.2]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:2}}),[...Array(5)].map((h,p)=>e.jsx(W.div,{className:"absolute w-2 h-2 bg-primary/40 rounded-full",style:{left:`${20+p*15}%`,top:`${30+p%3*20}%`},animate:{y:[0,-20,0],opacity:[.3,.8,.3],scale:[1,1.5,1]},transition:{duration:3+p,repeat:1/0,delay:p*.5}},p)),e.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center relative",children:e.jsxs(W.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[e.jsx(W.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:e.jsxs(B,{variant:"secondary",className:"mb-6 px-5 py-2 text-sm bg-secondary/80 backdrop-blur-sm",children:[e.jsx(ct,{className:"h-4 w-4 mr-2 animate-pulse"}),"Subscriptions & Founder Access"]})}),e.jsxs("h1",{className:"font-display text-4xl md:text-5xl lg:text-7xl font-bold leading-[1.05] mb-8 tracking-tight",children:[e.jsx(W.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:"Access Tools. Earn More."}),e.jsx("br",{}),e.jsx(W.span,{className:"bg-gradient-to-r from-primary via-purple-500 to-primary bg-[length:200%_auto] bg-clip-text text-transparent",initial:{opacity:0,y:20},animate:{opacity:1,y:0,backgroundPosition:["0% center","100% center","0% center"]},transition:{opacity:{delay:.5},y:{delay:.5},backgroundPosition:{duration:5,repeat:1/0,ease:"linear"}},children:"Own Your Legacy."})]}),e.jsxs(W.p,{className:"text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[e.jsx("strong",{className:"text-foreground",children:"Subscriptions"})," give you access. ",e.jsx("strong",{className:"text-foreground",children:"Founder Titles"})," give you profit."]}),e.jsxs(W.div,{className:"flex flex-wrap justify-center gap-8 md:gap-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-primary",children:e.jsx(xG,{value:o+l})}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Founder Slots Left"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold",children:"50%"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Max Profit Share"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold text-green-500",children:""}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Lifetime Benefits"})]})]})]})}),e.jsx(W.div,{className:"absolute bottom-6 left-1/2 -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:e.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-muted-foreground/30 flex items-start justify-center p-2",children:e.jsx(W.div,{className:"w-1 h-2 bg-muted-foreground/50 rounded-full",animate:{y:[0,12,0]},transition:{duration:2,repeat:1/0}})})})]}),e.jsx("section",{className:"py-20 md:py-28 bg-gradient-to-b from-background to-secondary/20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs(B,{variant:"outline",className:"mb-4 px-4 py-1.5",children:[e.jsx(nl,{className:"h-3.5 w-3.5 mr-2"}),"Monthly Subscriptions"]}),e.jsx(yt,{className:"font-display text-3xl md:text-5xl font-bold tracking-tight mb-4",children:"Access the Studio"}),e.jsxs("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:["Subscribe to access StyleBox challenges, portfolio tools, and production requests.",e.jsx("span",{className:"block mt-2 text-primary font-medium",children:"Coming Soon  Prebook available for Founders"})]})]}),e.jsx("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8",children:Object.keys(Lu).map((h,p)=>{const v=Lu[h],x=h==="pro",g=h==="basic";return e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:p*.1},className:x?"":"lg:pt-4",children:e.jsxs(G,{className:`h-full relative ${x?"border-primary shadow-xl":"hover:shadow-lg"} transition-all duration-300`,children:[x&&e.jsx(B,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-primary",children:"Most Popular"}),!g&&e.jsx(B,{variant:"secondary",className:"absolute -top-3 right-4",children:"Coming Soon"}),e.jsxs(je,{className:"text-center pb-4",children:[e.jsxs("div",{className:`h-14 w-14 rounded-2xl flex items-center justify-center mx-auto mb-4 ${h==="basic"?"bg-secondary":h==="pro"?"bg-primary/10":"bg-amber-100 dark:bg-amber-900/30"}`,children:[h==="basic"&&e.jsx(At,{className:"h-7 w-7"}),h==="pro"&&e.jsx(ct,{className:"h-7 w-7 text-primary"}),h==="elite"&&e.jsx(zt,{className:"h-7 w-7 text-amber-600"})]}),e.jsx("h3",{className:"font-display text-2xl font-bold",children:v.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.subtitle}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-4xl font-bold",children:v.priceFormatted.replace("/mo","")}),!g&&e.jsx("span",{className:"text-muted-foreground",children:"/month"})]})]}),e.jsxs(Y,{children:[e.jsx("div",{className:"space-y-3 mb-6",children:v.features.map((b,y)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(gr,{className:"h-4 w-4 text-primary shrink-0 mt-0.5"}),e.jsx("span",{children:b})]},y))}),e.jsx(T,{className:"w-full",variant:x?"default":"outline",disabled:!g,children:g?"Free Access":"Coming Soon"})]})]})},h)})})]})}),e.jsx("section",{className:"py-12 bg-secondary/30",children:e.jsx("div",{className:"max-w-4xl mx-auto px-6 text-center",children:e.jsx(W.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:e.jsxs("div",{className:"inline-flex items-center gap-4 bg-background border rounded-full px-8 py-4 shadow-lg",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-foreground",children:"Subscription = Access"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tools & Challenges"})]}),e.jsx("div",{className:"text-3xl",children:"+"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-foreground",children:"Founder Title = Profit"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Lifetime Bonus"})]}),e.jsx("div",{className:"text-3xl",children:"="}),e.jsx("div",{className:"text-left",children:e.jsx("p",{className:"font-bold text-primary text-lg",children:"Maximum Earnings"})})]})})})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs(B,{variant:"outline",className:"mb-4 px-4 py-1.5 border-amber-500/50 text-amber-600",children:[e.jsx(zt,{className:"h-3.5 w-3.5 mr-2"}),"Lifetime Founder Titles"]}),e.jsx(yt,{className:"font-display text-3xl md:text-5xl font-bold tracking-tight mb-4",children:"Secure Your Legacy"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"One-time payment. Permanent profit boost. Limited slots."})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8 items-stretch",children:[e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:0},className:"lg:pt-8",children:e.jsx(Cr,{tiltAmount:4,glareEnabled:!1,children:e.jsxs(G,{className:"h-full bg-gradient-to-b from-background to-secondary/20 hover:shadow-xl transition-all duration-500",children:[e.jsxs(je,{className:"text-center pb-4",children:[e.jsx(W.div,{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-secondary to-secondary/50 flex items-center justify-center mx-auto mb-5 shadow-lg",whileHover:{rotate:360,scale:1.1},transition:{duration:.6},children:e.jsx(At,{className:"h-8 w-8"})}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["For: ",Or.standard.targetAudience]}),e.jsx("h3",{className:"font-display text-2xl font-bold",children:Or.standard.name}),e.jsx("div",{className:"mt-5",children:e.jsx("span",{className:"text-5xl font-bold",children:Or.standard.priceFormatted})}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-3",children:["Base Profit Share: ",e.jsxs("span",{className:"font-semibold text-foreground",children:[Or.standard.startingShare,"%"]})]})]}),e.jsxs(Y,{className:"pt-0",children:[e.jsx("div",{className:"space-y-4 mb-8",children:Or.standard.perks.map((h,p)=>e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-muted flex items-center justify-center",children:e.jsx(Ze,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("span",{children:h})]},p))}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{className:"w-full h-12 group text-base",variant:"outline",children:[Or.standard.ctaText,e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})}),e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.15},className:"lg:pt-4",children:e.jsx(Cr,{tiltAmount:5,glareEnabled:!1,children:e.jsxs(G,{className:"h-full relative overflow-hidden border-slate-400/40 bg-gradient-to-b from-slate-100/10 to-background hover:shadow-xl hover:border-slate-400/60 transition-all duration-500 dark:border-slate-500/40",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-400/10 via-transparent to-transparent opacity-50"}),e.jsxs(je,{className:"text-center pb-4 relative",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs(B,{variant:"secondary",className:"text-xs px-3 py-1 bg-slate-200/50 dark:bg-slate-700/50",children:[e.jsx(mt,{className:"h-3 w-3 mr-1.5"}),l," of ",d," Slots Left"]})}),e.jsxs("div",{className:"mb-5",children:[e.jsx(la,{value:m,className:"h-2 bg-slate-200/50 dark:bg-slate-700/50"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[Math.round(m),"% claimed"]})]}),e.jsx(W.div,{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-slate-400 to-slate-500 flex items-center justify-center mx-auto mb-5 shadow-lg",whileHover:{rotate:360,scale:1.1},transition:{duration:.6},children:e.jsx(qi,{className:"h-8 w-8 text-white"})}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["For: ",Or.f2.targetAudience]}),e.jsx("h3",{className:"font-display text-2xl font-bold",children:Or.f2.name}),e.jsxs("div",{className:"mt-5",children:[e.jsx("span",{className:"text-5xl font-bold",children:Or.f2.priceFormatted}),e.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"One-Time Payment"})]})]}),e.jsxs(Y,{className:"pt-0 relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-200/50 to-slate-100/30 dark:from-slate-700/50 dark:to-slate-800/30 rounded-xl p-4 mb-6 text-center border border-slate-300/30 dark:border-slate-600/30",children:[e.jsxs("span",{className:"font-bold text-lg",children:["+",Or.f2.lifetimeBonus,"% Lifetime Bonus"]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Starting Share: ",e.jsxs("span",{className:"font-semibold text-foreground",children:[Or.f2.startingShare,"%"]})]})]}),e.jsx("div",{className:"space-y-4 mb-8",children:Or.f2.features.slice(0,4).map((h,p)=>e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-200/50 dark:bg-slate-700/50 flex items-center justify-center",children:e.jsx(gr,{className:"h-3.5 w-3.5"})}),e.jsx("span",{children:h})]},p))}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{className:"w-full h-12 group text-base bg-slate-600 hover:bg-slate-700 text-white",children:[Or.f2.ctaText,e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})}),e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},children:e.jsx(Cr,{tiltAmount:6,glareEnabled:!0,children:e.jsxs(G,{className:"h-full relative overflow-hidden border-2 border-amber-500 shadow-2xl bg-gradient-to-b from-amber-50/50 to-background dark:from-amber-900/20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 via-transparent to-primary/5"}),e.jsx(W.div,{className:"absolute -top-20 -right-20 w-40 h-40 bg-amber-500/20 rounded-full blur-3xl",animate:{opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0}}),e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-10",children:e.jsxs(B,{className:"bg-amber-500 text-white px-5 py-1.5 text-sm shadow-lg",children:[e.jsx(Ya,{className:"h-3.5 w-3.5 mr-1.5"}),Or.f1.highlightLabel]})}),e.jsxs(je,{className:"text-center pb-4 pt-10 relative",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs(B,{variant:"destructive",className:"text-xs px-3 py-1 animate-pulse",children:[e.jsx(Vs,{className:"h-3 w-3 mr-1.5"}),"Only ",o," of ",c," Slots Left!"]})}),e.jsxs("div",{className:"mb-5",children:[e.jsx(la,{value:u,className:"h-2 bg-amber-200/50 dark:bg-amber-900/30"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[Math.round(u),"% claimed  Going fast!"]})]}),e.jsx(W.div,{className:"h-18 w-18 rounded-2xl bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center mx-auto mb-5 shadow-xl",whileHover:{rotate:360,scale:1.1},transition:{duration:.6},style:{width:72,height:72},children:e.jsx(zt,{className:"h-9 w-9 text-white"})}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["For: ",Or.f1.targetAudience]}),e.jsx("h3",{className:"font-display text-2xl font-bold",children:Or.f1.name}),e.jsxs("div",{className:"mt-5",children:[e.jsx("span",{className:"text-5xl font-bold",children:Or.f1.priceFormatted}),e.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"One-Time Payment"})]})]}),e.jsxs(Y,{className:"pt-0 relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-500/20 to-amber-400/10 rounded-xl p-4 mb-6 text-center border border-amber-500/30",children:[e.jsxs("span",{className:"font-bold text-xl text-amber-600 dark:text-amber-400",children:["+",Or.f1.lifetimeBonus,"% Lifetime Bonus"]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Starting Share: ",e.jsxs("span",{className:"font-semibold text-foreground",children:[Or.f1.startingShare,"%"]}),"  Max ",e.jsx("span",{className:"font-bold text-green-500",children:"50%"})]})]}),e.jsx("div",{className:"space-y-4 mb-8",children:Or.f1.features.slice(0,5).map((h,p)=>e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-amber-500/20 flex items-center justify-center",children:e.jsx(gr,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-400"})}),e.jsx("span",{className:"font-medium",children:h})]},p))}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{className:"w-full h-12 group text-base bg-amber-500 hover:bg-amber-600 text-white shadow-lg",children:[Or.f1.ctaText,e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})})]})]})}),e.jsx("section",{className:"py-20 md:py-28 bg-gradient-to-b from-secondary/50 via-secondary/30 to-background",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-14",children:[e.jsxs(B,{variant:"outline",className:"mb-4 px-4 py-1.5",children:[e.jsx(ks,{className:"h-3.5 w-3.5 mr-2"}),'The "Game of Ranks"']}),e.jsx(yt,{className:"font-display text-3xl md:text-5xl font-bold mb-5 tracking-tight",children:"How You Earn"}),e.jsxs("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:["Your income is a combination of your ",e.jsx("strong",{className:"text-foreground",children:"Skill Rank"})," + ",e.jsx("strong",{className:"text-foreground",children:"Founder Title"})]})]}),e.jsx(W.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"mb-14",children:e.jsxs(G,{className:"bg-gradient-to-r from-foreground to-foreground/90 text-background p-8 md:p-10 text-center overflow-hidden relative",children:[e.jsx(W.div,{className:"absolute inset-0 opacity-10",style:{background:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.2) 50%, transparent 75%)",backgroundSize:"200% 200%"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),e.jsx("p",{className:"text-sm text-background/60 mb-3 uppercase tracking-wider",children:"The Formula"}),e.jsxs("p",{className:"text-2xl md:text-3xl font-display font-bold relative",children:["Total Earnings = ",e.jsx("span",{className:"text-primary",children:"(Skill Rank %)"})," + ",e.jsx("span",{className:"text-amber-400",children:"(Founder Bonus)"})]})]})}),e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(G,{className:"overflow-hidden shadow-xl",children:e.jsx(Y,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/70",children:[e.jsx("th",{className:"text-left p-5 font-semibold",children:"Skill Rank"}),e.jsx("th",{className:"text-center p-5 font-semibold text-muted-foreground",children:"SC Range"}),e.jsx("th",{className:"text-center p-5 font-semibold",children:"Free"}),e.jsx("th",{className:"text-center p-5 font-semibold bg-slate-100/50 dark:bg-slate-800/50",children:"+F2 (+5%)"}),e.jsx("th",{className:"text-center p-5 font-semibold bg-amber-100/50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400",children:"+F1 (+10%)"})]})}),e.jsx("tbody",{children:uC.map((h,p)=>e.jsxs(W.tr,{className:`${p<uC.length-1?"border-b":""} hover:bg-muted/30 transition-colors`,initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:p*.05},children:[e.jsx("td",{className:"p-5 font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[h.rank,h.rank==="Creative Director"&&e.jsx(B,{variant:"secondary",className:"text-xs",children:"Max Skill"})]})}),e.jsx("td",{className:"p-5 text-center text-muted-foreground text-sm",children:h.scRange}),e.jsxs("td",{className:"p-5 text-center text-muted-foreground",children:[h.baseShare,"%"]}),e.jsxs("td",{className:"p-5 text-center bg-slate-50/50 dark:bg-slate-800/30 font-medium",children:[h.f2Share,"%"]}),e.jsxs("td",{className:"p-5 text-center bg-amber-50/50 dark:bg-amber-900/20 font-bold text-lg text-amber-700 dark:text-amber-400",children:[h.f1Share,"%",h.rank==="Creative Director"&&e.jsx("span",{className:"text-xs text-green-500 ml-1",children:"(MAX)"})]})]},h.rank))})]})})})})})]})}),e.jsx("section",{className:"py-16 md:py-24",children:e.jsx("div",{className:"max-w-4xl mx-auto px-6",children:e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsxs(G,{className:"border-2 border-dashed border-primary/40 bg-gradient-to-br from-primary/5 to-transparent overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsx(Y,{className:"p-8 md:p-10 relative",children:e.jsxs("div",{className:"flex items-start gap-5",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(xd,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Transparency Note"}),e.jsx("h3",{className:"font-display text-2xl font-bold mb-5",children:"Why Buy Both?"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["Subscription gives you ",e.jsx("strong",{className:"text-foreground",children:"access to tools"}),". Founder title gives you ",e.jsx("strong",{className:"text-foreground",children:"permanent earnings boost"}),"."]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(nl,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-foreground",children:"Subscription (Monthly):"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"Access to StyleBoxes, portfolio, production requests."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(zt,{className:"h-4 w-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-foreground",children:"Founder Title (One-Time):"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"Permanent +5% or +10% on every sale, forever."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(ks,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-foreground",children:"The ROI:"}),e.jsx("span",{className:"text-muted-foreground ml-1",children:"Sell 5-10 items and the founder fee pays for itself. Everything after is pure extra profit."})]})]})]}),e.jsx("div",{className:"mt-8 p-4 bg-foreground/5 rounded-xl border border-foreground/10",children:e.jsxs("p",{className:"font-semibold text-foreground text-center",children:[" Buying F1/F2 now is buying a ",e.jsx("span",{className:"text-primary",children:"permanent advantage"})," before subscriptions launch."]})})]})]})})]})})})}),e.jsx("section",{className:"py-20 md:py-28 bg-secondary/20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-14",children:[e.jsx(B,{variant:"outline",className:"mb-4 px-4 py-1.5",children:"Designer's FAQ"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-muted-foreground",children:"Everything about IP, profit sharing, and the Adorzia model."})]}),(()=>{const h={general:qp,styleboxes:Mr,"ip-ranks":zt,teaming:mt,financials:sf,founders:Ya},p=I_.reduce((v,x)=>(v[x.category]||(v[x.category]=[]),v[x.category].push(x),v),{});return e.jsx("div",{className:"space-y-10",children:Object.keys(p).map((v,x)=>{const g=h[v],b=OI[v];return e.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:x*.05},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(g,{className:"h-4 w-4 text-primary"})}),e.jsx("h3",{className:"font-semibold text-lg",children:b.label})]}),e.jsx(V_,{type:"single",collapsible:!0,className:"space-y-3",children:p[v].map((y,j)=>e.jsxs(Bn,{value:`${v}-${j}`,className:"bg-background rounded-xl border px-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(Un,{className:"text-left font-semibold hover:no-underline py-5",children:y.question}),e.jsx(Vn,{className:"text-muted-foreground pb-5 whitespace-pre-line",children:y.answer})]},j))})]},v)})})})(),e.jsxs(W.div,{className:"mt-12 text-center",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:[e.jsxs("p",{className:"text-muted-foreground mb-4",children:["Have more questions? Contact us at"," ",e.jsx("a",{href:"mailto:hello@adorzia.com",className:"text-primary hover:underline font-medium",children:"hello@adorzia.com"})]}),e.jsx(fe,{to:"/support",children:e.jsxs(T,{variant:"outline",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Go to Support Center"]})})]})]})}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-lg border-t p-4 flex gap-3 lg:hidden z-50",children:[e.jsx(fe,{to:"/auth",className:"flex-1",children:e.jsx(T,{variant:"outline",className:"w-full",children:"Join Free"})}),e.jsx(fe,{to:"/auth",className:"flex-1",children:e.jsxs(T,{className:"w-full bg-amber-500 hover:bg-amber-600 text-white",children:[e.jsx(zt,{className:"h-4 w-4 mr-2"}),"F1  ",o," left"]})})]}),e.jsx("div",{className:"h-20 lg:hidden"})]})}const vG=[{icon:ri,title:"Host Challenges",desc:"Engage designers through StyleBoxes and Styleathon events tailored to your brand.",features:["Custom brief creation","Branded challenges","Winner showcases"]},{icon:mt,title:"Collaborations",desc:"Co-create collections with emerging talent and fresh perspectives.",features:["Designer matching","Creative direction","Exclusive drops"]},{icon:wo,title:"White-Label Production",desc:"Scalable, quality manufacturing handled end-to-end.",features:["Local production","Quality control","Fast turnaround"]}],bG=[{value:"500+",label:"Active Designers"},{value:"50+",label:"Brand Partners"},{value:"10K+",label:"Products Created"},{value:"95%",label:"Partner Satisfaction"}],yG=[{step:1,title:"Discovery Call",desc:"We learn about your brand goals and target audience."},{step:2,title:"Custom Proposal",desc:"Tailored partnership plan with clear deliverables."},{step:3,title:"Designer Matching",desc:"Connect with designers that fit your aesthetic."},{step:4,title:"Execution",desc:"Seamless collaboration from concept to delivery."}],jG=[{quote:"Adorzia connected us with incredible emerging talent. The collaboration exceeded our expectations.",author:"Sarah Ahmed",role:"Brand Director",company:"Lahore Fashion House"},{quote:"The StyleBox challenges brought fresh perspectives we never would have found otherwise.",author:"Kamran Ali",role:"Creative Lead",company:"Urban Threads Co."}];function wG(){return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Brand Partnerships | Adorzia",description:"Partner with Adorzia to access Pakistan's top emerging design talent and manufacturing infrastructure. Host challenges, collaborate, and scale production.",url:"https://studio.adorzia.com/brands",keywords:"brand partnerships, fashion collaboration, white label production, design challenges, pakistan manufacturing"}),e.jsxs("section",{className:"relative pt-24 pb-16 md:pt-32 md:pb-24 overflow-hidden",children:[e.jsx(W.div,{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url(${H7.collaboration})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background/95 to-background/90"}),e.jsx(W.div,{className:"absolute top-20 right-10 w-96 h-96 bg-primary/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0}}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"Brand Partnerships"}),e.jsx("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold leading-[1.1] mb-6 tracking-tight",children:"Partner With Adorzia"}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8",children:"Access Pakistan's top emerging design talent and manufacturing infrastructure. From custom challenges to full productionwe're your creative partner."}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(T,{size:"lg",className:"group",children:["Contact Sales",e.jsx(St,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]}),e.jsx(T,{size:"lg",variant:"outline",children:"View Case Studies"})]})]})})]}),e.jsx("section",{className:"py-16 border-t border-b bg-secondary/30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:bG.map((t,r)=>e.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},className:"text-center",children:[e.jsx(W.p,{className:"text-4xl md:text-5xl font-bold font-display mb-2",initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{delay:r*.1,type:"spring"},children:t.value}),e.jsx("p",{className:"text-muted-foreground",children:t.label})]},t.label))})})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Partnership Options"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"How We Partner"}),e.jsx("p",{className:"text-muted-foreground",children:"Flexible engagement models tailored to your brand's needs."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:vG.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:8,glareEnabled:!0,children:e.jsx(G,{className:"h-full hover:shadow-xl transition-all duration-300",children:e.jsxs(Y,{className:"p-8",children:[e.jsx(W.div,{className:"h-14 w-14 rounded-xl bg-primary/10 flex items-center justify-center mb-6",whileHover:{scale:1.1,rotate:5},children:e.jsx(t.icon,{className:"h-7 w-7 text-primary"})}),e.jsx("h3",{className:"font-display text-xl font-semibold mb-3",children:t.title}),e.jsx("p",{className:"text-muted-foreground mb-6",children:t.desc}),e.jsx("ul",{className:"space-y-2",children:t.features.map((s,a)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Mt,{className:"h-4 w-4 text-primary"}),s]},a))})]})})})},t.title))})]})}),e.jsx(Ol,{backgroundImage:fx.studio,className:"py-20 md:py-28",speed:.3,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Our Process"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Simple Partnership Journey"}),e.jsx("p",{className:"text-muted-foreground",children:"From first call to final deliverya streamlined experience."})]}),e.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:yG.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(G,{className:"h-full backdrop-blur-sm bg-background/90",children:e.jsxs(Y,{className:"p-6 text-center",children:[e.jsx(W.div,{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center mx-auto mb-4 font-bold text-lg",whileHover:{scale:1.2},children:t.step}),e.jsx("h3",{className:"font-display font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.desc})]})})},t.step))})]})}),e.jsx("section",{className:"py-20 md:py-28 bg-secondary/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Partner Stories"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"What Brands Say"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:jG.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.1},children:e.jsx(Cr,{tiltAmount:5,children:e.jsx(G,{className:"h-full",children:e.jsxs(Y,{className:"p-8",children:[e.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((s,a)=>e.jsx(At,{className:"h-4 w-4 fill-warning text-warning"},a))}),e.jsxs("p",{className:"text-lg mb-6 italic",children:['"',t.quote,'"']}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:t.author}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.role,", ",t.company]})]})]})})})},t.author))})]})})]})}const nt=f.forwardRef(({className:t,...r},s)=>e.jsx("textarea",{className:q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));nt.displayName="Textarea";function qu(t,[r,s]){return Math.min(s,Math.max(r,t))}function NG(t){const r=_G(t),s=f.forwardRef((a,n)=>{const{children:i,...o}=a,l=f.Children.toArray(i),c=l.find(CG);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return e.jsx(r,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return e.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${t}.Slot`,s}function _G(t){const r=f.forwardRef((s,a)=>{const{children:n,...i}=s;if(f.isValidElement(n)){const o=AG(n),l=kG(i,n.props);return n.type!==f.Fragment&&(l.ref=a?Js(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var SG=Symbol("radix.slottable");function CG(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SG}function kG(t,r){const s={...r};for(const a in r){const n=t[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...t,...s}}function AG(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var PG=[" ","Enter","ArrowUp","ArrowDown"],EG=[" ","Enter"],dl="Select",[yx,jx,TG]=_o(dl),[Cd]=Ur(dl,[TG,Co]),wx=Co(),[OG,Po]=Cd(dl),[DG,RG]=Cd(dl),XI=t=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:p,form:v}=t,x=wx(r),[g,b]=f.useState(null),[y,j]=f.useState(null),[S,w]=f.useState(!1),_=zi(d),[N,k]=Is({prop:a,defaultProp:n??!1,onChange:i,caller:dl}),[C,P]=Is({prop:o,defaultProp:l,onChange:c,caller:dl}),A=f.useRef(null),O=g?v||!!g.closest("form"):!0,[I,F]=f.useState(new Set),$=Array.from(I).map(E=>E.props.value).join(";");return e.jsx(ex,{...x,children:e.jsxs(OG,{required:p,scope:r,trigger:g,onTriggerChange:b,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:S,onValueNodeHasChildrenChange:w,contentId:Kr(),value:C,onValueChange:P,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:A,disabled:h,children:[e.jsx(yx.Provider,{scope:r,children:e.jsx(DG,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(E=>{F(M=>new Set(M).add(E))},[]),onNativeOptionRemove:f.useCallback(E=>{F(M=>{const z=new Set(M);return z.delete(E),z})},[]),children:s})}),O?e.jsxs(yM,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:C,onChange:E=>P(E.target.value),disabled:h,form:v,children:[C===void 0?e.jsx("option",{value:""}):null,Array.from(I)]},$):null]})})};XI.displayName=dl;var QI="SelectTrigger",JI=f.forwardRef((t,r)=>{const{__scopeSelect:s,disabled:a=!1,...n}=t,i=wx(s),o=Po(QI,s),l=o.disabled||a,c=Xe(r,o.onTriggerChange),d=jx(s),u=f.useRef("touch"),[m,h,p]=wM(x=>{const g=d().filter(j=>!j.disabled),b=g.find(j=>j.value===o.value),y=NM(g,x,b);y!==void 0&&o.onValueChange(y.value)}),v=x=>{l||(o.onOpenChange(!0),p()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(Im,{asChild:!0,...i,children:e.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":jM(o.value)?"":void 0,...n,ref:c,onClick:ve(n.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&v(x)}),onPointerDown:ve(n.onPointerDown,x=>{u.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:ve(n.onKeyDown,x=>{const g=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(g&&x.key===" ")&&PG.includes(x.key)&&(v(),x.preventDefault())})})})});JI.displayName=QI;var ZI="SelectValue",eM=f.forwardRef((t,r)=>{const{__scopeSelect:s,className:a,style:n,children:i,placeholder:o="",...l}=t,c=Po(ZI,s),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=Xe(r,c.onValueNodeChange);return Fr(()=>{d(u)},[d,u]),e.jsx(we.span,{...l,ref:m,style:{pointerEvents:"none"},children:jM(c.value)?e.jsx(e.Fragment,{children:o}):i})});eM.displayName=ZI;var IG="SelectIcon",tM=f.forwardRef((t,r)=>{const{__scopeSelect:s,children:a,...n}=t;return e.jsx(we.span,{"aria-hidden":!0,...n,ref:r,children:a||""})});tM.displayName=IG;var MG="SelectPortal",rM=t=>e.jsx(bd,{asChild:!0,...t});rM.displayName=MG;var ul="SelectContent",sM=f.forwardRef((t,r)=>{const s=Po(ul,t.__scopeSelect),[a,n]=f.useState();if(Fr(()=>{n(new DocumentFragment)},[]),!s.open){const i=a;return i?km.createPortal(e.jsx(aM,{scope:t.__scopeSelect,children:e.jsx(yx.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(nM,{...t,ref:r})});sM.displayName=ul;var dn=10,[aM,Eo]=Cd(ul),FG="SelectContentImpl",LG=NG("SelectContent.RemoveScroll"),nM=f.forwardRef((t,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:x,avoidCollisions:g,...b}=t,y=Po(ul,s),[j,S]=f.useState(null),[w,_]=f.useState(null),N=Xe(r,Q=>S(Q)),[k,C]=f.useState(null),[P,A]=f.useState(null),O=jx(s),[I,F]=f.useState(!1),$=f.useRef(!1);f.useEffect(()=>{if(j)return lx(j)},[j]),ix();const E=f.useCallback(Q=>{const[pe,...le]=O().map(he=>he.ref.current),[ue]=le.slice(-1),De=document.activeElement;for(const he of Q)if(he===De||(he?.scrollIntoView({block:"nearest"}),he===pe&&w&&(w.scrollTop=0),he===ue&&w&&(w.scrollTop=w.scrollHeight),he?.focus(),document.activeElement!==De))return},[O,w]),M=f.useCallback(()=>E([k,j]),[E,k,j]);f.useEffect(()=>{I&&M()},[I,M]);const{onOpenChange:z,triggerPointerDownPosRef:R}=y;f.useEffect(()=>{if(j){let Q={x:0,y:0};const pe=ue=>{Q={x:Math.abs(Math.round(ue.pageX)-(R.current?.x??0)),y:Math.abs(Math.round(ue.pageY)-(R.current?.y??0))}},le=ue=>{Q.x<=10&&Q.y<=10?ue.preventDefault():j.contains(ue.target)||z(!1),document.removeEventListener("pointermove",pe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",le,{capture:!0})}}},[j,z,R]),f.useEffect(()=>{const Q=()=>z(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[z]);const[te,V]=wM(Q=>{const pe=O().filter(De=>!De.disabled),le=pe.find(De=>De.ref.current===document.activeElement),ue=NM(pe,Q,le);ue&&setTimeout(()=>ue.ref.current.focus())}),D=f.useCallback((Q,pe,le)=>{const ue=!$.current&&!le;(y.value!==void 0&&y.value===pe||ue)&&(C(Q),ue&&($.current=!0))},[y.value]),H=f.useCallback(()=>j?.focus(),[j]),ae=f.useCallback((Q,pe,le)=>{const ue=!$.current&&!le;(y.value!==void 0&&y.value===pe||ue)&&A(Q)},[y.value]),U=a==="popper"?Q0:iM,se=U===Q0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:x,avoidCollisions:g}:{};return e.jsx(aM,{scope:s,content:j,viewport:w,onViewportChange:_,itemRefCallback:D,selectedItem:k,onItemLeave:H,itemTextRefCallback:ae,focusSelectedItem:M,selectedItemText:P,position:a,isPositioned:I,searchRef:te,children:e.jsx(Fm,{as:LG,allowPinchZoom:!0,children:e.jsx(Mm,{asChild:!0,trapped:y.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ve(n,Q=>{y.trigger?.focus({preventScroll:!0}),Q.preventDefault()}),children:e.jsx(So,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:e.jsx(U,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Q=>Q.preventDefault(),...b,...se,onPlaced:()=>F(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ve(b.onKeyDown,Q=>{const pe=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!pe&&Q.key.length===1&&V(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ue=O().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const De=Q.target,he=ue.indexOf(De);ue=ue.slice(he+1)}setTimeout(()=>E(ue)),Q.preventDefault()}})})})})})})});nM.displayName=FG;var $G="SelectItemAlignedPosition",iM=f.forwardRef((t,r)=>{const{__scopeSelect:s,onPlaced:a,...n}=t,i=Po(ul,s),o=Eo(ul,s),[l,c]=f.useState(null),[d,u]=f.useState(null),m=Xe(r,N=>u(N)),h=jx(s),p=f.useRef(!1),v=f.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:b,focusSelectedItem:y}=o,j=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&g&&b){const N=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(i.dir!=="rtl"){const De=P.left-k.left,he=C.left-De,st=N.left-he,Qe=N.width+st,Ct=Math.max(Qe,k.width),Tt=window.innerWidth-dn,Jt=qu(he,[dn,Math.max(dn,Tt-Ct)]);l.style.minWidth=Qe+"px",l.style.left=Jt+"px"}else{const De=k.right-P.right,he=window.innerWidth-C.right-De,st=window.innerWidth-N.right-he,Qe=N.width+st,Ct=Math.max(Qe,k.width),Tt=window.innerWidth-dn,Jt=qu(he,[dn,Math.max(dn,Tt-Ct)]);l.style.minWidth=Qe+"px",l.style.right=Jt+"px"}const A=h(),O=window.innerHeight-dn*2,I=x.scrollHeight,F=window.getComputedStyle(d),$=parseInt(F.borderTopWidth,10),E=parseInt(F.paddingTop,10),M=parseInt(F.borderBottomWidth,10),z=parseInt(F.paddingBottom,10),R=$+E+I+z+M,te=Math.min(g.offsetHeight*5,R),V=window.getComputedStyle(x),D=parseInt(V.paddingTop,10),H=parseInt(V.paddingBottom,10),ae=N.top+N.height/2-dn,U=O-ae,se=g.offsetHeight/2,Q=g.offsetTop+se,pe=$+E+Q,le=R-pe;if(pe<=ae){const De=A.length>0&&g===A[A.length-1].ref.current;l.style.bottom="0px";const he=d.clientHeight-x.offsetTop-x.offsetHeight,st=Math.max(U,se+(De?H:0)+he+M),Qe=pe+st;l.style.height=Qe+"px"}else{const De=A.length>0&&g===A[0].ref.current;l.style.top="0px";const st=Math.max(ae,$+x.offsetTop+(De?D:0)+se)+le;l.style.height=st+"px",x.scrollTop=pe-ae+x.offsetTop}l.style.margin=`${dn}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=O+"px",a?.(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,x,g,b,i.dir,a]);Fr(()=>j(),[j]);const[S,w]=f.useState();Fr(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const _=f.useCallback(N=>{N&&v.current===!0&&(j(),y?.(),v.current=!1)},[j,y]);return e.jsx(zG,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:e.jsx(we.div,{...n,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});iM.displayName=$G;var qG="SelectPopperPosition",Q0=f.forwardRef((t,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=dn,...i}=t,o=wx(s);return e.jsx(tx,{...o,...i,ref:r,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Q0.displayName=qG;var[zG,W_]=Cd(ul,{}),J0="SelectViewport",oM=f.forwardRef((t,r)=>{const{__scopeSelect:s,nonce:a,...n}=t,i=Eo(J0,s),o=W_(J0,s),l=Xe(r,i.onViewportChange),c=f.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(yx.Slot,{scope:s,children:e.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ve(n.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h?.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const v=window.innerHeight-dn*2,x=parseFloat(m.style.minHeight),g=parseFloat(m.style.height),b=Math.max(x,g);if(b<v){const y=b+p,j=Math.min(v,y),S=y-j;m.style.height=j+"px",m.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});oM.displayName=J0;var lM="SelectGroup",[BG,UG]=Cd(lM),VG=f.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,n=Kr();return e.jsx(BG,{scope:s,id:n,children:e.jsx(we.div,{role:"group","aria-labelledby":n,...a,ref:r})})});VG.displayName=lM;var cM="SelectLabel",dM=f.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,n=UG(cM,s);return e.jsx(we.div,{id:n.id,...a,ref:r})});dM.displayName=cM;var yf="SelectItem",[WG,uM]=Cd(yf),mM=f.forwardRef((t,r)=>{const{__scopeSelect:s,value:a,disabled:n=!1,textValue:i,...o}=t,l=Po(yf,s),c=Eo(yf,s),d=l.value===a,[u,m]=f.useState(i??""),[h,p]=f.useState(!1),v=Xe(r,y=>c.itemRefCallback?.(y,a,n)),x=Kr(),g=f.useRef("touch"),b=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(WG,{scope:s,value:a,disabled:n,textId:x,isSelected:d,onItemTextChange:f.useCallback(y=>{m(j=>j||(y?.textContent??"").trim())},[]),children:e.jsx(yx.ItemSlot,{scope:s,value:a,disabled:n,textValue:u,children:e.jsx(we.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:v,onFocus:ve(o.onFocus,()=>p(!0)),onBlur:ve(o.onBlur,()=>p(!1)),onClick:ve(o.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:ve(o.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:ve(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:ve(o.onPointerMove,y=>{g.current=y.pointerType,n?c.onItemLeave?.():g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,y=>{y.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:ve(o.onKeyDown,y=>{c.searchRef?.current!==""&&y.key===" "||(EG.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});mM.displayName=yf;var cu="SelectItemText",hM=f.forwardRef((t,r)=>{const{__scopeSelect:s,className:a,style:n,...i}=t,o=Po(cu,s),l=Eo(cu,s),c=uM(cu,s),d=RG(cu,s),[u,m]=f.useState(null),h=Xe(r,b=>m(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),p=u?.textContent,v=f.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return Fr(()=>(x(v),()=>g(v)),[x,g,v]),e.jsxs(e.Fragment,{children:[e.jsx(we.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?km.createPortal(i.children,o.valueNode):null]})});hM.displayName=cu;var fM="SelectItemIndicator",pM=f.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t;return uM(fM,s).isSelected?e.jsx(we.span,{"aria-hidden":!0,...a,ref:r}):null});pM.displayName=fM;var Z0="SelectScrollUpButton",xM=f.forwardRef((t,r)=>{const s=Eo(Z0,t.__scopeSelect),a=W_(Z0,t.__scopeSelect),[n,i]=f.useState(!1),o=Xe(r,a.onScrollButtonChange);return Fr(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?e.jsx(vM,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});xM.displayName=Z0;var ew="SelectScrollDownButton",gM=f.forwardRef((t,r)=>{const s=Eo(ew,t.__scopeSelect),a=W_(ew,t.__scopeSelect),[n,i]=f.useState(!1),o=Xe(r,a.onScrollButtonChange);return Fr(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),n?e.jsx(vM,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});gM.displayName=ew;var vM=f.forwardRef((t,r)=>{const{__scopeSelect:s,onAutoScroll:a,...n}=t,i=Eo("SelectScrollButton",s),o=f.useRef(null),l=jx(s),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Fr(()=>{l().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(we.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:ve(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:ve(n.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:ve(n.onPointerLeave,()=>{c()})})}),HG="SelectSeparator",bM=f.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t;return e.jsx(we.div,{"aria-hidden":!0,...a,ref:r})});bM.displayName=HG;var tw="SelectArrow",KG=f.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,n=wx(s),i=Po(tw,s),o=Eo(tw,s);return i.open&&o.position==="popper"?e.jsx(rx,{...n,...a,ref:r}):null});KG.displayName=tw;var GG="SelectBubbleInput",yM=f.forwardRef(({__scopeSelect:t,value:r,...s},a)=>{const n=f.useRef(null),i=Xe(a,n),o=Sd(r);return f.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const m=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(m)}},[o,r]),e.jsx(we.select,{...s,style:{...aR,...s.style},ref:i,defaultValue:r})});yM.displayName=GG;function jM(t){return t===""||t===void 0}function wM(t){const r=pr(t),s=f.useRef(""),a=f.useRef(0),n=f.useCallback(o=>{const l=s.current+o;r(l),(function c(d){s.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))})(l)},[r]),i=f.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,n,i]}function NM(t,r,s){const n=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=s?t.indexOf(s):-1;let o=YG(t,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==s?c:void 0}function YG(t,r){return t.map((s,a)=>t[(r+a)%t.length])}var XG=XI,_M=JI,QG=eM,JG=tM,ZG=rM,SM=sM,eY=oM,CM=dM,kM=mM,tY=hM,rY=pM,AM=xM,PM=gM,EM=bM;const qe=XG,Me=QG,Fe=f.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(_M,{ref:a,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[r,e.jsx(JG,{asChild:!0,children:e.jsx(di,{className:"h-4 w-4 opacity-50"})})]}));Fe.displayName=_M.displayName;const TM=f.forwardRef(({className:t,...r},s)=>e.jsx(AM,{ref:s,className:q("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(QN,{className:"h-4 w-4"})}));TM.displayName=AM.displayName;const OM=f.forwardRef(({className:t,...r},s)=>e.jsx(PM,{ref:s,className:q("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(di,{className:"h-4 w-4"})}));OM.displayName=PM.displayName;const Le=f.forwardRef(({className:t,children:r,position:s="popper",...a},n)=>e.jsx(ZG,{children:e.jsxs(SM,{ref:n,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...a,children:[e.jsx(TM,{}),e.jsx(eY,{className:q("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(OM,{})]})}));Le.displayName=SM.displayName;const sY=f.forwardRef(({className:t,...r},s)=>e.jsx(CM,{ref:s,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));sY.displayName=CM.displayName;const X=f.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(kM,{ref:a,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(rY,{children:e.jsx(gr,{className:"h-4 w-4"})})}),e.jsx(tY,{children:r})]}));X.displayName=kM.displayName;const aY=f.forwardRef(({className:t,...r},s)=>e.jsx(EM,{ref:s,className:q("-mx-1 my-1 h-px bg-muted",t),...r}));aY.displayName=EM.displayName;const nY=[{title:"Getting Started Guide",href:"#",icon:ws},{title:"Publishing Guidelines",href:"#",icon:Wt},{title:"Community Discord",href:"#",icon:Wp}],iY={general:qp,styleboxes:Mr,"ip-ranks":zt,teaming:mt,financials:sf,founders:Ya},mC=I_.reduce((t,r)=>(t[r.category]||(t[r.category]=[]),t[r.category].push(r),t),{});function oY(){const[t,r]=f.useState({name:"",email:"",subject:"",message:"",category:"general"}),[s,a]=f.useState(!1),[n,i]=f.useState(!1),o=async l=>{if(l.preventDefault(),!t.name||!t.email||!t.subject||!t.message){Re.error("Please fill in all fields");return}a(!0);try{const{data:c,error:d}=await J.functions.invoke("send-contact",{body:t});if(d)throw d;i(!0),Re.success("Message sent successfully!"),r({name:"",email:"",subject:"",message:"",category:"general"})}catch(c){Re.error(c.message||"Failed to send message")}finally{a(!1)}};return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Help & Support | Adorzia",description:"Get answers to FAQs about StyleBoxes, IP ownership, profit sharing, teaming, and more. Contact our support team for personalized assistance.",url:"https://studio.adorzia.com/support",keywords:"adorzia support, fashion design help, FAQs, contact support, designer help"}),e.jsxs("section",{className:"relative pt-24 pb-16 md:pt-32 md:pb-24 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-secondary/10"}),e.jsx(W.div,{className:"absolute top-20 right-20 w-72 h-72 bg-primary/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:8,repeat:1/0}}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"Support Center"}),e.jsx("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold leading-[1.1] mb-6 tracking-tight",children:"The Designer's FAQ"}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Everything you need to know about IP, profit sharing, teaming, and the Adorzia platform."})]})})]}),e.jsx("section",{className:"py-12 border-t",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:nY.map((l,c)=>e.jsx(W.a,{href:l.href,initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.1},className:"group",children:e.jsx(G,{className:"hover:shadow-md transition-all hover:border-primary/50",children:e.jsxs(Y,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l.icon,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium",children:l.title})]}),e.jsx(lr,{className:"h-4 w-4 text-muted-foreground group-hover:translate-x-1 transition-transform"})]})})},l.title))})})}),e.jsx("section",{id:"faq",className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Comprehensive FAQ"}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-muted-foreground",children:"Addressing the hard questions about IP, payouts, and our unique model."})]}),e.jsx("div",{className:"space-y-12",children:Object.keys(mC).map((l,c)=>{const d=iY[l],u=OI[l];return e.jsxs(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.1},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(d,{className:"h-5 w-5 text-primary"})}),e.jsx("h3",{className:"font-display text-xl font-bold",children:u.label})]}),e.jsx(V_,{type:"single",collapsible:!0,className:"space-y-3",children:mC[l].map((m,h)=>e.jsxs(Bn,{value:`${l}-${h}`,className:"bg-background rounded-xl border px-6 shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(Un,{className:"text-left font-semibold hover:no-underline py-5",children:m.question}),e.jsx(Vn,{className:"text-muted-foreground pb-5 whitespace-pre-line",children:m.answer})]},h))})]},l)})})]})}),e.jsx("section",{id:"contact",className:"py-20 md:py-28 bg-secondary/50",children:e.jsxs("div",{className:"max-w-xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(B,{variant:"outline",className:"mb-4",children:"Contact Us"}),e.jsx(yt,{className:"font-display text-3xl font-bold mb-4 tracking-tight",children:"Have More Questions?"}),e.jsx("p",{className:"text-muted-foreground",children:"Send us a message and we'll get back to you within 24 hours."})]}),e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-8",children:e.jsx(G,{className:"bg-primary/5 border-primary/20",children:e.jsxs(Y,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(ms,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Email us directly"}),e.jsx("a",{href:"mailto:hello@adorzia.com",className:"text-primary hover:underline text-lg",children:"hello@adorzia.com"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ze,{className:"h-4 w-4"}),e.jsx("span",{children:"24hr response"})]})]})})}),e.jsx(Cr,{tiltAmount:3,children:e.jsx(G,{children:e.jsx(Y,{className:"p-8",children:n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mx-auto mb-4",children:e.jsx(ai,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We'll get back to you within 24 hours."}),e.jsx(T,{variant:"outline",onClick:()=>i(!1),children:"Send Another Message"})]}):e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsx(ie,{placeholder:"Your name",value:t.name,onChange:l=>r({...t,name:l.target.value}),className:"h-12"}),e.jsx(ie,{placeholder:"Your email",type:"email",value:t.email,onChange:l=>r({...t,email:l.target.value}),className:"h-12"}),e.jsxs(qe,{value:t.category,onValueChange:l=>r({...t,category:l}),children:[e.jsx(Fe,{className:"h-12",children:e.jsx(Me,{placeholder:"Category"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"general",children:"General Inquiry"}),e.jsx(X,{value:"brand_inquiry",children:"Brand Inquiry"}),e.jsx(X,{value:"prebooking",children:"Prebooking Request"}),e.jsx(X,{value:"partnership",children:"Partnership"})]})]}),e.jsx(ie,{placeholder:"Subject",value:t.subject,onChange:l=>r({...t,subject:l.target.value}),className:"h-12"}),e.jsx(nt,{placeholder:"Your message",rows:5,value:t.message,onChange:l=>r({...t,message:l.target.value}),className:"resize-none"}),e.jsx(T,{type:"submit",className:"w-full h-12 group",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:["Send Message",e.jsx(ai,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})})]})})})})]})}),e.jsx("section",{id:"policies",className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-6 text-center",children:[e.jsx(yt,{className:"font-display text-2xl font-bold mb-8 tracking-tight",children:"Policies & Legal"}),e.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:[{label:"Privacy Policy",icon:qi},{label:"Terms of Service",icon:Wt},{label:"Refund Policy",icon:Hp}].map((l,c)=>e.jsx(W.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:c*.1},children:e.jsxs(T,{variant:"outline",size:"lg",className:"group",children:[e.jsx(l.icon,{className:"mr-2 h-4 w-4"}),l.label,e.jsx(lr,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})},l.label))})]})})]})}const lY=[{title:"Bridal Series: The Concept Phase",studio_name:"bridal-series",client_name:"Sophia",level_number:1,category:"fashion",difficulty:"free",target_role:"Junior Designer / Illustrator",time_limit_hours:4,xp_reward:100,scenario:{context:"Engagement Party",theme:"Romantic Minimalism",difficulty_spike:"It's not just a sketch; it's a material concept. The sampling team needs to know what the drawing represents visually and texturally."},description:"Create a concept design for an engagement party dress. Focus on rendering fabric texture and material intent for the sampling team.",constraints:[{type:"silhouette",label:"Silhouette",value:"Bias-cut slip dress",is_required:!0},{type:"fabric",label:"Fabric Intent",value:"Must appear fluid (Silk Satin)",is_required:!0}],detailed_deliverables:[{id:"illustration",name:"Fashion Illustration (Front & Back)",description:"Full color illustration showing drape and lighting",specifications:["Show fabric drape","Demonstrate lighting/shine","Full color rendering"],required:!0,category:"illustration"},{id:"fabric-sim",name:"Fabric Simulation",description:"The sketch must clearly render the texture",specifications:["Render shine for satin","Show matte for crepe","Texture must be identifiable"],required:!0,category:"illustration"},{id:"detail-zoom",name:"Detailed Zoom-In",description:"Close-up panel showing specific detail",specifications:["1000x1000px minimum","Strap attachment OR neckline finish","High resolution"],dimensions:"1000x1000px",required:!0,category:"illustration"},{id:"pantone",name:"Pantone Color Match",description:"Specific Pantone Textile (TCX) codes",specifications:["Main fabric color code","Lining color code","Use TCX format"],required:!0,category:"documentation"}]},{title:"Bridal Series: The Construction Phase",studio_name:"bridal-series",client_name:"Sophia",level_number:2,category:"fashion",difficulty:"free",target_role:"Mid-Level Designer",time_limit_hours:12,xp_reward:250,scenario:{context:"Rehearsal Dinner",theme:"Structural Elegance",difficulty_spike:"We need to know how it opens, closes, and stays on the body."},description:"Create technical documentation for a structured bodice dress. Focus on construction details and closure mechanisms.",constraints:[{type:"structure",label:"Structure",value:"Bodice must be boned/corseted",is_required:!0},{type:"technique",label:"Closure",value:"Invisible zipper (Center Back)",is_required:!0},{type:"fabric",label:"Lining",value:"Fully lined",is_required:!0}],detailed_deliverables:[{id:"flats",name:"Flat Sketches (Technical Flats)",description:"Black & white line art",specifications:["Front, Back, Side views","All seam lines (Princess seams, darts, waistline)","Stitch lines (Topstitch vs. Edge stitch)"],required:!0,category:"technical"},{id:"callouts",name:"Construction Callouts",description:"Arrows pointing to specific areas with instructions",specifications:['"Hook & Eye closure at top of zipper"','"1cm seam allowance pressed open"','"Horsehair braid (crinoline) at hem for volume"'],required:!0,category:"technical"},{id:"trims",name:"Trims List",description:"Basic list of non-fabric items",specifications:["YKK Invisible Zip #3, 40cm, Dyed to Match","Hook & Eye specifications","Thread color matching"],required:!0,category:"documentation"}]},{title:"Bridal Series: The Tech Pack Phase",studio_name:"bridal-series",client_name:"Sophia",level_number:3,category:"fashion",difficulty:"free",target_role:"Senior Technical Designer",time_limit_hours:48,xp_reward:500,scenario:{context:"The Main Ceremony",theme:"Eco-Couture",difficulty_spike:"The sampling team needs a full Bill of Materials (BOM) and Points of Measure (POM). If the measurements are off, the sample fails."},description:"Create a complete tech pack for a fitted mermaid silhouette wedding gown with embroidery placement.",constraints:[{type:"silhouette",label:"Fit",value:"Fitted Mermaid Silhouette with Train",is_required:!0},{type:"sizing",label:"Sizing",value:"Sample Size US 6 / UK 10",is_required:!0},{type:"technique",label:"Complexity",value:"Multi-layered tulle skirt with embroidery placement",is_required:!0}],detailed_deliverables:[{id:"techpack",name:"Full Tech Pack (PDF)",description:"Complete technical package for sampling",specifications:["Cover page with style details","All views with annotations","Complete specifications"],file_format:"PDF",required:!0,category:"documentation"},{id:"bom",name:"BOM (Bill of Materials)",description:"Comprehensive materials table",specifications:["Main Fabric, Lining, Interfacing, Tulle, Thread","Buttons, Zippers","Consumption estimates (e.g., 4.5 meters)"],required:!0,category:"documentation"},{id:"pom",name:"POM (Points of Measure)",description:"Data table with measurement points",specifications:["Minimum 15 measurement points","Across Shoulder, Bust, Waist, High Hip, Low Hip","Sweep, Armhole Depth, etc."],required:!0,category:"documentation"},{id:"embroidery-map",name:"Embroidery Placement Map",description:"Schematic showing motif positions",specifications:['"Start 10cm below waistline"','"Fade out at knee"',"Exact positioning grid"],required:!0,category:"technical"},{id:"inside-view",name:"Inside View Sketch",description:"Inside of garment construction",specifications:["French seams vs. Overlock","Lining attachment method","Hanging loops placement"],required:!0,category:"technical"}]},{title:"Bridal Series: The Manufacturing Phase",studio_name:"bridal-series",client_name:"Sophia",level_number:4,category:"fashion",difficulty:"free",target_role:"Lead Product Developer / 3D Specialist",time_limit_hours:72,xp_reward:1e3,scenario:{context:"The After-Party",theme:"Transformer Dress",difficulty_spike:"This is ready for mass production or high-end 3D prototyping. The factory needs zero questions answered."},description:"Create production-ready files for a convertible dress with detachable elements and 3D digital twin.",constraints:[{type:"innovation",label:"Innovation",value:"Detachable skirt mechanism (Magnet or Snap tape)",is_required:!0},{type:"technique",label:"Patterning",value:"Zero-Waste Pattern Logic (preferred)",is_required:!1},{type:"format",label:"Format",value:"Digital Twin required",is_required:!0}],detailed_deliverables:[{id:"pattern-logic",name:"Production Pattern Logic",description:"Mini-Marker layout for fabric optimization",specifications:["Pattern pieces on 140cm fabric width","Calculate exact yield/waste","Grain line directions"],required:!0,category:"technical"},{id:"ops-list",name:"Assembly Instructions (Operation List)",description:"Step-by-step guide for sewing floor",specifications:["Step 1: Fuse interfacing to collar","Step 2: Sew darts on front bodice","Step 3: Attach detachable snap tape to waist seam"],required:!0,category:"documentation"},{id:"3d-asset",name:"3D Asset (OBJ/GLB) OR Turntable Video",description:"360-degree view of draped garment",specifications:["Draped on avatar","Heat Map / Strain Map","Prove fit is tight but not bursting"],file_format:"OBJ/GLB/MP4",required:!0,category:"digital"},{id:"costing",name:"Costing Sheet (Estimate)",description:"Full production cost breakdown",specifications:["Estimated Fabric Cost","Trims cost","Cut & Sew Minutes (Labor)"],required:!0,category:"documentation"}]}],cY=[{title:"Maria B. Gardens of Andalusia: The Print Concept",studio_name:"maria-b",client_name:"Maria B.",level_number:1,category:"fashion",difficulty:"free",target_role:"Textile Designer / Illustrator",time_limit_hours:4,xp_reward:100,season:"SS26",scenario:{context:"Unstitched Lawn Collection",theme:"Moorish Architecture mixed with Spanish Flora",difficulty_spike:"Maria B. needs a fresh digital print concept. The theme is Moorish Architecture mixed with Spanish Flora."},description:"Create a digital print concept for luxury pret/fusion wear combining Islamic geometric patterns with organic floral motifs.",constraints:[{type:"colors",label:"Colors",value:"Sun-Baked Earth palette: Terracotta (#E2725B), Deep Teal (#008080), Ivory (#FFFFF0)",is_required:!0},{type:"motifs",label:"Motifs",value:"Geometric Islamic tile patterns (Zellij) merging into organic Bougainvillea flowers",is_required:!0}],detailed_deliverables:[{id:"repeat-tile",name:"Print Repeat Tile",description:"High-resolution seamless pattern",specifications:["1000x1000px or larger","Seamless repeat","Print-ready quality"],dimensions:"1000x1000px minimum",required:!0,category:"illustration"},{id:"mockup",name:"Mockup Visualization",description:"Print applied to Kurta outline",specifications:["Show scale and placement","Standard Kurta silhouette","Front view minimum"],required:!0,category:"illustration"},{id:"color-sep",name:"Color Separation",description:"Display distinct colors used",specifications:["4-6 distinct colors","Simulate screen-print separation","Color swatches with codes"],required:!0,category:"technical"}]},{title:"Maria B. Gardens of Andalusia: The Fusion Silhouette",studio_name:"maria-b",client_name:"Maria B.",level_number:2,category:"fashion",difficulty:"free",target_role:"Fashion Designer",time_limit_hours:12,xp_reward:250,season:"SS26",scenario:{context:"Eid Lunch Ready-to-Wear",theme:"Kalidar Jumpsuit Fusion",difficulty_spike:"It must fuse a traditional Kalidar silhouette with a modern Jumpsuit or Trouser element."},description:"Design a Ready-to-Wear outfit fusing traditional Kalidar with modern trouser elements for Eid celebrations.",constraints:[{type:"fabric",label:"Fabric",value:"Pure Grip 80 or Raw Silk",is_required:!0},{type:"silhouette",label:"Cut",value:'A-line shirt paired with modern "Bootcut" trousers',is_required:!0},{type:"technique",label:"Detailing",value:'Neckline must feature a specific "Loop Button" detail',is_required:!0}],detailed_deliverables:[{id:"illustration",name:"Fashion Illustration",description:"Front and Back view showing fabric fall",specifications:["Full color","Show drape and flow","Front and Back views"],required:!0,category:"illustration"},{id:"flat-sketch",name:"Flat Sketch (Technical)",description:"Technical drawings with construction details",specifications:["Kalidar paneling (how many panels, flare width)","Bootcut measurement at hem","Construction lines visible"],required:!0,category:"technical"},{id:"trim-placement",name:"Trim Placement",description:"Mark exactly where lace or piping goes",specifications:['"Join panels with zero-size gold piping"',"Lace placement indicators","Button positioning"],required:!0,category:"technical"}]},{title:"Maria B. Gardens of Andalusia: The Embroidery Tech Pack",studio_name:"maria-b",client_name:"Maria B.",level_number:3,category:"fashion",difficulty:"free",target_role:"Senior Designer / Embroidery Specialist",time_limit_hours:48,xp_reward:500,season:"SS26",scenario:{context:"Signature Heavy Formal",theme:"Multi-head Embroidery Production",difficulty_spike:"This requires a fully detailed embroidery map (Khaka) for the sampling machine. The stitch count must not exceed 150,000."},description:"Create a complete embroidery tech pack for a heavy formal piece with detailed Khaka for machine production.",constraints:[{type:"technique",label:"Technique",value:"Mix of Resham (Silk thread), Tilla (Gold wire), and Sequins",is_required:!0},{type:"application",label:"Placement",value:"Heavy neckline (Gala) and borders (Daman)",is_required:!0},{type:"technique",label:"Budget Control",value:"Stitch count must not exceed 150,000 stitches",is_required:!0}],detailed_deliverables:[{id:"khaka",name:"Embroidery Map (Khaka)",description:"Clear line drawing for digitizer",specifications:["Distinguish Satin stitch vs. Run stitch areas","Scale reference","Color coding for techniques"],required:!0,category:"technical"},{id:"bom",name:"BOM (Bill of Materials)",description:"Complete embroidery materials list",specifications:['Specific thread colors (e.g., "Anchor 456")','Sequin size (e.g., "3mm Gold Matte")',"Tilla specifications"],required:!0,category:"documentation"},{id:"measurement-spec",name:"Measurement Spec Sheet",description:"Full garment measurements",specifications:["Shoulder, Chest, Waist, Hip","Armhole, Sleeve Opening","Total Length"],required:!0,category:"documentation"}]},{title:"Maria B. Gardens of Andalusia: The Master Sample",studio_name:"maria-b",client_name:"Maria B.",level_number:4,category:"fashion",difficulty:"free",target_role:"Product Developer / Production Manager",time_limit_hours:72,xp_reward:1e3,season:"SS26",scenario:{context:"Fashion Week Showstopper",theme:"Complex 3-Piece Ensemble",difficulty_spike:"This is a complex 3-piece ensemble with pre-draped dupatta and 3D hand-embellishment. Documentation must be ready for Adda workers and Master Tailor."},description:"Create complete production documentation for a showstopper ensemble: embellished jacket, inner slip, and pre-draped dupatta.",constraints:[{type:"innovation",label:"Innovation",value:'Dupatta must be "Pre-Draped" or stitched into shoulder mechanism',is_required:!0},{type:"technique",label:"Surface Embellishment",value:"3D hand-embellishment (Adda work) mixed with machine embroidery",is_required:!0}],detailed_deliverables:[{id:"adda-guide",name:'The "Adda" Guide',description:"Detailed beadwork instructions",specifications:['"Cluster of pearls here"','"Crystal fringe at hem"',"Close-up positioning diagrams"],required:!0,category:"documentation"},{id:"pattern-layout",name:"Pattern Layout (Marker)",description:"Cutting layout for fabric optimization",specifications:["Standard 4-yard fabric roll","All complex pieces","Minimize waste"],required:!0,category:"technical"},{id:"ops-sequence",name:"Construction Sequence (Operations List)",description:"Step-by-step assembly guide",specifications:["Step 1: Frame fabric for embroidery","Step 2: Wash/Shrink after embroidery","Step 3: Cut panels","Step 4: Stitch inner slip to jacket at shoulder"],required:!0,category:"documentation"},{id:"costing",name:"Costing Breakdown",description:"Complete cost calculation",specifications:["Fabric Cost + Embroidery Machine Time","Handwork Labor Hours + Stitching Cost","Overheads = Final Ex-Factory Price"],required:!0,category:"documentation"}]}],dY=[{title:"Botanic Illusion: The Hero Motif",studio_name:"botanic-illusion",client_name:"Studio Client",level_number:1,category:"textile",difficulty:"free",target_role:"Junior Textile Artist",time_limit_hours:4,xp_reward:100,season:"SS26",scenario:{context:"Digital Garden Collection",theme:"Watercolor + Pixelated/Glitch Fusion",difficulty_spike:'Create a single "Hero Motif" combining hand-painted watercolor effect with pixelated/glitch edges.'},description:"Create a hero motif for a floral print collection combining traditional watercolor techniques with digital manipulation.",constraints:[{type:"technique",label:"Style",value:"Watercolor effect mixed with pixelated/glitch edges (Hand-painted + Digital)",is_required:!0},{type:"motifs",label:"Subject",value:"Large-scale Hibiscus or Peony flower",is_required:!0},{type:"colors",label:"Palette",value:'"Cyber-Nature"  Neon Pink (#FF6EC7), Deep Moss Green (#4A5D23)',is_required:!0}],detailed_deliverables:[{id:"motif",name:"The Motif",description:"High-resolution hero element",specifications:["Transparent PNG background","High resolution (300dpi+)","Print-ready quality"],file_format:"PNG",required:!0,category:"illustration"},{id:"process-sketch",name:"Process Sketch",description:"Original artwork before digital editing",specifications:["Snapshot of original sketch/painting","Show hand-painted layer","Document technique"],required:!0,category:"illustration"}]},{title:"Botanic Illusion: The Repeat Pattern",studio_name:"botanic-illusion",client_name:"Studio Client",level_number:2,category:"textile",difficulty:"free",target_role:"Textile Designer",time_limit_hours:12,xp_reward:250,season:"SS26",scenario:{context:"Production-Ready Rotary Print",theme:"Seamless Repeat Engineering",difficulty_spike:"Turn the Hero Motif into a production-ready Seamless Repeat Pattern suitable for rotary printing."},description:"Transform the hero motif into a production-ready seamless repeat pattern for rotary printing.",constraints:[{type:"technique",label:"Repeat Type",value:"Half-Drop Repeat or Brick Repeat (NOT simple grid)",is_required:!0},{type:"sizing",label:"Dimensions",value:"64cm x 64cm tile size (Standard rotary screen)",is_required:!0},{type:"technique",label:"Coverage",value:"80% coverage (Dense pattern)",is_required:!0}],detailed_deliverables:[{id:"repeat-block",name:"The Repeat Block",description:"Source file that tiles perfectly",specifications:["AI/PSD/TIFF format","Seamless without visible edges","64x64cm at print resolution"],file_format:"AI/PSD/TIFF",required:!0,category:"technical"},{id:"scale-ref",name:"Scale Reference",description:"Pattern on virtual fabric roll",specifications:["Show pattern relative to meter rule","Full roll visualization","Scale indicator"],required:!0,category:"illustration"}]},{title:"Botanic Illusion: The Collection & Colorways",studio_name:"botanic-illusion",client_name:"Studio Client",level_number:3,category:"textile",difficulty:"free",target_role:"Senior Print Designer",time_limit_hours:24,xp_reward:500,season:"SS26",scenario:{context:"Coordinate Collection Development",theme:"Main Print + Supporting Coordinates",difficulty_spike:"A main print is rarely sold alone; it needs supporting prints and multiple colorways."},description:"Develop a full coordinate collection with main print, geometric coordinate, texture blender, and three colorways.",constraints:[{type:"technique",label:"Main Print",value:"The floral repeat from Level 2",is_required:!0},{type:"technique",label:"Coordinate 1",value:"Geometric pattern (stripes, polka dots, checks) matching floral colors",is_required:!0},{type:"technique",label:"Coordinate 2",value:"Blender print (abstract texture) as solid/background",is_required:!0},{type:"colors",label:"Colorways",value:"3 Distinct Colorways (Morning Light, Midnight, Sunset)",is_required:!0}],detailed_deliverables:[{id:"collection-board",name:"Collection Board",description:"Layout showing Main Print + 2 Coordinates",specifications:["Harmonious arrangement","Show how prints work together","Professional presentation"],required:!0,category:"illustration"},{id:"colorway-presentation",name:"Colorway Presentation",description:"Three versions of Main Print side-by-side",specifications:["Morning Light colorway","Midnight colorway","Sunset colorway"],required:!0,category:"illustration"},{id:"pantone-spec",name:"Pantone Specification",description:"Complete color code list",specifications:["Pantone TCX codes for every color","Maximum 8 colors per print","Screen printing compatible"],required:!0,category:"documentation"}]},{title:"Botanic Illusion: The Production Master",studio_name:"botanic-illusion",client_name:"Studio Client",level_number:4,category:"textile",difficulty:"free",target_role:"Textile Production Manager / Colorist",time_limit_hours:48,xp_reward:1e3,season:"SS26",scenario:{context:"Flat-Bed Screen Printing Factory",theme:"Production-Ready Separations",difficulty_spike:"Prepare files for factory production. You need color separations with proper trapping for screen printing."},description:"Create production-ready files with color separations, trapping, and product visualization for factory handoff.",constraints:[{type:"technique",label:"Technical Limit",value:"Maximum 8 Screens (Colors) allowed",is_required:!0},{type:"technique",label:"Trapping",value:"Include slight overlap of colors to prevent white gaps",is_required:!0},{type:"application",label:"Application",value:"Map design onto specific product (Duvet Cover Set or Silk Scarf)",is_required:!0}],detailed_deliverables:[{id:"color-separations",name:"Color Separations (Channels)",description:"PSD file with separate color channels",specifications:["Each color on separate Channel (Spot Colors)","Ready for screen engraving","Proper trapping applied"],file_format:"PSD",required:!0,category:"technical"},{id:"strike-off",name:"Strike-Off Request",description:"Factory instruction document",specifications:['"Use Reactive Dyes for Cotton Sateen"','"Gold pigment for stamen details"',"Print paste recipe"],required:!0,category:"documentation"},{id:"3d-mockup",name:"3D Product Mockup",description:"Photorealistic render of final product",specifications:["Bedding Set in room setting","Show Main Print + Coordinates interaction","Pillow front floral, back geometric"],required:!0,category:"digital"}]}],uY=[{title:"Neo-Deco 2026: The Concept Sketch",studio_name:"neo-deco",client_name:"Luxury Client",level_number:1,category:"jewelry",difficulty:"free",target_role:"Jewelry Illustrator / Hand Sketcher",time_limit_hours:4,xp_reward:100,season:"FW26",scenario:{context:"Statement Cocktail Ring Design",theme:"Neo-Deco  1920s geometry meets modern fluidity",difficulty_spike:"Combine the geometric lines of the 1920s with modern, organic fluidity."},description:"Create a concept design for a statement cocktail ring combining Art Deco geometry with contemporary organic forms.",constraints:[{type:"stone",label:"Stone",value:'Must feature a central "Emerald Cut" stone',is_required:!0},{type:"metal",label:"Metal",value:"Yellow Gold (18k)",is_required:!0},{type:"technique",label:"Aesthetic",value:"Clean lines, symmetry, with futuristic twist (floating stones or negative space)",is_required:!0}],detailed_deliverables:[{id:"perspective",name:"Perspective Sketch",description:"Beautiful rendering at 3/4 angle",specifications:["Hand-drawn or digital","3/4 angle view","Show dimensional depth"],required:!0,category:"illustration"},{id:"gouache",name:"Gouache Rendering",description:"Colored sketch simulating materials",specifications:["Simulate light reflection on metal","Show refraction inside gem","Professional presentation quality"],required:!0,category:"illustration"}]},{title:"Neo-Deco 2026: The Orthographic Draft",studio_name:"neo-deco",client_name:"Luxury Client",level_number:2,category:"jewelry",difficulty:"free",target_role:"Technical Jewelry Designer",time_limit_hours:8,xp_reward:250,season:"FW26",scenario:{context:"Technical Blueprint for Bench Jeweler",theme:"Precision Documentation",difficulty_spike:"Without exact dimensions, the jeweler cannot create the piece. Translate concept to technical blueprint."},description:"Create technical blueprints with exact measurements for jewelry production.",constraints:[{type:"sizing",label:"Sizing",value:"US Ring Size 7 (17.3mm diameter)",is_required:!0},{type:"stone",label:"Stone Specs",value:"Center stone exactly 10mm x 8mm",is_required:!0},{type:"sizing",label:"Shank",value:"2.5mm wide at bottom, tapering to 4mm at shoulders",is_required:!0}],detailed_deliverables:[{id:"ortho-views",name:"Orthographic Views",description:"Technical drawing with three views",specifications:["Top View","Side View","Front View"],required:!0,category:"technical"},{id:"dimensions",name:"Dimension Lines",description:"Callouts with all measurements",specifications:["All thicknesses in millimeters","Precise measurements","Clear annotation"],required:!0,category:"technical"},{id:"cross-section",name:"Cross-Section",description:"Slice view of ring shank",specifications:["Show profile shape","D-shape, Comfort fit, or Flat","Internal dimensions"],required:!0,category:"technical"}]},{title:"Neo-Deco 2026: The 3D CAD & Gemology",studio_name:"neo-deco",client_name:"Luxury Client",level_number:3,category:"jewelry",difficulty:"free",target_role:"CAD Specialist (Matrix / Rhino / ZBrush)",time_limit_hours:24,xp_reward:500,season:"FW26",scenario:{context:"Matching Pendant Necklace",theme:"Photorealistic 3D + Complete Gemology",difficulty_spike:"Client wants a photorealistic preview and precise breakdown of gemstones to approve the budget."},description:"Design a matching pendant with full 3D CAD modeling, photorealistic rendering, and complete gem specification.",constraints:[{type:"technique",label:"Setting Style",value:"Micro-Pave setting for halo, Prong setting for center",is_required:!0},{type:"mechanism",label:"Mechanism",value:"Hidden bail (loop for chain) on the back",is_required:!0},{type:"format",label:"Software",value:"Must be modeled in 3D (Matrix/Rhino/ZBrush)",is_required:!0}],detailed_deliverables:[{id:"render",name:"Photorealistic Render",description:"High-quality image like a photograph",specifications:["KeyShot/V-Ray quality","Professional lighting","Marketing-ready"],required:!0,category:"digital"},{id:"gem-map",name:"Gem Map",description:"Diagram showing every stone position",specifications:["All stone positions numbered","Setting style indicated","Scale reference"],required:!0,category:"technical"},{id:"stone-report",name:"Stone Report",description:"Complete gemstone specification table",specifications:["Center Stone: 1x Emerald Cut (2.5 Carat)","Accent Stones: 40x Round Brilliant (1.0mm)","Total Carat Weight (TCW)"],required:!0,category:"documentation"}]},{title:"Neo-Deco 2026: The Caster's Bench",studio_name:"neo-deco",client_name:"Luxury Client",level_number:4,category:"jewelry",difficulty:"free",target_role:"Production Manager / Master Jeweler",time_limit_hours:48,xp_reward:1e3,season:"FW26",scenario:{context:"3D Printing & Casting Preparation",theme:"Factory-Ready Production Files",difficulty_spike:"If this file is wrong, the gold casting will fail, costing thousands in wasted metal."},description:"Prepare production-ready files for 3D printing (wax model) and casting with precise metal weight calculations.",constraints:[{type:"technique",label:"Shrinkage",value:"Scale 3D model up by 3% for metal shrinkage during cooling",is_required:!0},{type:"technique",label:"Sprueing",value:'Attach "Sprues" (feed channels for molten metal) to 3D model',is_required:!0},{type:"sizing",label:"Weight Calculation",value:"Estimate final weight in 18k Gold based on model volume",is_required:!0}],detailed_deliverables:[{id:"stl",name:"Print-Ready STL File",description:"Watertight mesh for 3D printer",specifications:["Checked for naked edges","Watertight mesh","Ready for resin 3D printer"],file_format:"STL",required:!0,category:"digital"},{id:"weight-calc",name:"Metal Weight Calculation",description:"Precise gold requirement",specifications:["Volume of Model (e.g., 450 mm)","Specific Gravity of 18k Gold (15.5 g/cm)","Formula: Volume x Density = Final Gram Weight"],required:!0,category:"documentation"},{id:"support-strategy",name:"Support Structure Strategy",description:"Screenshot of print support setup",specifications:["Show supports during 3D printing","Prevent warping","Easy removal planning"],required:!0,category:"technical"}]}],mY=[...lY,...cY,...dY,...uY],hY={"bridal-series":{title:"Bridal Series",subtitle:"Client: Sophia",description:"Factory-ready bridal wear from concept to production. Master the complete journey from romantic sketches to manufacturing specs.",category:"fashion",client:"Sophia",color:"from-rose-500 to-pink-600",icon:""},"maria-b":{title:"Maria B. Collection",subtitle:"Gardens of Andalusia",description:"Luxury Pakistani fusion wear for Spring/Summer 2026. Blend Moorish architecture with Spanish flora in this prestigious collection.",category:"fashion",client:"Maria B.",color:"from-amber-500 to-orange-600",icon:""},"botanic-illusion":{title:"Botanic Illusion",subtitle:"Textile Studio",description:"Create print-ready textiles for high-street fashion and home. From hero motifs to production-ready color separations.",category:"textile",client:"Studio Client",color:"from-emerald-500 to-teal-600",icon:""},"neo-deco":{title:"Neo-Deco 2026",subtitle:"Fine Jewelry Studio",description:"Design fine jewelry combining Art Deco geometry with modern fluidity. From concept sketches to CAD files ready for casting.",category:"jewelry",client:"Luxury Client",color:"from-violet-500 to-purple-600",icon:""}};function fY(t){return mY.filter(r=>r.studio_name===t)}const pY=["PNG","JPEG","PDF","AI","PSD","TIFF"],xY=["Front","Back","Detail","Side","Flat/Technical"],gY=[{name:"Creativity",weight:25,description:"Originality and innovative approach"},{name:"On-Trend Alignment",weight:25,description:"Adherence to trend direction and narrative"},{name:"Technical Accuracy",weight:25,description:"Quality of execution and specifications"},{name:"Market Relevance",weight:25,description:"Commercial viability and target market fit"}],rw={free:{difficulty_level:"free",complexity_notes:"Introductory challenge with minimal requirements. Focus on exploring the trend direction.",piece_count:{min:1,max:2}},easy:{difficulty_level:"easy",complexity_notes:"Simple shapes and low complexity. Great for building foundational skills.",piece_count:{min:1,max:3}},medium:{difficulty_level:"medium",complexity_notes:"Multi-element concepts with coordinated looks. Moderate technical requirements.",piece_count:{min:3,max:5}},hard:{difficulty_level:"hard",complexity_notes:"Advanced construction with detail layering. High technical precision expected.",piece_count:{min:6,max:10}},insane:{difficulty_level:"insane",complexity_notes:"High-concept, couture-level engineering. Maximum creativity and technical mastery required.",piece_count:{min:10,max:20}}},Xh=[{id:"sketches",name:"Design Sketches",required:!0,description:"Hand or digital sketches of all designs"},{id:"flats",name:"Flat Drawings",required:!0,description:"Technical flat drawings with construction details"},{id:"moodboard",name:"Moodboard",required:!0,description:"Visual inspiration board for collection"},{id:"colorboard",name:"Color Board",required:!1,description:"Color palette presentation"},{id:"fabricboard",name:"Fabric Board",required:!1,description:"Material and texture selections"},{id:"patterns",name:"Patterns",required:!1,description:"Pattern pieces or templates"},{id:"repeats",name:"Print Repeats",required:!1,description:"Seamless repeat patterns (textile)"},{id:"mockups",name:"3D Mockups",required:!1,description:"Digital 3D product mockups"},{id:"techpack",name:"Tech Pack",required:!1,description:"Full technical specification package"},{id:"specs",name:"Specifications",required:!1,description:"Measurements and sizing details"},{id:"cad",name:"CAD Files",required:!1,description:"3D CAD files (jewelry)"}],vY=["SS24","FW24","SS25","FW25","SS26","FW26","Resort 24","Resort 25","Resort 26","Pre-Fall 24","Pre-Fall 25","Pre-Fall 26","Capsule","Timeless"],bY=["Signature Series: APEX","The Curriculum","Heritage Edition","Digital Atelier"],yY=["Haute Couture","Avant-Garde Pret","RTW","Bridal","Streetwear","Luxury Accessories"],jY=["Visible to Senior Designers Only","Educational License","Internal Only","Public Marketplace","Visible to Apprentice Rank","Visible to Patternist Rank","Visible to Stylist Rank","Visible to Couturier Rank","Visible to Visionary Rank","Visible to Creative Director Rank","Visible to F1 Rank","Visible to F2 Rank"],wY={1:{label:"EASY",color:"bg-blue-500",difficulty:"easy"},2:{label:"MEDIUM",color:"bg-amber-500",difficulty:"medium"},3:{label:"HARD",color:"bg-orange-500",difficulty:"hard"},4:{label:"INSANE",color:"bg-red-500",difficulty:"insane"}};function hC(t="fashion"){return{title:"",category:t,difficulty:"free",moodboard_images:[],visual_keywords:[],color_system:[],material_direction:{},design_guidelines:{...rw.easy,difficulty_level:"free",complexity_notes:rw.free.complexity_notes},technical_requirements:{file_formats:[...pY],required_views:[...xY]},deliverables:Xh.filter(r=>r.required),evaluation_criteria:[...gY],xp_reward:100,status:"draft",version:1,collection_line:"",market_context:"",visibility_tags:[],level_number:1,constraints:[],detailed_deliverables:[]}}function NY(t){const r=Xh.filter(s=>!["repeats","cad"].includes(s.id));switch(t){case"textile":return[...r,Xh.find(s=>s.id==="repeats")].filter(Boolean);case"jewelry":return[...r,Xh.find(s=>s.id==="cad")].filter(Boolean);default:return r}}function _Y(){const t=Object.entries(hY);return e.jsxs(Qs,{children:[e.jsxs("section",{className:"relative py-20 lg:py-28 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/5"}),e.jsx("div",{className:"container relative z-10",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto",children:[e.jsxs(B,{variant:"secondary",className:"mb-4",children:[e.jsx(ct,{className:"h-3 w-3 mr-1"}),"MVP Launch - All Challenges Free"]}),e.jsxs("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-6",children:["Production-Grade"," ",e.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Design Studios"})]}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Master factory-ready design through 4 progressive levels. From concept sketches to manufacturing specs  every deliverable is production-grade."})]})})]}),e.jsx("section",{className:"py-16 lg:py-24",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map(([r,s],a)=>{const n=fY(r);return e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:e.jsxs(G,{className:"h-full overflow-hidden group hover:shadow-xl transition-all duration-300 border-2 hover:border-primary/30",children:[e.jsx("div",{className:`h-2 bg-gradient-to-r ${s.color}`}),e.jsx(je,{className:"pb-2",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-4xl mb-2 block",children:s.icon}),e.jsx(Ne,{className:"text-2xl font-display",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.subtitle})]}),e.jsx(B,{variant:"outline",className:"capitalize",children:s.category})]})}),e.jsxs(Y,{className:"space-y-6",children:[e.jsx("p",{className:"text-muted-foreground",children:s.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(ri,{className:"h-4 w-4 text-primary"}),"4-Level Progression"]}),e.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(i=>{const o=n.find(c=>c.level_number===i),l=wY[i];return e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[e.jsx("span",{className:`h-3 w-3 rounded-full ${l.color}`}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium truncate",children:o?.title?.split(":")[1]?.trim()||`Level ${i}`})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(Ze,{className:"h-3 w-3"}),o?.time_limit_hours||4,"h"]}),e.jsxs(B,{variant:"secondary",className:"text-xs",children:[o?.xp_reward||100," XP"]})]},i)})})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(mt,{className:"h-4 w-4"}),"4 Challenges"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"h-4 w-4"}),"136+ Hours Content"]})]}),e.jsx(T,{className:"w-full group-hover:bg-primary",asChild:!0,children:e.jsxs(fe,{to:`/styleboxes?studio=${r}`,children:["Start Studio Journey",e.jsx(St,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]})},r)})})})}),e.jsx("section",{className:"py-16 lg:py-24 bg-muted/50",children:e.jsxs("div",{className:"container text-center",children:[e.jsx("h2",{className:"font-display text-3xl font-bold mb-4",children:"Ready to Build Your Portfolio?"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-xl mx-auto",children:"Complete all 16 challenges across 4 studios to become a production-ready designer."}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(T,{size:"lg",asChild:!0,children:e.jsx(fe,{to:"/auth",children:"Get Started Free"})}),e.jsx(T,{size:"lg",variant:"outline",asChild:!0,children:e.jsx(fe,{to:"/styleboxes",children:"Browse All Challenges"})})]})]})})]})}const SY=[{name:"Sarah Iqbal",specialty:"Streetwear",products:12,rating:4.9,image:js.sarahIqbal,rank:"Lead Designer"},{name:"Ali Hassan",specialty:"Essentials",products:8,rating:4.8,image:js.aliHassan,rank:"Senior Designer"},{name:"Fatima Malik",specialty:"Couture",products:15,rating:4.9,image:js.fatimaMalik,rank:"Elite Designer"},{name:"Zain Ahmed",specialty:"Sustainable",products:10,rating:4.7,image:js.zainAhmed,rank:"Designer"},{name:"Ayesha Khan",specialty:"Traditional",products:18,rating:4.9,image:js.ayeshaKhan,rank:"Elite Designer"},{name:"Usman Tariq",specialty:"Streetwear",products:14,rating:4.8,image:js.usmanTariq,rank:"Lead Designer"},{name:"Hira Noor",specialty:"Couture",products:6,rating:4.9,image:js.hiraNoor,rank:"Senior Designer"},{name:"Kamran Malik",specialty:"Textile Art",products:22,rating:4.8,image:js.kamranMalik,rank:"Elite Designer"}],CY=[{value:120,suffix:"+",label:"Active Designers",icon:e.jsx(mt,{className:"h-6 w-6 text-muted-foreground"})},{value:450,suffix:"+",label:"Products Created",icon:e.jsx(Ya,{className:"h-6 w-6 text-muted-foreground"})},{value:98,suffix:"%",label:"Satisfaction Rate",icon:e.jsx(ks,{className:"h-6 w-6 text-muted-foreground"})}];function kY(){return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Designer Community | Adorzia",description:"Meet Pakistan's top emerging fashion designers. Discover their work, specialties, and creative journeys on Adorzia's designer platform.",url:"https://studio.adorzia.com/designers",keywords:"fashion designers, pakistan designers, emerging talent, designer community, creative professionals"}),e.jsxs("section",{className:"pt-24 pb-16 md:pt-32 md:pb-24 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-secondary/10"}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl",children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"Designer Directory"}),e.jsx("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold mb-6 tracking-tight",children:"Meet Our Designers"}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Discover talented creators from across Pakistan, each bringing unique perspectives and exceptional craftsmanship to the fashion industry."})]})})]}),e.jsx("section",{className:"py-12 border-t border-b bg-muted/30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx(CI,{stats:CY,variant:"default"})})}),e.jsx("section",{className:"py-20 md:py-28",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center max-w-2xl mx-auto mb-16",children:[e.jsx(W.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(B,{variant:"outline",className:"mb-4",children:"Featured Creators"})}),e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Top Designers"}),e.jsx(W.p,{className:"text-muted-foreground",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"These talented designers are shaping the future of Pakistani fashion."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:SY.map((t,r)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:r*.05},children:e.jsx(Cr,{tiltAmount:8,children:e.jsxs(G,{className:"h-full hover:shadow-lg transition-all duration-300 cursor-pointer group overflow-hidden",children:[e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[e.jsx(W.img,{src:t.image,alt:t.name,className:"w-full h-full object-cover",whileHover:{scale:1.1},transition:{duration:.4}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsx(W.div,{className:"absolute bottom-4 left-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",initial:{y:10},whileHover:{y:0},children:e.jsx(T,{variant:"secondary",size:"sm",className:"w-full",children:"View Profile"})})]}),e.jsxs(Y,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-display font-semibold group-hover:text-primary transition-colors",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.specialty})]}),e.jsx(B,{variant:"secondary",className:"text-xs",children:t.rank})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[e.jsxs("span",{className:"text-muted-foreground",children:[t.products," products"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(At,{className:"h-3 w-3 fill-foreground"}),e.jsx("span",{className:"font-medium",children:t.rating})]})]})]})]})})},r))})]})}),e.jsxs("section",{className:"py-20 md:py-28 bg-foreground text-background relative overflow-hidden",children:[e.jsx(W.div,{className:"absolute inset-0 bg-gradient-to-r from-primary/10 via-transparent to-primary/10",animate:{x:["-100%","100%"]},transition:{duration:20,repeat:1/0,ease:"linear"}}),e.jsxs("div",{className:"max-w-3xl mx-auto px-6 text-center relative",children:[e.jsx(yt,{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight text-background",children:"Become a Designer"}),e.jsx(W.p,{className:"text-background/60 max-w-xl mx-auto mb-8",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.2},children:"Join our community of talented creators. Start your journey today."}),e.jsx(fe,{to:"/auth",children:e.jsxs(T,{size:"lg",variant:"secondary",className:"group",children:["Get Started",e.jsx(St,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})]})]})]})}const AY=[{id:"studio-visit-hongshan",title:"Studio Visit: Inside Hongshan Feng's Creative Process",description:"An intimate look at how one of our featured designers transforms traditional craftsmanship into contemporary luxury pieces.",excerpt:"Step into the creative world of Hongshan Feng, where Eastern aesthetics meet Western minimalism. In this exclusive studio visit, we explore the designer's process from concept to creation.",hero_image:"https://images.unsplash.com/photo-1558769132-cb1aea1c8e86?w=1200",author:"Adorzia Editorial",author_avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",published_date:"2024-01-15",reading_time:"8 min read",category:"Behind the Scenes",tags:["Designer Spotlight","Creative Process","Studio Tour"],featured:!0},{id:"sustainable-fashion",title:"The Future of Sustainable Fashion in Pakistan",description:"Exploring eco-friendly materials and ethical production methods with our sustainability-focused designers.",excerpt:"Discover how Pakistani designers are leading the charge in sustainable fashion, using innovative materials and ethical production practices to create beautiful, eco-conscious pieces.",hero_image:"https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=1200",author:"Sarah Ahmed",author_avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",published_date:"2024-01-20",reading_time:"6 min read",category:"Sustainability",tags:["Eco-Friendly","Ethical Fashion","Innovation"]},{id:"bridal-trends-2024",title:"Bridal Trends 2024: Modern Romance",description:"From minimalist silhouettes to dramatic statements, discover what's defining bridal fashion this year.",excerpt:"Wedding season is here, and 2024 brings a fresh perspective on bridal fashion. Explore the trends shaping contemporary bridal wear, from sustainable fabrics to bold silhouettes.",hero_image:"https://images.unsplash.com/photo-1594552072238-3c0b0e4d25d0?w=1200",author:"Hira Noor",author_avatar:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400",published_date:"2024-01-25",reading_time:"10 min read",category:"Trends",tags:["Bridal Fashion","Wedding Trends","2024 Trends"]},{id:"streetwear-revolution",title:"The Streetwear Revolution in Pakistani Luxury Fashion",description:"How urban designers are reshaping the luxury landscape with bold, contemporary pieces.",excerpt:"Pakistan's streetwear scene is exploding. Young designers are merging street culture with luxury craftsmanship, creating a new category that's capturing global attention.",hero_image:"https://images.unsplash.com/photo-1507679799987-c73779587ccf?w=1200",author:"Zain Ahmed",author_avatar:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=400",published_date:"2024-02-01",reading_time:"7 min read",category:"Trends",tags:["Streetwear","Urban Fashion","Luxury"]},{id:"heritage-reimagined",title:"Heritage Reimagined: Traditional Meets Modern",description:"Celebrating designers who honor traditional techniques while creating contemporary masterpieces.",excerpt:"Traditional Pakistani craftsmanship is experiencing a renaissance. Designers are preserving centuries-old techniques while creating pieces that speak to modern sensibilities.",hero_image:"https://images.unsplash.com/photo-1496747611176-843222e1e57c?w=1200",author:"Fatima Malik",author_avatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400",published_date:"2024-02-05",reading_time:"9 min read",category:"Culture",tags:["Heritage","Traditional Craft","Innovation"]},{id:"summer-essentials-guide",title:"Summer Essentials: Building Your Perfect Wardrobe",description:"Expert styling tips and must-have pieces for the summer season from our top designers.",excerpt:"As temperatures rise, it's time to refresh your wardrobe. Our designers share their essential summer pieces and styling tips for staying chic in the heat.",hero_image:"https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=1200",author:"Adorzia Style Team",author_avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",published_date:"2024-02-10",reading_time:"5 min read",category:"Styling",tags:["Summer Fashion","Style Guide","Wardrobe Essentials"]}],PY=["All","Behind the Scenes","Sustainability","Trends","Culture","Styling"];function EY(){const[t,r]=f.useState(""),[s,a]=f.useState("All"),n=AY.filter(l=>{const c=l.title.toLowerCase().includes(t.toLowerCase())||l.description.toLowerCase().includes(t.toLowerCase())||l.excerpt.toLowerCase().includes(t.toLowerCase()),d=s==="All"||l.category===s;return c&&d}),i=n.find(l=>l.featured)||n[0],o=n.filter(l=>l.id!==i?.id);return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Fashion Blog | Designer Stories, Trends & Style Guides | Adorzia",description:"Explore the world of Pakistani fashion design. Read designer spotlights, sustainability insights, bridal trends, streetwear evolution, and expert style guides from Adorzia's creative community.",keywords:"pakistani fashion blog, designer interviews, fashion trends 2024, sustainable fashion pakistan, bridal fashion trends, streetwear pakistan, designer spotlight, fashion industry insights, style guides, luxury fashion blog",url:"https://studio.adorzia.com/blog",image:i?.hero_image||"https://studio.adorzia.com/og-blog.jpg",type:"website"}),e.jsxs("section",{className:"pt-24 pb-16 md:pt-32 md:pb-24 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-secondary/10"}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:e.jsx("div",{className:"text-center max-w-2xl mx-auto",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx(B,{variant:"secondary",className:"mb-6",children:"Fashion Editorial"}),e.jsx(yt,{className:"font-display text-4xl md:text-5xl lg:text-6xl font-bold mb-6 tracking-tight",children:"Stories from the Studio"}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed mb-8",children:"Dive into the world of independent fashion design. Discover stories, insights, and inspiration from Pakistan's most creative designers."}),e.jsx("div",{className:"max-w-md mx-auto mb-6",children:e.jsx(ie,{type:"text",placeholder:"Search articles...",value:t,onChange:l=>r(l.target.value),className:"h-12"})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:PY.map(l=>e.jsx(T,{variant:s===l?"default":"outline",size:"sm",onClick:()=>a(l),children:l},l))})]})})})]}),i&&e.jsx("section",{className:"py-12 md:py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(fe,{to:`/blog/${i.id}`,children:e.jsx(G,{className:"overflow-hidden group cursor-pointer hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[e.jsx("div",{className:"aspect-square md:aspect-auto relative overflow-hidden",children:e.jsx("img",{src:i.hero_image,alt:i.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),e.jsxs(Y,{className:"p-8 md:p-12 flex flex-col justify-center",children:[e.jsx(B,{variant:"secondary",className:"w-fit mb-4",children:"Featured Article"}),e.jsx("div",{className:"flex items-center gap-2 mb-4",children:e.jsx(B,{variant:"outline",children:i.category})}),e.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight group-hover:text-primary transition-colors",children:i.title}),e.jsx("p",{className:"text-muted-foreground mb-6 text-lg line-clamp-3",children:i.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:i.author_avatar,alt:i.author,className:"h-6 w-6 rounded-full object-cover"}),e.jsx("span",{children:i.author})]}),e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wr,{className:"h-4 w-4"}),new Date(i.published_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"h-4 w-4"}),i.reading_time]})]}),e.jsxs(T,{className:"w-fit group/btn",children:["Read Article",e.jsx(St,{className:"ml-2 h-4 w-4 transition-transform group-hover/btn:translate-x-1"})]})]})]})})})})})}),e.jsx("section",{className:"py-12 md:py-20 bg-secondary/30",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-12",children:e.jsx(yt,{className:"font-display text-2xl md:text-3xl font-bold tracking-tight",children:"Latest Articles"})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((l,c)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:c*.05},children:e.jsx(fe,{to:`/blog/${l.id}`,children:e.jsx(Cr,{tiltAmount:6,children:e.jsxs(G,{className:"h-full overflow-hidden group cursor-pointer hover:shadow-lg transition-shadow bg-background",children:[e.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden",children:[e.jsx("img",{src:l.hero_image,alt:l.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(B,{variant:"secondary",children:l.category})})]}),e.jsxs(Y,{className:"p-5",children:[e.jsx("h3",{className:"font-display text-lg font-bold mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:l.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:l.description}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-3",children:[e.jsx("img",{src:l.author_avatar,alt:l.author,className:"h-5 w-5 rounded-full object-cover"}),e.jsx("span",{children:l.author}),e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wr,{className:"h-3 w-3"}),new Date(l.published_date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:l.tags.slice(0,2).map(d=>e.jsx(B,{variant:"outline",className:"text-xs",children:d},d))})]})]})})})},l.id))}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"font-display text-2xl font-bold mb-2",children:"No articles found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters."})]})]})}),e.jsx("section",{className:"py-20 md:py-28 bg-foreground text-background",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center",children:e.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx(B,{variant:"outline",className:"mb-6 border-background/20 text-background",children:"Stay Updated"}),e.jsx("h2",{className:"font-display text-3xl md:text-4xl font-bold mb-4 tracking-tight",children:"Never Miss a Story"}),e.jsx("p",{className:"text-lg text-background/80 mb-8 max-w-2xl mx-auto",children:"Get the latest designer features, fashion insights, and style guides delivered to your inbox every week."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx(ie,{type:"email",placeholder:"Enter your email",className:"bg-background/10 border-background/20 text-background placeholder:text-background/50 flex-1"}),e.jsx(T,{size:"lg",variant:"secondary",children:"Subscribe"})]})]})})})]})}const DM=f.createContext(void 0),TY=()=>{let t=localStorage.getItem("marketplace_session_id");return t||(t=`guest_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,localStorage.setItem("marketplace_session_id",t)),t};function $a({children:t}){const[r,s]=f.useState(null),[a,n]=f.useState(!0),{toast:i}=Ge(),o=async()=>{const{data:{session:v}}=await J.auth.getSession();return v?.access_token?{Authorization:`Bearer ${v.access_token}`}:{}},l=f.useCallback(async(v,x={})=>{const g=await o(),b=TY(),y=new AbortController,j=setTimeout(()=>y.abort(),1e4);try{const S=await J.functions.invoke("marketplace-cart",{headers:g,body:{action:v,session_id:b,...x}});if(clearTimeout(j),S.error)throw new Error(S.error.message);return S.data}catch(S){throw clearTimeout(j),S instanceof Error&&S.name==="AbortError"?new Error("Request timeout - please try again"):S}},[]),c=f.useCallback(async()=>{try{n(!0);const v=await l("get");s(v.cart)}catch(v){console.error("Error fetching cart:",v)}finally{n(!1)}},[l]),d=f.useCallback(async(v,x=1,g)=>{try{const b=await l("add",{product_id:v,quantity:x,variant:g});s(b.cart),i({title:"Added to bag",description:b.message||"Item has been added to your shopping bag."})}catch(b){console.error("Error adding item:",b),i({title:"Error",description:"Failed to add item to cart.",variant:"destructive"})}},[l,i]),u=f.useCallback(async(v,x,g)=>{try{const b=await l("update",{product_id:v,quantity:x,variant:g});s(b.cart)}catch(b){console.error("Error updating quantity:",b),i({title:"Error",description:"Failed to update quantity.",variant:"destructive"})}},[l,i]),m=f.useCallback(async(v,x)=>{try{const g=await l("remove",{product_id:v,variant:x});s(g.cart),i({title:"Removed",description:"Item has been removed from your bag."})}catch(g){console.error("Error removing item:",g),i({title:"Error",description:"Failed to remove item.",variant:"destructive"})}},[l,i]),h=f.useCallback(async()=>{try{const v=await l("clear");s(v.cart)}catch(v){console.error("Error clearing cart:",v),i({title:"Error",description:"Failed to clear cart.",variant:"destructive"})}},[l,i]);f.useEffect(()=>{c()},[c]);const p=r?.items?.reduce((v,x)=>v+x.quantity,0)||0;return e.jsx(DM.Provider,{value:{cart:r,itemCount:p,isLoading:a,addItem:d,updateQuantity:u,removeItem:m,clearCart:h,refreshCart:c},children:t})}function To(){const t=f.useContext(DM);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t}function OY(t,r=!0){return Oe({queryKey:["global-search",t],queryFn:async()=>{if(!t||t.trim().length<2)return[];const{data:s,error:a}=await J.rpc("global_search",{search_query:t.trim(),result_limit:20});if(a)throw console.error("Search error:",a),a;return s||[]},enabled:r&&t.trim().length>=2,staleTime:1e3*60*5})}function DY(t,r){return f.useReducer((s,a)=>r[s][a]??s,t)}var H_="ScrollArea",[RM]=Ur(H_),[RY,tn]=RM(H_),IM=f.forwardRef((t,r)=>{const{__scopeScrollArea:s,type:a="hover",dir:n,scrollHideDelay:i=600,...o}=t,[l,c]=f.useState(null),[d,u]=f.useState(null),[m,h]=f.useState(null),[p,v]=f.useState(null),[x,g]=f.useState(null),[b,y]=f.useState(0),[j,S]=f.useState(0),[w,_]=f.useState(!1),[N,k]=f.useState(!1),C=Xe(r,A=>c(A)),P=zi(n);return e.jsx(RY,{scope:s,type:a,dir:P,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:_,scrollbarY:x,onScrollbarYChange:g,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:S,children:e.jsx(we.div,{dir:P,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});IM.displayName=H_;var MM="ScrollAreaViewport",FM=f.forwardRef((t,r)=>{const{__scopeScrollArea:s,children:a,nonce:n,...i}=t,o=tn(MM,s),l=f.useRef(null),c=Xe(r,l,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(we.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});FM.displayName=MM;var hi="ScrollAreaScrollbar",K_=f.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=tn(hi,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l=t.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),n.type==="hover"?e.jsx(IY,{...a,ref:r,forceMount:s}):n.type==="scroll"?e.jsx(MY,{...a,ref:r,forceMount:s}):n.type==="auto"?e.jsx(LM,{...a,ref:r,forceMount:s}):n.type==="always"?e.jsx(G_,{...a,ref:r}):null});K_.displayName=hi;var IY=f.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=tn(hi,t.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(qr,{present:s||i,children:e.jsx(LM,{"data-state":i?"visible":"hidden",...a,ref:r})})}),MY=f.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=tn(hi,t.__scopeScrollArea),i=t.orientation==="horizontal",o=_x(()=>c("SCROLL_END"),100),[l,c]=DY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,n.scrollHideDelay,c]),f.useEffect(()=>{const d=n.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const p=d[u];m!==p&&(c("SCROLL"),o()),m=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[n.viewport,i,c,o]),e.jsx(qr,{present:s||l!=="hidden",children:e.jsx(G_,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:ve(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ve(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),LM=f.forwardRef((t,r)=>{const s=tn(hi,t.__scopeScrollArea),{forceMount:a,...n}=t,[i,o]=f.useState(!1),l=t.orientation==="horizontal",c=_x(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:u)}},10);return Dc(s.viewport,c),Dc(s.content,c),e.jsx(qr,{present:a||i,children:e.jsx(G_,{"data-state":i?"visible":"hidden",...n,ref:r})})}),G_=f.forwardRef((t,r)=>{const{orientation:s="vertical",...a}=t,n=tn(hi,t.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=UM(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function m(h,p){return BY(h,o.current,l,p)}return s==="horizontal"?e.jsx(FY,{...u,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const h=n.viewport.scrollLeft,p=fC(h,l,n.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollLeft=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollLeft=m(h,n.dir))}}):s==="vertical"?e.jsx(LY,{...u,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const h=n.viewport.scrollTop,p=fC(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{n.viewport&&(n.viewport.scrollTop=h)},onDragScroll:h=>{n.viewport&&(n.viewport.scrollTop=m(h))}}):null}),FY=f.forwardRef((t,r)=>{const{sizes:s,onSizesChange:a,...n}=t,i=tn(hi,t.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Xe(r,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(qM,{"data-orientation":"horizontal",...n,ref:d,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Nx(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),WM(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:wf(o.paddingLeft),paddingEnd:wf(o.paddingRight)}})}})}),LY=f.forwardRef((t,r)=>{const{sizes:s,onSizesChange:a,...n}=t,i=tn(hi,t.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Xe(r,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(qM,{"data-orientation":"vertical",...n,ref:d,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Nx(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),WM(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:wf(o.paddingTop),paddingEnd:wf(o.paddingBottom)}})}})}),[$Y,$M]=RM(hi),qM=f.forwardRef((t,r)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=t,p=tn(hi,s),[v,x]=f.useState(null),g=Xe(r,C=>x(C)),b=f.useRef(null),y=f.useRef(""),j=p.viewport,S=a.content-a.viewport,w=pr(u),_=pr(c),N=_x(m,10);function k(C){if(b.current){const P=C.clientX-b.current.left,A=C.clientY-b.current.top;d({x:P,y:A})}}return f.useEffect(()=>{const C=P=>{const A=P.target;v?.contains(A)&&w(P,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[j,v,S,w]),f.useEffect(_,[a,_]),Dc(v,N),Dc(p.content,N),e.jsx($Y,{scope:s,scrollbar:v,hasThumb:n,onThumbChange:pr(i),onThumbPointerUp:pr(o),onThumbPositionChange:_,onThumbPointerDown:pr(l),children:e.jsx(we.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:ve(t.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:ve(t.onPointerMove,k),onPointerUp:ve(t.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),jf="ScrollAreaThumb",zM=f.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=$M(jf,t.__scopeScrollArea);return e.jsx(qr,{present:s||n.hasThumb,children:e.jsx(qY,{ref:r,...a})})}),qY=f.forwardRef((t,r)=>{const{__scopeScrollArea:s,style:a,...n}=t,i=tn(jf,s),o=$M(jf,s),{onThumbPositionChange:l}=o,c=Xe(r,m=>o.onThumbChange(m)),d=f.useRef(void 0),u=_x(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(u(),!d.current){const p=UY(m,l);d.current=p,l()}};return l(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,u,l]),e.jsx(we.div,{"data-state":o.hasThumb?"visible":"hidden",...n,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ve(t.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),v=m.clientX-p.left,x=m.clientY-p.top;o.onThumbPointerDown({x:v,y:x})}),onPointerUp:ve(t.onPointerUp,o.onThumbPointerUp)})});zM.displayName=jf;var Y_="ScrollAreaCorner",BM=f.forwardRef((t,r)=>{const s=tn(Y_,t.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?e.jsx(zY,{...t,ref:r}):null});BM.displayName=Y_;var zY=f.forwardRef((t,r)=>{const{__scopeScrollArea:s,...a}=t,n=tn(Y_,s),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return Dc(n.scrollbarX,()=>{const u=n.scrollbarX?.offsetHeight||0;n.onCornerHeightChange(u),c(u)}),Dc(n.scrollbarY,()=>{const u=n.scrollbarY?.offsetWidth||0;n.onCornerWidthChange(u),o(u)}),d?e.jsx(we.div,{...a,ref:r,style:{width:i,height:l,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function wf(t){return t?parseInt(t,10):0}function UM(t,r){const s=t/r;return isNaN(s)?0:s}function Nx(t){const r=UM(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-s)*r;return Math.max(a,18)}function BY(t,r,s,a="ltr"){const n=Nx(s),i=n/2,o=r||i,l=n-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,m=a==="ltr"?[0,u]:[u*-1,0];return VM([c,d],m)(t)}function fC(t,r,s="ltr"){const a=Nx(r),n=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-n,o=r.content-r.viewport,l=i-a,c=s==="ltr"?[0,o]:[o*-1,0],d=qu(t,c);return VM([0,o],[0,l])(d)}function VM(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(t[1]-t[0]);return r[0]+a*(s-t[0])}}function WM(t,r){return t>0&&t<r}var UY=(t,r=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},a=0;return(function n(){const i={left:t.scrollLeft,top:t.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&r(),s=i,a=window.requestAnimationFrame(n)})(),()=>window.cancelAnimationFrame(a)};function _x(t,r){const s=pr(t),a=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(a.current),[]),f.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,r)},[s,r])}function Dc(t,r){const s=pr(r);Fr(()=>{let a=0;if(t){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return n.observe(t),()=>{window.cancelAnimationFrame(a),n.unobserve(t)}}},[t,s])}var HM=IM,VY=FM,WY=BM;const rn=f.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(HM,{ref:a,className:q("relative overflow-hidden",t),...s,children:[e.jsx(VY,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(KM,{}),e.jsx(WY,{})]}));rn.displayName=HM.displayName;const KM=f.forwardRef(({className:t,orientation:r="vertical",...s},a)=>e.jsx(K_,{ref:a,orientation:r,className:q("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(zM,{className:"relative flex-1 rounded-full bg-border"})}));KM.displayName=K_.displayName;function Gt(t,r="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(t)}function HY({onClose:t}){const{cart:r,itemCount:s,isLoading:a,updateQuantity:n,removeItem:i}=To();if(a)return e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-foreground border-t-transparent rounded-full"})});if(!r||!r.items||r.items.length===0)return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-editorial-title text-xl",children:"Your Bag"}),e.jsx(T,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(ht,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:e.jsx(Ma,{className:"h-10 w-10 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-display mb-2",children:"Your bag is empty"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-sm",children:"Looks like you haven't added any items yet. Start shopping to discover beautiful pieces."}),e.jsx(T,{onClick:t,asChild:!0,size:"lg",children:e.jsx(fe,{to:"/shop",children:"Start Shopping"})})]})]});const o=r.subtotal||0,l=200,c=l-o;return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-editorial-title text-xl",children:"Your Bag"}),e.jsx(T,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(ht,{className:"h-5 w-5"})})]}),c>0&&e.jsxs(W.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-muted/30 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:Gt(c)})," more for free shipping"]}),e.jsx(ct,{className:"h-4 w-4 text-foreground"})]}),e.jsx("div",{className:"w-full bg-border rounded-full h-1.5",children:e.jsx(W.div,{className:"bg-foreground h-1.5 rounded-full",initial:{width:0},animate:{width:`${Math.min(o/l*100,100)}%`},transition:{duration:.5,ease:"easeOut"}})})]}),c<=0&&e.jsx(W.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 border-b",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"h-4 w-4 text-green-600"}),e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Congratulations! You qualify for free shipping."})]})}),e.jsx(rn,{className:"flex-1 p-6",children:e.jsx("div",{className:"space-y-6",children:e.jsx(si,{children:r.items.map((d,u)=>e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:u*.05},className:"flex gap-4 p-4 border rounded-sm hover:bg-muted/30 transition-colors",children:[e.jsx("div",{className:"w-24 h-32 bg-muted rounded-sm overflow-hidden flex-shrink-0",children:d.image?e.jsx("img",{src:d.image,alt:d.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ma,{className:"h-8 w-8 text-muted-foreground/30"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[d.designer_name&&e.jsx("p",{className:"text-xs uppercase tracking-widest text-muted-foreground mb-1",children:d.designer_name}),e.jsx("h4",{className:"font-display text-base mb-2 line-clamp-2",children:d.title}),d.variant&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(d.variant).map(([m,h])=>e.jsxs("div",{className:"text-xs bg-muted/50 px-2 py-1 rounded-sm",children:[m,": ",h]},m))}),e.jsx("p",{className:"font-display text-lg mb-4",children:Gt(d.price)}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border rounded-sm",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-none",onClick:()=>n(d.product_id,d.quantity-1,d.variant),disabled:d.quantity<=1,children:e.jsx(JN,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-12 text-center font-medium",children:d.quantity}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-none",onClick:()=>n(d.product_id,d.quantity+1,d.variant),children:e.jsx(Xt,{className:"h-4 w-4"})})]}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-10 w-10 text-muted-foreground hover:text-destructive",onClick:()=>i(d.product_id,d.variant),children:e.jsx(Hr,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"text-right min-w-fit",children:e.jsx("p",{className:"font-display text-lg",children:Gt(d.price*d.quantity)})})]},`${d.product_id}-${u}`))})})}),e.jsxs("div",{className:"p-6 border-t space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-base",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsx("span",{className:"font-display text-xl",children:Gt(o)})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Shipping & taxes calculated at checkout"}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(T,{asChild:!0,className:"h-14 text-base",onClick:t,children:e.jsx(fe,{to:"/shop/checkout",children:"Proceed to Checkout"})}),e.jsx(T,{variant:"outline",asChild:!0,className:"h-12 text-base",onClick:t,children:e.jsx(fe,{to:"/shop/cart",children:"View Full Bag"})})]})]})]})}const pC=[{href:"/shop",label:"Home"},{href:"/shop/designers",label:"Designers"},{href:"/shop/collections",label:"Collections"},{href:"/shop/products",label:"Categories"},{href:"/shop/products?featured=true",label:"Limited Editions"}];function KY(){const[t,r]=f.useState(!1),[s,a]=f.useState(!1),[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,m]=f.useState(""),h=wr(),{itemCount:p}=To(),{user:v,isCustomer:x,isDesigner:g,isAdmin:b}=ur(),y=f.useRef(null),j=()=>v?x?"/shop/account":g||b?"/dashboard":"/shop/auth":"/shop/auth";f.useEffect(()=>{const N=()=>{l(window.scrollY>50)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]),f.useEffect(()=>{const N=setTimeout(()=>{m(c)},300);return()=>clearTimeout(N)},[c]);const{data:S,isLoading:w}=OY(u,t&&u.length>=2);f.useEffect(()=>{const N=k=>{y.current&&!y.current.contains(k.target)&&r(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const _=N=>{N.preventDefault(),c.trim()&&(h(`/shop?search=${encodeURIComponent(c)}`),r(!1),d(""))};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${o||t?"bg-background/95 backdrop-blur-md shadow-soft":"bg-transparent"}`,children:[e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsxs("div",{className:"flex h-20 items-center justify-between",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"lg:hidden hover:bg-transparent",onClick:()=>a(!s),children:s?e.jsx(ht,{className:"h-5 w-5"}):e.jsx($D,{className:"h-5 w-5"})}),e.jsx("nav",{className:"hidden lg:flex items-center gap-8",children:pC.slice(0,3).map(N=>e.jsx(fe,{to:N.href,className:"text-[11px] font-medium uppercase tracking-[0.2em] text-foreground/80 hover:text-foreground transition-colors duration-300 link-underline-luxury",children:N.label},N.href))}),e.jsx(fe,{to:"/shop",className:"absolute left-1/2 -translate-x-1/2",children:e.jsx("span",{className:"font-display text-2xl md:text-3xl font-medium tracking-tight text-foreground",children:"Adorzia"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>r(!t),className:"hover:bg-transparent",children:e.jsx(dr,{className:"h-[18px] w-[18px] stroke-[1.5]"})}),e.jsx(T,{variant:"ghost",size:"icon",asChild:!0,className:"hidden sm:flex hover:bg-transparent",children:e.jsx(fe,{to:"/shop/wishlist",children:e.jsx(gd,{className:"h-[18px] w-[18px] stroke-[1.5]"})})}),e.jsx(T,{variant:"ghost",size:"icon",asChild:!0,className:"hover:bg-transparent",children:e.jsx(fe,{to:j(),children:e.jsx(Oa,{className:"h-[18px] w-[18px] stroke-[1.5]"})})}),e.jsxs(El,{open:n,onOpenChange:i,children:[e.jsx(hx,{asChild:!0,children:e.jsxs(T,{variant:"ghost",size:"icon",className:"relative hover:bg-transparent",children:[e.jsx(Ma,{className:"h-[18px] w-[18px] stroke-[1.5]"}),p>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 flex items-center justify-center text-[10px] font-medium bg-foreground text-background rounded-full",children:p})]})}),e.jsx(Ao,{className:"w-full sm:max-w-md p-0",children:e.jsx(HY,{onClose:()=>i(!1)})})]})]})]})}),e.jsx(si,{children:t&&e.jsx(W.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"absolute top-full left-0 right-0 bg-background/98 backdrop-blur-xl border-b border-border/50",ref:y,children:e.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12",children:[e.jsxs("form",{onSubmit:_,className:"relative",children:[e.jsx(ie,{type:"search",placeholder:"Search designers, products, collections...",value:c,onChange:N=>d(N.target.value),className:"h-16 text-lg border-0 border-b-2 border-border rounded-none bg-transparent px-0 focus-visible:ring-0 focus-visible:border-foreground placeholder:text-muted-foreground/50",autoFocus:!0}),e.jsx(T,{type:"submit",variant:"ghost",size:"icon",className:"absolute right-0 top-1/2 -translate-y-1/2",children:e.jsx(lr,{className:"h-5 w-5"})})]}),c.length>=2&&e.jsx("div",{className:"mt-8",children:w?e.jsx("div",{className:"py-8 text-center text-muted-foreground",children:e.jsx("div",{className:"animate-pulse",children:"Searching..."})}):S&&S.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"Results"}),S.slice(0,6).map(N=>e.jsxs(fe,{to:N.url,onClick:()=>{r(!1),d("")},className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors group",children:[N.image_url?e.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden bg-muted",children:e.jsx("img",{src:N.image_url,alt:N.title,className:"w-full h-full object-cover"})}):e.jsxs("div",{className:"w-12 h-12 rounded-md bg-muted flex items-center justify-center",children:[N.result_type==="designer"&&e.jsx(mt,{className:"h-5 w-5 text-muted-foreground"}),N.result_type==="product"&&e.jsx(Ot,{className:"h-5 w-5 text-muted-foreground"}),N.result_type==="collection"&&e.jsx(No,{className:"h-5 w-5 text-muted-foreground"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate group-hover:text-foreground transition-colors",children:N.title}),N.subtitle&&e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:N.subtitle})]}),e.jsx(B,{variant:"secondary",className:"text-[10px] uppercase tracking-wider",children:N.result_type})]},`${N.result_type}-${N.id}`))]}):e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:['No results found for "',c,'"']})}),!c&&e.jsxs("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-3",children:"Popular"}),e.jsx("div",{className:"space-y-2",children:["Evening Wear","Bridal","Couture","Pret"].map(N=>e.jsx(fe,{to:`/shop/products?category=${N.toLowerCase().replace(" ","-")}`,onClick:()=>r(!1),className:"block text-sm text-foreground/70 hover:text-foreground transition-colors",children:N},N))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-3",children:"Designers"}),e.jsx("div",{className:"space-y-2",children:["New Arrivals","Trending","Featured","All"].map(N=>e.jsx(fe,{to:N==="All"?"/shop/designers":`/shop/designers?filter=${N.toLowerCase()}`,onClick:()=>r(!1),className:"block text-sm text-foreground/70 hover:text-foreground transition-colors",children:N},N))})]})]})]})})}),e.jsx(si,{children:s&&e.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden bg-background border-t border-border",children:e.jsxs("nav",{className:"max-w-[1800px] mx-auto px-6 py-8 flex flex-col gap-6",children:[pC.map((N,k)=>e.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},children:e.jsx(fe,{to:N.href,className:"text-2xl font-display font-light text-foreground hover:text-foreground/70 transition-colors",onClick:()=>a(!1),children:N.label})},N.href)),e.jsxs("form",{onSubmit:_,className:"flex gap-2 pt-6 border-t border-border mt-4",children:[e.jsx(ie,{type:"search",placeholder:"Search...",value:c,onChange:N=>d(N.target.value),className:"flex-1"}),e.jsx(T,{type:"submit",size:"icon",children:e.jsx(dr,{className:"h-4 w-4"})})]})]})})})]}),e.jsx("div",{className:"h-20"})]})}const Jg={discover:[{href:"/shop/designers",label:"Designers"},{href:"/shop/collections",label:"Collections"},{href:"/shop/products?featured=true",label:"Limited Editions"},{href:"/shop/products",label:"All Products"}],support:[{href:"/shop/policies#shipping",label:"Shipping & Delivery"},{href:"/shop/policies#returns",label:"Returns & Exchanges"},{href:"/shop/faq",label:"FAQ"},{href:"/support",label:"Contact"}],company:[{href:"/about",label:"Our Story"},{href:"/studio-info",label:"For Designers"},{href:"/about#sustainability",label:"Sustainability"},{href:"/articles",label:"Journal"}]};function GY(){const[t,r]=f.useState(""),[s,a]=f.useState(!1),n=i=>{i.preventDefault(),t&&(a(!0),r(""))};return e.jsxs("footer",{className:"bg-luxury-charcoal text-background",children:[e.jsx("div",{className:"border-b border-background/10",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12 py-16 md:py-24",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-editorial-caption text-background/60 mb-4",children:"Newsletter"}),e.jsxs("h3",{className:"font-display text-3xl md:text-4xl lg:text-5xl font-light text-background leading-tight",children:["Join the world of",e.jsx("br",{}),"refined craftsmanship"]})]}),e.jsx("div",{className:"lg:justify-self-end lg:max-w-md w-full",children:s?e.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center py-8",children:[e.jsx("p",{className:"text-background font-display text-xl",children:"Thank you for subscribing"}),e.jsx("p",{className:"text-background/60 text-sm mt-2",children:"Welcome to the Adorzia community"})]}):e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsx("p",{className:"text-background/70 text-sm leading-relaxed",children:"Be the first to discover new collections, exclusive designer pieces, and stories from the atelier."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ie,{type:"email",placeholder:"Your email address",value:t,onChange:i=>r(i.target.value),className:"flex-1 h-12 bg-background/10 border-background/20 text-background placeholder:text-background/40 focus-visible:ring-background/30",required:!0}),e.jsx(T,{type:"submit",className:"h-12 px-6 bg-background text-foreground hover:bg-background/90",children:e.jsx(St,{className:"h-4 w-4"})})]})]})})]})})}),e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12 py-16 md:py-20",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"col-span-2 md:col-span-4 lg:col-span-1 mb-8 lg:mb-0",children:[e.jsx(fe,{to:"/shop",className:"inline-block mb-6",children:e.jsx("span",{className:"font-display text-3xl font-medium text-background",children:"Adorzia"})}),e.jsx("p",{className:"text-sm text-background/60 mb-6 max-w-xs leading-relaxed",children:"A curated marketplace celebrating exceptional designers and their craft. Every piece tells a story of dedication and artistry."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-background/20 flex items-center justify-center text-background/60 hover:text-background hover:border-background/40 transition-all duration-300","aria-label":"Instagram",children:e.jsx(jo,{className:"h-4 w-4"})}),e.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-background/20 flex items-center justify-center text-background/60 hover:text-background hover:border-background/40 transition-all duration-300","aria-label":"Twitter",children:e.jsx(Cl,{className:"h-4 w-4"})}),e.jsx("a",{href:"#",className:"w-10 h-10 rounded-full border border-background/20 flex items-center justify-center text-background/60 hover:text-background hover:border-background/40 transition-all duration-300","aria-label":"Facebook",children:e.jsx(ZN,{className:"h-4 w-4"})}),e.jsx("a",{href:"mailto:hello@adorzia.com",className:"w-10 h-10 rounded-full border border-background/20 flex items-center justify-center text-background/60 hover:text-background hover:border-background/40 transition-all duration-300","aria-label":"Email",children:e.jsx(ms,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-editorial-caption text-background/40 mb-6",children:"Discover"}),e.jsx("ul",{className:"space-y-4",children:Jg.discover.map(i=>e.jsx("li",{children:e.jsx(fe,{to:i.href,className:"text-sm text-background/70 hover:text-background transition-colors duration-300 link-underline-luxury",children:i.label})},i.href))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-editorial-caption text-background/40 mb-6",children:"Support"}),e.jsx("ul",{className:"space-y-4",children:Jg.support.map(i=>e.jsx("li",{children:e.jsx(fe,{to:i.href,className:"text-sm text-background/70 hover:text-background transition-colors duration-300 link-underline-luxury",children:i.label})},i.href))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-editorial-caption text-background/40 mb-6",children:"Company"}),e.jsx("ul",{className:"space-y-4",children:Jg.company.map(i=>e.jsx("li",{children:e.jsx(fe,{to:i.href,className:"text-sm text-background/70 hover:text-background transition-colors duration-300 link-underline-luxury",children:i.label})},i.href))})]})]})}),e.jsx("div",{className:"border-t border-background/10",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-xs text-background/40",children:[" ",new Date().getFullYear()," Adorzia. All rights reserved."]}),e.jsxs("div",{className:"flex items-center gap-6 text-xs text-background/40",children:[e.jsx(fe,{to:"/shop/policies#privacy",className:"hover:text-background/70 transition-colors",children:"Privacy"}),e.jsx(fe,{to:"/shop/policies#terms",className:"hover:text-background/70 transition-colors",children:"Terms"}),e.jsx(fe,{to:"/shop/policies#cookies",className:"hover:text-background/70 transition-colors",children:"Cookies"})]})]})})})]})}function cr({children:t}){return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(KY,{}),e.jsx("main",{className:"flex-1",children:t}),e.jsx(GY,{})]})}function GM(t,r={}){if(!t)return"";if(t.startsWith("http"))return t;const{width:s,height:a,quality:n=85,format:i="webp",fit:o="cover"}=r,l=new URLSearchParams;return s&&l.append("width",s.toString()),a&&l.append("height",a.toString()),l.append("quality",n.toString()),l.append("format",i),l.append("resize",o),`https://lnrhrevpouozugsarsmz.supabase.co/storage/v1/render/image/public/${t}?${l.toString()}`}function YY(t,r=[640,750,828,1080,1200,1920],s="webp"){return r.map(a=>`${GM(t,{width:a,format:s,quality:85})} ${a}w`).join(", ")}const XY={thumbnail:{width:200,height:300,quality:80},card:{width:400,height:600,quality:85},detail:{width:1200,height:1800,quality:90},hero:{width:1920,height:1080,quality:95,fit:"cover"},zoom:{width:2400,height:3600,quality:95}};function QY(t,r="card",s="webp"){return GM(t,{...XY[r],format:s})}function ml({id:t,title:r,price:s,salePrice:a,images:n,designerName:i,brandName:o,designerId:l,isNew:c,isBestseller:d,slug:u,productionTime:m="2-3 weeks"}){const[h,p]=f.useState(!1),[v,x]=f.useState(!1),[g,b]=f.useState(!1),{addItem:y,isLoading:j}=To(),S=u?`/shop/product/${u}`:`/shop/product/${t}`,w=a||s,_=async N=>{N.preventDefault(),N.stopPropagation(),await y(t,1)};return e.jsx(W.div,{className:"group",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsxs(fe,{to:S,className:"block",children:[e.jsxs("div",{className:"relative aspect-[3/4] bg-muted overflow-hidden mb-4",children:[!g&&e.jsx("div",{className:"absolute inset-0 bg-muted animate-pulse"}),n&&n.length>0?e.jsx("img",{src:QY(n[0],"card"),srcSet:YY(n[0]),sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",alt:r,loading:"lazy",onLoad:()=>b(!0),className:`w-full h-full object-cover transition-all duration-700 ease-out group-hover:scale-105 ${g?"opacity-100":"opacity-0"}`}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:e.jsx("span",{className:"font-display text-4xl text-muted-foreground/30",children:r?.charAt(0)})}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-1.5",children:[c&&e.jsx(B,{variant:"secondary",className:"text-[10px] uppercase tracking-wider font-medium bg-background/90 backdrop-blur-sm",children:"New"}),d&&e.jsx(B,{className:"text-[10px] uppercase tracking-wider font-medium bg-luxury-charcoal text-background",children:"Limited"})]}),e.jsx("button",{className:`absolute top-3 right-3 h-8 w-8 rounded-full bg-background/90 backdrop-blur-sm flex items-center justify-center transition-all duration-300 hover:scale-110 ${v?"text-red-500":"text-foreground/60 hover:text-foreground"}`,onClick:N=>{N.preventDefault(),N.stopPropagation(),x(!v)},children:e.jsx(gd,{className:`h-4 w-4 ${v?"fill-current":""}`})}),e.jsx(W.div,{className:"absolute bottom-0 left-0 right-0 p-3",initial:{opacity:0,y:10},animate:{opacity:h?1:0,y:h?0:10},transition:{duration:.25},children:e.jsxs(T,{size:"sm",className:"w-full h-10 text-xs tracking-wider bg-background text-foreground hover:bg-background/90 shadow-lg",onClick:_,disabled:j,children:[e.jsx(Ma,{className:"h-3.5 w-3.5 mr-2"}),"Add to Bag"]})})]}),e.jsxs("div",{className:"space-y-2",children:[(o||i)&&e.jsx("p",{className:"text-editorial-label text-muted-foreground",children:o||i}),e.jsx("h3",{className:"font-display text-base font-medium text-foreground line-clamp-1 group-hover:text-foreground/80 transition-colors",children:r}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[e.jsx("span",{className:"font-display text-lg font-medium",children:Gt(w)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:m})]})]})]})})}function Nf(t={}){return Oe({queryKey:["marketplace-products",t],queryFn:async({signal:r})=>{const s=new URLSearchParams;s.set("action","list"),t.category&&s.set("category",t.category),t.collection&&s.set("collection",t.collection),t.designer&&s.set("designer",t.designer),t.minPrice&&s.set("minPrice",t.minPrice.toString()),t.maxPrice&&s.set("maxPrice",t.maxPrice.toString()),t.sort&&s.set("sort",t.sort),t.search&&s.set("search",t.search),t.featured&&s.set("featured","true"),t.bestseller&&s.set("bestseller","true"),t.page&&s.set("page",t.page.toString()),t.limit&&s.set("limit",t.limit.toString());const a=new AbortController,n=setTimeout(()=>a.abort(),1e4);r&&r.addEventListener("abort",()=>{a.abort(),clearTimeout(n)});try{const i=await fetch(`https://lnrhrevpouozugsarsmz.supabase.co/functions/v1/marketplace-products?${s.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucmhyZXZwb3VvenVnc2Fyc216Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MTQxMTQsImV4cCI6MjA4NDk5MDExNH0.--RPkMJJlA3wplVacHc_6azTrr6D9IE1Zsjjwuu_QXk"},signal:a.signal});if(clearTimeout(n),!i.ok)throw new Error(`Failed to fetch products: ${i.status} ${i.statusText}`);return i.json()}catch(i){throw clearTimeout(n),i instanceof Error&&i.name==="AbortError"?new Error("Request timeout - please try again"):i}},retry:2,retryDelay:r=>Math.min(1e3*2**r,3e4),staleTime:300*1e3,cacheTime:600*1e3})}function JY(t){return Oe({queryKey:["marketplace-product",t],queryFn:async({signal:r})=>{const s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),a=new URLSearchParams;a.set("action","detail"),a.set(s?"id":"slug",t);const n=new AbortController,i=setTimeout(()=>n.abort(),1e4);r&&r.addEventListener("abort",()=>{n.abort(),clearTimeout(i)});try{const o=await fetch(`https://lnrhrevpouozugsarsmz.supabase.co/functions/v1/marketplace-products?${a.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucmhyZXZwb3VvenVnc2Fyc216Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MTQxMTQsImV4cCI6MjA4NDk5MDExNH0.--RPkMJJlA3wplVacHc_6azTrr6D9IE1Zsjjwuu_QXk"},signal:n.signal});if(clearTimeout(i),!o.ok)throw new Error(`Failed to fetch product: ${o.status} ${o.statusText}`);return o.json()}catch(o){throw clearTimeout(i),o instanceof Error&&o.name==="AbortError"?new Error("Request timeout - please try again"):o}},enabled:!!t,retry:2,retryDelay:r=>Math.min(1e3*2**r,3e4),staleTime:300*1e3,cacheTime:600*1e3})}function Sx(){return Oe({queryKey:["marketplace-categories"],queryFn:async({signal:t})=>{const r=new AbortController,s=setTimeout(()=>r.abort(),8e3);t&&t.addEventListener("abort",()=>{r.abort(),clearTimeout(s)});try{const a=await fetch("https://lnrhrevpouozugsarsmz.supabase.co/functions/v1/marketplace-products?action=categories",{method:"GET",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucmhyZXZwb3VvenVnc2Fyc216Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MTQxMTQsImV4cCI6MjA4NDk5MDExNH0.--RPkMJJlA3wplVacHc_6azTrr6D9IE1Zsjjwuu_QXk"},signal:r.signal});if(clearTimeout(s),!a.ok)throw new Error(`Failed to fetch categories: ${a.status} ${a.statusText}`);return(await a.json()).categories||[]}catch(a){throw clearTimeout(s),a instanceof Error&&a.name==="AbortError"?new Error("Request timeout - please try again"):a}},retry:2,retryDelay:t=>Math.min(1e3*2**t,3e4),staleTime:600*1e3,cacheTime:900*1e3})}function ZY(t=!1){return Oe({queryKey:["marketplace-collections",t],queryFn:async({signal:r})=>{const s=new URLSearchParams;s.set("action","collections"),t&&s.set("featured","true");const a=new AbortController,n=setTimeout(()=>a.abort(),8e3);r&&r.addEventListener("abort",()=>{a.abort(),clearTimeout(n)});try{const i=await fetch(`https://lnrhrevpouozugsarsmz.supabase.co/functions/v1/marketplace-products?${s.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucmhyZXZwb3VvenVnc2Fyc216Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MTQxMTQsImV4cCI6MjA4NDk5MDExNH0.--RPkMJJlA3wplVacHc_6azTrr6D9IE1Zsjjwuu_QXk"},signal:a.signal});if(clearTimeout(n),!i.ok)throw new Error(`Failed to fetch collections: ${i.status} ${i.statusText}`);return i.json()}catch(i){throw clearTimeout(n),i instanceof Error&&i.name==="AbortError"?new Error("Request timeout - please try again"):i}},retry:2,retryDelay:r=>Math.min(1e3*2**r,3e4),staleTime:600*1e3,cacheTime:900*1e3})}const eX=[{name:"Bridal",image:"https://images.unsplash.com/photo-1594552072238-b8a33785b261?w=800",count:24},{name:"Evening",image:"https://images.unsplash.com/photo-1566174053879-31528523f8ae?w=800",count:38},{name:"Luxury Pret",image:"https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=800",count:56},{name:"Couture",image:"https://images.unsplash.com/photo-1509631179647-0177331693ae?w=800",count:18}];function tX(){const{data:t,isLoading:r}=Nf({featured:!0,limit:8}),{data:s,isLoading:a}=Nf({sort:"newest",limit:8}),{data:n}=ZY(!0),{data:i}=Sx(),{data:o}=Oe({queryKey:["featured-designers"],queryFn:async()=>{const{data:l,error:c}=await J.from("profiles").select("user_id, name, brand_name, avatar_url, bio, location, category").not("name","is",null).order("xp",{ascending:!1}).limit(6);if(c)throw c;return l?.map(d=>({...d,id:d.user_id}))}});return e.jsxs(cr,{children:[e.jsxs("section",{className:"relative min-h-[90vh] flex items-center overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1469334031218-e382a71b716b?w=1920",alt:"Luxury fashion editorial",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/80 to-transparent"})]}),e.jsx("div",{className:"relative max-w-[1800px] mx-auto px-6 lg:px-12 w-full",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-editorial-caption text-muted-foreground mb-6",children:"Designer Marketplace"}),e.jsxs(W.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"text-editorial-hero text-foreground mb-8",children:["Where Vision",e.jsx("br",{}),e.jsx("span",{className:"text-muted-foreground",children:"Meets Craft"})]}),e.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-editorial-body text-muted-foreground mb-10 max-w-lg",children:"Discover exceptional pieces from Pakistan's most talented designers. Each creation tells a story of dedication, artistry, and cultural heritage."}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-wrap gap-4",children:[e.jsx(T,{size:"lg",className:"h-14 px-8 text-sm tracking-wider",asChild:!0,children:e.jsxs(fe,{to:"/shop/designers",children:["Explore Designers",e.jsx(St,{className:"ml-2 h-4 w-4"})]})}),e.jsx(T,{size:"lg",variant:"outline",className:"h-14 px-8 text-sm tracking-wider",asChild:!0,children:e.jsx(fe,{to:"/shop/products?featured=true",children:"Limited Editions"})})]})]})}),e.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:e.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-foreground/30 to-transparent"})})]}),t?.products&&t.products.length>0&&e.jsx("section",{className:"py-24 md:py-32 bg-muted/30",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:[e.jsxs("div",{className:"flex items-end justify-between mb-12",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"Exclusive"}),e.jsx("h2",{className:"text-editorial-display",children:"Limited Editions"})]}),e.jsx(T,{variant:"ghost",className:"hidden md:flex items-center gap-2 group",asChild:!0,children:e.jsxs(fe,{to:"/shop/products?featured=true",children:["View All",e.jsx(ra,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:t.products.slice(0,4).map((l,c)=>e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:c*.1},children:e.jsx(ml,{id:l.id,title:l.title,price:l.price,salePrice:l.sale_price,images:l.images||[],brandName:l.designer?.brand_name,designerName:l.designer?.full_name,designerId:l.designer_id,averageRating:l.average_rating,reviewCount:l.review_count,isNew:!1,isBestseller:l.is_bestseller,slug:l.slug})},l.id))})]})}),o&&o.length>0&&e.jsx("section",{className:"py-24 md:py-32",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:[e.jsxs("div",{className:"flex items-end justify-between mb-12",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"Rising Stars"}),e.jsx("h2",{className:"text-editorial-display",children:"Trending Designers"})]}),e.jsx(T,{variant:"ghost",className:"hidden md:flex items-center gap-2 group",asChild:!0,children:e.jsxs(fe,{to:"/shop/designers",children:["All Designers",e.jsx(ra,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.slice(0,6).map((l,c)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:c*.08},children:e.jsxs(fe,{to:`/shop/designer/${l.id}`,className:"group block",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-lg bg-muted mb-4",children:[l.avatar_url?e.jsx("img",{src:l.avatar_url,alt:l.brand_name||l.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-muted to-muted/50 flex items-center justify-center",children:e.jsx("span",{className:"font-display text-4xl text-muted-foreground",children:(l.brand_name||l.name)?.charAt(0)})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:e.jsx("span",{className:"text-sm font-medium text-foreground",children:"View Profile"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-xl font-medium mb-1 group-hover:text-foreground/80 transition-colors",children:l.brand_name||l.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.category||"Fashion Designer"})]})]})},l.id))})]})}),e.jsx("section",{className:"py-24 md:py-32 bg-muted/30",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"Browse"}),e.jsx("h2",{className:"text-editorial-display",children:"Shop by Category"})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:eX.map((l,c)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:c*.1},children:e.jsxs(fe,{to:`/shop/products?category=${l.name.toLowerCase().replace(" ","-")}`,className:"group block relative aspect-[3/4] overflow-hidden rounded-lg",children:[e.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-background/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsx("h3",{className:"font-display text-2xl md:text-3xl font-medium text-background mb-1",children:l.name}),e.jsxs("p",{className:"text-sm text-background/70",children:[l.count," pieces"]})]})]})},l.name))})]})}),s?.products&&s.products.length>0&&e.jsx("section",{className:"py-24 md:py-32",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:[e.jsxs("div",{className:"flex items-end justify-between mb-12",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"Just In"}),e.jsx("h2",{className:"text-editorial-display",children:"New Arrivals"})]}),e.jsx(T,{variant:"ghost",className:"hidden md:flex items-center gap-2 group",asChild:!0,children:e.jsxs(fe,{to:"/shop/products?sort=newest",children:["View All",e.jsx(ra,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:s.products.slice(0,4).map((l,c)=>e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:c*.1},children:e.jsx(ml,{id:l.id,title:l.title,price:l.price,salePrice:l.sale_price,images:l.images||[],brandName:l.designer?.brand_name,designerName:l.designer?.full_name,designerId:l.designer_id,averageRating:l.average_rating,reviewCount:l.review_count,isNew:!0,isBestseller:l.is_bestseller,slug:l.slug})},l.id))})]})}),n?.collections&&n.collections.length>0&&e.jsx("section",{className:"py-24 md:py-32 bg-luxury-charcoal text-background",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:[e.jsxs("div",{className:"flex items-end justify-between mb-12",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-editorial-caption text-background/50 mb-4",children:"Curated"}),e.jsx("h2",{className:"text-editorial-display text-background",children:"Designer Collections"})]}),e.jsx(T,{variant:"outline",className:"hidden md:flex items-center gap-2 group border-background/20 text-background hover:bg-background/10",asChild:!0,children:e.jsxs(fe,{to:"/shop/collections",children:["All Collections",e.jsx(ra,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.collections.slice(0,3).map((l,c)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:c*.1},children:e.jsxs(fe,{to:"/shop/collections",className:"group block",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-lg mb-4",children:[e.jsx("img",{src:l.image_url||"https://images.unsplash.com/photo-1558769132-cb1aea1c8e86?w=1200",alt:l.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-background/20 group-hover:bg-background/10 transition-colors"})]}),e.jsx("h3",{className:"font-display text-xl font-medium text-background mb-1",children:l.name}),e.jsx("p",{className:"text-sm text-background/60 line-clamp-2",children:l.description})]})},l.id))})]})}),e.jsx("section",{className:"py-24 md:py-32",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[e.jsx(W.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative aspect-[4/5] overflow-hidden rounded-lg",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1558171813-4c088753af8f?w=1200",alt:"Craftsmanship",className:"w-full h-full object-cover"})}),e.jsxs(W.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.2},children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-6",children:"Our Promise"}),e.jsxs("h2",{className:"text-editorial-title mb-6",children:["Crafted with Intention,",e.jsx("br",{}),"Made with Care"]}),e.jsx("p",{className:"text-editorial-body text-muted-foreground mb-8",children:"Every piece in our marketplace represents countless hours of design, meticulous craftsmanship, and a deep respect for the art of fashion. We partner with designers who share our commitment to quality, sustainability, and the preservation of traditional techniques."}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ct,{className:"h-4 w-4 text-luxury-gold"}),e.jsx("span",{className:"text-sm font-medium",children:"Verified Quality"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Every piece inspected before listing"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(mt,{className:"h-4 w-4 text-luxury-gold"}),e.jsx("span",{className:"text-sm font-medium",children:"Direct Support"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Designers keep up to 50% of sales"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ot,{className:"h-4 w-4 text-luxury-gold"}),e.jsx("span",{className:"text-sm font-medium",children:"Made to Order"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Reducing waste, ensuring fit"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ks,{className:"h-4 w-4 text-luxury-gold"}),e.jsx("span",{className:"text-sm font-medium",children:"Emerging Talent"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Discover tomorrow's stars today"})]})]})]})]})})})]})}var Cx="Checkbox",[rX]=Ur(Cx),[sX,X_]=rX(Cx);function aX(t){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:n,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=t,[h,p]=Is({prop:s,defaultProp:n??!1,onChange:c,caller:Cx}),[v,x]=f.useState(null),[g,b]=f.useState(null),y=f.useRef(!1),j=v?!!o||!!v.closest("form"):!0,S={checked:h,disabled:i,setChecked:p,control:v,setControl:x,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:uo(n)?!1:n,isFormControl:j,bubbleInput:g,setBubbleInput:b};return e.jsx(sX,{scope:r,...S,children:nX(m)?m(S):a})}var YM="CheckboxTrigger",XM=f.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:s,...a},n)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:v}=X_(YM,t),x=Xe(n,u),g=f.useRef(c);return f.useEffect(()=>{const b=i?.form;if(b){const y=()=>m(g.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,m]),e.jsx(we.button,{type:"button",role:"checkbox","aria-checked":uo(c)?"mixed":c,"aria-required":d,"data-state":t3(c),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:x,onKeyDown:ve(r,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ve(s,b=>{m(y=>uo(y)?!0:!y),v&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});XM.displayName=YM;var Q_=f.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...m}=t;return e.jsx(aX,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:h})=>e.jsxs(e.Fragment,{children:[e.jsx(XM,{...m,ref:r,__scopeCheckbox:s}),h&&e.jsx(e3,{__scopeCheckbox:s})]})})});Q_.displayName=Cx;var QM="CheckboxIndicator",JM=f.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:a,...n}=t,i=X_(QM,s);return e.jsx(qr,{present:a||uo(i.checked)||i.checked===!0,children:e.jsx(we.span,{"data-state":t3(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...t.style}})})});JM.displayName=QM;var ZM="CheckboxBubbleInput",e3=f.forwardRef(({__scopeCheckbox:t,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:m,bubbleInput:h,setBubbleInput:p}=X_(ZM,t),v=Xe(s,p),x=Sd(i),g=Rm(a);f.useEffect(()=>{const y=h;if(!y)return;const j=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(j,"checked").set,_=!n.current;if(x!==i&&w){const N=new Event("click",{bubbles:_});y.indeterminate=uo(i),w.call(y,uo(i)?!1:i),y.dispatchEvent(N)}},[h,x,i,n]);const b=f.useRef(uo(i)?!1:i);return e.jsx(we.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:m,...r,tabIndex:-1,ref:v,style:{...r.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});e3.displayName=ZM;function nX(t){return typeof t=="function"}function uo(t){return t==="indeterminate"}function t3(t){return uo(t)?"indeterminate":t?"checked":"unchecked"}const Ns=f.forwardRef(({className:t,...r},s)=>e.jsx(Q_,{ref:s,className:q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(JM,{className:q("flex items-center justify-center text-current"),children:e.jsx(gr,{className:"h-4 w-4"})})}));Ns.displayName=Q_.displayName;var iX="Label",r3=f.forwardRef((t,r)=>e.jsx(we.label,{...t,ref:r,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(t.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));r3.displayName=iX;var s3=r3;const oX=Pl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=f.forwardRef(({className:t,...r},s)=>e.jsx(s3,{ref:s,className:q(oX(),t),...r}));K.displayName=s3.displayName;var a3=["PageUp","PageDown"],n3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],i3={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},kd="Slider",[sw,lX,cX]=_o(kd),[o3]=Ur(kd,[cX]),[dX,kx]=o3(kd),l3=f.forwardRef((t,r)=>{const{name:s,min:a=0,max:n=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:m=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:v,...x}=t,g=f.useRef(new Set),b=f.useRef(0),j=o==="horizontal"?uX:mX,[S=[],w]=Is({prop:u,defaultProp:d,onChange:A=>{[...g.current][b.current]?.focus(),m(A)}}),_=f.useRef(S);function N(A){const O=gX(S,A);P(A,O)}function k(A){P(A,b.current)}function C(){const A=_.current[b.current];S[b.current]!==A&&h(S)}function P(A,O,{commit:I}={commit:!1}){const F=jX(i),$=wX(Math.round((A-a)/i)*i+a,F),E=qu($,[a,n]);w((M=[])=>{const z=pX(M,E,O);if(yX(z,c*i)){b.current=z.indexOf(E);const R=String(z)!==String(M);return R&&I&&h(z),R?z:M}else return M})}return e.jsx(dX,{scope:t.__scopeSlider,name:s,disabled:l,min:a,max:n,valueIndexToChangeRef:b,thumbs:g.current,values:S,orientation:o,form:v,children:e.jsx(sw.Provider,{scope:t.__scopeSlider,children:e.jsx(sw.Slot,{scope:t.__scopeSlider,children:e.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:r,onPointerDown:ve(x.onPointerDown,()=>{l||(_.current=S)}),min:a,max:n,inverted:p,onSlideStart:l?void 0:N,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&P(a,0,{commit:!0}),onEndKeyDown:()=>!l&&P(n,S.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:O})=>{if(!l){const $=a3.includes(A.key)||A.shiftKey&&n3.includes(A.key)?10:1,E=b.current,M=S[E],z=i*$*O;P(M+z,E,{commit:!0})}}})})})})});l3.displayName=kd;var[c3,d3]=o3(kd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),uX=f.forwardRef((t,r)=>{const{min:s,max:a,dir:n,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=t,[m,h]=f.useState(null),p=Xe(r,j=>h(j)),v=f.useRef(void 0),x=zi(n),g=x==="ltr",b=g&&!i||!g&&i;function y(j){const S=v.current||m.getBoundingClientRect(),w=[0,S.width],N=J_(w,b?[s,a]:[a,s]);return v.current=S,N(j-S.left)}return e.jsx(c3,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:e.jsx(u3,{dir:x,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const S=y(j.clientX);o?.(S)},onSlideMove:j=>{const S=y(j.clientX);l?.(S)},onSlideEnd:()=>{v.current=void 0,c?.()},onStepKeyDown:j=>{const w=i3[b?"from-left":"from-right"].includes(j.key);d?.({event:j,direction:w?-1:1})}})})}),mX=f.forwardRef((t,r)=>{const{min:s,max:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,u=f.useRef(null),m=Xe(r,u),h=f.useRef(void 0),p=!n;function v(x){const g=h.current||u.current.getBoundingClientRect(),b=[0,g.height],j=J_(b,p?[a,s]:[s,a]);return h.current=g,j(x-g.top)}return e.jsx(c3,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:e.jsx(u3,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=v(x.clientY);i?.(g)},onSlideMove:x=>{const g=v(x.clientY);o?.(g)},onSlideEnd:()=>{h.current=void 0,l?.()},onStepKeyDown:x=>{const b=i3[p?"from-bottom":"from-top"].includes(x.key);c?.({event:x,direction:b?-1:1})}})})}),u3=f.forwardRef((t,r)=>{const{__scopeSlider:s,onSlideStart:a,onSlideMove:n,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,u=kx(kd,s);return e.jsx(we.span,{...d,ref:r,onKeyDown:ve(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):a3.concat(n3).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:ve(t.onPointerDown,m=>{const h=m.target;h.setPointerCapture(m.pointerId),m.preventDefault(),u.thumbs.has(h)?h.focus():a(m)}),onPointerMove:ve(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&n(m)}),onPointerUp:ve(t.onPointerUp,m=>{const h=m.target;h.hasPointerCapture(m.pointerId)&&(h.releasePointerCapture(m.pointerId),i(m))})})}),m3="SliderTrack",h3=f.forwardRef((t,r)=>{const{__scopeSlider:s,...a}=t,n=kx(m3,s);return e.jsx(we.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:r})});h3.displayName=m3;var aw="SliderRange",f3=f.forwardRef((t,r)=>{const{__scopeSlider:s,...a}=t,n=kx(aw,s),i=d3(aw,s),o=f.useRef(null),l=Xe(r,o),c=n.values.length,d=n.values.map(h=>g3(h,n.min,n.max)),u=c>1?Math.min(...d):0,m=100-Math.max(...d);return e.jsx(we.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:m+"%"}})});f3.displayName=aw;var nw="SliderThumb",p3=f.forwardRef((t,r)=>{const s=lX(t.__scopeSlider),[a,n]=f.useState(null),i=Xe(r,l=>n(l)),o=f.useMemo(()=>a?s().findIndex(l=>l.ref.current===a):-1,[s,a]);return e.jsx(hX,{...t,ref:i,index:o})}),hX=f.forwardRef((t,r)=>{const{__scopeSlider:s,index:a,name:n,...i}=t,o=kx(nw,s),l=d3(nw,s),[c,d]=f.useState(null),u=Xe(r,y=>d(y)),m=c?o.form||!!c.closest("form"):!0,h=Rm(c),p=o.values[a],v=p===void 0?0:g3(p,o.min,o.max),x=xX(a,o.values.length),g=h?.[l.size],b=g?vX(g,v,l.direction):0;return f.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${b}px)`},children:[e.jsx(sw.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(we.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:p===void 0?{display:"none"}:t.style,onFocus:ve(t.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),m&&e.jsx(x3,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},a)]})});p3.displayName=nw;var fX="RadioBubbleInput",x3=f.forwardRef(({__scopeSlider:t,value:r,...s},a)=>{const n=f.useRef(null),i=Xe(n,a),o=Sd(r);return f.useEffect(()=>{const l=n.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const m=new Event("input",{bubbles:!0});u.call(l,r),l.dispatchEvent(m)}},[o,r]),e.jsx(we.input,{style:{display:"none"},...s,ref:i,defaultValue:r})});x3.displayName=fX;function pX(t=[],r,s){const a=[...t];return a[s]=r,a.sort((n,i)=>n-i)}function g3(t,r,s){const i=100/(s-r)*(t-r);return qu(i,[0,100])}function xX(t,r){return r>2?`Value ${t+1} of ${r}`:r===2?["Minimum","Maximum"][t]:void 0}function gX(t,r){if(t.length===1)return 0;const s=t.map(n=>Math.abs(n-r)),a=Math.min(...s);return s.indexOf(a)}function vX(t,r,s){const a=t/2,i=J_([0,50],[0,a]);return(a-i(r)*s)*s}function bX(t){return t.slice(0,-1).map((r,s)=>t[s+1]-r)}function yX(t,r){if(r>0){const s=bX(t);return Math.min(...s)>=r}return!0}function J_(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(t[1]-t[0]);return r[0]+a*(s-t[0])}}function jX(t){return(String(t).split(".")[1]||"").length}function wX(t,r){const s=Math.pow(10,r);return Math.round(t*s)/s}var v3=l3,NX=h3,_X=f3,SX=p3;const zu=f.forwardRef(({className:t,...r},s)=>e.jsxs(v3,{ref:s,className:q("relative flex w-full touch-none select-none items-center",t),...r,children:[e.jsx(NX,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(_X,{className:"absolute h-full bg-primary"})}),e.jsx(SX,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));zu.displayName=v3.displayName;var CX="Separator",xC="horizontal",kX=["horizontal","vertical"],b3=f.forwardRef((t,r)=>{const{decorative:s,orientation:a=xC,...n}=t,i=AX(a)?a:xC,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(we.div,{"data-orientation":i,...l,...n,ref:r})});b3.displayName=CX;function AX(t){return kX.includes(t)}var y3=b3;const Ut=f.forwardRef(({className:t,orientation:r="horizontal",decorative:s=!0,...a},n)=>e.jsx(y3,{ref:n,decorative:s,orientation:r,className:q("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));Ut.displayName=y3.displayName;const PX=["Cotton","Silk","Chiffon","Velvet","Linen","Wool","Satin","Organza","Georgette","Brocade","Lawn"],EX=["Embroidery","Block Print","Hand Weaving","Digital Print","Tie-Dye","Appliqu","Beadwork","Mirror Work","Sequins"],TX=["Casual","Formal","Wedding","Festive","Bridal","Party","Office","Evening","Cocktail"],Zg=[{value:"1-2",label:"1-2 weeks"},{value:"2-4",label:"2-4 weeks"},{value:"4-6",label:"4-6 weeks"},{value:"6+",label:"6+ weeks"}],OX=[{value:"newest",label:"Newest Arrivals"},{value:"popular",label:"Most Popular"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"}];function DX({filters:t,onFilterChange:r,categories:s=[],designers:a=[]}){const[n,i]=f.useState(t),[o,l]=f.useState(!1),c=(g,b)=>{const y={...n,[g]:b};i(y)},d=(g,b)=>{const y=n[g]||[],j=y.includes(b)?y.filter(S=>S!==b):[...y,b];c(g,j)},u=()=>{r(n),l(!1)},m=()=>{const g={sortBy:t.sortBy};i(g),r(g)},h=(g,b)=>{if(g==="priceRange"||g==="timeline"){const y={...t};delete y[g],r(y)}else if(b){const y=t[g]||[];r({...t,[g]:y.filter(j=>j!==b)})}},p=(t.categories?.length||0)+(t.designers?.length||0)+(t.fabrics?.length||0)+(t.techniques?.length||0)+(t.occasions?.length||0)+(t.priceRange?1:0)+(t.timeline?1:0),x=(()=>{const g=[];if(t.categories?.forEach(b=>{const y=s.find(j=>j.id===b);y&&g.push({key:"categories",value:b,label:y.name})}),t.designers?.forEach(b=>{const y=a.find(j=>j.id===b);y&&g.push({key:"designers",value:b,label:y.brand_name||y.name})}),t.fabrics?.forEach(b=>{g.push({key:"fabrics",value:b,label:b})}),t.techniques?.forEach(b=>{g.push({key:"techniques",value:b,label:b})}),t.occasions?.forEach(b=>{g.push({key:"occasions",value:b,label:b})}),t.priceRange&&g.push({key:"priceRange",value:"price",label:`$${t.priceRange[0]} - $${t.priceRange[1]}`}),t.timeline){const b=Zg.find(y=>y.value===t.timeline);b&&g.push({key:"timeline",value:t.timeline,label:b.label})}return g})();return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs(qe,{value:t.sortBy||"newest",onValueChange:g=>r({...t,sortBy:g}),children:[e.jsx(Fe,{className:"w-[180px] h-10 bg-background border-border/60",children:e.jsx(Me,{placeholder:"Sort by"})}),e.jsx(Le,{children:OX.map(g=>e.jsx(X,{value:g.value,children:g.label},g.value))})]}),e.jsx(Ut,{orientation:"vertical",className:"h-6 hidden sm:block"}),e.jsxs(El,{open:o,onOpenChange:l,children:[e.jsx(hx,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:"gap-2 h-10 border-border/60 hover:bg-muted/50",children:[e.jsx(Pu,{className:"h-4 w-4"}),"Filters",p>0&&e.jsx(B,{variant:"secondary",className:"ml-1 rounded-full px-2 py-0 text-xs",children:p})]})}),e.jsxs(Ao,{side:"right",className:"w-full sm:max-w-md overflow-y-auto p-0",children:[e.jsx(qm,{className:"px-6 py-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(zm,{className:"text-editorial-title text-xl",children:"Filters"}),p>0&&e.jsx(T,{variant:"ghost",size:"sm",onClick:m,className:"text-muted-foreground hover:text-foreground",children:"Clear All"})]})}),e.jsx("div",{className:"py-2",children:e.jsxs(V_,{type:"multiple",defaultValue:["price"],className:"w-full",children:[e.jsxs(Bn,{value:"price",className:"border-b px-6",children:[e.jsxs(Un,{className:"py-4 hover:no-underline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Price Range"}),n.priceRange&&e.jsxs(B,{variant:"secondary",className:"ml-2 text-xs",children:["$",n.priceRange[0]," - $",n.priceRange[1]]})]}),e.jsx(Vn,{className:"pb-6",children:e.jsxs("div",{className:"space-y-6 pt-2",children:[e.jsx(zu,{value:n.priceRange||[0,1e4],onValueChange:g=>c("priceRange",g),max:1e4,step:100,className:"w-full"}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"px-3 py-2 bg-muted rounded-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"$"}),e.jsx("span",{className:"font-medium ml-1",children:n.priceRange?.[0]||0})]}),e.jsx("span",{className:"text-muted-foreground",children:"to"}),e.jsxs("div",{className:"px-3 py-2 bg-muted rounded-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"$"}),e.jsx("span",{className:"font-medium ml-1",children:n.priceRange?.[1]||1e4})]})]})]})})]}),s.length>0&&e.jsxs(Bn,{value:"category",className:"border-b px-6",children:[e.jsxs(Un,{className:"py-4 hover:no-underline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Category"}),n.categories&&n.categories.length>0&&e.jsx(B,{variant:"secondary",className:"ml-2 text-xs",children:n.categories.length})]}),e.jsx(Vn,{className:"pb-6",children:e.jsx("div",{className:"space-y-3 pt-2",children:s.map(g=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ns,{id:`cat-${g.id}`,checked:n.categories?.includes(g.id),onCheckedChange:()=>d("categories",g.id)}),e.jsx(K,{htmlFor:`cat-${g.id}`,className:"cursor-pointer text-sm",children:g.name})]},g.id))})})]}),a.length>0&&e.jsxs(Bn,{value:"designer",className:"border-b px-6",children:[e.jsxs(Un,{className:"py-4 hover:no-underline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Designer"}),n.designers&&n.designers.length>0&&e.jsx(B,{variant:"secondary",className:"ml-2 text-xs",children:n.designers.length})]}),e.jsx(Vn,{className:"pb-6",children:e.jsx("div",{className:"space-y-3 pt-2 max-h-64 overflow-y-auto",children:a.map(g=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ns,{id:`designer-${g.id}`,checked:n.designers?.includes(g.id),onCheckedChange:()=>d("designers",g.id)}),e.jsx(K,{htmlFor:`designer-${g.id}`,className:"cursor-pointer text-sm",children:g.brand_name||g.name})]},g.id))})})]}),e.jsxs(Bn,{value:"fabric",className:"border-b px-6",children:[e.jsxs(Un,{className:"py-4 hover:no-underline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fabric"}),n.fabrics&&n.fabrics.length>0&&e.jsx(B,{variant:"secondary",className:"ml-2 text-xs",children:n.fabrics.length})]}),e.jsx(Vn,{className:"pb-6",children:e.jsx("div",{className:"grid grid-cols-2 gap-3 pt-2",children:PX.map(g=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ns,{id:`fabric-${g}`,checked:n.fabrics?.includes(g),onCheckedChange:()=>d("fabrics",g)}),e.jsx(K,{htmlFor:`fabric-${g}`,className:"cursor-pointer text-sm",children:g})]},g))})})]}),e.jsxs(Bn,{value:"technique",className:"border-b px-6",children:[e.jsxs(Un,{className:"py-4 hover:no-underline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Technique"}),n.techniques&&n.techniques.length>0&&e.jsx(B,{variant:"secondary",className:"ml-2 text-xs",children:n.techniques.length})]}),e.jsx(Vn,{className:"pb-6",children:e.jsx("div",{className:"grid grid-cols-2 gap-3 pt-2",children:EX.map(g=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ns,{id:`technique-${g}`,checked:n.techniques?.includes(g),onCheckedChange:()=>d("techniques",g)}),e.jsx(K,{htmlFor:`technique-${g}`,className:"cursor-pointer text-sm",children:g})]},g))})})]}),e.jsxs(Bn,{value:"occasion",className:"border-b px-6",children:[e.jsxs(Un,{className:"py-4 hover:no-underline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Occasion"}),n.occasions&&n.occasions.length>0&&e.jsx(B,{variant:"secondary",className:"ml-2 text-xs",children:n.occasions.length})]}),e.jsx(Vn,{className:"pb-6",children:e.jsx("div",{className:"grid grid-cols-2 gap-3 pt-2",children:TX.map(g=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ns,{id:`occasion-${g}`,checked:n.occasions?.includes(g),onCheckedChange:()=>d("occasions",g)}),e.jsx(K,{htmlFor:`occasion-${g}`,className:"cursor-pointer text-sm",children:g})]},g))})})]}),e.jsxs(Bn,{value:"timeline",className:"border-b px-6",children:[e.jsxs(Un,{className:"py-4 hover:no-underline",children:[e.jsx("span",{className:"text-sm font-medium",children:"Production Timeline"}),n.timeline&&e.jsx(B,{variant:"secondary",className:"ml-2 text-xs",children:Zg.find(g=>g.value===n.timeline)?.label})]}),e.jsx(Vn,{className:"pb-6",children:e.jsx("div",{className:"space-y-3 pt-2",children:Zg.map(g=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ns,{id:`timeline-${g.value}`,checked:n.timeline===g.value,onCheckedChange:b=>c("timeline",b?g.value:void 0)}),e.jsx(K,{htmlFor:`timeline-${g.value}`,className:"cursor-pointer text-sm",children:g.label})]},g.value))})})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-background border-t",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(T,{variant:"outline",onClick:m,className:"flex-1 h-12",children:"Clear All"}),e.jsxs(T,{onClick:u,className:"flex-1 h-12",children:["Show Results",p>0&&e.jsxs("span",{className:"ml-2 text-xs opacity-80",children:["(",p,")"]})]})]})})]})]})]}),e.jsx(si,{children:x.length>0&&e.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex flex-wrap items-center gap-2",children:[x.map((g,b)=>e.jsx(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:b*.05},children:e.jsxs(B,{variant:"secondary",className:"px-3 py-1.5 text-xs font-normal cursor-pointer hover:bg-muted transition-colors",onClick:()=>h(g.key,g.value),children:[g.label,e.jsx(ht,{className:"h-3 w-3 ml-2"})]})},`${g.key}-${g.value}`)),e.jsx(T,{variant:"ghost",size:"sm",onClick:m,className:"text-xs text-muted-foreground hover:text-foreground h-7",children:"Clear all"})]})})]})}const RX=[{value:"newest",label:"Newest"},{value:"price_asc",label:"Price: Low to High"},{value:"price_desc",label:"Price: High to Low"},{value:"bestselling",label:"Most Popular"}];function gC(){KN();const[t,r]=f.useState(1),[s,a]=f.useState({sortBy:"newest"}),[n,i]=f.useState(!1),{data:o}=Sx(),{data:l}=Oe({queryKey:["shop-designers-list"],queryFn:async()=>{const{data:p,error:v}=await J.from("profiles").select("id, name, brand_name").not("name","is",null).order("name");if(v)throw v;return p}}),{data:c,isLoading:d}=Nf({category:s.categories?.[0]||void 0,designer:s.designers?.[0]||void 0,sort:s.sortBy,minPrice:s.priceRange?.[0],maxPrice:s.priceRange?.[1],page:t,limit:24}),u=p=>{a(p),r(1)},m=f.useCallback(()=>{a({sortBy:"newest"}),r(1)},[]),h=(s.categories?.length||0)+(s.designers?.length||0)+(s.priceRange?1:0);return e.jsxs(cr,{children:[e.jsx("section",{className:"pt-32 pb-12",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"Browse"}),e.jsx("h1",{className:"text-editorial-display mb-4",children:"All Products"}),c&&e.jsxs("p",{className:"text-muted-foreground",children:[c.pagination?.total||0," pieces available"]})]})})}),e.jsx("section",{className:"sticky top-20 z-30 bg-background/95 backdrop-blur-sm border-y border-border",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>i(!n),className:"gap-2",children:[e.jsx(Pu,{className:"h-4 w-4"}),"Filters",h>0&&e.jsx(B,{variant:"secondary",className:"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:h})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:"Sort by:"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:s.sortBy,onChange:p=>u({...s,sortBy:p.target.value}),className:"h-9 pl-3 pr-8 text-sm bg-muted border-0 rounded-md appearance-none cursor-pointer focus-visible:ring-1",children:RX.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))}),e.jsx(di,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]})]})]}),h>0&&e.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex flex-wrap items-center gap-2 mt-4 pt-4 border-t border-border",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Active:"}),s.categories?.map(p=>e.jsxs(B,{variant:"secondary",className:"gap-1",children:[p,e.jsx("button",{onClick:()=>u({...s,categories:s.categories?.filter(v=>v!==p)}),children:e.jsx(ht,{className:"h-3 w-3"})})]},p)),s.designers?.map(p=>e.jsxs(B,{variant:"secondary",className:"gap-1",children:[l?.find(v=>v.id===p)?.brand_name||"Designer",e.jsx("button",{onClick:()=>u({...s,designers:s.designers?.filter(v=>v!==p)}),children:e.jsx(ht,{className:"h-3 w-3"})})]},p)),s.priceRange&&e.jsxs(B,{variant:"secondary",className:"gap-1",children:["$",s.priceRange[0]," - $",s.priceRange[1],e.jsx("button",{onClick:()=>u({...s,priceRange:void 0}),children:e.jsx(ht,{className:"h-3 w-3"})})]}),e.jsx(T,{variant:"ghost",size:"sm",onClick:m,className:"text-xs h-7",children:"Clear all"})]})]})}),n&&e.jsx(DX,{filters:s,onFilterChange:u,categories:o?.map(p=>({id:p.id,name:p.name}))||[],designers:l||[],onClose:()=>i(!1)}),e.jsx("section",{className:"py-12 pb-24",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:d?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:[...Array(8)].map((p,v)=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-[3/4] bg-muted rounded-lg animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-2/3"}),e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse w-1/2"})]},v))}):c?.products?.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"font-display text-2xl text-muted-foreground mb-4",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your filters or search terms."}),e.jsx(T,{onClick:m,children:"Clear Filters"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:c?.products?.map((p,v)=>e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:v*.05},children:e.jsx(ml,{id:p.id,title:p.title,price:p.price,salePrice:p.sale_price,images:p.images||[],brandName:p.designer?.brand_name,designerName:p.designer?.full_name,designerId:p.designer_id,averageRating:p.average_rating,reviewCount:p.review_count,isNew:!1,isBestseller:p.is_bestseller,slug:p.slug})},p.id))}),c?.pagination&&c.pagination.totalPages>1&&e.jsxs("div",{className:"flex justify-center gap-2 mt-16",children:[e.jsx(T,{variant:"outline",disabled:t<=1,onClick:()=>r(p=>p-1),children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(Math.min(c.pagination.totalPages,5))].map((p,v)=>{const x=v+1;return e.jsx(T,{variant:t===x?"default":"outline",size:"icon",onClick:()=>r(x),className:"h-10 w-10",children:x},x)})}),e.jsx(T,{variant:"outline",disabled:t>=c.pagination.totalPages,onClick:()=>r(p=>p+1),children:"Next"})]})]})})})]})}var ev="rovingFocusGroup.onEntryFocus",IX={bubbles:!1,cancelable:!0},Bm="RovingFocusGroup",[iw,j3,MX]=_o(Bm),[FX,Ad]=Ur(Bm,[MX]),[LX,$X]=FX(Bm),w3=f.forwardRef((t,r)=>e.jsx(iw.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(iw.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(qX,{...t,ref:r})})}));w3.displayName=Bm;var qX=f.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=t,h=f.useRef(null),p=Xe(r,h),v=zi(i),[x,g]=Is({prop:o,defaultProp:l??null,onChange:c,caller:Bm}),[b,y]=f.useState(!1),j=pr(d),S=j3(s),w=f.useRef(!1),[_,N]=f.useState(0);return f.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(ev,j),()=>k.removeEventListener(ev,j)},[j]),e.jsx(LX,{scope:s,orientation:a,dir:v,loop:n,currentTabStopId:x,onItemFocus:f.useCallback(k=>g(k),[g]),onItemShiftTab:f.useCallback(()=>y(!0),[]),onFocusableItemAdd:f.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:f.useCallback(()=>N(k=>k-1),[]),children:e.jsx(we.div,{tabIndex:b||_===0?-1:0,"data-orientation":a,...m,ref:p,style:{outline:"none",...t.style},onMouseDown:ve(t.onMouseDown,()=>{w.current=!0}),onFocus:ve(t.onFocus,k=>{const C=!w.current;if(k.target===k.currentTarget&&C&&!b){const P=new CustomEvent(ev,IX);if(k.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=S().filter(E=>E.focusable),O=A.find(E=>E.active),I=A.find(E=>E.id===x),$=[O,I,...A].filter(Boolean).map(E=>E.ref.current);S3($,u)}}w.current=!1}),onBlur:ve(t.onBlur,()=>y(!1))})})}),N3="RovingFocusGroupItem",_3=f.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...l}=t,c=Kr(),d=i||c,u=$X(N3,s),m=u.currentTabStopId===d,h=j3(s),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:x}=u;return f.useEffect(()=>{if(a)return p(),()=>v()},[a,p,v]),e.jsx(iw.ItemSlot,{scope:s,id:d,focusable:a,active:n,children:e.jsx(we.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:r,onMouseDown:ve(t.onMouseDown,g=>{a?u.onItemFocus(d):g.preventDefault()}),onFocus:ve(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:ve(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const b=UX(g,u.orientation,u.dir);if(b!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let j=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")j.reverse();else if(b==="prev"||b==="next"){b==="prev"&&j.reverse();const S=j.indexOf(g.currentTarget);j=u.loop?VX(j,S+1):j.slice(S+1)}setTimeout(()=>S3(j))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});_3.displayName=N3;var zX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BX(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function UX(t,r,s){const a=BX(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return zX[a]}function S3(t,r=!1){const s=document.activeElement;for(const a of t)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function VX(t,r){return t.map((s,a)=>t[(r+a)%t.length])}var Z_=w3,e1=_3,Ax="Tabs",[WX]=Ur(Ax,[Ad]),C3=Ad(),[HX,t1]=WX(Ax),k3=f.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=zi(l),[m,h]=Is({prop:a,onChange:n,defaultProp:i??"",caller:Ax});return e.jsx(HX,{scope:s,baseId:Kr(),value:m,onValueChange:h,orientation:o,dir:u,activationMode:c,children:e.jsx(we.div,{dir:u,"data-orientation":o,...d,ref:r})})});k3.displayName=Ax;var A3="TabsList",P3=f.forwardRef((t,r)=>{const{__scopeTabs:s,loop:a=!0,...n}=t,i=t1(A3,s),o=C3(s);return e.jsx(Z_,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:e.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:r})})});P3.displayName=A3;var E3="TabsTrigger",T3=f.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...i}=t,o=t1(E3,s),l=C3(s),c=R3(o.baseId,a),d=I3(o.baseId,a),u=a===o.value;return e.jsx(e1,{asChild:!0,...l,focusable:!n,active:u,children:e.jsx(we.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...i,ref:r,onMouseDown:ve(t.onMouseDown,m=>{!n&&m.button===0&&m.ctrlKey===!1?o.onValueChange(a):m.preventDefault()}),onKeyDown:ve(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(a)}),onFocus:ve(t.onFocus,()=>{const m=o.activationMode!=="manual";!u&&!n&&m&&o.onValueChange(a)})})})});T3.displayName=E3;var O3="TabsContent",D3=f.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,forceMount:n,children:i,...o}=t,l=t1(O3,s),c=R3(l.baseId,a),d=I3(l.baseId,a),u=a===l.value,m=f.useRef(u);return f.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(qr,{present:n||u,children:({present:h})=>e.jsx(we.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:r,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});D3.displayName=O3;function R3(t,r){return`${t}-trigger-${r}`}function I3(t,r){return`${t}-content-${r}`}var KX=k3,M3=P3,F3=T3,L3=D3;const Nr=KX,br=f.forwardRef(({className:t,...r},s)=>e.jsx(M3,{ref:s,className:q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r}));br.displayName=M3.displayName;const Ee=f.forwardRef(({className:t,...r},s)=>e.jsx(F3,{ref:s,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...r}));Ee.displayName=F3.displayName;const Te=f.forwardRef(({className:t,...r},s)=>e.jsx(L3,{ref:s,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));Te.displayName=L3.displayName;function GX({productId:t}){const[r,s]=f.useState(!1),{data:a,isLoading:n}=Oe({queryKey:["product-authenticity",t],queryFn:async()=>{const i=await fetch("https://lnrhrevpouozugsarsmz.supabase.co/functions/v1/verify-authenticity",{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxucmhyZXZwb3VvenVnc2Fyc216Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MTQxMTQsImV4cCI6MjA4NDk5MDExNH0.--RPkMJJlA3wplVacHc_6azTrr6D9IE1Zsjjwuu_QXk"},body:JSON.stringify({action:"get_certificate",product_id:t})});return i.ok?i.json():null},enabled:!!t});return n?e.jsx("div",{className:"h-16 bg-muted rounded-lg animate-pulse"}):a?e.jsx(G,{className:"border-primary/20 bg-primary/5",children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(qi,{className:"h-5 w-5 text-primary"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Authenticity Guaranteed"}),e.jsxs(B,{variant:"outline",className:"text-xs border-primary/30",children:[e.jsx(tr,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["This item comes with a digital certificate of authenticity from"," ",e.jsx("span",{className:"font-medium text-foreground",children:a.designer.brand_name||a.designer.name})]}),r?e.jsxs("div",{className:"mt-3 space-y-3 pt-3 border-t border-border/50",children:[e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Certificate No."}),e.jsx("span",{className:"font-mono font-medium",children:a.certificate_number})]}),a.materials&&a.materials.length>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Materials"}),e.jsx("span",{className:"font-medium text-right",children:a.materials.join(", ")})]}),a.production?.location&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Crafted In"}),e.jsx("span",{className:"font-medium",children:a.production.location})]}),a.design_info?.date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Design Date"}),e.jsx("span",{className:"font-medium",children:new Date(a.design_info.date).toLocaleDateString()})]})]}),a.intellectual_property&&a.intellectual_property.length>0&&e.jsxs("div",{className:"pt-2 border-t border-border/50",children:[e.jsxs("p",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[e.jsx(ct,{className:"h-3 w-3"}),"Protected Intellectual Property"]}),e.jsx("div",{className:"space-y-1",children:a.intellectual_property.map((i,o)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(B,{variant:"secondary",className:"text-xs py-0",children:i.type.replace("_"," ").toUpperCase()}),e.jsxs("span",{className:"text-muted-foreground truncate",children:[i.registration_number," (",i.country,")"]})]},o))})]}),e.jsx(T,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>s(!1),children:"Hide Details"})]}):e.jsx(T,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>s(!0),children:"View Certificate Details"})]})]})})}):null}function YX(){const{id:t}=ci(),[r,s]=f.useState(0),[a,n]=f.useState(1),[i,o]=f.useState(!1),{addItem:l,isLoading:c}=To(),{data:d,isLoading:u,error:m}=JY(t||"");if(u)return e.jsx(cr,{children:e.jsx("div",{className:"min-h-screen",children:e.jsx("div",{className:"container py-8",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-[3/4] bg-muted rounded-sm animate-pulse"}),e.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((w,_)=>e.jsx("div",{className:"w-20 h-24 bg-muted rounded-sm animate-pulse"},_))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-32"}),e.jsx("div",{className:"h-10 bg-muted rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse w-1/4"}),e.jsx("div",{className:"h-32 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-12 bg-muted rounded animate-pulse"})]})]})})})});if(m||!d?.product)return e.jsx(cr,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:e.jsx(Ot,{className:"h-10 w-10 text-muted-foreground"})}),e.jsx("h1",{className:"text-editorial-title mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"The product you're looking for doesn't exist or has been removed."}),e.jsx(T,{asChild:!0,size:"lg",children:e.jsx(fe,{to:"/shop",children:"Continue Shopping"})})]})})});const{product:h,relatedProducts:p,reviews:v}=d,x=h.images||["/placeholder.svg"],g=h.sale_price&&h.sale_price<h.price,b=h.sale_price||h.price,y=async()=>{await l(h.id,a)},j=()=>s(w=>w===x.length-1?0:w+1),S=()=>s(w=>w===0?x.length-1:w-1);return e.jsx(cr,{children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"container py-4",children:e.jsxs("nav",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-muted-foreground",children:[e.jsx(fe,{to:"/shop",className:"hover:text-foreground transition-colors",children:"Shop"}),e.jsx(lr,{className:"h-3 w-3"}),h.designer&&e.jsxs(e.Fragment,{children:[e.jsx(fe,{to:`/shop/designer/${h.designer.id}`,className:"hover:text-foreground transition-colors",children:h.designer.brand_name||h.designer.full_name}),e.jsx(lr,{className:"h-3 w-3"})]}),e.jsx("span",{className:"text-foreground font-medium truncate",children:h.title})]})})}),e.jsxs("div",{className:"container py-8 md:py-12",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16",children:[e.jsxs(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-4",children:[e.jsxs("div",{className:"relative aspect-[3/4] bg-muted overflow-hidden group",children:[e.jsx(si,{mode:"wait",children:e.jsx(W.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},src:x[r],alt:h.title,className:"w-full h-full object-cover"},r)}),x.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 h-12 w-12 rounded-full bg-background/90 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-background shadow-lg",onClick:S,children:e.jsx(Za,{className:"h-5 w-5"})}),e.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 h-12 w-12 rounded-full bg-background/90 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-background shadow-lg",onClick:j,children:e.jsx(lr,{className:"h-5 w-5"})})]}),x.length>1&&e.jsxs("div",{className:"absolute bottom-4 right-4 bg-background/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-medium",children:[r+1," / ",x.length]})]}),x.length>1&&e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:x.map((w,_)=>e.jsx("button",{onClick:()=>s(_),className:`w-20 h-24 overflow-hidden flex-shrink-0 border-2 transition-all ${r===_?"border-foreground":"border-transparent hover:border-border"}`,children:e.jsx("img",{src:w,alt:"",className:"w-full h-full object-cover"})},_))})]}),e.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[h.designer&&e.jsxs(fe,{to:`/shop/designer/${h.designer.id}`,className:"inline-flex items-center gap-2 group",children:[e.jsx("span",{className:"text-xs uppercase tracking-[0.2em] text-muted-foreground group-hover:text-foreground transition-colors",children:h.designer.brand_name||h.designer.full_name}),e.jsx(St,{className:"h-3 w-3 text-muted-foreground group-hover:text-foreground transition-colors"})]}),e.jsx("h1",{className:"text-editorial-title text-3xl md:text-4xl",children:h.title}),h.average_rating>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((w,_)=>e.jsx(At,{className:`h-4 w-4 ${_<Math.round(h.average_rating)?"fill-amber-400 text-amber-400":"text-muted-foreground"}`},_))}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.average_rating.toFixed(1)," (",h.review_count," reviews)"]})]}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsx("span",{className:"text-3xl font-display text-foreground",children:Gt(b)}),g&&e.jsx("span",{className:"text-lg text-muted-foreground line-through",children:Gt(h.price)})]})]}),e.jsx(Ut,{}),h.production_time_days&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-muted/50 rounded-sm",children:[e.jsx(Ze,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Made to Order"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estimated delivery in ",h.production_time_days," days"]})]})]}),h.description&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs uppercase tracking-widest text-muted-foreground",children:"About this piece"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed line-clamp-3",children:h.description})]}),e.jsx(GX,{productId:h.id}),e.jsx(Ut,{}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium uppercase tracking-wider",children:"Quantity"}),e.jsxs("div",{className:"flex items-center border rounded-sm",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-none",onClick:()=>n(w=>Math.max(1,w-1)),disabled:a<=1,children:e.jsx(JN,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-12 text-center font-medium",children:a}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-none",onClick:()=>n(w=>w+1),children:e.jsx(Xt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{size:"lg",className:"flex-1 h-14 text-base",onClick:y,disabled:c,children:[e.jsx(Ma,{className:"h-5 w-5 mr-2"}),c?"Adding...":"Add to Bag"]}),e.jsx(T,{size:"lg",variant:"outline",className:"h-14 w-14",onClick:()=>o(!i),children:e.jsx(gd,{className:`h-5 w-5 ${i?"fill-red-500 text-red-500":""}`})}),e.jsx(T,{size:"lg",variant:"outline",className:"h-14 w-14",children:e.jsx(Pm,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 py-6 border-y",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(qi,{className:"h-5 w-5 mx-auto mb-2 text-muted-foreground"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Authenticity",e.jsx("br",{}),"Guaranteed"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(ct,{className:"h-5 w-5 mx-auto mb-2 text-muted-foreground"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Handcrafted",e.jsx("br",{}),"with Care"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(UD,{className:"h-5 w-5 mx-auto mb-2 text-muted-foreground"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Custom",e.jsx("br",{}),"Fittings"]})]})]}),e.jsxs(Nr,{defaultValue:"description",className:"w-full",children:[e.jsxs(br,{className:"w-full bg-transparent border-b rounded-none h-auto p-0",children:[e.jsx(Ee,{value:"description",className:"flex-1 rounded-none border-b-2 border-transparent data-[state=active]:border-foreground data-[state=active]:bg-transparent py-3",children:"Description"}),e.jsx(Ee,{value:"details",className:"flex-1 rounded-none border-b-2 border-transparent data-[state=active]:border-foreground data-[state=active]:bg-transparent py-3",children:"Details"}),e.jsxs(Ee,{value:"reviews",className:"flex-1 rounded-none border-b-2 border-transparent data-[state=active]:border-foreground data-[state=active]:bg-transparent py-3",children:["Reviews (",h.review_count,")"]})]}),e.jsx(Te,{value:"description",className:"mt-6",children:e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:h.description||"No description available."})}),e.jsx(Te,{value:"details",className:"mt-6",children:e.jsxs("div",{className:"space-y-4",children:[h.materials&&h.materials.length>0&&e.jsxs("div",{className:"flex justify-between py-3 border-b",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"Materials"}),e.jsx("span",{className:"text-sm",children:h.materials.join(", ")})]}),h.care_instructions&&e.jsxs("div",{className:"flex justify-between py-3 border-b",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"Care Instructions"}),e.jsx("span",{className:"text-sm",children:h.care_instructions})]}),h.sku&&e.jsxs("div",{className:"flex justify-between py-3 border-b",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"SKU"}),e.jsx("span",{className:"text-sm font-mono",children:h.sku})]}),h.production_time_days&&e.jsxs("div",{className:"flex justify-between py-3 border-b",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"Production Time"}),e.jsxs("span",{className:"text-sm",children:[h.production_time_days," days"]})]})]})}),e.jsx(Te,{value:"reviews",className:"mt-6",children:v&&v.length>0?e.jsx("div",{className:"space-y-6",children:v.map(w=>e.jsxs("div",{className:"border-b pb-6 last:border-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((_,N)=>e.jsx(At,{className:`h-4 w-4 ${N<w.rating?"fill-amber-400 text-amber-400":"text-muted-foreground"}`},N))}),e.jsx("span",{className:"font-medium text-sm",children:w.customer?.name||"Anonymous"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(w.created_at).toLocaleDateString()})]}),w.title&&e.jsx("h4",{className:"font-medium mb-2",children:w.title}),e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:w.content})]},w.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(At,{className:"h-12 w-12 text-muted-foreground/30 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No reviews yet. Be the first to review this product!"})]})})]})]})]}),h.designer&&e.jsx("section",{className:"mt-20 py-16 border-t",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("span",{className:"text-editorial-caption text-muted-foreground mb-4 block",children:"Meet the Designer"}),e.jsx("h2",{className:"text-editorial-title mb-6",children:h.designer.brand_name||h.designer.full_name}),h.designer.bio&&e.jsx("p",{className:"text-muted-foreground leading-relaxed max-w-2xl mx-auto mb-8",children:h.designer.bio}),e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs(fe,{to:`/shop/designer/${h.designer.id}`,children:["View Designer Profile",e.jsx(St,{className:"h-4 w-4 ml-2"})]})})]})}),p&&p.length>0&&e.jsxs("section",{className:"mt-20 py-16 border-t",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("span",{className:"text-editorial-caption text-muted-foreground mb-2 block",children:"You May Also Like"}),e.jsx("h2",{className:"text-editorial-title",children:"Similar Pieces"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:p.slice(0,4).map((w,_)=>e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:_*.1},children:e.jsx(ml,{id:w.id,title:w.title,price:w.price,salePrice:w.sale_price,images:w.images||[],brandName:w.designer?.brand_name,designerName:w.designer?.full_name,designerId:w.designer_id,averageRating:w.average_rating,reviewCount:w.review_count,slug:w.slug})},w.id))})]})]})]})})}function XX(){const{cart:t,itemCount:r,isLoading:s,updateQuantity:a,removeItem:n,clearCart:i}=To();if(s)return e.jsx(cr,{children:e.jsx("div",{className:"container py-12",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"})})})});if(!t||!t.items||t.items.length===0)return e.jsx(cr,{children:e.jsx("div",{className:"container py-16",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("div",{className:"h-24 w-24 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:e.jsx(Ma,{className:"h-12 w-12 text-muted-foreground/30"})}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Your bag is empty"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Looks like you haven't added any items to your bag yet. Start shopping to find something you'll love!"}),e.jsx(T,{size:"lg",asChild:!0,children:e.jsxs(fe,{to:"/shop",children:["Start Shopping",e.jsx(St,{className:"ml-2 h-5 w-5"})]})})]})})});const o=t.subtotal||0,l=200,c=l-o,d=o>=l?0:10,u=o+d;return e.jsx(cr,{children:e.jsxs("div",{className:"container py-12",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-8",children:["Shopping Bag (",r,")"]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c>0&&e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-center mb-2",children:["Add ",e.jsx("span",{className:"font-semibold",children:Gt(c)})," more for free shipping!"]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${Math.min(o/l*100,100)}%`}})})]}),e.jsx("div",{className:"space-y-4",children:t.items.map((m,h)=>e.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg",children:[e.jsx(fe,{to:`/shop/product/${m.product_id}`,className:"w-24 h-32 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:m.image?e.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ma,{className:"h-8 w-8 text-muted-foreground/30"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[m.designer_name&&e.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest text-black mb-1",children:m.designer_name}),e.jsx(fe,{to:`/shop/product/${m.product_id}`,children:e.jsx("h3",{className:"font-medium hover:text-primary transition-colors text-[14px]",children:m.title})}),m.variant&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Object.entries(m.variant).map(([p,v])=>`${p}: ${v}`).join(", ")}),e.jsx("p",{className:"font-semibold mt-2",children:Gt(m.price)}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>a(m.product_id,m.quantity-1,m.variant),disabled:m.quantity<=1,children:e.jsx(JN,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-10 text-center",children:m.quantity}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>a(m.product_id,m.quantity+1,m.variant),children:e.jsx(Xt,{className:"h-4 w-4"})})]}),e.jsxs(T,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-destructive",onClick:()=>n(m.product_id,m.variant),children:[e.jsx(Hr,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"font-semibold",children:Gt(m.price*m.quantity)})})]},`${m.product_id}-${h}`))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>i(),children:"Clear Bag"})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-muted/30 rounded-lg p-6 sticky top-24",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsx("span",{children:Gt(o)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsx("span",{children:d===0?e.jsx("span",{className:"text-green-600 font-medium",children:"Free"}):Gt(d)})]}),e.jsx(Ut,{}),e.jsxs("div",{className:"flex justify-between text-base font-semibold",children:[e.jsx("span",{children:"Estimated Total"}),e.jsx("span",{children:Gt(u)})]})]}),e.jsx(T,{className:"w-full mt-6",size:"lg",asChild:!0,children:e.jsxs(fe,{to:"/shop/checkout",children:["Proceed to Checkout",e.jsx(St,{className:"ml-2 h-5 w-5"})]})}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"Taxes calculated at checkout"}),e.jsx(Ut,{className:"my-6"}),e.jsx("div",{className:"text-center",children:e.jsx(fe,{to:"/shop",className:"text-sm text-primary hover:underline",children:"Continue Shopping"})})]})})]})]})})}const QX=["Karachi","Lahore","Islamabad","Rawalpindi","Faisalabad","Gujranwala","Multan","Peshawar","Quetta","Sialkot"],JX=[{code:"PB",name:"Punjab"},{code:"SN",name:"Sindh"},{code:"KP",name:"Khyber Pakhtunkhwa"},{code:"BL",name:"Balochistan"},{code:"ICT",name:"Islamabad Capital Territory"}];function ow({value:t,onChange:r,showSaveOption:s=!1,onSaveChange:a,saveAddress:n=!1}){const i=(o,l)=>{r({...t,[o]:l})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(K,{htmlFor:"name",children:"Full Name *"}),e.jsx(ie,{id:"name",value:t.name,onChange:o=>i("name",o.target.value),placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"line1",children:"Address Line 1 *"}),e.jsx(ie,{id:"line1",value:t.line1,onChange:o=>i("line1",o.target.value),placeholder:"Street address, house number",required:!0})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"line2",children:"Address Line 2 (Optional)"}),e.jsx(ie,{id:"line2",value:t.line2||"",onChange:o=>i("line2",o.target.value),placeholder:"Apartment, suite, unit, etc."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(K,{htmlFor:"city",children:"City *"}),e.jsxs("select",{id:"city",value:t.city,onChange:o=>i("city",o.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"",children:"Select city"}),QX.map(o=>e.jsx("option",{value:o,children:o},o))]})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"state",children:"Province *"}),e.jsxs("select",{id:"state",value:t.state,onChange:o=>i("state",o.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[e.jsx("option",{value:"",children:"Select province"}),JX.map(o=>e.jsx("option",{value:o.code,children:o.name},o.code))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(K,{htmlFor:"postal_code",children:"Postal Code *"}),e.jsx(ie,{id:"postal_code",value:t.postal_code,onChange:o=>i("postal_code",o.target.value),placeholder:"54000",required:!0})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"country",children:"Country"}),e.jsx(ie,{id:"country",value:"Pakistan",disabled:!0,className:"bg-muted"})]})]}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"phone",children:"Phone Number *"}),e.jsx(ie,{id:"phone",type:"tel",value:t.phone||"",onChange:o=>i("phone",o.target.value),placeholder:"+92 3XX XXXXXXX",required:!0})]}),s&&a&&e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(Ns,{id:"save-address",checked:n,onCheckedChange:o=>a(o)}),e.jsx(K,{htmlFor:"save-address",className:"text-sm font-normal cursor-pointer",children:"Save this address for future orders"})]})]})}function ZX({items:t,subtotal:r,shippingCost:s=0,discountAmount:a=0,promoCode:n,onApplyPromo:i,onRemovePromo:o,isApplyingPromo:l=!1,showPromoInput:c=!0,isCompact:d=!1}){const u=r+s-a,m=200,h=Math.max(0,m-r);return e.jsxs("div",{className:"bg-muted/30 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),!d&&e.jsx("div",{className:"space-y-3 mb-4 max-h-64 overflow-y-auto",children:t.map(p=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-20 bg-white rounded overflow-hidden flex-shrink-0",children:p.image?e.jsx("img",{src:p.image,alt:p.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ot,{className:"h-6 w-6 text-muted-foreground/30"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:p.title}),p.designer_name&&e.jsx("p",{className:"text-xs text-muted-foreground",children:p.designer_name}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Qty: ",p.quantity]}),e.jsx("p",{className:"text-sm font-medium mt-1",children:Gt(p.price*p.quantity)})]})]},p.product_id))}),d&&t.length>0&&e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[t.length," item",t.length!==1?"s":""," in cart"]}),e.jsx(Ut,{className:"my-4"}),c&&!n&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{placeholder:"Promo code",className:"flex-1",onKeyDown:p=>{p.key==="Enter"&&i?.(p.target.value)}}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>{const p=document.querySelector('input[placeholder="Promo code"]');p?.value&&i?.(p.value)},disabled:l,children:"Apply"})]})}),n&&e.jsxs("div",{className:"flex items-center justify-between mb-4 p-2 bg-green-50 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(af,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:n})]}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:o,children:e.jsx(ht,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsx("span",{children:Gt(r)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(kl,{className:"h-3 w-3"}),"Shipping"]}),e.jsx("span",{children:s===0?e.jsx("span",{className:"text-green-600 font-medium",children:"Free"}):Gt(s)})]}),a>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-",Gt(a)]})]}),e.jsx(Ut,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between text-base font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:Gt(u)})]})]}),h>0&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("p",{className:"text-xs text-blue-700 text-center",children:["Add ",Gt(h)," more for free shipping!"]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-1.5 mt-2",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all",style:{width:`${Math.min(r/m*100,100)}%`}})})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"Taxes calculated at checkout"})]})}function eQ(){const[t,r]=f.useState({isLoading:!1,clientSecret:null,orderId:null,error:null}),{toast:s}=Ge(),a=f.useCallback(async(l,c)=>{r(d=>({...d,isLoading:!0,error:null}));try{const{data:{session:d}}=await J.auth.getSession(),u=await J.functions.invoke("marketplace-checkout",{body:{action:"create",cart_id:c,shipping_address:l.shippingAddress,email:l.email,customer_id:d?.user?.id||null,save_address:l.saveAddress}});if(u.error)throw new Error(u.error.message);const{clientSecret:m,orderId:h}=u.data;return r({isLoading:!1,clientSecret:m,orderId:h,error:null}),{clientSecret:m,orderId:h}}catch(d){const u=d.message||"Failed to create checkout session";throw r(m=>({...m,isLoading:!1,error:u})),s({title:"Checkout Error",description:u,variant:"destructive"}),d}},[s]),n=f.useCallback(async l=>{r(c=>({...c,isLoading:!0,error:null}));try{const c=await J.functions.invoke("marketplace-checkout",{body:{action:"confirm",order_id:l}});if(c.error)throw new Error(c.error.message);return r(d=>({...d,isLoading:!1})),c.data}catch(c){const d=c.message||"Failed to confirm payment";throw r(u=>({...u,isLoading:!1,error:d})),s({title:"Payment Error",description:d,variant:"destructive"}),c}},[s]),i=f.useCallback(async(l,c)=>{try{const d=await J.functions.invoke("marketplace-cart",{body:{action:"apply_promo",cart_id:c,promo_code:l}});if(d.error)throw new Error(d.error.message);return s({title:"Promo Applied",description:`Discount code "${l}" has been applied.`}),d.data}catch(d){throw s({title:"Invalid Code",description:d.message||"Failed to apply promo code",variant:"destructive"}),d}},[s]),o=f.useCallback(async l=>{try{const c=await J.functions.invoke("marketplace-cart",{body:{action:"remove_promo",cart_id:l}});if(c.error)throw new Error(c.error.message);return s({title:"Promo Removed",description:"Discount code has been removed."}),c.data}catch(c){throw s({title:"Error",description:c.message||"Failed to remove promo code",variant:"destructive"}),c}},[s]);return{...t,createCheckoutSession:a,confirmPayment:n,applyPromoCode:i,removePromoCode:o}}function $3(){Ge(),ft();const t=async()=>{const{data:{session:i}}=await J.auth.getSession();if(!i)return[];const{data:o,error:l}=await J.from("marketplace_orders").select(`
        *,
        items:marketplace_order_items(
          *,
          product:marketplace_products(
            id,
            title,
            images,
            designer:profiles!marketplace_products_designer_id_fkey(brand_name)
          )
        )
      `).eq("customer_id",i.user.id).order("created_at",{ascending:!1});if(l)throw l;return(o||[]).map(c=>({...c,items:c.items?.map(d=>({...d,product:d.product?{...d.product,designer:d.product.designer?.[0]||null}:null}))||[]}))},{data:r,isLoading:s,error:a}=Oe({queryKey:["customer-orders"],queryFn:t});return{orders:r,isLoading:s,error:a,fetchOrderById:async i=>{const{data:{session:o}}=await J.auth.getSession();if(!o)return null;const{data:l,error:c}=await J.from("marketplace_orders").select(`
        *,
        items:marketplace_order_items(
          *,
          product:marketplace_products(
            id,
            title,
            images,
            designer:profiles!marketplace_products_designer_id_fkey(brand_name)
          )
        )
      `).eq("id",i).eq("customer_id",o.user.id).single();if(c)throw c;return l?{...l,items:l.items?.map(d=>({...d,product:d.product?{...d.product,designer:d.product.designer?.[0]||null}:null}))||[]}:null}}}function q3(){const{toast:t}=Ge(),r=ft(),s=async()=>{const{data:{session:d}}=await J.auth.getSession();if(!d)return[];const{data:u,error:m}=await J.from("customer_addresses").select("*").eq("customer_id",d.user.id).order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(m)throw m;return u||[]},{data:a,isLoading:n}=Oe({queryKey:["saved-addresses"],queryFn:s}),i=ze({mutationFn:async d=>{const{data:{session:u}}=await J.auth.getSession();if(!u)throw new Error("Not authenticated");const{data:m,error:h}=await J.from("customer_addresses").insert({...d,customer_id:u.user.id}).select().single();if(h)throw h;return m},onSuccess:()=>{r.invalidateQueries({queryKey:["saved-addresses"]}),t({title:"Address Saved",description:"Your address has been saved successfully."})},onError:d=>{t({title:"Error",description:d.message||"Failed to save address",variant:"destructive"})}}),o=ze({mutationFn:async({id:d,...u})=>{const{data:{session:m}}=await J.auth.getSession();if(!m)throw new Error("Not authenticated");const{data:h,error:p}=await J.from("customer_addresses").update(u).eq("id",d).eq("customer_id",m.user.id).select().single();if(p)throw p;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["saved-addresses"]}),t({title:"Address Updated",description:"Your address has been updated successfully."})},onError:d=>{t({title:"Error",description:d.message||"Failed to update address",variant:"destructive"})}}),l=ze({mutationFn:async d=>{const{data:{session:u}}=await J.auth.getSession();if(!u)throw new Error("Not authenticated");const{error:m}=await J.from("customer_addresses").delete().eq("id",d).eq("customer_id",u.user.id);if(m)throw m},onSuccess:()=>{r.invalidateQueries({queryKey:["saved-addresses"]}),t({title:"Address Deleted",description:"Your address has been removed."})},onError:d=>{t({title:"Error",description:d.message||"Failed to delete address",variant:"destructive"})}}),c=ze({mutationFn:async d=>{const{data:{session:u}}=await J.auth.getSession();if(!u)throw new Error("Not authenticated");await J.from("customer_addresses").update({is_default:!1}).eq("customer_id",u.user.id);const{data:m,error:h}=await J.from("customer_addresses").update({is_default:!0}).eq("id",d).eq("customer_id",u.user.id).select().single();if(h)throw h;return m},onSuccess:()=>{r.invalidateQueries({queryKey:["saved-addresses"]}),t({title:"Default Updated",description:"Your default address has been updated."})},onError:d=>{t({title:"Error",description:d.message||"Failed to update default address",variant:"destructive"})}});return{addresses:a,isLoading:n,addAddress:i,updateAddress:o,deleteAddress:l,setDefaultAddress:c}}const vC=[{id:"shipping",label:"Shipping"},{id:"payment",label:"Payment"},{id:"review",label:"Review"}];function tQ({onComplete:t}){const[r,s]=f.useState(0),[a,n]=f.useState(""),[i,o]=f.useState({name:"",line1:"",line2:"",city:"",state:"",postal_code:"",country:"Pakistan",phone:""}),[l,c]=f.useState(!1),[d,u]=f.useState(!1),[m,h]=f.useState(""),{cart:p,itemCount:v}=To(),{createCheckoutSession:x,confirmPayment:g,applyPromoCode:b,removePromoCode:y,isLoading:j}=eQ(),{addresses:S}=q3(),w=p?.subtotal||0,_=w>=200?0:10,N=p?.discount_amount||0,k=w+_-N,C=async()=>{if(r===0){if(!a||!i.name||!i.line1||!i.city||!i.state||!i.postal_code)return;s(1)}else if(r===1)try{p?.id&&await x({shippingAddress:i,email:a,saveAddress:l},p.id),s(2)}catch{}else if(r===2)try{const F=await g(p?.id||"");F?.orderId&&t(F.orderId)}catch{}},P=()=>{r>0&&s(r-1)},A=async F=>{p?.id&&F&&(await b(F,p.id),h(F))},O=async()=>{p?.id&&(await y(p.id),h(""))},I=F=>{o({name:F.name,line1:F.line1,line2:F.line2||"",city:F.city,state:F.state,postal_code:F.postal_code,country:F.country||"Pakistan",phone:F.phone||""})};return e.jsxs("div",{className:"grid lg:grid-cols-[1fr_380px] gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-4 mb-8",children:vC.map((F,$)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${$<=r?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:$<r?e.jsx(gr,{className:"h-4 w-4"}):$+1}),e.jsx("span",{className:`ml-2 text-sm ${$<=r?"font-medium":"text-muted-foreground"}`,children:F.label}),$<vC.length-1&&e.jsx(lr,{className:"h-4 w-4 mx-2 text-muted-foreground"})]},F.id))}),e.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[r===0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),e.jsxs("div",{children:[e.jsx(K,{htmlFor:"email",children:"Email *"}),e.jsx(ie,{id:"email",type:"email",value:a,onChange:F=>n(F.target.value),placeholder:"your@email.com",required:!0})]})]}),e.jsx(Ut,{}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Shipping Address"}),S&&S.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Saved Addresses"}),e.jsx("div",{className:"grid gap-2",children:S.map(F=>e.jsxs("button",{onClick:()=>I(F),className:"text-left p-3 border rounded-lg hover:border-primary transition-colors",children:[e.jsx("p",{className:"font-medium text-sm",children:F.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.line1,", ",F.city,", ",F.state]}),F.is_default&&e.jsx("span",{className:"text-xs text-primary",children:"Default"})]},F.id))})]}),e.jsx(ow,{value:i,onChange:o,showSaveOption:!0,onSaveChange:c,saveAddress:l})]})]}),r===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),e.jsxs("div",{className:"border rounded-lg p-6 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(us,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium",children:"Secure Payment"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment information is processed securely. We do not store your card details."})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"border rounded-lg p-4 flex items-center gap-3 cursor-pointer bg-primary/5 border-primary",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),e.jsx("span",{className:"font-medium",children:"Credit/Debit Card (Stripe)"})]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You will be redirected to our secure payment processor to complete your payment."})]}),r===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Review Your Order"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Contact"}),e.jsx("button",{onClick:()=>s(0),className:"text-sm text-primary hover:underline",children:"Change"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-medium",children:"Ship to"}),e.jsx("button",{onClick:()=>s(0),className:"text-sm text-primary hover:underline",children:"Change"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.name,e.jsx("br",{}),i.line1,e.jsx("br",{}),i.line2&&e.jsxs(e.Fragment,{children:[i.line2,e.jsx("br",{})]}),i.city,", ",i.state," ",i.postal_code,e.jsx("br",{}),"Pakistan"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted/30 rounded-lg",children:[e.jsx(Ns,{id:"terms",checked:d,onCheckedChange:F=>u(F)}),e.jsxs(K,{htmlFor:"terms",className:"text-sm font-normal cursor-pointer",children:["I agree to the"," ",e.jsx("a",{href:"/shop/policies",target:"_blank",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/shop/policies",target:"_blank",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})]},r),e.jsxs("div",{className:"flex gap-4 mt-8",children:[r>0&&e.jsxs(T,{variant:"outline",onClick:P,disabled:j,children:[e.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx(T,{onClick:C,disabled:j||r===0&&(!a||!i.name||!i.line1)||r===2&&!d,className:"flex-1",children:j?"Processing...":r===2?`Complete Order - ${rQ(k)}`:e.jsxs(e.Fragment,{children:["Continue",e.jsx(lr,{className:"h-4 w-4 ml-2"})]})})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"sticky top-24",children:e.jsx(ZX,{items:p?.items||[],subtotal:w,shippingCost:_,discountAmount:N,promoCode:m||void 0,onApplyPromo:A,onRemovePromo:O,isApplyingPromo:j})})})]})}function rQ(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function sQ(){const t=wr(),{cart:r,itemCount:s}=To(),[a,n]=f.useState(null);if(!r||!r.items||r.items.length===0)return e.jsx(cr,{children:e.jsx("div",{className:"container py-16",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Your bag is empty"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Add some items to your bag before checking out."}),e.jsx(T,{size:"lg",asChild:!0,children:e.jsx(fe,{to:"/shop",children:"Continue Shopping"})})]})})});const i=o=>{n(o),t(`/shop/order-confirmation/${o}`)};return e.jsx(cr,{children:e.jsxs("div",{className:"container py-8",children:[e.jsxs("nav",{className:"flex items-center gap-2 text-sm text-slate-500 mb-8",children:[e.jsxs(fe,{to:"/shop/cart",className:"flex items-center hover:text-black transition-colors",children:[e.jsx(Za,{className:"h-4 w-4 mr-1"}),"Back to Cart"]}),e.jsx("span",{className:"text-slate-300",children:"|"}),e.jsx("span",{className:"text-black font-medium",children:"Checkout"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Checkout"}),e.jsx("p",{className:"text-muted-foreground",children:"Complete your purchase securely"})]}),e.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-wrap items-center gap-6 mb-8 p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"Secure Checkout"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nf,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700",children:"SSL Encrypted"})]}),e.jsxs("span",{className:"text-sm text-green-700",children:[s," item",s!==1?"s":""," in your bag"]})]}),e.jsx(tQ,{onComplete:i})]})})}function aQ(){const{orderId:t}=ci(),{orders:r,isLoading:s}=$3(),a=r?.find(n=>n.id===t||n.order_number===t);return s?e.jsx(cr,{children:e.jsx("div",{className:"container py-16",children:e.jsx("div",{className:"max-w-2xl mx-auto text-center",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-16 w-16 bg-muted rounded-full mx-auto"}),e.jsx("div",{className:"h-8 bg-muted rounded w-1/2 mx-auto"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mx-auto"})]})})})}):e.jsx(cr,{children:e.jsx("div",{className:"container py-16",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center mb-12",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(tr,{className:"h-10 w-10 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Thank You for Your Order!"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"Your order has been confirmed and is being processed."})]}),a&&e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(G,{className:"mb-8",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Number"}),e.jsx("p",{className:"text-xl font-bold",children:a.order_number})]}),e.jsx(B,{variant:"outline",className:"text-sm",children:a.status==="confirmed"?"Confirmed":a.status})]}),e.jsx(Ut,{className:"my-6"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h3",{className:"font-semibold",children:"Order Items"}),a.items.map(n=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-16 h-20 bg-slate-50 rounded overflow-hidden flex-shrink-0",children:n.product.images?.[0]?e.jsx("img",{src:n.product.images[0],alt:n.product.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ot,{className:"h-6 w-6 text-slate-300"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:n.product.title}),n.product.designer?.brand_name&&e.jsx("p",{className:"text-sm text-muted-foreground",children:n.product.designer.brand_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",n.quantity]})]})]},n.id))]}),e.jsx(Ut,{className:"my-6"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsx("span",{children:Gt(a.subtotal)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsx("span",{children:Gt(a.shipping_cost)})]}),a.discount_amount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-",Gt(a.discount_amount)]})]}),e.jsx(Ut,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:Gt(a.total)})]})]})]})}),e.jsx(G,{className:"mb-8",children:e.jsxs(Y,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"What's Next?"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ms,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Order Confirmation Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"We've sent a confirmation email with your order details."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Ze,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Production Begins"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Our designers will start crafting your items within 24-48 hours."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Ot,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Shipping & Delivery"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You'll receive tracking information once your order ships."})]})]})]})]})})]}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a&&e.jsx(T,{variant:"outline",size:"lg",asChild:!0,children:e.jsx(fe,{to:`/shop/order/${a.order_number}`,children:"Track Your Order"})}),e.jsx(T,{size:"lg",asChild:!0,children:e.jsxs(fe,{to:"/shop",children:["Continue Shopping",e.jsx(St,{className:"h-4 w-4 ml-2"})]})})]}),e.jsxs(W.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center text-sm text-muted-foreground mt-8",children:["Have questions?"," ",e.jsx(fe,{to:"/shop/faq",className:"text-primary hover:underline",children:"Check our FAQ"})," ","or"," ",e.jsx("a",{href:"mailto:support@adorzia.com",className:"text-primary hover:underline",children:"contact support"})]})]})})})}function nQ(){const[t,r]=f.useState(""),{data:s,isLoading:a}=Oe({queryKey:["shop-designers"],queryFn:async()=>{let i=J.from("profiles").select("user_id, name, avatar_url, bio, brand_name, category, location, xp").not("name","is",null);const{data:o,error:l}=await i;if(l)throw l;return await Promise.all((o||[]).map(async d=>{const{count:u}=await J.from("marketplace_products").select("*",{count:"exact",head:!0}).eq("designer_id",d.user_id).eq("status","live"),{data:m}=await J.from("marketplace_products").select("images").eq("designer_id",d.user_id).eq("status","live").limit(4),h=m?.flatMap(p=>Array.isArray(p.images)?p.images:[]).filter(p=>typeof p=="string").slice(0,4)||[];return{id:d.user_id,name:d.name,avatar_url:d.avatar_url,bio:d.bio,brand_name:d.brand_name,category:d.category,location:d.location,xp:d.xp||0,product_count:u||0,product_images:h}}))}}),n=s?.filter(i=>i.name?.toLowerCase().includes(t.toLowerCase())||i.bio?.toLowerCase().includes(t.toLowerCase())||i.brand_name?.toLowerCase().includes(t.toLowerCase()));return e.jsxs(cr,{children:[e.jsx("section",{className:"pt-32 pb-20 md:pt-40 md:pb-28",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-editorial-caption text-muted-foreground mb-4",children:"Rising Stars"}),e.jsx(W.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"text-editorial-display mb-6",children:"Our Designers"}),e.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-editorial-body text-muted-foreground mb-10 max-w-xl",children:"Discover emerging talent from across Pakistan. Each designer brings unique perspectives, exceptional craftsmanship, and a distinct creative vision."}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"relative max-w-md",children:[e.jsx(dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{type:"text",placeholder:"Search designers...",value:t,onChange:i=>r(i.target.value),className:"h-12 pl-11 pr-4 bg-muted/50 border-0 focus-visible:ring-1"})]})]})})}),e.jsx("section",{className:"pb-24 md:pb-32",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:[a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((i,o)=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-[4/3] bg-muted rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse w-2/3"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]},o))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?.map((i,o)=>e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.08},children:e.jsxs(fe,{to:`/shop/designer/${i.id}`,className:"group block",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-lg bg-muted mb-4",children:[i.product_images&&i.product_images.length>0?e.jsx("img",{src:i.product_images[0],alt:i.brand_name||i.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-muted to-muted/50 flex items-center justify-center",children:e.jsx("span",{className:"font-display text-6xl text-muted-foreground/30",children:(i.brand_name||i.name)?.charAt(0)})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:[e.jsx("span",{className:"text-sm font-medium text-background",children:"View Profile"}),e.jsx(ra,{className:"h-4 w-4 text-background"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-display text-xl font-medium group-hover:text-foreground/80 transition-colors",children:i.brand_name||i.name}),i.category&&e.jsx("p",{className:"text-sm text-muted-foreground",children:i.category})]}),i.product_count!==void 0&&i.product_count>0&&e.jsxs(B,{variant:"secondary",className:"text-xs",children:[i.product_count," pieces"]})]}),i.location&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Ha,{className:"h-3 w-3"}),i.location]})]})]})},i.id))}),!a&&n?.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"font-display text-2xl text-muted-foreground mb-4",children:"No designers found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search terms or check back later for new designers."}),e.jsx(T,{variant:"outline",onClick:()=>r(""),children:"Clear Search"})]})]})})]})}function iQ(){const{id:t}=ci(),[r,s]=f.useState(!1),{data:a,isLoading:n}=Oe({queryKey:["designer-profile",t],queryFn:async()=>{if(!t)return null;const{data:c,error:d}=await J.from("profiles").select(`
          user_id,
          name, 
          avatar_url, 
          bio, 
          category, 
          xp,
          brand_name,
          banner_image,
          location,
          education,
          manufacturing_countries,
          artist_statement,
          website_url,
          instagram_handle,
          twitter_handle,
          linkedin_url,
          sustainability_practices
        `).eq("user_id",t).single();if(d&&d.code==="PGRST116")return null;if(d)throw console.error("Error fetching designer profile:",d),d;return{...c,id:c.user_id,brand_name:c.brand_name||c.name?.toUpperCase(),social_links:{website:c.website_url,instagram:c.instagram_handle?`https://instagram.com/${c.instagram_handle}`:null,twitter:c.twitter_handle?`https://twitter.com/${c.twitter_handle}`:null,linkedin:c.linkedin_url}}}}),{data:i}=Oe({queryKey:["designer-products",t],queryFn:async()=>{if(!t)return[];const{data:c,error:d}=await J.from("marketplace_products").select("id, title, price, images, slug").eq("designer_id",t).eq("status","live").order("created_at",{ascending:!1}).limit(12);return d?(console.error("Error fetching designer products:",d),[]):c||[]}}),{data:o}=Oe({queryKey:["designer-editorials",a?.user_id],enabled:!!a?.user_id,queryFn:async()=>{const{data:c,error:d}=await J.from("articles").select("id, title, featured_image, category, excerpt").eq("author_id",a.user_id).eq("status","published").limit(4);return d?(console.error("Error fetching designer articles:",d),[]):c||[]}}),{data:l}=Oe({queryKey:["designer-collections",t],enabled:!!t,queryFn:async()=>{if(!t)return[];const{data:c,error:d}=await J.from("marketplace_collections").select(`
          id,
          name,
          slug,
          description,
          image_url,
          is_featured,
          collection_products:marketplace_collection_products(count)
        `).eq("designer_id",t).eq("is_active",!0).order("is_featured",{ascending:!1}).order("created_at",{ascending:!1}).limit(6);return d?(console.error("Error fetching designer collections:",d),[]):c?.map(u=>({id:u.id,name:u.name,slug:u.slug,description:u.description||"",image_url:u.image_url||"https://images.unsplash.com/photo-1558769132-cb1aea1c8e86?w=1200",is_featured:u.is_featured,items:u.collection_products?.[0]?.count||0}))||[]}});return n?e.jsx(cr,{children:e.jsx("div",{className:"pt-32 pb-20",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsxs("div",{className:"animate-pulse space-y-8",children:[e.jsx("div",{className:"h-[50vh] bg-muted rounded-lg"}),e.jsx("div",{className:"h-32 bg-muted rounded-lg max-w-2xl"})]})})})}):a?e.jsxs(cr,{children:[e.jsxs("div",{className:"relative min-h-[70vh] flex items-end",children:[a.banner_image?e.jsx("img",{src:a.banner_image,alt:a.name,className:"absolute inset-0 w-full h-full object-cover"}):e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-muted to-muted/50"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"}),e.jsx("div",{className:"absolute top-24 left-0 right-0 z-10",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsx(T,{variant:"ghost",size:"sm",asChild:!0,className:"text-foreground hover:text-foreground/70",children:e.jsxs(fe,{to:"/shop/designers",children:[e.jsx(ba,{className:"h-4 w-4 mr-2"}),"All Designers"]})})})}),e.jsx("div",{className:"relative w-full pb-16 md:pb-24",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsxs(W.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col md:flex-row md:items-end gap-6 md:gap-10",children:[e.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-background bg-muted flex-shrink-0",children:a.avatar_url?e.jsx("img",{src:a.avatar_url,alt:a.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:e.jsx("span",{className:"font-display text-4xl text-muted-foreground",children:a.name?.charAt(0)})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-light mb-3",children:a.brand_name||a.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-muted-foreground",children:[a.category&&e.jsx("span",{className:"text-sm",children:a.category}),a.location&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden md:inline",children:""}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(Ha,{className:"h-3.5 w-3.5"}),a.location]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(T,{variant:r?"default":"outline",size:"lg",onClick:()=>s(!r),className:"gap-2",children:[e.jsx(gd,{className:`h-4 w-4 ${r?"fill-current":""}`}),r?"Following":"Follow"]}),e.jsx(T,{variant:"outline",size:"icon",className:"h-11 w-11",children:e.jsx(Pm,{className:"h-4 w-4"})})]})]})})})]}),e.jsx("div",{className:"pb-24 md:pb-32",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsxs("div",{className:"grid lg:grid-cols-[1fr_380px] gap-16",children:[e.jsxs("div",{className:"space-y-16",children:[e.jsxs(W.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"About"}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-editorial-body text-foreground/80 leading-relaxed",children:a.bio||a.artist_statement||`${a.brand_name||a.name} is a talented designer creating exceptional pieces that blend traditional craftsmanship with contemporary aesthetics.`})}),a.artist_statement&&a.artist_statement!==a.bio&&e.jsxs("blockquote",{className:"mt-8 pl-6 border-l-2 border-muted italic text-lg text-muted-foreground",children:['"',a.artist_statement,'"']})]}),e.jsx(Ut,{}),l&&l.length>0&&e.jsxs(W.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground",children:"Collections"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.length," collections"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(c=>e.jsxs(fe,{to:`/shop/products?collection=${c.id}`,className:"group relative aspect-[16/9] overflow-hidden rounded-lg",children:[e.jsx("img",{src:c.image_url,alt:c.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:[e.jsx("h3",{className:"font-display text-xl font-medium text-background mb-1",children:c.name}),e.jsxs("p",{className:"text-sm text-background/70",children:[c.items," pieces"]})]}),c.is_featured&&e.jsx(B,{className:"absolute top-4 right-4 bg-background/90 text-foreground",children:"Featured"})]},c.id))})]}),e.jsx(Ut,{}),e.jsxs(W.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground",children:"Products"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[i?.length||0," pieces"]})]}),i&&i.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6",children:i.map(c=>e.jsx(ml,{id:c.id,title:c.title,price:c.price,images:c.images||[],brandName:a.brand_name,designerName:a.name,designerId:a.id,slug:c.slug},c.id))}):e.jsxs("div",{className:"text-center py-16 bg-muted/30 rounded-lg",children:[e.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No products available yet. Check back soon."})]})]})]}),e.jsxs("aside",{className:"space-y-8 lg:sticky lg:top-24 lg:self-start",children:[e.jsxs("div",{className:"p-6 bg-muted/30 rounded-lg",children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"Connect"}),e.jsxs("div",{className:"space-y-3",children:[a.instagram_handle&&e.jsxs("a",{href:`https://instagram.com/${a.instagram_handle}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-background/80 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(jo,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Instagram"})]}),e.jsx(ra,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors"})]}),a.website_url&&e.jsxs("a",{href:a.website_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-background/80 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($i,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Website"})]}),e.jsx(ra,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors"})]}),e.jsxs("a",{href:"mailto:hello@adorzia.com",className:"flex items-center justify-between p-3 bg-background rounded-lg hover:bg-background/80 transition-colors group",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ms,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Contact"})]}),e.jsx(ra,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors"})]})]})]}),e.jsxs("div",{className:"p-6 bg-luxury-charcoal text-background rounded-lg",children:[e.jsx("h3",{className:"font-display text-xl font-medium mb-2",children:"Custom Inquiries"}),e.jsx("p",{className:"text-sm text-background/70 mb-4",children:"Interested in bespoke pieces or collaboration opportunities?"}),e.jsx(T,{variant:"secondary",className:"w-full",asChild:!0,children:e.jsx("a",{href:"mailto:hello@adorzia.com",children:"Get in Touch"})})]}),a.sustainability_practices&&a.sustainability_practices.length>0&&e.jsxs("div",{className:"p-6 bg-muted/30 rounded-lg",children:[e.jsx("p",{className:"text-editorial-caption text-muted-foreground mb-4",children:"Sustainability"}),e.jsx("ul",{className:"space-y-2",children:a.sustainability_practices.map((c,d)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-foreground/70",children:[e.jsx("span",{className:"text-luxury-gold mt-1",children:""}),e.jsx("span",{children:c})]},d))})]})]})]})})})]}):e.jsx(cr,{children:e.jsx("div",{className:"pt-32 pb-20 text-center",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:[e.jsx(Ot,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),e.jsx("h1",{className:"font-display text-3xl mb-4",children:"Designer Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"The designer you're looking for doesn't exist."}),e.jsx(T,{asChild:!0,children:e.jsx(fe,{to:"/shop/designers",children:"Explore Designers"})})]})})})}function oQ(){const[t,r]=f.useState(""),{data:s,isLoading:a}=Oe({queryKey:["shop-collections"],queryFn:async()=>{const{data:i,error:o}=await J.from("marketplace_collections").select("*").eq("is_active",!0).order("is_featured",{ascending:!1}).order("created_at",{ascending:!1});if(o)return console.error("Error fetching collections:",o),[];if(!i||i.length===0)return[];const c=i.map(p=>p.id).map(async p=>{const{count:v}=await J.from("marketplace_collection_products").select("*",{count:"exact",head:!0}).eq("collection_id",p);return{id:p,count:v||0}}),u=(await Promise.all(c)).reduce((p,v)=>(p[v.id]=v.count,p),{}),m=i?.filter(p=>p.designer_id).map(p=>p.designer_id)||[];let h={};if(m.length>0){const p=[...new Set(m)],{data:v}=await J.from("profiles").select("user_id, name, brand_name").in("user_id",p);h=v?.reduce((x,g)=>(x[g.user_id]=g,x),{})||{}}return i.map(p=>{const v=p.designer_id?h[p.designer_id]:null,x=v?v.brand_name||v.name:"Curated Selection";return{id:p.id,name:p.name,description:p.description||"",season:"Current Season",designer_name:x,designer_id:p.designer_id,items:u[p.id]||0,image_url:p.image_url||"https://images.unsplash.com/photo-1558769132-cb1aea1c8e86?w=1200",is_featured:p.is_featured}})}}),n=s?.filter(i=>i.name.toLowerCase().includes(t.toLowerCase())||i.description.toLowerCase().includes(t.toLowerCase()));return e.jsxs(cr,{children:[e.jsx("section",{className:"pt-32 pb-20 md:pt-40 md:pb-28",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-editorial-caption text-muted-foreground mb-4",children:"Curated"}),e.jsx(W.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.1},className:"text-editorial-display mb-6",children:"Designer Collections"}),e.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-editorial-body text-muted-foreground mb-10 max-w-xl",children:"Explore curated capsules created through StyleBoxes. Each collection represents a designer's unique vision and creative journey."}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"relative max-w-md",children:[e.jsx(dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{type:"text",placeholder:"Search collections...",value:t,onChange:i=>r(i.target.value),className:"h-12 pl-11 pr-4 bg-muted/50 border-0 focus-visible:ring-1"})]})]})})}),e.jsx("section",{className:"pb-24 md:pb-32",children:e.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:[a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((i,o)=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-[4/3] bg-muted rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]},o))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?.map((i,o)=>e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:o*.08},children:e.jsxs(fe,{to:`/shop/products?collection=${i.id}`,className:"group block",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-lg mb-4",children:[e.jsx("img",{src:i.image_url,alt:i.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",children:[e.jsx("span",{className:"text-sm font-medium text-background",children:"View Collection"}),e.jsx(ra,{className:"h-4 w-4 text-background"})]}),i.is_featured&&e.jsx(B,{className:"absolute top-4 right-4 bg-background/90 text-foreground",children:"Featured"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"font-display text-xl font-medium group-hover:text-foreground/80 transition-colors",children:i.name}),e.jsxs(B,{variant:"secondary",className:"text-xs",children:[i.items," pieces"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:i.description}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",i.designer_name]})]})]})},i.id))}),!a&&n?.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"font-display text-2xl text-muted-foreground mb-4",children:"No collections found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or check back later for new collections."})]})]})}),e.jsx("section",{className:"py-24 md:py-32 bg-luxury-charcoal text-background",children:e.jsx("div",{className:"max-w-[1800px] mx-auto px-6 lg:px-12",children:e.jsx("div",{className:"max-w-2xl mx-auto text-center",children:e.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[e.jsx("p",{className:"text-editorial-caption text-background/50 mb-6",children:"Join Us"}),e.jsx("h2",{className:"font-display text-3xl md:text-4xl lg:text-5xl font-light mb-6",children:"Create Your Own Collection"}),e.jsx("p",{className:"text-background/70 mb-8 max-w-lg mx-auto",children:"Ready to showcase your work? Join our marketplace and create curated collections that tell your unique story."}),e.jsx(T,{size:"lg",variant:"outline",className:"border-background/30 text-background hover:bg-background/10",asChild:!0,children:e.jsxs(fe,{to:"/studio-info",children:["Become a Designer",e.jsx(ra,{className:"ml-2 h-4 w-4"})]})})]})})})})]})}function lQ(){const{slug:t}=ci(),{data:r,isLoading:s}=Oe({queryKey:["collection-detail",t],queryFn:async()=>{if(!t)return null;const{data:o,error:l}=await J.from("marketplace_collections").select(`
          *,
          designer:profiles!marketplace_collections_designer_id_fkey(
            id,
            name,
            brand_name,
            avatar_url,
            bio,
            slug
          )
        `).eq("slug",t).eq("is_active",!0).single();if(l)throw l;return o},enabled:!!t}),{data:a,isLoading:n}=Oe({queryKey:["collection-products",r?.id],enabled:!!r?.id,queryFn:async()=>{if(!r?.id)return[];const{data:o,error:l}=await J.from("marketplace_collection_products").select(`
          product:marketplace_products!inner(
            id,
            title,
            price,
            sale_price,
            images,
            slug,
            average_rating,
            review_count,
            production_time_days,
            designer:profiles!marketplace_products_designer_id_fkey(
              id,
              name,
              brand_name
            )
          )
        `).eq("collection_id",r.id);if(l)throw l;return o?.map(c=>c.product)||[]}});if(s)return e.jsx(cr,{children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"h-[70vh] bg-muted animate-pulse"}),e.jsx("div",{className:"container py-16",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center space-y-6",children:[e.jsx("div",{className:"h-6 bg-muted rounded w-32 mx-auto"}),e.jsx("div",{className:"h-12 bg-muted rounded w-2/3 mx-auto"}),e.jsx("div",{className:"h-20 bg-muted rounded w-full"})]})})]})});if(!r)return e.jsx(cr,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:e.jsx(ct,{className:"h-10 w-10 text-muted-foreground"})}),e.jsx("h1",{className:"text-editorial-title mb-4",children:"Collection Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"The collection you're looking for doesn't exist or has been removed."}),e.jsx(T,{asChild:!0,size:"lg",children:e.jsx(fe,{to:"/shop/collections",children:"Browse Collections"})})]})})});const i=r.designer?.[0]||r.designer;return e.jsxs(cr,{children:[e.jsxs("section",{className:"relative h-[70vh] min-h-[600px]",children:[r.image_url?e.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-muted to-muted/50"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/40 to-transparent"}),e.jsx(W.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"absolute top-8 left-0 right-0 container z-10",children:e.jsx(T,{variant:"ghost",size:"sm",asChild:!0,className:"text-white hover:bg-white/20 backdrop-blur-sm",children:e.jsxs(fe,{to:"/shop/collections",children:[e.jsx(ba,{className:"h-4 w-4 mr-2"}),"All Collections"]})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsx("div",{className:"container pb-16",children:e.jsxs(W.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.16,1,.3,1]},className:"max-w-3xl",children:[r.season&&e.jsx(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"mb-6",children:e.jsxs(B,{variant:"outline",className:"bg-background/80 backdrop-blur-sm text-foreground border-border/50 px-4 py-1.5 text-xs tracking-widest uppercase",children:[e.jsx(Wr,{className:"h-3 w-3 mr-2"}),r.season]})}),e.jsx("h1",{className:"text-editorial-display text-white mb-6 drop-shadow-lg",children:r.name}),r.description&&e.jsx("p",{className:"text-lg md:text-xl text-white/90 leading-relaxed max-w-2xl drop-shadow-md",children:r.description})]})})})]}),i&&e.jsx("section",{className:"border-b bg-card",children:e.jsx("div",{className:"container py-6",children:e.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs(fe,{to:`/shop/designer/${i.slug||i.id}`,className:"flex items-center gap-4 group",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-muted overflow-hidden border-2 border-border group-hover:border-primary transition-colors",children:i.avatar_url?e.jsx("img",{src:i.avatar_url,alt:i.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted",children:e.jsx("span",{className:"text-lg font-display",children:(i.brand_name||i.name)?.charAt(0)})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-widest mb-1",children:"Collection by"}),e.jsx("p",{className:"text-lg font-display group-hover:text-primary transition-colors",children:i.brand_name||i.name})]})]}),e.jsx(T,{variant:"outline",asChild:!0,children:e.jsx(fe,{to:`/shop/designer/${i.slug||i.id}`,children:"View Designer Profile"})})]})})}),e.jsx("section",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[e.jsxs(W.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[e.jsx("span",{className:"text-editorial-caption text-muted-foreground mb-4 block",children:"The Collection"}),e.jsx("h2",{className:"text-editorial-title mb-6",children:"Crafted with Intention"}),e.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[e.jsx("p",{children:"Each piece in this collection represents hours of meticulous craftsmanship and attention to detail. From the initial sketch to the final stitch, every garment tells a story of dedication to the art of fashion."}),e.jsx("p",{children:"The collection features premium materials sourced from renowned suppliers, ensuring both luxury and sustainability in every creation."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-10 pt-10 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-display text-foreground",children:a?.length||0}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Pieces"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-display text-foreground",children:e.jsx(Ze,{className:"h-6 w-6 inline mr-1"})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Made to Order"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-display text-foreground",children:"100%"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Handcrafted"})]})]})]}),e.jsxs(W.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"relative",children:[e.jsx("div",{className:"aspect-[4/5] bg-muted rounded-sm overflow-hidden",children:r.image_url?e.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(ct,{className:"h-16 w-16 text-muted-foreground/30"})})}),e.jsx("div",{className:"absolute -bottom-6 -left-6 w-32 h-32 border border-border/50 rounded-sm -z-10"})]})]})})}),e.jsx("section",{className:"py-16 md:py-24 bg-muted/30",children:e.jsxs("div",{className:"container",children:[e.jsxs(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex flex-col md:flex-row md:items-end justify-between gap-4 mb-12",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-editorial-caption text-muted-foreground mb-2 block",children:"The Pieces"}),e.jsx("h2",{className:"text-editorial-title",children:"Collection Items"})]}),e.jsxs("p",{className:"text-muted-foreground",children:[a?.length||0," exclusive ",a?.length===1?"piece":"pieces"]})]}),n?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((o,l)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"aspect-[3/4] bg-muted rounded-sm animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-5 bg-muted rounded animate-pulse w-1/2"})]},l))}):a&&a.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map((o,l)=>e.jsx(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.05,duration:.5},children:e.jsx(ml,{id:o.id,title:o.title,price:o.price,salePrice:o.sale_price,images:o.images||[],brandName:o.designer?.brand_name,designerName:o.designer?.name,designerId:o.designer?.id,averageRating:o.average_rating,reviewCount:o.review_count,productionTimeDays:o.production_time_days,slug:o.slug})},o.id))}):e.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:e.jsx(ct,{className:"h-10 w-10 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-display mb-2",children:"No products yet"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"This collection doesn't have any products yet. Check back soon for new arrivals."})]})]})}),e.jsx("section",{className:"py-20 md:py-32",children:e.jsx("div",{className:"container",children:e.jsxs(W.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center max-w-2xl mx-auto",children:[e.jsx("span",{className:"text-editorial-caption text-muted-foreground mb-4 block",children:"Continue Exploring"}),e.jsx("h2",{className:"text-editorial-display mb-6",children:"More Collections"}),e.jsx("p",{className:"text-muted-foreground mb-10 leading-relaxed",children:"Discover more curated collections from our talented designers. Each collection tells a unique story of craftsmanship and creativity."}),e.jsx(T,{size:"lg",asChild:!0,className:"px-8",children:e.jsx(fe,{to:"/shop/collections",children:"View All Collections"})})]})})})]})}const Hl={confirmed:{status:"confirmed",label:"Order Confirmed",description:"Your order has been received and payment confirmed",icon:tr,color:"text-green-600"},sampling:{status:"sampling",label:"Sampling",description:"Designer is creating samples for your order",icon:Ze,color:"text-blue-600"},production:{status:"production",label:"In Production",description:"Your items are being crafted by our artisans",icon:Ot,color:"text-purple-600"},quality_check:{status:"quality_check",label:"Quality Check",description:"Final inspection to ensure luxury standards",icon:tr,color:"text-orange-600"},shipping:{status:"shipping",label:"Shipped",description:"Your order is on its way",icon:kl,color:"text-indigo-600"},delivered:{status:"delivered",label:"Delivered",description:"Order successfully delivered",icon:tr,color:"text-green-600"},cancelled:{status:"cancelled",label:"Cancelled",description:"This order has been cancelled",icon:Ze,color:"text-red-600"}},tv=["confirmed","sampling","production","quality_check","shipping","delivered"];function cQ(){const{orderNumber:t}=ci(),{data:r,isLoading:s}=Oe({queryKey:["order-tracking",t],queryFn:async()=>{const{data:o,error:l}=await J.from("marketplace_orders").select(`
          *,
          marketplace_order_items (
            *,
            product:marketplace_products (
              id,
              title,
              images
            )
          )
        `).eq("order_number",t).single();if(l)throw l;return o},enabled:!!t});if(s)return e.jsx(cr,{children:e.jsx("div",{className:"container py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsx("div",{className:"h-8 bg-muted rounded animate-pulse w-1/3"}),e.jsx("div",{className:"h-64 bg-muted rounded animate-pulse"})]})})});if(!r)return e.jsx(cr,{children:e.jsxs("div",{className:"container py-16 text-center",children:[e.jsx(Ot,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Order Not Found"}),e.jsxs("p",{className:"text-muted-foreground mb-8",children:["We couldn't find an order with number ",t]}),e.jsx(T,{asChild:!0,children:e.jsx(fe,{to:"/shop",children:"Continue Shopping"})})]})});const a=r.status,n=tv.indexOf(a),i=Hl[a]?.icon||Ot;return e.jsx(cr,{children:e.jsxs("div",{className:"container py-8",children:[e.jsx(T,{variant:"ghost",size:"sm",asChild:!0,className:"mb-6",children:e.jsxs(fe,{to:"/shop",children:[e.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Shop"]})}),e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",r.order_number]}),e.jsxs("p",{className:"text-muted-foreground",children:["Placed on ",new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs(G,{children:[e.jsxs(je,{children:[e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(i,{className:`h-5 w-5 ${Hl[a]?.color}`}),Hl[a]?.label]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Hl[a]?.description})]}),e.jsx(Y,{children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex justify-between items-start mb-8",children:tv.map((o,l)=>{const c=l<=n,d=l===n,u=Hl[o].icon;return e.jsxs("div",{className:"flex-1 flex flex-col items-center relative",children:[e.jsx(W.div,{className:`w-12 h-12 rounded-full flex items-center justify-center border-2 z-10 ${c?"bg-primary border-primary text-primary-foreground":"bg-background border-muted text-muted-foreground"}`,initial:!1,animate:{scale:d?1.1:1},children:e.jsx(u,{className:"h-6 w-6"})}),e.jsx("p",{className:`text-xs mt-2 text-center ${c?"font-medium":"text-muted-foreground"}`,children:Hl[o].label}),l<tv.length-1&&e.jsx("div",{className:`absolute left-1/2 top-6 w-full h-0.5 -z-10 ${l<n?"bg-primary":"bg-muted"}`})]},o)})})})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Order Items"})}),e.jsxs(Y,{className:"space-y-4",children:[r.marketplace_order_items?.map(o=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-muted rounded overflow-hidden flex-shrink-0",children:o.product?.images?.[0]&&e.jsx("img",{src:o.product.images[0],alt:o.product.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:o.product?.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",o.quantity,"  ",Gt(o.unit_price)]}),e.jsx("p",{className:"text-sm font-medium",children:Gt(o.total_price)})]})]},o.id)),e.jsx(Ut,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsx("span",{children:Gt(r.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),e.jsx("span",{children:Gt(r.shipping_cost)})]}),r.discount_amount>0&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-",Gt(r.discount_amount)]})]}),e.jsx(Ut,{}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:Gt(r.total)})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(Ha,{className:"h-5 w-5"}),"Shipping Address"]})}),e.jsxs(Y,{className:"text-sm space-y-1",children:[e.jsx("p",{className:"font-medium",children:r.shipping_address?.name}),e.jsx("p",{children:r.shipping_address?.line1}),r.shipping_address?.line2&&e.jsx("p",{children:r.shipping_address.line2}),e.jsxs("p",{children:[r.shipping_address?.city,", ",r.shipping_address?.state," ",r.shipping_address?.postal_code]}),e.jsx("p",{children:r.shipping_address?.country})]})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Payment"})}),e.jsxs(Y,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),e.jsx(B,{variant:r.payment_status==="paid"?"default":"secondary",children:r.payment_status})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Method"}),e.jsx("span",{className:"text-sm capitalize",children:r.payment_method})]})]})]}),r.tracking_number&&e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(kl,{className:"h-5 w-5"}),"Tracking"]})}),e.jsxs(Y,{children:[e.jsx("p",{className:"font-mono text-sm",children:r.tracking_number}),r.tracking_url&&e.jsx(T,{variant:"link",className:"px-0 mt-2",asChild:!0,children:e.jsx("a",{href:r.tracking_url,target:"_blank",rel:"noopener noreferrer",children:"Track Package"})})]})]})]})]})]})]})})}const Et=dx,r1=S_,dQ=ux,z3=f.forwardRef(({className:t,...r},s)=>e.jsx(Nd,{ref:s,className:q("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));z3.displayName=Nd.displayName;const Pt=f.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(dQ,{children:[e.jsx(z3,{}),e.jsxs(_d,{ref:a,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4","border border-border bg-background p-6 shadow-xl","duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]","data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]","rounded-2xl sm:rounded-2xl",t),...s,children:[r,e.jsxs(mx,{className:"absolute right-4 top-4 rounded-lg p-1.5 opacity-70 ring-offset-background transition-all hover:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring/50 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pt.displayName=_d.displayName;const Lt=({className:t,...r})=>e.jsx("div",{className:q("flex flex-col space-y-2 text-center sm:text-left",t),...r});Lt.displayName="DialogHeader";const Cs=({className:t,...r})=>e.jsx("div",{className:q("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r});Cs.displayName="DialogFooter";const $t=f.forwardRef(({className:t,...r},s)=>e.jsx(Lm,{ref:s,className:q("text-lg font-semibold leading-none tracking-tight font-display",t),...r}));$t.displayName=Lm.displayName;const Us=f.forwardRef(({className:t,...r},s)=>e.jsx($m,{ref:s,className:q("text-sm text-muted-foreground leading-relaxed",t),...r}));Us.displayName=$m.displayName;const bC={confirmed:{label:"Confirmed",icon:tr,color:"text-green-600",bgColor:"bg-green-50"},sampling:{label:"Sampling",icon:Ze,color:"text-blue-600",bgColor:"bg-blue-50"},production:{label:"In Production",icon:Ot,color:"text-purple-600",bgColor:"bg-purple-50"},quality_check:{label:"Quality Check",icon:tr,color:"text-orange-600",bgColor:"bg-orange-50"},shipping:{label:"Shipped",icon:kl,color:"text-indigo-600",bgColor:"bg-indigo-50"},delivered:{label:"Delivered",icon:tr,color:"text-green-600",bgColor:"bg-green-50"},cancelled:{label:"Cancelled",icon:Vs,color:"text-red-600",bgColor:"bg-red-50"}};function uQ({order:t,index:r=0}){const s=bC[t.status]||bC.confirmed,a=s.icon,n=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},className:"bg-white border border-slate-100 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("h3",{className:"font-semibold",children:["Order #",t.order_number]}),e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded ${s.bgColor}`,children:[e.jsx(a,{className:`h-3 w-3 ${s.color}`}),e.jsx("span",{className:`text-xs font-medium ${s.color}`,children:s.label})]})]}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Placed on ",n(t.created_at)]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-semibold",children:Gt(t.total)}),e.jsx(T,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(fe,{to:`/shop/order/${t.order_number}`,children:["Track",e.jsx(lr,{className:"h-4 w-4 ml-1"})]})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[t.items.slice(0,4).map(i=>e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx(fe,{to:`/shop/product/${i.product.id}`,children:e.jsx("div",{className:"w-20 h-24 bg-slate-50 rounded overflow-hidden",children:i.product.images&&i.product.images.length>0?e.jsx("img",{src:i.product.images[0],alt:i.product.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ot,{className:"h-6 w-6 text-slate-300"})})})}),i.quantity>1&&e.jsx("div",{className:"mt-1 text-center",children:e.jsxs(B,{variant:"secondary",className:"text-xs",children:["x",i.quantity]})})]},i.id)),t.items.length>4&&e.jsx("div",{className:"flex-shrink-0 w-20 h-24 bg-slate-50 rounded flex items-center justify-center",children:e.jsxs("span",{className:"text-sm text-slate-500",children:["+",t.items.length-4]})})]}),t.items.length===1&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium",children:t.items[0].product.title}),t.items[0].product.designer?.brand_name&&e.jsx("p",{className:"text-xs text-slate-500",children:t.items[0].product.designer.brand_name})]})]})]})}function mQ(){const t=wr(),{user:r,signOut:s}=ur(),{orders:a,isLoading:n}=$3(),{addresses:i,isLoading:o,addAddress:l,updateAddress:c,deleteAddress:d,setDefaultAddress:u}=q3(),[m,h]=f.useState(!1),[p,v]=f.useState(null),[x,g]=f.useState({name:"",line1:"",line2:"",city:"",state:"",postal_code:"",country:"Pakistan",phone:""}),[b,y]=f.useState(!1);if(!r)return e.jsx(cr,{children:e.jsx("div",{className:"container py-16",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx(Oa,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Sign In Required"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"Please sign in to view your account and order history."}),e.jsx(T,{size:"lg",asChild:!0,children:e.jsx(fe,{to:"/auth",children:"Sign In"})})]})})});const j=async()=>{await s(),t("/shop")},S=async()=>{await l.mutateAsync({...x,is_default:b}),h(!1),g({name:"",line1:"",line2:"",city:"",state:"",postal_code:"",country:"Pakistan",phone:""}),y(!1)},w=async()=>{p&&(await c.mutateAsync({id:p.id,...x,is_default:p.is_default}),v(null))},_=N=>{v(N),g({name:N.name,line1:N.line1,line2:N.line2||"",city:N.city,state:N.state,postal_code:N.postal_code,country:N.country||"Pakistan",phone:N.phone||""})};return e.jsxs(cr,{children:[e.jsxs("div",{className:"container py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Account"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your orders, addresses, and account settings"})]}),e.jsxs(T,{variant:"outline",onClick:j,children:[e.jsx(Ei,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]}),e.jsx(G,{className:"mb-8",children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(Oa,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:r.email}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-4 w-4"}),a?.length||0," orders"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ha,{className:"h-4 w-4"}),i?.length||0," addresses"]})]})]})]})})}),e.jsxs(Nr,{defaultValue:"orders",className:"space-y-6",children:[e.jsxs(br,{className:"grid w-full grid-cols-2 md:grid-cols-3 lg:w-auto",children:[e.jsxs(Ee,{value:"orders",className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),"Orders"]}),e.jsxs(Ee,{value:"addresses",className:"flex items-center gap-2",children:[e.jsx(Ha,{className:"h-4 w-4"}),"Addresses"]}),e.jsxs(Ee,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(Oa,{className:"h-4 w-4"}),"Settings"]})]}),e.jsxs(Te,{value:"orders",className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Order History"})}),n?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((N,k)=>e.jsx("div",{className:"h-32 bg-muted rounded-lg animate-pulse"},k))}):a&&a.length>0?e.jsx("div",{className:"space-y-4",children:a.map((N,k)=>e.jsx(uQ,{order:N,index:k},N.id))}):e.jsx(G,{children:e.jsxs(Y,{className:"p-12 text-center",children:[e.jsx(Ot,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"You haven't placed any orders yet. Start shopping to see your order history."}),e.jsx(T,{asChild:!0,children:e.jsx(fe,{to:"/shop",children:"Start Shopping"})})]})})]}),e.jsxs(Te,{value:"addresses",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Saved Addresses"}),e.jsxs(Et,{open:m,onOpenChange:h,children:[e.jsx(r1,{asChild:!0,children:e.jsxs(T,{children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add Address"]})}),e.jsxs(Pt,{className:"max-w-lg",children:[e.jsx(Lt,{children:e.jsx($t,{children:"Add New Address"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(ow,{value:x,onChange:g,showSaveOption:!1}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ns,{id:"default",checked:b,onCheckedChange:N=>y(N)}),e.jsx(K,{htmlFor:"default",className:"text-sm font-normal",children:"Set as default address"})]}),e.jsx(T,{className:"w-full",onClick:S,disabled:l.isPending,children:l.isPending?"Saving...":"Save Address"})]})]})]})]}),o?e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[...Array(2)].map((N,k)=>e.jsx("div",{className:"h-40 bg-muted rounded-lg animate-pulse"},k))}):i&&i.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.map(N=>e.jsx(G,{className:N.is_default?"border-primary":"",children:e.jsxs(Y,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:N.name}),N.is_default&&e.jsx(B,{variant:"secondary",className:"text-xs",children:"Default"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>_(N),children:e.jsx(VD,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-600",onClick:()=>d.mutate(N.id),disabled:d.isPending,children:e.jsx(Hr,{className:"h-4 w-4"})})]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.line1,e.jsx("br",{}),N.line2&&e.jsxs(e.Fragment,{children:[N.line2,e.jsx("br",{})]}),N.city,", ",N.state," ",N.postal_code,e.jsx("br",{}),N.country]}),N.phone&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:N.phone}),!N.is_default&&e.jsx(T,{variant:"link",size:"sm",className:"p-0 h-auto mt-2",onClick:()=>u.mutate(N.id),children:"Set as default"})]})},N.id))}):e.jsx(G,{children:e.jsxs(Y,{className:"p-12 text-center",children:[e.jsx(Ha,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No saved addresses"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Add an address to speed up your checkout process."}),e.jsxs(T,{onClick:()=>h(!0),children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add Address"]})]})})]}),e.jsxs(Te,{value:"settings",className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Account Settings"}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Profile Information"})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg",children:[e.jsx(ms,{className:"h-5 w-5 text-slate-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),e.jsx("p",{className:"font-medium",children:r.email})]})]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"To update your profile information, please contact support."})]})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Password"})}),e.jsx(Y,{children:e.jsx(T,{variant:"outline",asChild:!0,children:e.jsx(fe,{to:"/forgot-password",children:"Reset Password"})})})]})]})]})]}),e.jsx(Et,{open:!!p,onOpenChange:()=>v(null),children:e.jsxs(Pt,{className:"max-w-lg",children:[e.jsx(Lt,{children:e.jsx($t,{children:"Edit Address"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(ow,{value:x,onChange:g,showSaveOption:!1}),e.jsx(T,{className:"w-full",onClick:w,disabled:c.isPending,children:c.isPending?"Saving...":"Update Address"})]})]})})]})}function hQ({productId:t,title:r,price:s,salePrice:a,images:n,designerId:i,designerName:o,brandName:l,onRemove:c,onAddToCart:d,index:u=0}){const m=a||s,h=a&&a<s;return e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:u*.05},className:"group relative bg-white border border-slate-100 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("button",{onClick:c,className:"absolute top-3 right-3 z-10 w-8 h-8 rounded-full bg-white/90 backdrop-blur-sm flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",children:e.jsx(ht,{className:"h-4 w-4 text-slate-600 hover:text-red-500"})}),e.jsx(fe,{to:`/shop/product/${t}`,children:e.jsx("div",{className:"aspect-[3/4] bg-slate-50 overflow-hidden",children:n&&n.length>0?e.jsx("img",{src:n[0],alt:r,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ot,{className:"h-12 w-12 text-slate-300"})})})}),e.jsxs("div",{className:"p-4",children:[e.jsx(fe,{to:`/shop/designer/${i}`,className:"text-[11px] font-bold uppercase tracking-widest text-slate-500 hover:text-black transition-colors",children:l||o}),e.jsx(fe,{to:`/shop/product/${t}`,children:e.jsx("h3",{className:"font-medium text-sm mt-1 mb-2 line-clamp-2 group-hover:text-slate-600 transition-colors",children:r})}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"font-semibold",children:Gt(m)}),h&&e.jsx("span",{className:"text-sm text-slate-400 line-through",children:Gt(s)})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(T,{size:"sm",className:"flex-1",onClick:d,children:[e.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})]})]})}const B3=f.createContext(void 0);function zs({children:t}){const[r,s]=f.useState([]),[a,n]=f.useState(!0),{toast:i}=Ge(),o=f.useCallback(async()=>{try{const{data:{session:u}}=await J.auth.getSession();if(!u){const v=localStorage.getItem("guest_wishlist");if(v){const x=JSON.parse(v);if(x.length>0){const{data:g}=await J.from("marketplace_products").select(`
                id,
                title,
                price,
                sale_price,
                images,
                designer_id,
                designer:profiles!marketplace_products_designer_id_fkey(name, brand_name)
              `).in("id",x).eq("status","live");g&&s(g.map(b=>({id:b.id,product_id:b.id,title:b.title,price:b.price,sale_price:b.sale_price,images:b.images||[],designer_id:b.designer_id,designer_name:b.designer?.name||"",brand_name:b.designer?.brand_name||"",added_at:new Date().toISOString()})))}else s([])}else s([]);n(!1);return}const{data:m,error:h}=await J.from("marketplace_wishlist").select(`
          id,
          product_id,
          added_at,
          product:marketplace_products!inner(
            id,
            title,
            price,
            sale_price,
            images,
            designer_id,
            designer:profiles!marketplace_products_designer_id_fkey(name, brand_name)
          )
        `).eq("customer_id",u.user.id).order("added_at",{ascending:!1});if(h)throw h;const p=(m||[]).map(v=>({id:v.id,product_id:v.product_id,title:v.product.title,price:v.product.price,sale_price:v.product.sale_price,images:v.product.images||[],designer_id:v.product.designer_id,designer_name:v.product.designer?.name||"",brand_name:v.product.designer?.brand_name||"",added_at:v.added_at}));s(p)}catch(u){console.error("Error fetching wishlist:",u)}finally{n(!1)}},[]);f.useEffect(()=>{o()},[o]);const l=f.useCallback(async u=>{try{const{data:{session:m}}=await J.auth.getSession();if(!m){const p=JSON.parse(localStorage.getItem("guest_wishlist")||"[]");p.includes(u)||(p.push(u),localStorage.setItem("guest_wishlist",JSON.stringify(p)),await o(),i({title:"Added to wishlist",description:"Sign in to save your wishlist permanently."}));return}const{error:h}=await J.from("marketplace_wishlist").insert({customer_id:m.user.id,product_id:u});if(h){if(h.code==="23505"){i({title:"Already in wishlist",description:"This item is already in your wishlist."});return}throw h}await o(),i({title:"Added to wishlist",description:"Item has been added to your wishlist."})}catch(m){console.error("Error adding to wishlist:",m),i({title:"Error",description:"Failed to add item to wishlist.",variant:"destructive"})}},[o,i]),c=f.useCallback(async u=>{try{const{data:{session:m}}=await J.auth.getSession();if(!m){const v=JSON.parse(localStorage.getItem("guest_wishlist")||"[]").filter(x=>x!==u);localStorage.setItem("guest_wishlist",JSON.stringify(v)),await o(),i({title:"Removed",description:"Item has been removed from your wishlist."});return}const{error:h}=await J.from("marketplace_wishlist").delete().eq("customer_id",m.user.id).eq("product_id",u);if(h)throw h;await o(),i({title:"Removed",description:"Item has been removed from your wishlist."})}catch(m){console.error("Error removing from wishlist:",m),i({title:"Error",description:"Failed to remove item from wishlist.",variant:"destructive"})}},[o,i]),d=f.useCallback(u=>r.some(m=>m.product_id===u),[r]);return e.jsx(B3.Provider,{value:{items:r,isLoading:a,addToWishlist:l,removeFromWishlist:c,isInWishlist:d,refreshWishlist:o},children:t})}function fQ(){const t=f.useContext(B3);if(t===void 0)throw new Error("useWishlist must be used within a WishlistProvider");return t}function pQ(){const{items:t,isLoading:r,removeFromWishlist:s}=fQ(),{addItem:a}=To();Ge();const n=async i=>{try{await a(i,1)}catch{}};return e.jsx(cr,{children:e.jsxs("div",{className:"container py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Wishlist"}),e.jsxs("p",{className:"text-muted-foreground",children:[t.length," item",t.length!==1?"s":""," saved"]})]}),e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs(fe,{to:"/shop",children:["Continue Shopping",e.jsx(St,{className:"h-4 w-4 ml-2"})]})})]}),r?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((i,o)=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"aspect-[3/4] bg-slate-100 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-4 bg-slate-100 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-6 bg-slate-100 rounded animate-pulse w-1/2"})]},o))}):t.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((i,o)=>e.jsx(hQ,{id:i.id,productId:i.product_id,title:i.title,price:i.price,salePrice:i.sale_price,images:i.images,designerId:i.designer_id,designerName:i.designer_name,brandName:i.brand_name,onRemove:()=>s(i.product_id),onAddToCart:()=>n(i.product_id),index:o},i.id))}):e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-6",children:e.jsx(gd,{className:"h-12 w-12 text-slate-300"})}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your wishlist is empty"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Save your favorite items to your wishlist and they'll be here waiting for you."}),e.jsx(T,{size:"lg",asChild:!0,children:e.jsxs(fe,{to:"/shop",children:[e.jsx(Ma,{className:"h-5 w-5 mr-2"}),"Start Shopping"]})})]})]})})}const xQ=[{id:"all",label:"All"},{id:"shipping",label:"Shipping"},{id:"returns",label:"Returns"},{id:"ordering",label:"Ordering"},{id:"products",label:"Products"},{id:"account",label:"Account"}];function gQ({faqs:t,showSearch:r=!0,showCategories:s=!0}){const[a,n]=f.useState(null),[i,o]=f.useState(""),[l,c]=f.useState("all"),d=t.filter(m=>{const h=m.question.toLowerCase().includes(i.toLowerCase())||m.answer.toLowerCase().includes(i.toLowerCase()),p=l==="all"||m.category===l;return h&&p}),u=m=>{n(a===m?null:m)};return e.jsxs("div",{className:"space-y-6",children:[r&&e.jsxs("div",{className:"relative",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(ie,{type:"text",placeholder:"Search FAQs...",value:i,onChange:m=>o(m.target.value),className:"pl-10"})]}),s&&e.jsx("div",{className:"flex flex-wrap gap-2",children:xQ.map(m=>e.jsx("button",{onClick:()=>c(m.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${l===m.id?"bg-primary text-primary-foreground":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:m.label},m.id))}),e.jsx("div",{className:"space-y-3",children:d.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-500",children:"No FAQs found matching your search."})}):d.map(m=>e.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>u(m.id),className:"w-full flex items-center justify-between p-4 text-left hover:bg-slate-50 transition-colors",children:[e.jsx("span",{className:"font-medium pr-4",children:m.question}),e.jsx(W.div,{animate:{rotate:a===m.id?180:0},transition:{duration:.2},children:e.jsx(di,{className:"h-5 w-5 text-slate-400 flex-shrink-0"})})]}),e.jsx(si,{children:a===m.id&&e.jsx(W.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.jsx("div",{className:"px-4 pb-4 text-slate-600 leading-relaxed",children:m.answer})})})]},m.id))})]})}const vQ=[{id:"1",question:"How long does shipping take?",answer:"Shipping times vary depending on the product and your location. Since our items are made-to-order by independent designers, production typically takes 7-14 business days. Once shipped, domestic orders within Pakistan arrive within 3-5 business days. International shipping may take 10-20 business days.",category:"shipping"},{id:"2",question:"What is your return policy?",answer:"We offer a 14-day return policy for unworn items with original tags attached. Since each piece is made-to-order, we ask that you carefully review sizing charts before purchasing. Custom or personalized items cannot be returned unless defective. Return shipping costs are the responsibility of the customer unless the item arrived damaged or incorrect.",category:"returns"},{id:"3",question:"How do I track my order?",answer:'Once your order ships, you will receive an email with a tracking number. You can also track your order by visiting the "Order Tracking" page and entering your order number. If you have an account, you can view all your orders and their current status in your account dashboard.',category:"ordering"},{id:"4",question:"What payment methods do you accept?",answer:"We accept all major credit and debit cards (Visa, Mastercard, American Express), PayPal, and bank transfers for Pakistani customers. All payments are processed securely through Stripe with SSL encryption.",category:"ordering"},{id:"5",question:"How do I find my correct size?",answer:"Each product page includes a detailed size chart specific to that item. We recommend measuring yourself and comparing to the provided measurements. If you are between sizes, we generally recommend sizing up. For custom sizing inquiries, please contact the designer directly through their profile page.",category:"products"},{id:"6",question:"Can I modify or cancel my order?",answer:"Orders can be modified or cancelled within 24 hours of placement, as long as production has not begun. After 24 hours, orders enter production and cannot be changed. Please contact our support team immediately if you need to make changes.",category:"ordering"},{id:"7",question:"Are the products authentic?",answer:"Yes, all products on Adorzia are 100% authentic and created by verified independent designers. Each item comes with a certificate of authenticity and full provenance information. Our designers are carefully vetted to ensure quality and authenticity.",category:"products"},{id:"8",question:"How do I contact a designer?",answer:'You can contact designers directly through their profile pages. Each designer has a "Contact" button that allows you to send inquiries about custom pieces, sizing questions, or collaborations. You can also follow your favorite designers to stay updated on their latest collections.',category:"account"},{id:"9",question:"Do you offer international shipping?",answer:"Yes, we ship to most countries worldwide. International shipping rates are calculated at checkout based on destination and order weight. Please note that international orders may be subject to customs duties and taxes, which are the responsibility of the recipient.",category:"shipping"},{id:"10",question:"What if my item arrives damaged?",answer:"If your item arrives damaged or defective, please contact us within 48 hours of delivery with photos of the damage. We will arrange a replacement or full refund at no additional cost to you. Please keep all original packaging for return shipping.",category:"returns"},{id:"11",question:"How do I create an account?",answer:'You can create an account by clicking "Sign In" in the top navigation and selecting "Create Account." Having an account allows you to track orders, save addresses, create wishlists, and receive exclusive offers from your favorite designers.',category:"account"},{id:"12",question:"Can I request a custom piece?",answer:`Many of our designers accept custom orders. Visit the designer's profile page and click "Get in Touch" to discuss custom pieces, alterations, or special requests. Custom orders typically require additional production time and may have different pricing.`,category:"products"}];function bQ(){return e.jsxs(cr,{children:[e.jsx("section",{className:"pt-24 pb-16 md:pt-32 md:pb-24 bg-secondary/30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx("div",{className:"text-center max-w-2xl mx-auto",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(qp,{className:"h-8 w-8 text-primary"})}),e.jsx(yt,{className:"font-display text-4xl md:text-5xl font-bold mb-6 tracking-tight",children:"How Can We Help?"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Find answers to frequently asked questions about orders, shipping, returns, and more."})]})})})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"max-w-3xl mx-auto px-6",children:e.jsx(gQ,{faqs:vQ})})}),e.jsx("section",{className:"py-16 bg-slate-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:e.jsx(G,{className:"h-full",children:e.jsxs(Y,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Wp,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Live Chat"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Chat with our support team for immediate assistance during business hours."}),e.jsx(T,{variant:"outline",className:"w-full",children:"Start Chat"})]})})}),e.jsx(W.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},children:e.jsx(G,{className:"h-full",children:e.jsxs(Y,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ms,{className:"h-6 w-6 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Email Support"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Send us an email and we'll get back to you within 24 hours."}),e.jsx(T,{variant:"outline",className:"w-full",asChild:!0,children:e.jsx("a",{href:"mailto:support@adorzia.com",children:"Email Us"})})]})})})]})})})]})}function yQ(){return e.jsxs(cr,{children:[e.jsx("section",{className:"pt-24 pb-16 md:pt-32 md:pb-24 bg-secondary/30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6",children:e.jsx("div",{className:"text-center max-w-2xl mx-auto",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(qi,{className:"h-8 w-8 text-primary"})}),e.jsx(yt,{className:"font-display text-4xl md:text-5xl font-bold mb-6 tracking-tight",children:"Policies & Terms"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Important information about shopping with us, shipping, returns, and your privacy."})]})})})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"max-w-4xl mx-auto px-6",children:e.jsxs(Nr,{defaultValue:"privacy",className:"space-y-8",children:[e.jsxs(br,{className:"grid w-full grid-cols-2 md:grid-cols-5",children:[e.jsx(Ee,{value:"privacy",children:"Privacy"}),e.jsx(Ee,{value:"terms",children:"Terms"}),e.jsx(Ee,{value:"returns",children:"Returns"}),e.jsx(Ee,{value:"shipping",children:"Shipping"}),e.jsx(Ee,{value:"cookies",children:"Cookies"})]}),e.jsx(Te,{value:"privacy",children:e.jsx(G,{children:e.jsxs(Y,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Privacy Policy"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Last updated: January 2025"}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"1. Information We Collect"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We collect information you provide directly to us, including:"}),e.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mb-4 space-y-1",children:[e.jsx("li",{children:"Name, email address, and phone number"}),e.jsx("li",{children:"Shipping and billing addresses"}),e.jsx("li",{children:"Payment information (processed securely by Stripe)"}),e.jsx("li",{children:"Order history and preferences"}),e.jsx("li",{children:"Communications with us"})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"2. How We Use Your Information"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We use your information to:"}),e.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mb-4 space-y-1",children:[e.jsx("li",{children:"Process and fulfill your orders"}),e.jsx("li",{children:"Communicate about your orders and account"}),e.jsx("li",{children:"Send marketing communications (with your consent)"}),e.jsx("li",{children:"Improve our services and website"}),e.jsx("li",{children:"Prevent fraud and ensure security"})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"3. Information Sharing"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We do not sell your personal information. We share information only with:"}),e.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mb-4 space-y-1",children:[e.jsx("li",{children:"Designers (only what's necessary to fulfill orders)"}),e.jsx("li",{children:"Payment processors (Stripe)"}),e.jsx("li",{children:"Shipping carriers"}),e.jsx("li",{children:"Service providers who assist our operations"})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"4. Your Rights"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You have the right to access, correct, or delete your personal information. Contact us at privacy@adorzia.com to exercise these rights."})]})]})})}),e.jsx(Te,{value:"terms",children:e.jsx(G,{children:e.jsxs(Y,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Terms of Service"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Last updated: January 2025"}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"1. Acceptance of Terms"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"By accessing and using Adorzia, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"2. Account Registration"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"To make purchases, you must create an account. You are responsible for:"}),e.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mb-4 space-y-1",children:[e.jsx("li",{children:"Providing accurate and complete information"}),e.jsx("li",{children:"Maintaining the security of your account"}),e.jsx("li",{children:"All activities that occur under your account"}),e.jsx("li",{children:"Notifying us immediately of any unauthorized use"})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"3. Product Information"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We strive to display accurate product information, including descriptions, images, and pricing. However, we do not guarantee that all information is accurate, complete, or current. Colors may vary depending on your display."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"4. Intellectual Property"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"All content on Adorzia, including designs, text, graphics, and logos, is the property of Adorzia or our designers and is protected by copyright and other intellectual property laws."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"5. Limitation of Liability"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Adorzia shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of our services or products."})]})]})})}),e.jsx(Te,{value:"returns",children:e.jsx(G,{children:e.jsxs(Y,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Return Policy"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-blue-50 rounded-lg mb-6",children:[e.jsx(ga,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"14-Day Return Window"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Return unworn items within 14 days of delivery"})]})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Eligible Returns"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Items may be returned if they meet the following criteria:"}),e.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mb-4 space-y-1",children:[e.jsx("li",{children:"Unworn, unwashed, and in original condition"}),e.jsx("li",{children:"All original tags attached"}),e.jsx("li",{children:"Original packaging included"}),e.jsx("li",{children:"Returned within 14 days of delivery"})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Non-Returnable Items"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The following items cannot be returned:"}),e.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mb-4 space-y-1",children:[e.jsx("li",{children:"Custom or personalized orders"}),e.jsx("li",{children:"Intimate apparel (for hygiene reasons)"}),e.jsx("li",{children:'Items marked as "Final Sale"'}),e.jsx("li",{children:"Items damaged by wear or washing"})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Return Process"}),e.jsxs("ol",{className:"list-decimal list-inside text-muted-foreground mb-4 space-y-2",children:[e.jsx("li",{children:"Contact us at returns@adorzia.com to initiate a return"}),e.jsx("li",{children:"Package items securely with original tags attached"}),e.jsx("li",{children:"Include the return form provided in your package"}),e.jsx("li",{children:"Ship to the address provided in your return authorization"}),e.jsx("li",{children:"Refunds are processed within 5-7 business days of receipt"})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Refund Information"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Refunds will be issued to the original payment method. Original shipping costs are non-refundable unless the return is due to our error. Return shipping costs are the responsibility of the customer unless the item arrived damaged or incorrect."})]})]})})}),e.jsx(Te,{value:"shipping",children:e.jsx(G,{children:e.jsxs(Y,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Shipping Policy"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-green-50 rounded-lg mb-6",children:[e.jsx(kl,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900",children:"Free Shipping Over $200"}),e.jsx("p",{className:"text-sm text-green-700",children:"Complimentary shipping on all orders over $200"})]})]}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Production Time"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Since our products are made-to-order by independent designers, please allow 7-14 business days for production before shipping. Custom orders may require additional time."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Shipping Methods & Rates"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 font-medium",children:"Destination"}),e.jsx("th",{className:"p-3 font-medium",children:"Method"}),e.jsx("th",{className:"p-3 font-medium",children:"Time"}),e.jsx("th",{className:"p-3 font-medium",children:"Cost"})]})}),e.jsxs("tbody",{className:"divide-y",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"p-3",children:"Pakistan (Major Cities)"}),e.jsx("td",{className:"p-3",children:"Standard"}),e.jsx("td",{className:"p-3",children:"3-5 business days"}),e.jsx("td",{className:"p-3",children:"$10 or Free over $200"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-3",children:"Pakistan (Remote Areas)"}),e.jsx("td",{className:"p-3",children:"Standard"}),e.jsx("td",{className:"p-3",children:"5-7 business days"}),e.jsx("td",{className:"p-3",children:"$15 or Free over $200"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-3",children:"International"}),e.jsx("td",{className:"p-3",children:"Express"}),e.jsx("td",{className:"p-3",children:"10-20 business days"}),e.jsx("td",{className:"p-3",children:"Calculated at checkout"})]})]})]})}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Order Tracking"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Once your order ships, you will receive an email with tracking information. You can also track your order through your account dashboard or our order tracking page."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"International Orders"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"International orders may be subject to customs duties, taxes, and fees. These charges are the responsibility of the recipient and are not included in the order total. Delivery times may vary due to customs processing."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Delayed or Lost Packages"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"If your package hasn't arrived within the expected timeframe, please contact us at shipping@adorzia.com. We will investigate with the carrier and work to resolve any issues."})]})]})})}),e.jsx(Te,{value:"cookies",children:e.jsx(G,{children:e.jsxs(Y,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Cookie Policy"}),e.jsxs("div",{className:"prose prose-slate max-w-none",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Last updated: January 2025"}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"What Are Cookies"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Cookies are small text files stored on your device when you visit our website. They help us provide you with a better experience and understand how you use our site."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Types of Cookies We Use"}),e.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Essential Cookies"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"These cookies are necessary for the website to function properly. They enable core functionality such as security, network management, and accessibility. You cannot opt out of these cookies."}),e.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Analytics Cookies"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We use analytics cookies to understand how visitors interact with our website. This helps us improve our site and your shopping experience. All data is collected anonymously."}),e.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Marketing Cookies"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"These cookies track your browsing habits to enable us to show advertising that is more likely to be of interest to you. We only set these cookies with your consent."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Managing Cookies"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You can control and manage cookies in your browser settings. Please note that removing or blocking cookies may impact your user experience and some features may not function properly."}),e.jsx("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"Third-Party Cookies"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We use services from third parties that may set cookies on your device, including:"}),e.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mb-4 space-y-1",children:[e.jsx("li",{children:"Google Analytics (usage analytics)"}),e.jsx("li",{children:"Stripe (secure payment processing)"}),e.jsx("li",{children:"Social media platforms (sharing features)"})]})]})]})})})]})})})]})}var Yt;(function(t){t.assertEqual=n=>{};function r(n){}t.assertIs=r;function s(n){throw new Error}t.assertNever=s,t.arrayToEnum=n=>{const i={};for(const o of n)i[o]=o;return i},t.getValidEnumValues=n=>{const i=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of i)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(i){return n[i]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(o);return i},t.find=(n,i)=>{for(const o of n)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function a(n,i=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=a,t.jsonStringifyReplacer=(n,i)=>typeof i=="bigint"?i.toString():i})(Yt||(Yt={}));var yC;(function(t){t.mergeShapes=(r,s)=>({...r,...s})})(yC||(yC={}));const Ke=Yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ro=t=>{switch(typeof t){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return Number.isNaN(t)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(t)?Ke.array:t===null?Ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ke.promise:typeof Map<"u"&&t instanceof Map?Ke.map:typeof Set<"u"&&t instanceof Set?Ke.set:typeof Date<"u"&&t instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},Ae=Yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ms extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=r}format(r){const s=r||function(i){return i.message},a={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)a._errors.push(s(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),a}static assert(r){if(!(r instanceof Ms))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=s=>s.message){const s={},a=[];for(const n of this.issues)if(n.path.length>0){const i=n.path[0];s[i]=s[i]||[],s[i].push(r(n))}else a.push(r(n));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}Ms.create=t=>new Ms(t);const lw=(t,r)=>{let s;switch(t.code){case Ae.invalid_type:t.received===Ke.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case Ae.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,Yt.jsonStringifyReplacer)}`;break;case Ae.unrecognized_keys:s=`Unrecognized key(s) in object: ${Yt.joinValues(t.keys,", ")}`;break;case Ae.invalid_union:s="Invalid input";break;case Ae.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Yt.joinValues(t.options)}`;break;case Ae.invalid_enum_value:s=`Invalid enum value. Expected ${Yt.joinValues(t.options)}, received '${t.received}'`;break;case Ae.invalid_arguments:s="Invalid function arguments";break;case Ae.invalid_return_type:s="Invalid function return type";break;case Ae.invalid_date:s="Invalid date";break;case Ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:Yt.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case Ae.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case Ae.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case Ae.custom:s="Invalid input";break;case Ae.invalid_intersection_types:s="Intersection results could not be merged";break;case Ae.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case Ae.not_finite:s="Number must be finite";break;default:s=r.defaultError,Yt.assertNever(t)}return{message:s}};let jQ=lw;function wQ(){return jQ}const NQ=t=>{const{data:r,path:s,errorMaps:a,issueData:n}=t,i=[...s,...n.path||[]],o={...n,path:i};if(n.message!==void 0)return{...n,path:i,message:n.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:r,defaultError:l}).message;return{...n,path:i,message:l}};function Be(t,r){const s=wQ(),a=NQ({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===lw?void 0:lw].filter(n=>!!n)});t.common.issues.push(a)}class Fa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,s){const a=[];for(const n of s){if(n.status==="aborted")return wt;n.status==="dirty"&&r.dirty(),a.push(n.value)}return{status:r.value,value:a}}static async mergeObjectAsync(r,s){const a=[];for(const n of s){const i=await n.key,o=await n.value;a.push({key:i,value:o})}return Fa.mergeObjectSync(r,a)}static mergeObjectSync(r,s){const a={};for(const n of s){const{key:i,value:o}=n;if(i.status==="aborted"||o.status==="aborted")return wt;i.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(a[i.value]=o.value)}return{status:r.value,value:a}}}const wt=Object.freeze({status:"aborted"}),du=t=>({status:"dirty",value:t}),sn=t=>({status:"valid",value:t}),jC=t=>t.status==="aborted",wC=t=>t.status==="dirty",Rc=t=>t.status==="valid",_f=t=>typeof Promise<"u"&&t instanceof Promise;var Je;(function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r?.message})(Je||(Je={}));class vo{constructor(r,s,a,n){this._cachedPath=[],this.parent=r,this.data=s,this._path=a,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const NC=(t,r)=>{if(Rc(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Ms(t.common.issues);return this._error=s,this._error}}};function Rt(t){if(!t)return{};const{errorMap:r,invalid_type_error:s,required_error:a,description:n}=t;if(r&&(s||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:n}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??a??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:n}}class Ht{get description(){return this._def.description}_getType(r){return ro(r.data)}_getOrReturnCtx(r,s){return s||{common:r.parent.common,data:r.data,parsedType:ro(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new Fa,ctx:{common:r.parent.common,data:r.data,parsedType:ro(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const s=this._parse(r);if(_f(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(r){const s=this._parse(r);return Promise.resolve(s)}parse(r,s){const a=this.safeParse(r,s);if(a.success)return a.data;throw a.error}safeParse(r,s){const a={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:ro(r)},n=this._parseSync({data:r,path:a.path,parent:a});return NC(a,n)}"~validate"(r){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:ro(r)};if(!this["~standard"].async)try{const a=this._parseSync({data:r,path:[],parent:s});return Rc(a)?{value:a.value}:{issues:s.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:s}).then(a=>Rc(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(r,s){const a=await this.safeParseAsync(r,s);if(a.success)return a.data;throw a.error}async safeParseAsync(r,s){const a={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:ro(r)},n=this._parse({data:r,path:a.path,parent:a}),i=await(_f(n)?n:Promise.resolve(n));return NC(a,i)}refine(r,s){const a=n=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(n):s;return this._refinement((n,i)=>{const o=r(n),l=()=>i.addIssue({code:Ae.custom,...a(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(r,s){return this._refinement((a,n)=>r(a)?!0:(n.addIssue(typeof s=="function"?s(a,n):s),!1))}_refinement(r){return new Fc({schema:this,typeName:Nt.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return mo.create(this,this._def)}nullable(){return Lc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jn.create(this)}promise(){return Af.create(this,this._def)}or(r){return Cf.create([this,r],this._def)}and(r){return kf.create(this,r,this._def)}transform(r){return new Fc({...Rt(this._def),schema:this,typeName:Nt.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const s=typeof r=="function"?r:()=>r;return new dw({...Rt(this._def),innerType:this,defaultValue:s,typeName:Nt.ZodDefault})}brand(){return new HQ({typeName:Nt.ZodBranded,type:this,...Rt(this._def)})}catch(r){const s=typeof r=="function"?r:()=>r;return new uw({...Rt(this._def),innerType:this,catchValue:s,typeName:Nt.ZodCatch})}describe(r){const s=this.constructor;return new s({...this._def,description:r})}pipe(r){return s1.create(this,r)}readonly(){return mw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _Q=/^c[^\s-]{8,}$/i,SQ=/^[0-9a-z]+$/,CQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AQ=/^[a-z0-9_-]{21}$/i,PQ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,OQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rv;const DQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,IQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,MQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FQ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LQ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,U3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$Q=new RegExp(`^${U3}$`);function V3(t){let r="[0-5]\\d";t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${s}`}function qQ(t){return new RegExp(`^${V3(t)}$`)}function zQ(t){let r=`${U3}T${V3(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${s.join("|")})`,new RegExp(`^${r}$`)}function BQ(t,r){return!!((r==="v4"||!r)&&DQ.test(t)||(r==="v6"||!r)&&IQ.test(t))}function UQ(t,r){if(!PQ.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),n=JSON.parse(atob(a));return!(typeof n!="object"||n===null||"typ"in n&&n?.typ!=="JWT"||!n.alg||r&&n.alg!==r)}catch{return!1}}function VQ(t,r){return!!((r==="v4"||!r)&&RQ.test(t)||(r==="v6"||!r)&&MQ.test(t))}class _i extends Ht{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==Ke.string){const i=this._getOrReturnCtx(r);return Be(i,{code:Ae.invalid_type,expected:Ke.string,received:i.parsedType}),wt}const a=new Fa;let n;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")r.data.length>i.value&&(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=r.data.length>i.value,l=r.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(r,n),o?Be(n,{code:Ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Be(n,{code:Ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")TQ.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"email",code:Ae.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")rv||(rv=new RegExp(OQ,"u")),rv.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"emoji",code:Ae.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")kQ.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"uuid",code:Ae.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")AQ.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"nanoid",code:Ae.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")_Q.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"cuid",code:Ae.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")SQ.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"cuid2",code:Ae.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")CQ.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"ulid",code:Ae.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{n=this._getOrReturnCtx(r,n),Be(n,{validation:"url",code:Ae.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"regex",code:Ae.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?zQ(i).test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?$Q.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?qQ(i).test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?EQ.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"duration",code:Ae.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?BQ(r.data,i.version)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"ip",code:Ae.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?UQ(r.data,i.alg)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"jwt",code:Ae.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?VQ(r.data,i.version)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"cidr",code:Ae.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?FQ.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"base64",code:Ae.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?LQ.test(r.data)||(n=this._getOrReturnCtx(r,n),Be(n,{validation:"base64url",code:Ae.invalid_string,message:i.message}),a.dirty()):Yt.assertNever(i);return{status:a.value,value:r.data}}_regex(r,s,a){return this.refinement(n=>r.test(n),{validation:s,code:Ae.invalid_string,...Je.errToObj(a)})}_addCheck(r){return new _i({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...Je.errToObj(r)})}url(r){return this._addCheck({kind:"url",...Je.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...Je.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...Je.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...Je.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...Je.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...Je.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...Je.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...Je.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...Je.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...Je.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...Je.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...Je.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...Je.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...Je.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...Je.errToObj(r)})}regex(r,s){return this._addCheck({kind:"regex",regex:r,...Je.errToObj(s)})}includes(r,s){return this._addCheck({kind:"includes",value:r,position:s?.position,...Je.errToObj(s?.message)})}startsWith(r,s){return this._addCheck({kind:"startsWith",value:r,...Je.errToObj(s)})}endsWith(r,s){return this._addCheck({kind:"endsWith",value:r,...Je.errToObj(s)})}min(r,s){return this._addCheck({kind:"min",value:r,...Je.errToObj(s)})}max(r,s){return this._addCheck({kind:"max",value:r,...Je.errToObj(s)})}length(r,s){return this._addCheck({kind:"length",value:r,...Je.errToObj(s)})}nonempty(r){return this.min(1,Je.errToObj(r))}trim(){return new _i({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _i({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _i({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxLength(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}}_i.create=t=>new _i({checks:[],typeName:Nt.ZodString,coerce:t?.coerce??!1,...Rt(t)});function WQ(t,r){const s=(t.toString().split(".")[1]||"").length,a=(r.toString().split(".")[1]||"").length,n=s>a?s:a,i=Number.parseInt(t.toFixed(n).replace(".","")),o=Number.parseInt(r.toFixed(n).replace(".",""));return i%o/10**n}class hl extends Ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==Ke.number){const i=this._getOrReturnCtx(r);return Be(i,{code:Ae.invalid_type,expected:Ke.number,received:i.parsedType}),wt}let a;const n=new Fa;for(const i of this._def.checks)i.kind==="int"?Yt.isInteger(r.data)||(a=this._getOrReturnCtx(r,a),Be(a,{code:Ae.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),Be(a,{code:Ae.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),Be(a,{code:Ae.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?WQ(r.data,i.value)!==0&&(a=this._getOrReturnCtx(r,a),Be(a,{code:Ae.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(a=this._getOrReturnCtx(r,a),Be(a,{code:Ae.not_finite,message:i.message}),n.dirty()):Yt.assertNever(i);return{status:n.value,value:r.data}}gte(r,s){return this.setLimit("min",r,!0,Je.toString(s))}gt(r,s){return this.setLimit("min",r,!1,Je.toString(s))}lte(r,s){return this.setLimit("max",r,!0,Je.toString(s))}lt(r,s){return this.setLimit("max",r,!1,Je.toString(s))}setLimit(r,s,a,n){return new hl({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:a,message:Je.toString(n)}]})}_addCheck(r){return new hl({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:Je.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Je.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Je.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Je.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Je.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:Je.toString(s)})}finite(r){return this._addCheck({kind:"finite",message:Je.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Je.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Je.toString(r)})}get minValue(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&Yt.isInteger(r.value))}get isFinite(){let r=null,s=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(s===null||a.value>s)&&(s=a.value):a.kind==="max"&&(r===null||a.value<r)&&(r=a.value)}return Number.isFinite(s)&&Number.isFinite(r)}}hl.create=t=>new hl({checks:[],typeName:Nt.ZodNumber,coerce:t?.coerce||!1,...Rt(t)});class fl extends Ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==Ke.bigint)return this._getInvalidInput(r);let a;const n=new Fa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),Be(a,{code:Ae.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),Be(a,{code:Ae.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(r,a),Be(a,{code:Ae.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Yt.assertNever(i);return{status:n.value,value:r.data}}_getInvalidInput(r){const s=this._getOrReturnCtx(r);return Be(s,{code:Ae.invalid_type,expected:Ke.bigint,received:s.parsedType}),wt}gte(r,s){return this.setLimit("min",r,!0,Je.toString(s))}gt(r,s){return this.setLimit("min",r,!1,Je.toString(s))}lte(r,s){return this.setLimit("max",r,!0,Je.toString(s))}lt(r,s){return this.setLimit("max",r,!1,Je.toString(s))}setLimit(r,s,a,n){return new fl({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:a,message:Je.toString(n)}]})}_addCheck(r){return new fl({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Je.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Je.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Je.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Je.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:Je.toString(s)})}get minValue(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}}fl.create=t=>new fl({checks:[],typeName:Nt.ZodBigInt,coerce:t?.coerce??!1,...Rt(t)});class Sf extends Ht{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==Ke.boolean){const a=this._getOrReturnCtx(r);return Be(a,{code:Ae.invalid_type,expected:Ke.boolean,received:a.parsedType}),wt}return sn(r.data)}}Sf.create=t=>new Sf({typeName:Nt.ZodBoolean,coerce:t?.coerce||!1,...Rt(t)});class Ic extends Ht{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==Ke.date){const i=this._getOrReturnCtx(r);return Be(i,{code:Ae.invalid_type,expected:Ke.date,received:i.parsedType}),wt}if(Number.isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return Be(i,{code:Ae.invalid_date}),wt}const a=new Fa;let n;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(n=this._getOrReturnCtx(r,n),Be(n,{code:Ae.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):Yt.assertNever(i);return{status:a.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Ic({...this._def,checks:[...this._def.checks,r]})}min(r,s){return this._addCheck({kind:"min",value:r.getTime(),message:Je.toString(s)})}max(r,s){return this._addCheck({kind:"max",value:r.getTime(),message:Je.toString(s)})}get minDate(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r!=null?new Date(r):null}}Ic.create=t=>new Ic({checks:[],coerce:t?.coerce||!1,typeName:Nt.ZodDate,...Rt(t)});class _C extends Ht{_parse(r){if(this._getType(r)!==Ke.symbol){const a=this._getOrReturnCtx(r);return Be(a,{code:Ae.invalid_type,expected:Ke.symbol,received:a.parsedType}),wt}return sn(r.data)}}_C.create=t=>new _C({typeName:Nt.ZodSymbol,...Rt(t)});class SC extends Ht{_parse(r){if(this._getType(r)!==Ke.undefined){const a=this._getOrReturnCtx(r);return Be(a,{code:Ae.invalid_type,expected:Ke.undefined,received:a.parsedType}),wt}return sn(r.data)}}SC.create=t=>new SC({typeName:Nt.ZodUndefined,...Rt(t)});class CC extends Ht{_parse(r){if(this._getType(r)!==Ke.null){const a=this._getOrReturnCtx(r);return Be(a,{code:Ae.invalid_type,expected:Ke.null,received:a.parsedType}),wt}return sn(r.data)}}CC.create=t=>new CC({typeName:Nt.ZodNull,...Rt(t)});class kC extends Ht{constructor(){super(...arguments),this._any=!0}_parse(r){return sn(r.data)}}kC.create=t=>new kC({typeName:Nt.ZodAny,...Rt(t)});class AC extends Ht{constructor(){super(...arguments),this._unknown=!0}_parse(r){return sn(r.data)}}AC.create=t=>new AC({typeName:Nt.ZodUnknown,...Rt(t)});class bo extends Ht{_parse(r){const s=this._getOrReturnCtx(r);return Be(s,{code:Ae.invalid_type,expected:Ke.never,received:s.parsedType}),wt}}bo.create=t=>new bo({typeName:Nt.ZodNever,...Rt(t)});class PC extends Ht{_parse(r){if(this._getType(r)!==Ke.undefined){const a=this._getOrReturnCtx(r);return Be(a,{code:Ae.invalid_type,expected:Ke.void,received:a.parsedType}),wt}return sn(r.data)}}PC.create=t=>new PC({typeName:Nt.ZodVoid,...Rt(t)});class Jn extends Ht{_parse(r){const{ctx:s,status:a}=this._processInputParams(r),n=this._def;if(s.parsedType!==Ke.array)return Be(s,{code:Ae.invalid_type,expected:Ke.array,received:s.parsedType}),wt;if(n.exactLength!==null){const o=s.data.length>n.exactLength.value,l=s.data.length<n.exactLength.value;(o||l)&&(Be(s,{code:o?Ae.too_big:Ae.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),a.dirty())}if(n.minLength!==null&&s.data.length<n.minLength.value&&(Be(s,{code:Ae.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),a.dirty()),n.maxLength!==null&&s.data.length>n.maxLength.value&&(Be(s,{code:Ae.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>n.type._parseAsync(new vo(s,o,s.path,l)))).then(o=>Fa.mergeArray(a,o));const i=[...s.data].map((o,l)=>n.type._parseSync(new vo(s,o,s.path,l)));return Fa.mergeArray(a,i)}get element(){return this._def.type}min(r,s){return new Jn({...this._def,minLength:{value:r,message:Je.toString(s)}})}max(r,s){return new Jn({...this._def,maxLength:{value:r,message:Je.toString(s)}})}length(r,s){return new Jn({...this._def,exactLength:{value:r,message:Je.toString(s)}})}nonempty(r){return this.min(1,r)}}Jn.create=(t,r)=>new Jn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Nt.ZodArray,...Rt(r)});function ec(t){if(t instanceof ls){const r={};for(const s in t.shape){const a=t.shape[s];r[s]=mo.create(ec(a))}return new ls({...t._def,shape:()=>r})}else return t instanceof Jn?new Jn({...t._def,type:ec(t.element)}):t instanceof mo?mo.create(ec(t.unwrap())):t instanceof Lc?Lc.create(ec(t.unwrap())):t instanceof pl?pl.create(t.items.map(r=>ec(r))):t}class ls extends Ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),s=Yt.objectKeys(r);return this._cached={shape:r,keys:s},this._cached}_parse(r){if(this._getType(r)!==Ke.object){const d=this._getOrReturnCtx(r);return Be(d,{code:Ae.invalid_type,expected:Ke.object,received:d.parsedType}),wt}const{status:a,ctx:n}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof bo&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],m=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new vo(n,m,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof bo){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(d==="strict")l.length>0&&(Be(n,{code:Ae.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const m=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new vo(n,m,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,h=await u.value;d.push({key:m,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>Fa.mergeObjectSync(a,d)):Fa.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(r){return Je.errToObj,new ls({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(s,a)=>{const n=this._def.errorMap?.(s,a).message??a.defaultError;return s.code==="unrecognized_keys"?{message:Je.errToObj(r).message??n}:{message:n}}}:{}})}strip(){return new ls({...this._def,unknownKeys:"strip"})}passthrough(){return new ls({...this._def,unknownKeys:"passthrough"})}extend(r){return new ls({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new ls({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:Nt.ZodObject})}setKey(r,s){return this.augment({[r]:s})}catchall(r){return new ls({...this._def,catchall:r})}pick(r){const s={};for(const a of Yt.objectKeys(r))r[a]&&this.shape[a]&&(s[a]=this.shape[a]);return new ls({...this._def,shape:()=>s})}omit(r){const s={};for(const a of Yt.objectKeys(this.shape))r[a]||(s[a]=this.shape[a]);return new ls({...this._def,shape:()=>s})}deepPartial(){return ec(this)}partial(r){const s={};for(const a of Yt.objectKeys(this.shape)){const n=this.shape[a];r&&!r[a]?s[a]=n:s[a]=n.optional()}return new ls({...this._def,shape:()=>s})}required(r){const s={};for(const a of Yt.objectKeys(this.shape))if(r&&!r[a])s[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof mo;)i=i._def.innerType;s[a]=i}return new ls({...this._def,shape:()=>s})}keyof(){return W3(Yt.objectKeys(this.shape))}}ls.create=(t,r)=>new ls({shape:()=>t,unknownKeys:"strip",catchall:bo.create(),typeName:Nt.ZodObject,...Rt(r)});ls.strictCreate=(t,r)=>new ls({shape:()=>t,unknownKeys:"strict",catchall:bo.create(),typeName:Nt.ZodObject,...Rt(r)});ls.lazycreate=(t,r)=>new ls({shape:t,unknownKeys:"strip",catchall:bo.create(),typeName:Nt.ZodObject,...Rt(r)});class Cf extends Ht{_parse(r){const{ctx:s}=this._processInputParams(r),a=this._def.options;function n(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ms(l.ctx.common.issues));return Be(s,{code:Ae.invalid_union,unionErrors:o}),wt}if(s.common.async)return Promise.all(a.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const c of a){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ms(c));return Be(s,{code:Ae.invalid_union,unionErrors:l}),wt}}get options(){return this._def.options}}Cf.create=(t,r)=>new Cf({options:t,typeName:Nt.ZodUnion,...Rt(r)});function cw(t,r){const s=ro(t),a=ro(r);if(t===r)return{valid:!0,data:t};if(s===Ke.object&&a===Ke.object){const n=Yt.objectKeys(r),i=Yt.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...r};for(const l of i){const c=cw(t[l],r[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===Ke.array&&a===Ke.array){if(t.length!==r.length)return{valid:!1};const n=[];for(let i=0;i<t.length;i++){const o=t[i],l=r[i],c=cw(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return s===Ke.date&&a===Ke.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}class kf extends Ht{_parse(r){const{status:s,ctx:a}=this._processInputParams(r),n=(i,o)=>{if(jC(i)||jC(o))return wt;const l=cw(i.value,o.value);return l.valid?((wC(i)||wC(o))&&s.dirty(),{status:s.value,value:l.data}):(Be(a,{code:Ae.invalid_intersection_types}),wt)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}kf.create=(t,r,s)=>new kf({left:t,right:r,typeName:Nt.ZodIntersection,...Rt(s)});class pl extends Ht{_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.parsedType!==Ke.array)return Be(a,{code:Ae.invalid_type,expected:Ke.array,received:a.parsedType}),wt;if(a.data.length<this._def.items.length)return Be(a,{code:Ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),wt;!this._def.rest&&a.data.length>this._def.items.length&&(Be(a,{code:Ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new vo(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>Fa.mergeArray(s,o)):Fa.mergeArray(s,i)}get items(){return this._def.items}rest(r){return new pl({...this._def,rest:r})}}pl.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pl({items:t,typeName:Nt.ZodTuple,rest:null,...Rt(r)})};class EC extends Ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.parsedType!==Ke.map)return Be(a,{code:Ae.invalid_type,expected:Ke.map,received:a.parsedType}),wt;const n=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:n._parse(new vo(a,l,a.path,[d,"key"])),value:i._parse(new vo(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return wt;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return wt;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}EC.create=(t,r,s)=>new EC({valueType:r,keyType:t,typeName:Nt.ZodMap,...Rt(s)});class Bu extends Ht{_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.parsedType!==Ke.set)return Be(a,{code:Ae.invalid_type,expected:Ke.set,received:a.parsedType}),wt;const n=this._def;n.minSize!==null&&a.data.size<n.minSize.value&&(Be(a,{code:Ae.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),s.dirty()),n.maxSize!==null&&a.data.size>n.maxSize.value&&(Be(a,{code:Ae.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return wt;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...a.data.values()].map((c,d)=>i._parse(new vo(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(r,s){return new Bu({...this._def,minSize:{value:r,message:Je.toString(s)}})}max(r,s){return new Bu({...this._def,maxSize:{value:r,message:Je.toString(s)}})}size(r,s){return this.min(r,s).max(r,s)}nonempty(r){return this.min(1,r)}}Bu.create=(t,r)=>new Bu({valueType:t,minSize:null,maxSize:null,typeName:Nt.ZodSet,...Rt(r)});class TC extends Ht{get schema(){return this._def.getter()}_parse(r){const{ctx:s}=this._processInputParams(r);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}TC.create=(t,r)=>new TC({getter:t,typeName:Nt.ZodLazy,...Rt(r)});class OC extends Ht{_parse(r){if(r.data!==this._def.value){const s=this._getOrReturnCtx(r);return Be(s,{received:s.data,code:Ae.invalid_literal,expected:this._def.value}),wt}return{status:"valid",value:r.data}}get value(){return this._def.value}}OC.create=(t,r)=>new OC({value:t,typeName:Nt.ZodLiteral,...Rt(r)});function W3(t,r){return new Mc({values:t,typeName:Nt.ZodEnum,...Rt(r)})}class Mc extends Ht{_parse(r){if(typeof r.data!="string"){const s=this._getOrReturnCtx(r),a=this._def.values;return Be(s,{expected:Yt.joinValues(a),received:s.parsedType,code:Ae.invalid_type}),wt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const s=this._getOrReturnCtx(r),a=this._def.values;return Be(s,{received:s.data,code:Ae.invalid_enum_value,options:a}),wt}return sn(r.data)}get options(){return this._def.values}get enum(){const r={};for(const s of this._def.values)r[s]=s;return r}get Values(){const r={};for(const s of this._def.values)r[s]=s;return r}get Enum(){const r={};for(const s of this._def.values)r[s]=s;return r}extract(r,s=this._def){return Mc.create(r,{...this._def,...s})}exclude(r,s=this._def){return Mc.create(this.options.filter(a=>!r.includes(a)),{...this._def,...s})}}Mc.create=W3;class DC extends Ht{_parse(r){const s=Yt.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(r);if(a.parsedType!==Ke.string&&a.parsedType!==Ke.number){const n=Yt.objectValues(s);return Be(a,{expected:Yt.joinValues(n),received:a.parsedType,code:Ae.invalid_type}),wt}if(this._cache||(this._cache=new Set(Yt.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const n=Yt.objectValues(s);return Be(a,{received:a.data,code:Ae.invalid_enum_value,options:n}),wt}return sn(r.data)}get enum(){return this._def.values}}DC.create=(t,r)=>new DC({values:t,typeName:Nt.ZodNativeEnum,...Rt(r)});class Af extends Ht{unwrap(){return this._def.type}_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==Ke.promise&&s.common.async===!1)return Be(s,{code:Ae.invalid_type,expected:Ke.promise,received:s.parsedType}),wt;const a=s.parsedType===Ke.promise?s.data:Promise.resolve(s.data);return sn(a.then(n=>this._def.type.parseAsync(n,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Af.create=(t,r)=>new Af({type:t,typeName:Nt.ZodPromise,...Rt(r)});class Fc extends Ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:s,ctx:a}=this._processInputParams(r),n=this._def.effect||null,i={addIssue:o=>{Be(a,o),o.fatal?s.abort():s.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="preprocess"){const o=n.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return wt;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?wt:c.status==="dirty"||s.value==="dirty"?du(c.value):c});{if(s.value==="aborted")return wt;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?wt:l.status==="dirty"||s.value==="dirty"?du(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,i);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?wt:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?wt:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(n.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Rc(o))return wt;const l=n.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Rc(o)?Promise.resolve(n.transform(o.value,i)).then(l=>({status:s.value,value:l})):wt);Yt.assertNever(n)}}Fc.create=(t,r,s)=>new Fc({schema:t,typeName:Nt.ZodEffects,effect:r,...Rt(s)});Fc.createWithPreprocess=(t,r,s)=>new Fc({schema:r,effect:{type:"preprocess",transform:t},typeName:Nt.ZodEffects,...Rt(s)});class mo extends Ht{_parse(r){return this._getType(r)===Ke.undefined?sn(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}mo.create=(t,r)=>new mo({innerType:t,typeName:Nt.ZodOptional,...Rt(r)});class Lc extends Ht{_parse(r){return this._getType(r)===Ke.null?sn(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Lc.create=(t,r)=>new Lc({innerType:t,typeName:Nt.ZodNullable,...Rt(r)});class dw extends Ht{_parse(r){const{ctx:s}=this._processInputParams(r);let a=s.data;return s.parsedType===Ke.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}dw.create=(t,r)=>new dw({innerType:t,typeName:Nt.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Rt(r)});class uw extends Ht{_parse(r){const{ctx:s}=this._processInputParams(r),a={...s,common:{...s.common,issues:[]}},n=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return _f(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ms(a.common.issues)},input:a.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Ms(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}uw.create=(t,r)=>new uw({innerType:t,typeName:Nt.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Rt(r)});class RC extends Ht{_parse(r){if(this._getType(r)!==Ke.nan){const a=this._getOrReturnCtx(r);return Be(a,{code:Ae.invalid_type,expected:Ke.nan,received:a.parsedType}),wt}return{status:"valid",value:r.data}}}RC.create=t=>new RC({typeName:Nt.ZodNaN,...Rt(t)});class HQ extends Ht{_parse(r){const{ctx:s}=this._processInputParams(r),a=s.data;return this._def.type._parse({data:a,path:s.path,parent:s})}unwrap(){return this._def.type}}class s1 extends Ht{_parse(r){const{status:s,ctx:a}=this._processInputParams(r);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?wt:i.status==="dirty"?(s.dirty(),du(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const n=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return n.status==="aborted"?wt:n.status==="dirty"?(s.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:a.path,parent:a})}}static create(r,s){return new s1({in:r,out:s,typeName:Nt.ZodPipeline})}}class mw extends Ht{_parse(r){const s=this._def.innerType._parse(r),a=n=>(Rc(n)&&(n.value=Object.freeze(n.value)),n);return _f(s)?s.then(n=>a(n)):a(s)}unwrap(){return this._def.innerType}}mw.create=(t,r)=>new mw({innerType:t,typeName:Nt.ZodReadonly,...Rt(r)});var Nt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Nt||(Nt={}));const It=_i.create;hl.create;fl.create;const IC=Sf.create;Ic.create;bo.create;const KQ=Jn.create,an=ls.create;Cf.create;kf.create;pl.create;const hw=Mc.create;Af.create;mo.create;Lc.create;const Nh={string:(t=>_i.create({...t,coerce:!0})),number:(t=>hl.create({...t,coerce:!0})),boolean:(t=>Sf.create({...t,coerce:!0})),bigint:(t=>fl.create({...t,coerce:!0})),date:(t=>Ic.create({...t,coerce:!0}))},Qh="adorzia_guest_session";function GQ(){const t=ur(),{toast:r}=Ge(),s=f.useCallback(async({email:o,password:l,name:c,phone:d})=>{try{const{data:u,error:m}=await J.auth.signUp({email:o,password:l,options:{emailRedirectTo:`${window.location.origin}/shop/account`,data:{name:c,role:"customer",signup_type:"customer",phone:d||null}}});if(m)throw m;if(u.user){const{error:h}=await J.from("marketplace_customers").insert({user_id:u.user.id,email:o,name:c,phone:d||null});h&&console.error("Error creating customer record:",h),await J.from("auth_logs").insert({user_id:u.user.id,action:"customer_signup",metadata:{timestamp:new Date().toISOString(),has_phone:!!d},user_agent:navigator.userAgent})}return r({title:"Account created!",description:"Welcome to Adorzia. Check your email to verify your account."}),{error:null}}catch(u){const m=u;return m.message?.includes("User already registered")?r({title:"Account exists",description:"An account with this email already exists. Please sign in instead.",variant:"destructive"}):m.message?.includes("weak_password")?r({title:"Weak password",description:"Please choose a stronger password with at least 8 characters.",variant:"destructive"}):r({title:"Sign up failed",description:m.message||"An unexpected error occurred. Please try again.",variant:"destructive"}),{error:m}}},[r]),a=f.useCallback(async o=>{if(!t.user)return{error:new Error("Not authenticated")};try{const{error:l}=await J.from("marketplace_customers").update({...o,updated_at:new Date().toISOString()}).eq("user_id",t.user.id);if(l)throw l;return r({title:"Profile updated",description:"Your information has been saved."}),{error:null}}catch(l){const c=l;return r({title:"Update failed",description:c.message||"Could not update your profile. Please try again.",variant:"destructive"}),{error:c}}},[t.user,r]),n=f.useCallback(()=>{const o={id:`guest_${Date.now()}`,created_at:new Date().toISOString(),is_guest:!0};localStorage.setItem(Qh,JSON.stringify(o)),r({title:"Continuing as guest",description:"You can create an account later to save your information."})},[r]),i=typeof window>"u"?!1:!!localStorage.getItem(Qh)&&!t.user;return f.useCallback(()=>{localStorage.removeItem(Qh)},[]),{user:t.user,session:t.session,loading:t.loading,isCustomer:t.isCustomer,customerProfile:t.customerProfile,isSigningOut:t.isSigningOut,signIn:t.signIn,signOut:t.signOut,signUpAsCustomer:s,updateCustomerProfile:a,continueAsGuest:n,isGuest:i}}function MC(){typeof window<"u"&&localStorage.removeItem(Qh)}function H3(t){const a=t.length>=8,n=t.length<=128,i=/[a-z]/.test(t),o=/[A-Z]/.test(t),l=/\d/.test(t),c=/[!@#$%^&*(),.?":{}|<>[\]\\;'`~_-]/.test(t);let d=0;const u=[];a?d+=20:u.push("Password must be at least 8 characters"),t.length>12&&(d+=10),t.length>16&&(d+=10),i?d+=15:u.push("Add lowercase letters"),o?d+=15:u.push("Add uppercase letters"),l?d+=15:u.push("Add numbers"),c?d+=15:u.push('Add special characters (!@#$%^&*(),.?":{}|<> etc.)'),/(.)\1{2,}/.test(t)&&(d-=10,u.push("Avoid repeated characters")),/123|abc|qwe|asd/.test(t.toLowerCase())&&(d-=10,u.push("Avoid sequential characters")),n||(d=Math.max(0,d-20),u.push("Password must be no more than 128 characters"));let m="very-weak";return d>=80?m="strong":d>=60?m="good":d>=40?m="fair":d>=20&&(m="weak"),{isValid:a&&n&&i&&o&&l&&c,score:Math.max(0,Math.min(100,d)),strength:m,feedback:u,hasMinLength:a,hasMaxLength:n,hasLowerCase:i,hasUpperCase:o,hasNumbers:l,hasSymbols:c}}function YQ(t){if(!t||t.length===0)return null;const r=H3(t),s=Math.min(5,Math.floor(r.score/20));let a="";return r.score>=80?a="Strong password":r.score>=60?a="Good password":r.score>=40?a="Fair password":r.score>=20?a="Weak password - "+(r.feedback[0]||"add more variety"):a="Very weak - "+(r.feedback[0]||"needs improvement"),{score:s,feedback:a}}const XQ=an({email:It().email("Please enter a valid email address"),password:It().min(1,"Password is required")}),QQ=an({name:It().min(2,"Name must be at least 2 characters").max(100),email:It().email("Please enter a valid email address"),password:It().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^a-zA-Z0-9]/,"Password must contain at least one special character"),phone:It().optional()});function JQ(){const t=wr(),r=Li(),{signIn:s,signUpAsCustomer:a,user:n,isCustomer:i,continueAsGuest:o}=GQ(),{toast:l}=Ge(),[c,d]=f.useState("login"),[u,m]=f.useState(!1),[h,p]=f.useState(!1),[v,x]=f.useState(!1),[g,b]=f.useState({email:"",password:""}),[y,j]=f.useState({name:"",email:"",password:"",phone:""}),S=r.state?.from||new URLSearchParams(r.search).get("from")||"/shop";f.useEffect(()=>{n&&i&&t(S,{replace:!0})},[n,i,t,S]),f.useEffect(()=>{new URLSearchParams(r.search).get("tab")==="signup"&&d("signup")},[r.search]);const w=async C=>{C.preventDefault(),m(!0);try{const P=XQ.parse(g),{error:A}=await s(P.email,P.password);A?l({title:"Login failed",description:A.message==="Invalid login credentials"?"Invalid email or password. Please try again.":A.message,variant:"destructive"}):(MC(),l({title:"Welcome back!"}),t(S,{replace:!0}))}catch(P){P instanceof Ms&&l({title:"Validation error",description:P.errors[0].message,variant:"destructive"})}finally{m(!1)}},_=async C=>{if(C.preventDefault(),!v){l({title:"Terms required",description:"Please agree to the Terms of Service and Privacy Policy to continue.",variant:"destructive"});return}m(!0);try{const P=QQ.parse(y),{error:A}=await a({email:P.email,password:P.password,name:P.name,phone:P.phone});A||(MC(),d("login"),b({email:y.email,password:""}))}catch(P){P instanceof Ms&&l({title:"Validation error",description:P.errors[0].message,variant:"destructive"})}finally{m(!1)}},N=()=>{o(),t(S,{replace:!0})},k=y.password?YQ(y.password):null;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"border-b bg-card",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[e.jsxs(fe,{to:"/shop",className:"flex items-center gap-2 text-foreground hover:text-primary transition-colors",children:[e.jsx(ba,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Continue Shopping"})]}),e.jsxs(fe,{to:"/shop",className:"flex items-center gap-2",children:[e.jsx(Ma,{className:"h-6 w-6 text-primary"}),e.jsx("span",{className:"font-display text-xl font-bold",children:"Adorzia"})]}),e.jsx("div",{className:"w-24"})," "]})}),e.jsxs("div",{className:"max-w-md mx-auto px-4 py-12",children:[e.jsx(G,{className:"shadow-lg",children:e.jsxs(Nr,{value:c,onValueChange:d,className:"w-full",children:[e.jsxs(br,{className:"grid w-full grid-cols-2",children:[e.jsx(Ee,{value:"login",children:"Sign In"}),e.jsx(Ee,{value:"signup",children:"Create Account"})]}),e.jsxs(je,{className:"text-center pb-2",children:[e.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:e.jsx(Ma,{className:"h-6 w-6 text-primary"})}),e.jsx(Ne,{className:"text-2xl font-display",children:c==="login"?"Welcome Back":"Join Adorzia"}),e.jsx(er,{children:c==="login"?"Sign in to access your account and orders":"Create an account to save favorites and track orders"})]}),e.jsxs(Y,{className:"pt-4",children:[e.jsxs(Te,{value:"login",className:"space-y-4 mt-0",children:[e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"login-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"login-email",type:"email",placeholder:"you@example.com",value:g.email,onChange:C=>b(P=>({...P,email:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{htmlFor:"login-password",children:"Password"}),e.jsx(fe,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"login-password",type:h?"text":"password",placeholder:"",value:g.password,onChange:C=>b(P=>({...P,password:C.target.value})),className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:h?e.jsx(k0,{className:"h-4 w-4"}):e.jsx(Bt,{className:"h-4 w-4"})})]})]}),e.jsxs(T,{type:"submit",className:"w-full",disabled:u,children:[u&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Sign In"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(Ut,{})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),e.jsxs(T,{variant:"outline",className:"w-full gap-2",disabled:!0,children:[e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google (Coming Soon)"]})]}),e.jsxs(Te,{value:"signup",className:"space-y-4 mt-0",children:[e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"signup-name",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"signup-name",type:"text",placeholder:"Jane Doe",value:y.name,onChange:C=>j(P=>({...P,name:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"signup-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"signup-email",type:"email",placeholder:"you@example.com",value:y.email,onChange:C=>j(P=>({...P,email:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"signup-phone",children:"Phone (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Lz,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"signup-phone",type:"tel",placeholder:"+1 (555) 123-4567",value:y.phone,onChange:C=>j(P=>({...P,phone:C.target.value})),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"signup-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"signup-password",type:h?"text":"password",placeholder:"",value:y.password,onChange:C=>j(P=>({...P,password:C.target.value})),className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:h?e.jsx(k0,{className:"h-4 w-4"}):e.jsx(Bt,{className:"h-4 w-4"})})]}),k&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex gap-1 h-1",children:[1,2,3,4,5].map(C=>e.jsx("div",{className:`flex-1 rounded-full transition-colors ${C<=k.score?k.score>=4?"bg-green-500":k.score>=3?"bg-yellow-500":"bg-red-500":"bg-muted"}`},C))}),e.jsx("p",{className:`text-xs ${k.score>=4?"text-green-600":k.score>=3?"text-yellow-600":"text-red-600"}`,children:k.feedback})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Ns,{id:"terms",checked:v,onCheckedChange:C=>x(C)}),e.jsxs("label",{htmlFor:"terms",className:"text-sm text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I agree to the"," ",e.jsx(fe,{to:"/shop/policies",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx(fe,{to:"/shop/policies",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),e.jsxs(T,{type:"submit",className:"w-full",disabled:u||!v,children:[u&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Create Account"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(Ut,{})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),e.jsxs(T,{variant:"outline",className:"w-full gap-2",disabled:!0,children:[e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google (Coming Soon)"]})]})]})]})}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to sell your designs?"," ",e.jsxs(fe,{to:"/auth",className:"text-primary font-medium hover:underline inline-flex items-center gap-1",children:[e.jsx(ct,{className:"h-3 w-3"}),"Become a Designer"]})]})}),e.jsx("div",{className:"text-center",children:e.jsx(T,{variant:"ghost",className:"text-muted-foreground hover:text-foreground",onClick:N,children:"Continue as Guest"})})]})]})]})}const ZQ=({password:t,className:r=""})=>{const s=H3(t),a=i=>{switch(i){case"strong":return"bg-green-500";case"good":return"bg-green-400";case"fair":return"bg-yellow-500";case"weak":return"bg-orange-500";case"very-weak":return"bg-red-500";default:return"bg-gray-300"}},n=i=>{switch(i){case"strong":return"Strong";case"good":return"Good";case"fair":return"Fair";case"weak":return"Weak";case"very-weak":return"Very Weak";default:return"Very Weak"}};return t?e.jsxs("div",{className:`space-y-2 ${r}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Password Strength"}),e.jsx("span",{className:`text-sm font-medium ${s.strength==="strong"||s.strength==="good"?"text-green-600":s.strength==="fair"?"text-yellow-600":"text-red-600"}`,children:n(s.strength)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${a(s.strength)}`,style:{width:`${s.score}%`}})}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("div",{className:"font-medium text-muted-foreground mb-1",children:"Requirements:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.hasMinLength?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:s.hasMinLength?"text-green-700":"text-red-700",children:"At least 8 characters"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.hasLowerCase?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:s.hasLowerCase?"text-green-700":"text-red-700",children:"Lowercase letter"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.hasUpperCase?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:s.hasUpperCase?"text-green-700":"text-red-700",children:"Uppercase letter"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.hasNumbers?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:s.hasNumbers?"text-green-700":"text-red-700",children:"Number"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.hasSymbols?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:s.hasSymbols?"text-green-700":"text-red-700",children:"Special character"})]})]})]}),s.feedback.length>0&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[e.jsx("div",{className:"font-medium mb-1",children:"Suggestions:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.feedback.map((i,o)=>e.jsx("li",{className:"text-red-600",children:i},o))})]})]}):null},eJ=an({email:It().email("Invalid email address"),password:It().min(8,"Password must be at least 8 characters")}),tJ=an({name:It().min(2,"Name must be at least 2 characters").max(100),email:It().email("Invalid email address"),password:It().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^a-zA-Z0-9]/,"Password must contain at least one special character")});function rJ(){const t=wr(),{signIn:r,signUp:s,user:a}=ur(),{toast:n}=Ge(),[i,o]=f.useState(!1),[l,c]=f.useState({email:"",password:""}),[d,u]=f.useState({name:"",email:"",password:""}),[m,h]=f.useState(!1),[p,v]=f.useState(!1),[x,g]=f.useState(!1),b=async()=>{g(!0);try{const{error:S}=await J.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});S&&n({title:"Google sign-in failed",description:S.message,variant:"destructive"})}catch{n({title:"Error",description:"Failed to initiate Google sign-in",variant:"destructive"})}finally{g(!1)}};f.useEffect(()=>{a&&t("/dashboard",{replace:!0})},[a,t]);const y=async S=>{S.preventDefault(),o(!0);try{const w=eJ.parse(l),{error:_}=await r(w.email,w.password);if(_){let N=_.message;N.includes("Password is too weak")||N.toLowerCase().includes("leaked")?N="This password has been involved in a data breach and cannot be used. Please choose a different password.":N.includes("Password is too common")?N="Password is too common. Please choose a stronger, more unique password.":N.includes("Password is too similar")?N="Password is too similar to your personal information. Please choose a more unique password.":_.message==="Invalid login credentials"&&(N="Invalid email or password. Please try again."),n({title:"Login failed",description:N,variant:"destructive"})}else n({title:"Welcome back!",description:"You've successfully signed in to Adorzia."}),t("/dashboard")}catch(w){w instanceof Ms&&n({title:"Validation error",description:w.errors[0].message,variant:"destructive"})}finally{o(!1)}},j=async S=>{S.preventDefault(),o(!0);try{const w=tJ.parse(d),{error:_}=await s(w.email,w.password,w.name,"fashion","",[]);if(_){let N=_.message;N.includes("already registered")?N="This email is already registered. Please sign in instead.":N.includes("Password is too weak")||N.toLowerCase().includes("leaked")?N="This password has been involved in a data breach and cannot be used. Please choose a different password.":N.includes("Password is too common")?N="Password is too common. Please choose a stronger, more unique password.":N.includes("Password is too similar")&&(N="Password is too similar to your personal information. Please choose a more unique password."),n({title:"Signup failed",description:N,variant:"destructive"})}else n({title:"Welcome to Adorzia!",description:"Your account has been created successfully."}),t("/dashboard")}catch(w){w instanceof Ms&&n({title:"Validation error",description:w.errors[0].message,variant:"destructive"})}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-dark flex flex-col",children:[e.jsx("header",{className:"p-4",children:e.jsxs(fe,{to:"/",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors group",children:[e.jsx(ba,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform"}),e.jsx($z,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Back to Home"})]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(fe,{to:"/",className:"inline-flex items-center gap-2",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-accent flex items-center justify-center shadow-lg",children:e.jsx(ct,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"font-display text-3xl font-bold text-white",children:"Adorzia"})]}),e.jsx("p",{className:"text-muted-foreground/90 mt-2 text-base font-medium",children:"Designer Studio"})]}),e.jsx(G,{className:"bg-card/95 backdrop-blur border-border/50",children:e.jsxs(Nr,{defaultValue:"login",className:"w-full",children:[e.jsx(je,{className:"pb-4",children:e.jsxs(br,{className:"grid w-full grid-cols-2",children:[e.jsx(Ee,{value:"login",children:"Sign In"}),e.jsx(Ee,{value:"signup",children:"Sign Up"})]})}),e.jsxs(Y,{children:[e.jsxs(Te,{value:"login",className:"space-y-4 mt-0",children:[e.jsx(Ne,{className:"text-xl font-semibold",children:"Welcome back"}),e.jsx(er,{className:"text-base",children:"Sign in to your designer account"}),e.jsxs(T,{type:"button",variant:"outline",className:"w-full gap-3 h-11",onClick:b,disabled:x,children:[x?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-border/60"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground font-medium",children:"or"})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"login-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"login-email",type:"email",placeholder:"you@example.com",value:l.email,onChange:S=>c(w=>({...w,email:S.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{htmlFor:"login-password",children:"Password"}),e.jsx(fe,{to:"/forgot-password",className:"text-sm font-medium text-primary hover:text-primary/80 transition-colors",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"login-password",type:"password",placeholder:"",value:l.password,onChange:S=>c(w=>({...w,password:S.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs(T,{type:"submit",className:"w-full bg-gradient-accent hover:opacity-90",disabled:i,children:[i&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Sign In"]})]})]}),e.jsxs(Te,{value:"signup",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(Ne,{className:"text-xl font-semibold",children:"Start designing"}),e.jsx(er,{className:"text-base",children:"Create your free account in seconds"})]}),e.jsxs(T,{type:"button",variant:"outline",className:"w-full gap-3 h-11",onClick:b,disabled:x,children:[x?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign up with Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-border/60"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground font-medium",children:"or"})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"signup-name",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"signup-name",type:"text",placeholder:"Your name",value:d.name,onChange:S=>u(w=>({...w,name:S.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"signup-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"signup-email",type:"email",placeholder:"you@example.com",value:d.email,onChange:S=>u(w=>({...w,email:S.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"signup-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"signup-password",type:"password",placeholder:"At least 8 characters with uppercase, lowercase, number and symbol",value:d.password,onChange:S=>u(w=>({...w,password:S.target.value})),className:"pl-10",required:!0,onFocus:()=>h(!0),onBlur:()=>h(!1)})]}),m&&d.password&&e.jsx(ZQ,{password:d.password,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ns,{id:"terms",checked:p,onCheckedChange:S=>v(S===!0),className:"mt-1"}),e.jsxs(K,{htmlFor:"terms",className:"text-sm text-foreground/90 leading-relaxed cursor-pointer",children:["I agree to the"," ",e.jsx(fe,{to:"/terms",className:"text-primary font-medium hover:text-primary/80 underline underline-offset-2",children:"Terms of Service"})," ","and"," ",e.jsx(fe,{to:"/privacy",className:"text-primary font-medium hover:text-primary/80 underline underline-offset-2",children:"Privacy Policy"})]})]}),e.jsxs(T,{type:"submit",className:"w-full bg-gradient-accent hover:opacity-90 h-11",disabled:i||!p,children:[i&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Create Account"]}),e.jsxs("p",{className:"text-sm text-center text-foreground/80",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:()=>document.querySelector('[value="login"]')?.click(),className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Sign in"})]})]})]})]})]})})]})})]})}const sJ=an({email:It().email("Please enter a valid email address")});function aJ(){const{toast:t}=Ge(),[r,s]=f.useState(""),[a,n]=f.useState(!1),[i,o]=f.useState(!1),l=async c=>{c.preventDefault(),n(!0);try{const d=sJ.parse({email:r}),{error:u}=await J.auth.resetPasswordForEmail(d.email,{redirectTo:`${window.location.origin}/reset-password`});u?t({title:"Error",description:u.message,variant:"destructive"}):(o(!0),t({title:"Email sent",description:"Check your inbox for the password reset link."}))}catch(d){d instanceof Ms&&t({title:"Validation error",description:d.errors[0].message,variant:"destructive"})}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-dark flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsx("div",{className:"text-center",children:e.jsxs(fe,{to:"/",className:"inline-flex items-center gap-2",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-accent flex items-center justify-center",children:e.jsx(ct,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"font-display text-3xl font-bold text-white",children:"Adorzia"})]})}),e.jsxs(G,{className:"bg-card/95 backdrop-blur border-border/50",children:[e.jsxs(je,{className:"text-center pb-2",children:[e.jsx(Ne,{className:"text-xl font-display",children:i?"Check your email":"Forgot password?"}),e.jsx(er,{children:i?"We've sent you a password reset link. Please check your inbox.":"Enter your email and we'll send you a reset link."})]}),e.jsxs(Y,{className:"space-y-4",children:[i?e.jsxs("div",{className:"text-center space-y-6 py-4",children:[e.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-success/10 flex items-center justify-center",children:e.jsx(Mt,{className:"h-8 w-8 text-success"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Didn't receive the email?"}),e.jsx(T,{variant:"outline",onClick:()=>o(!1),className:"w-full",children:"Try again"})]})]}):e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"email",children:"Email address"}),e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"email",type:"email",placeholder:"you@example.com",value:r,onChange:c=>s(c.target.value),className:"pl-10",required:!0})]})]}),e.jsxs(T,{type:"submit",className:"w-full bg-gradient-accent hover:opacity-90",disabled:a,children:[a&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Send Reset Link"]})]}),e.jsx("div",{className:"pt-4 text-center",children:e.jsxs(fe,{to:"/auth",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(ba,{className:"h-4 w-4"}),"Back to login"]})})]})]})]})})}const nJ=an({password:It().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^a-zA-Z0-9]/,"Password must contain at least one special character"),confirmPassword:It()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function iJ(){const t=wr(),{toast:r}=Ge(),[s,a]=f.useState(""),[n,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(!1);f.useEffect(()=>{J.auth.getSession().then(({data:{session:p}})=>{p&&m(!0)})},[]);const h=async p=>{p.preventDefault(),l(!0);try{const v=nJ.parse({password:s,confirmPassword:n}),{error:x}=await J.auth.updateUser({password:v.password});if(x){const g=x.message||x.error_description||x.error||"Failed to update password.";g.includes("WeakPassword")||g.toLowerCase().includes("password")&&(g.toLowerCase().includes("weak")||g.toLowerCase().includes("compromised"))?r({title:"Password Rejected",description:"The password you chose has been identified as potentially compromised. Please select a stronger, unique password that hasn't been used in data breaches.",variant:"destructive"}):r({title:"Error",description:g,variant:"destructive"})}else d(!0),r({title:"Password updated",description:"Your password has been successfully reset."}),setTimeout(()=>{t("/auth")},3e3)}catch(v){v instanceof Ms&&r({title:"Validation error",description:v.errors[0].message,variant:"destructive"})}finally{l(!1)}};return!u&&!c?e.jsx("div",{className:"min-h-screen bg-gradient-dark flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsx("div",{className:"text-center",children:e.jsxs(fe,{to:"/",className:"inline-flex items-center gap-2",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-accent flex items-center justify-center",children:e.jsx(ct,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"font-display text-3xl font-bold text-white",children:"Adorzia"})]})}),e.jsxs(G,{className:"bg-card/95 backdrop-blur border-border/50",children:[e.jsxs(je,{className:"text-center",children:[e.jsx(Ne,{className:"text-xl font-display",children:"Invalid or expired link"}),e.jsx(er,{children:"This password reset link is invalid or has expired."})]}),e.jsx(Y,{children:e.jsx(fe,{to:"/forgot-password",children:e.jsx(T,{className:"w-full bg-gradient-accent hover:opacity-90",children:"Request a new link"})})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-dark flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsx("div",{className:"text-center",children:e.jsxs(fe,{to:"/",className:"inline-flex items-center gap-2",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-accent flex items-center justify-center",children:e.jsx(ct,{className:"h-6 w-6 text-white"})}),e.jsx("span",{className:"font-display text-3xl font-bold text-white",children:"Adorzia"})]})}),e.jsxs(G,{className:"bg-card/95 backdrop-blur border-border/50",children:[e.jsxs(je,{className:"text-center pb-2",children:[e.jsx(Ne,{className:"text-xl font-display",children:c?"Password updated!":"Reset your password"}),e.jsx(er,{children:c?"Redirecting you to login...":"Enter your new password below."})]}),e.jsx(Y,{className:"space-y-4",children:c?e.jsxs("div",{className:"text-center space-y-6 py-4",children:[e.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-success/10 flex items-center justify-center",children:e.jsx(Mt,{className:"h-8 w-8 text-success"})}),e.jsx(fe,{to:"/auth",children:e.jsx(T,{className:"w-full bg-gradient-accent hover:opacity-90",children:"Go to Login"})})]}):e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"password",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"password",type:"password",placeholder:"Min 6 characters",value:s,onChange:p=>a(p.target.value),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:n,onChange:p=>i(p.target.value),className:"pl-10",required:!0})]})]}),e.jsxs(T,{type:"submit",className:"w-full bg-gradient-accent hover:opacity-90",disabled:o,children:[o&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Update Password"]})]})})]})]})})}function oJ(){const{user:t}=ur(),r=Li(),s=r.state?.attemptedPath?.startsWith("/admin");return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:e.jsxs("div",{className:"text-center space-y-6 max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center",children:e.jsx(qz,{className:"h-10 w-10 text-destructive"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground",children:t?s?"You don't have permission to access the admin panel. This area is restricted to administrators only.":"You don't have the required permissions to view this page.":"You need to be logged in to access this page."})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:t?e.jsxs(e.Fragment,{children:[e.jsx(fe,{to:"/dashboard",children:e.jsxs(T,{className:"gap-2 w-full sm:w-auto",children:[e.jsx(ba,{className:"h-4 w-4"}),"Go to Dashboard"]})}),e.jsx(fe,{to:"/",children:e.jsx(T,{variant:"outline",className:"w-full sm:w-auto",children:"Back to Home"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{to:"/auth",state:{from:r.state?.attemptedPath},children:e.jsxs(T,{className:"gap-2 w-full sm:w-auto",children:[e.jsx(zz,{className:"h-4 w-4"}),"Sign In"]})}),e.jsx(fe,{to:"/",children:e.jsx(T,{variant:"outline",className:"w-full sm:w-auto",children:"Back to Home"})})]})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Error Code: 403 Forbidden"})]})})}const sv=768;function lJ(){const[t,r]=f.useState(void 0);return f.useEffect(()=>{const s=window.matchMedia(`(max-width: ${sv-1}px)`),a=()=>{r(window.innerWidth<sv)};return s.addEventListener("change",a),r(window.innerWidth<sv),()=>s.removeEventListener("change",a)},[]),!!t}function rt({className:t,...r}){return e.jsx("div",{className:q("animate-pulse rounded-md bg-muted",t),...r})}const cJ="sidebar:state",dJ=3600*24*7,uJ="16rem",mJ="18rem",hJ="3rem",fJ="b",K3=f.createContext(null);function Pd(){const t=f.useContext(K3);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const a1=f.forwardRef(({defaultOpen:t=!0,open:r,onOpenChange:s,className:a,style:n,children:i,...o},l)=>{const c=lJ(),[d,u]=f.useState(!1),[m,h]=f.useState(t),p=r??m,v=f.useCallback(y=>{const j=typeof y=="function"?y(p):y;s?s(j):h(j),document.cookie=`${cJ}=${j}; path=/; max-age=${dJ}`},[s,p]),x=f.useCallback(()=>c?u(y=>!y):v(y=>!y),[c,v,u]);f.useEffect(()=>{const y=j=>{j.key===fJ&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),x())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[x]);const g=p?"expanded":"collapsed",b=f.useMemo(()=>({state:g,open:p,setOpen:v,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:x}),[g,p,v,c,d,u,x]);return e.jsx(K3.Provider,{value:b,children:e.jsx(Mu,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":uJ,"--sidebar-width-icon":hJ,...n},className:q("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",a),ref:l,...o,children:i})})})});a1.displayName="SidebarProvider";const n1=f.forwardRef(({side:t="left",variant:r="sidebar",collapsible:s="offcanvas",className:a,children:n,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Pd();return s==="none"?e.jsx("div",{className:q("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o,...i,children:n}):l?e.jsx(El,{open:d,onOpenChange:u,...i,children:e.jsx(Ao,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":mJ},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:n})})}):e.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?s:"","data-variant":r,"data-side":t,children:[e.jsx("div",{className:q("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:q("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...i,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});n1.displayName="Sidebar";const i1=f.forwardRef(({className:t,onClick:r,...s},a)=>{const{toggleSidebar:n}=Pd();return e.jsxs(T,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:q("h-7 w-7",t),onClick:i=>{r?.(i),n()},...s,children:[e.jsx(Bz,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});i1.displayName="SidebarTrigger";const pJ=f.forwardRef(({className:t,...r},s)=>{const{toggleSidebar:a}=Pd();return e.jsx("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:q("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...r})});pJ.displayName="SidebarRail";const o1=f.forwardRef(({className:t,...r},s)=>e.jsx("main",{ref:s,className:q("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...r}));o1.displayName="SidebarInset";const xJ=f.forwardRef(({className:t,...r},s)=>e.jsx(ie,{ref:s,"data-sidebar":"input",className:q("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...r}));xJ.displayName="SidebarInput";const l1=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"header",className:q("flex flex-col gap-2 p-2",t),...r}));l1.displayName="SidebarHeader";const c1=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"footer",className:q("flex flex-col gap-2 p-2",t),...r}));c1.displayName="SidebarFooter";const gJ=f.forwardRef(({className:t,...r},s)=>e.jsx(Ut,{ref:s,"data-sidebar":"separator",className:q("mx-2 w-auto bg-sidebar-border",t),...r}));gJ.displayName="SidebarSeparator";const d1=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"content",className:q("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...r}));d1.displayName="SidebarContent";const xc=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"group",className:q("relative flex w-full min-w-0 flex-col p-2",t),...r}));xc.displayName="SidebarGroup";const gc=f.forwardRef(({className:t,asChild:r=!1,...s},a)=>{const n=r?ko:"div";return e.jsx(n,{ref:a,"data-sidebar":"group-label",className:q("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...s})});gc.displayName="SidebarGroupLabel";const vJ=f.forwardRef(({className:t,asChild:r=!1,...s},a)=>{const n=r?ko:"button";return e.jsx(n,{ref:a,"data-sidebar":"group-action",className:q("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...s})});vJ.displayName="SidebarGroupAction";const vc=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"group-content",className:q("w-full text-sm",t),...r}));vc.displayName="SidebarGroupContent";const bc=f.forwardRef(({className:t,...r},s)=>e.jsx("ul",{ref:s,"data-sidebar":"menu",className:q("flex w-full min-w-0 flex-col gap-1",t),...r}));bc.displayName="SidebarMenu";const Pf=f.forwardRef(({className:t,...r},s)=>e.jsx("li",{ref:s,"data-sidebar":"menu-item",className:q("group/menu-item relative",t),...r}));Pf.displayName="SidebarMenuItem";const bJ=Pl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ef=f.forwardRef(({asChild:t=!1,isActive:r=!1,variant:s="default",size:a="default",tooltip:n,className:i,...o},l)=>{const c=t?ko:"button",{isMobile:d,state:u}=Pd(),m=e.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":a,"data-active":r,className:q(bJ({variant:s,size:a}),i),...o});return n?(typeof n=="string"&&(n={children:n}),e.jsxs(hf,{children:[e.jsx(ff,{asChild:!0,children:m}),e.jsx(Fu,{side:"right",align:"center",hidden:u!=="collapsed"||d,...n})]})):m});Ef.displayName="SidebarMenuButton";const yJ=f.forwardRef(({className:t,asChild:r=!1,showOnHover:s=!1,...a},n)=>{const i=r?ko:"button";return e.jsx(i,{ref:n,"data-sidebar":"menu-action",className:q("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...a})});yJ.displayName="SidebarMenuAction";const jJ=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"menu-badge",className:q("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...r}));jJ.displayName="SidebarMenuBadge";const wJ=f.forwardRef(({className:t,showIcon:r=!1,...s},a)=>{const n=f.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:q("flex h-8 items-center gap-2 rounded-md px-2",t),...s,children:[r&&e.jsx(rt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(rt,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});wJ.displayName="SidebarMenuSkeleton";const NJ=f.forwardRef(({className:t,...r},s)=>e.jsx("ul",{ref:s,"data-sidebar":"menu-sub",className:q("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...r}));NJ.displayName="SidebarMenuSub";const _J=f.forwardRef(({...t},r)=>e.jsx("li",{ref:r,...t}));_J.displayName="SidebarMenuSubItem";const SJ=f.forwardRef(({asChild:t=!1,size:r="md",isActive:s,className:a,...n},i)=>{const o=t?ko:"a";return e.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":r,"data-active":s,className:q("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",r==="sm"&&"text-xs",r==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...n})});SJ.displayName="SidebarMenuSubButton";var av={exports:{}},nv={};var FC;function CJ(){if(FC)return nv;FC=1;var t=Uz();function r(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var s=typeof Object.is=="function"?Object.is:r,a=t.useState,n=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(m,h){var p=h(),v=a({inst:{value:p,getSnapshot:h}}),x=v[0].inst,g=v[1];return i(function(){x.value=p,x.getSnapshot=h,c(x)&&g({inst:x})},[m,p,h]),n(function(){return c(x)&&g({inst:x}),m(function(){c(x)&&g({inst:x})})},[m]),o(p),p}function c(m){var h=m.getSnapshot;m=m.value;try{var p=h();return!s(m,p)}catch{return!0}}function d(m,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return nv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,nv}var LC;function kJ(){return LC||(LC=1,av.exports=CJ()),av.exports}var AJ=kJ();function PJ(){return AJ.useSyncExternalStore(EJ,()=>!0,()=>!1)}function EJ(){return()=>{}}var u1="Avatar",[TJ]=Ur(u1),[OJ,G3]=TJ(u1),Y3=f.forwardRef((t,r)=>{const{__scopeAvatar:s,...a}=t,[n,i]=f.useState("idle");return e.jsx(OJ,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:e.jsx(we.span,{...a,ref:r})})});Y3.displayName=u1;var X3="AvatarImage",Q3=f.forwardRef((t,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...i}=t,o=G3(X3,s),l=DJ(a,i),c=pr(d=>{n(d),o.onImageLoadingStatusChange(d)});return Fr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?e.jsx(we.img,{...i,ref:r,src:a}):null});Q3.displayName=X3;var J3="AvatarFallback",Z3=f.forwardRef((t,r)=>{const{__scopeAvatar:s,delayMs:a,...n}=t,i=G3(J3,s),[o,l]=f.useState(a===void 0);return f.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(we.span,{...n,ref:r}):null});Z3.displayName=J3;function $C(t,r){return t?r?(t.src!==r&&(t.src=r),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function DJ(t,{referrerPolicy:r,crossOrigin:s}){const a=PJ(),n=f.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,l]=f.useState(()=>$C(i,t));return Fr(()=>{l($C(i,t))},[i,t]),Fr(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),r&&(i.referrerPolicy=r),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,s,r]),o}var eF=Y3,tF=Q3,rF=Z3;const rr=f.forwardRef(({className:t,...r},s)=>e.jsx(eF,{ref:s,className:q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r}));rr.displayName=eF.displayName;const sr=f.forwardRef(({className:t,...r},s)=>e.jsx(tF,{ref:s,className:q("aspect-square h-full w-full",t),...r}));sr.displayName=tF.displayName;const ar=f.forwardRef(({className:t,...r},s)=>e.jsx(rF,{ref:s,className:q("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r}));ar.displayName=rF.displayName;const qC={basic:{icon:nl,label:"Basic",className:"bg-secondary text-secondary-foreground"},pro:{icon:ct,label:"Pro",className:"bg-primary/10 text-primary border-primary/20"},elite:{icon:zt,label:"Elite",className:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-700"}};function RJ({showLabel:t=!0,size:r="md"}){const{tier:s}=j_();if(!s)return null;const a={sm:"text-xs px-1.5 py-0.5",md:"text-sm px-2 py-1",lg:"text-base px-3 py-1.5"},n={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"},i=qC[s]??qC.basic,o=i.icon;return e.jsxs(B,{variant:"outline",className:q("flex items-center gap-1 font-medium",a[r],i.className),children:[e.jsx(o,{className:n[r]}),t&&e.jsx("span",{children:i.label})]})}function Um(){const{user:t}=ur(),[r,s]=f.useState(null),[a,n]=f.useState(!0),[i,o]=f.useState(null);f.useEffect(()=>{const d=t?.id;if(!d){s(null),n(!1);return}let u=!1;return(async()=>{try{n(!0);const{data:h,error:p}=await J.from("profiles").select("*").eq("user_id",d).maybeSingle();if(u)return;if(p)throw p;if(h){let v=null;if(h.rank_id){const{data:x}=await J.from("ranks").select("*").eq("id",h.rank_id).maybeSingle();v=x}s({...h,rank:v})}else{const v={user_id:d,name:t?.user_metadata?.name||"",email:t?.email||"",category:t?.user_metadata?.category||"fashion"},{data:x,error:g}=await J.from("profiles").insert(v).select().single();if(u)return;g?(console.error("Failed to create profile:",g),s(null)):s({...x,rank:null})}}catch(h){u||(console.error("Error fetching profile:",h),o(h instanceof Error?h:new Error("Failed to fetch profile")))}finally{u||n(!1)}})(),()=>{u=!0}},[t?.id]);const l=async d=>{if(!t)return{error:new Error("No user logged in")};try{console.log("Updating profile for user:",t.id),console.log("Updates:",d);const u={},m=["name","bio","email","category","avatar_url","skills","first_login","notification_preferences","rank_id","subscription_tier","status","xp","brand_name","logo_url","banner_image","location","education","awards","website_url","instagram_handle","twitter_handle","linkedin_url","facebook_url","tiktok_handle","youtube_channel","dribbble_url","behance_url","etsy_shop_url","shopify_store_url"];Object.keys(d).forEach(v=>{(m.includes(v)||v==="user_id")&&(u[v]=d[v])}),console.log("Safe updates:",u);const{error:h,data:p}=await J.from("profiles").upsert({user_id:t.id,...u},{onConflict:"user_id"}).select().single();if(console.log("Upsert result:",{error:h,data:p}),h)throw h;return s(v=>v?{...v,...u}:null),{error:null}}catch(u){return console.error("Profile update error:",u),{error:u instanceof Error?u:new Error("Failed to update profile")}}};return{profile:r,loading:a,error:i,updateProfile:l,markFirstLoginComplete:async()=>l({first_login:!1})}}function m1(){const{user:t}=ur(),[r,s]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(null),l=f.useCallback(async()=>{if(!t){s([]),n(!1);return}try{n(!0);const{data:h,error:p}=await J.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);if(p)throw p;s(h||[]),o(null)}catch(h){console.error("[useNotifications] Error fetching notifications:",h),o(h instanceof Error?h:new Error("Failed to fetch notifications"))}finally{n(!1)}},[t]);f.useEffect(()=>{l()},[l]),f.useEffect(()=>{if(!t)return;console.log("[useNotifications] Setting up real-time subscription for user:",t.id);const h=J.channel(`notifications-${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},p=>{console.log("[useNotifications] New notification received:",p.new),s(v=>[p.new,...v])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},p=>{console.log("[useNotifications] Notification updated:",p.new),s(v=>v.map(x=>x.id===p.new.id?p.new:x))}).subscribe(p=>{console.log("[useNotifications] Subscription status:",p)});return()=>{console.log("[useNotifications] Cleaning up subscription"),J.removeChannel(h)}},[t]);const c=async h=>{try{const{error:p}=await J.from("notifications").update({status:"read"}).eq("id",h);if(p)throw p;s(v=>v.map(x=>x.id===h?{...x,status:"read"}:x))}catch(p){throw console.error("[useNotifications] Error marking notification as read:",p),p}},d=async()=>{if(t)try{const{error:h}=await J.from("notifications").update({status:"read"}).eq("user_id",t.id).eq("status","unread");if(h)throw h;s(p=>p.map(v=>({...v,status:"read"})))}catch(h){throw console.error("[useNotifications] Error marking all notifications as read:",h),h}},u=async h=>{try{const{error:p}=await J.from("notifications").delete().eq("id",h);if(p)throw p;s(v=>v.filter(x=>x.id!==h))}catch(p){throw console.error("[useNotifications] Error deleting notification:",p),p}},m=r.filter(h=>h.status==="unread").length;return{notifications:r,loading:a,error:i,unreadCount:m,markAsRead:c,markAllAsRead:d,deleteNotification:u,refetch:l}}const zC=[{title:"Dashboard",url:"/dashboard",icon:WD},{title:"Walkthroughs",url:"/walkthroughs",icon:ws},{title:"Stylebox Library",url:"/styleboxes",icon:Mr},{title:"Portfolio",url:"/portfolio",icon:As},{title:"Teams",url:"/teams",icon:mt},{title:"Job Portal",url:"/jobs",icon:Tn},{title:"Analytics",url:"/analytics",icon:Eu}],IJ=[{title:"Subscription",url:"/subscription",icon:Hp},{title:"Profile",url:"/profile",icon:Oa},{title:"Notifications",url:"/notifications",icon:fo},{title:"Settings",url:"/settings",icon:Kp}];function MJ(){const{state:t}=Pd(),r=t==="collapsed",{user:s,signOut:a,isSigningOut:n}=ur(),{tier:i}=j_(),{profile:o}=Um(),{unreadCount:l}=m1(),c=wr(),d=Li(),{toast:u}=Ge(),m=async()=>{await a(),u({title:"Signed out",description:"You've been successfully signed out. See you soon!"}),c("/")},h=(g,b)=>g?g.split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2):b?.charAt(0).toUpperCase()||"U",p=o?.name||s?.email?.split("@")[0]||"Designer",v=g=>d.pathname===g||d.pathname.startsWith(g+"/"),x=({item:g,showBadge:b=!1})=>{const y=g.url==="/dashboard"?d.pathname==="/dashboard":v(g.url);return e.jsx(Mu,{delayDuration:0,children:e.jsxs(hf,{children:[e.jsx(ff,{asChild:!0,children:e.jsxs(LD,{to:g.url,className:q("flex items-center gap-3 rounded-lg px-3 py-2.5 text-muted-foreground transition-all duration-200","hover:bg-secondary hover:text-foreground group",y&&"bg-secondary text-foreground font-medium sidebar-active-indicator"),children:[e.jsx(g.icon,{className:q("h-4 w-4 shrink-0 transition-all duration-200",y&&"text-primary","group-hover:scale-105")}),!r&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm flex-1",children:g.title}),b&&l>0&&e.jsx(B,{variant:"accent",size:"sm",className:"ml-auto",children:l}),y&&e.jsx(lr,{className:"h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})]})}),r&&e.jsxs(Fu,{side:"right",className:"bg-popover border-border shadow-lg",children:[e.jsx("span",{children:g.title}),b&&l>0&&e.jsx(B,{variant:"accent",size:"sm",className:"ml-2",children:l})]})]})})};return e.jsxs(n1,{collapsible:"icon",className:"border-r border-sidebar-border bg-sidebar",children:[e.jsx(l1,{className:"border-b border-sidebar-border p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-display font-bold text-sm",children:"A"}),!r&&e.jsx("span",{className:"font-display text-xl font-bold tracking-tight animate-fade-in",children:"The Studio"})]})}),e.jsxs(d1,{className:"px-3 py-4",children:[e.jsxs(xc,{children:[!r&&e.jsx(gc,{className:"text-[10px] font-semibold text-muted-foreground/70 uppercase tracking-widest px-3 mb-2",children:"Main"}),e.jsx(vc,{children:e.jsx(bc,{className:"space-y-1",children:zC.map((g,b)=>e.jsx(Pf,{style:{animationDelay:`${b*30}ms`},className:"animate-slide-in-from-left",children:e.jsx(Ef,{asChild:!0,children:e.jsx(x,{item:g})})},g.title))})})]}),e.jsx("div",{className:"my-4 mx-3 border-t border-sidebar-border"}),e.jsxs(xc,{children:[!r&&e.jsx(gc,{className:"text-[10px] font-semibold text-muted-foreground/70 uppercase tracking-widest px-3 mb-2",children:"Account"}),e.jsx(vc,{children:e.jsx(bc,{className:"space-y-1",children:IJ.map((g,b)=>e.jsx(Pf,{style:{animationDelay:`${(zC.length+b)*30}ms`},className:"animate-slide-in-from-left",children:e.jsx(Ef,{asChild:!0,children:e.jsx(x,{item:g,showBadge:g.title==="Notifications"})})},g.title))})})]})]}),e.jsxs(c1,{className:"border-t border-sidebar-border p-4 space-y-3",children:[e.jsxs("div",{className:q("flex items-center gap-3 p-2 rounded-lg transition-colors hover:bg-secondary/50 cursor-pointer",r&&"justify-center p-1"),onClick:()=>c("/profile"),role:"button",tabIndex:0,children:[e.jsxs(rr,{className:"h-9 w-9 ring-2 ring-border/30",children:[e.jsx(sr,{src:o?.avatar_url||void 0}),e.jsx(ar,{className:"bg-secondary text-foreground text-xs font-medium",children:h(o?.name,s?.email)})]}),!r&&e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-medium truncate",children:p}),e.jsx(RJ,{size:"sm"})]})]}),!r&&e.jsxs(T,{variant:"ghost",size:"sm",className:"w-full justify-start gap-2 text-muted-foreground hover:text-foreground hover:bg-secondary/50 transition-all duration-200",onClick:m,disabled:n,children:[n?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(Ei,{className:"h-4 w-4"}),n?"Signing out...":"Sign Out"]}),r&&e.jsx(Mu,{delayDuration:0,children:e.jsxs(hf,{children:[e.jsx(ff,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"w-full h-9 text-muted-foreground hover:text-foreground hover:bg-secondary/50",onClick:m,disabled:n,children:n?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(Ei,{className:"h-4 w-4"})})}),e.jsx(Fu,{side:"right",className:"bg-popover border-border shadow-lg",children:"Sign Out"})]})})]})]})}function gt(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function ya(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function Ys(t,r){const s=gt(t);return isNaN(r)?ya(t,NaN):(r&&s.setDate(s.getDate()+r),s)}function Qa(t,r){const s=gt(t);if(isNaN(r))return ya(t,NaN);if(!r)return s;const a=s.getDate(),n=ya(t,s.getTime());n.setMonth(s.getMonth()+r+1,0);const i=n.getDate();return a>=i?n:(s.setFullYear(n.getFullYear(),n.getMonth(),a),s)}const h1=6048e5,FJ=864e5,_h=43200,BC=1440;let LJ={};function Ed(){return LJ}function ii(t,r){const s=Ed(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,n=gt(t),i=n.getDay(),o=(i<a?7:0)+i-a;return n.setDate(n.getDate()-o),n.setHours(0,0,0,0),n}function xl(t){return ii(t,{weekStartsOn:1})}function sF(t){const r=gt(t),s=r.getFullYear(),a=ya(t,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const n=xl(a),i=ya(t,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=xl(i);return r.getTime()>=n.getTime()?s+1:r.getTime()>=o.getTime()?s:s-1}function gl(t){const r=gt(t);return r.setHours(0,0,0,0),r}function $c(t){const r=gt(t),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+t-+s}function Kn(t,r){const s=gl(t),a=gl(r),n=+s-$c(s),i=+a-$c(a);return Math.round((n-i)/FJ)}function $J(t){const r=sF(t),s=ya(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),xl(s)}function fw(t,r){const s=r*7;return Ys(t,s)}function qJ(t,r){return Qa(t,r*12)}function zJ(t){let r;return t.forEach(function(s){const a=gt(s);(r===void 0||r<a||isNaN(Number(a)))&&(r=a)}),r||new Date(NaN)}function BJ(t){let r;return t.forEach(s=>{const a=gt(s);(!r||r>a||isNaN(+a))&&(r=a)}),r||new Date(NaN)}function Jh(t,r){const s=gt(t),a=gt(r),n=s.getTime()-a.getTime();return n<0?-1:n>0?1:n}function UJ(t){return ya(t,Date.now())}function pa(t,r){const s=gl(t),a=gl(r);return+s==+a}function f1(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function VJ(t){if(!f1(t)&&typeof t!="number")return!1;const r=gt(t);return!isNaN(Number(r))}function qc(t,r){const s=gt(t),a=gt(r),n=s.getFullYear()-a.getFullYear(),i=s.getMonth()-a.getMonth();return n*12+i}function WJ(t,r,s){const a=ii(t,s),n=ii(r,s),i=+a-$c(a),o=+n-$c(n);return Math.round((i-o)/h1)}function HJ(t){return r=>{const a=(t?Math[t]:Math.trunc)(r);return a===0?0:a}}function KJ(t,r){return+gt(t)-+gt(r)}function GJ(t){const r=gt(t);return r.setHours(23,59,59,999),r}function Px(t){const r=gt(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function YJ(t){const r=gt(t);return+GJ(r)==+Px(r)}function XJ(t,r){const s=gt(t),a=gt(r),n=Jh(s,a),i=Math.abs(qc(s,a));let o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*i);let l=Jh(s,a)===-n;YJ(gt(t))&&i===1&&Jh(t,a)===1&&(l=!1),o=n*(i-Number(l))}return o===0?0:o}function QJ(t,r,s){const a=KJ(t,r)/1e3;return HJ(s?.roundingMethod)(a)}function va(t){const r=gt(t);return r.setDate(1),r.setHours(0,0,0,0),r}function aF(t){const r=gt(t),s=ya(t,0);return s.setFullYear(r.getFullYear(),0,1),s.setHours(0,0,0,0),s}function p1(t,r){const s=Ed(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,n=gt(t),i=n.getDay(),o=(i<a?-7:0)+6-(i-a);return n.setDate(n.getDate()+o),n.setHours(23,59,59,999),n}function nF(t){return p1(t,{weekStartsOn:1})}const JJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZJ=(t,r,s)=>{let a;const n=JJ[t];return typeof n=="string"?a=n:r===1?a=n.one:a=n.other.replace("{{count}}",r.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function iv(t){return(r={})=>{const s=r.width?String(r.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const eZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rZ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sZ={date:iv({formats:eZ,defaultWidth:"full"}),time:iv({formats:tZ,defaultWidth:"full"}),dateTime:iv({formats:rZ,defaultWidth:"full"})},aZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nZ=(t,r,s,a)=>aZ[t];function Hd(t){return(r,s)=>{const a=s?.context?String(s.context):"standalone";let n;if(a==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=s?.width?String(s.width):o;n=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=s?.width?String(s.width):t.defaultWidth;n=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(r):r;return n[i]}}const iZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mZ=(t,r)=>{const s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},hZ={ordinalNumber:mZ,era:Hd({values:iZ,defaultWidth:"wide"}),quarter:Hd({values:oZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hd({values:lZ,defaultWidth:"wide"}),day:Hd({values:cZ,defaultWidth:"wide"}),dayPeriod:Hd({values:dZ,defaultWidth:"wide",formattingValues:uZ,defaultFormattingWidth:"wide"})};function Kd(t){return(r,s={})=>{const a=s.width,n=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=r.match(n);if(!i)return null;const o=i[0],l=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?pZ(l,m=>m.test(o)):fZ(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=r.slice(o.length);return{value:d,rest:u}}}function fZ(t,r){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r(t[s]))return s}function pZ(t,r){for(let s=0;s<t.length;s++)if(r(t[s]))return s}function xZ(t){return(r,s={})=>{const a=r.match(t.matchPattern);if(!a)return null;const n=a[0],i=r.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=r.slice(n.length);return{value:o,rest:l}}}const gZ=/^(\d+)(th|st|nd|rd)?/i,vZ=/\d+/i,bZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yZ={any:[/^b/i,/^(a|c)/i]},jZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wZ={any:[/1/i,/2/i,/3/i,/4/i]},NZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_Z={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PZ={ordinalNumber:xZ({matchPattern:gZ,parsePattern:vZ,valueCallback:t=>parseInt(t,10)}),era:Kd({matchPatterns:bZ,defaultMatchWidth:"wide",parsePatterns:yZ,defaultParseWidth:"any"}),quarter:Kd({matchPatterns:jZ,defaultMatchWidth:"wide",parsePatterns:wZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kd({matchPatterns:NZ,defaultMatchWidth:"wide",parsePatterns:_Z,defaultParseWidth:"any"}),day:Kd({matchPatterns:SZ,defaultMatchWidth:"wide",parsePatterns:CZ,defaultParseWidth:"any"}),dayPeriod:Kd({matchPatterns:kZ,defaultMatchWidth:"any",parsePatterns:AZ,defaultParseWidth:"any"})},x1={code:"en-US",formatDistance:ZJ,formatLong:sZ,formatRelative:nZ,localize:hZ,match:PZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EZ(t){const r=gt(t);return Kn(r,aF(r))+1}function iF(t){const r=gt(t),s=+xl(r)-+$J(r);return Math.round(s/h1)+1}function oF(t,r){const s=gt(t),a=s.getFullYear(),n=Ed(),i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=ya(t,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=ii(o,r),c=ya(t,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=ii(c,r);return s.getTime()>=l.getTime()?a+1:s.getTime()>=d.getTime()?a:a-1}function TZ(t,r){const s=Ed(),a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,n=oF(t,r),i=ya(t,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),ii(i,r)}function lF(t,r){const s=gt(t),a=+ii(s,r)-+TZ(s,r);return Math.round(a/h1)+1}function fr(t,r){const s=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return s+a}const Ji={y(t,r){const s=t.getFullYear(),a=s>0?s:1-s;return fr(r==="yy"?a%100:a,r.length)},M(t,r){const s=t.getMonth();return r==="M"?String(s+1):fr(s+1,2)},d(t,r){return fr(t.getDate(),r.length)},a(t,r){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return s==="am"?"a.m.":"p.m."}},h(t,r){return fr(t.getHours()%12||12,r.length)},H(t,r){return fr(t.getHours(),r.length)},m(t,r){return fr(t.getMinutes(),r.length)},s(t,r){return fr(t.getSeconds(),r.length)},S(t,r){const s=r.length,a=t.getMilliseconds(),n=Math.trunc(a*Math.pow(10,s-3));return fr(n,r.length)}},Kl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UC={G:function(t,r,s){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});default:return s.era(a,{width:"wide"})}},y:function(t,r,s){if(r==="yo"){const a=t.getFullYear(),n=a>0?a:1-a;return s.ordinalNumber(n,{unit:"year"})}return Ji.y(t,r)},Y:function(t,r,s,a){const n=oF(t,a),i=n>0?n:1-n;if(r==="YY"){const o=i%100;return fr(o,2)}return r==="Yo"?s.ordinalNumber(i,{unit:"year"}):fr(i,r.length)},R:function(t,r){const s=sF(t);return fr(s,r.length)},u:function(t,r){const s=t.getFullYear();return fr(s,r.length)},Q:function(t,r,s){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return fr(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,s){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return fr(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,s){const a=t.getMonth();switch(r){case"M":case"MM":return Ji.M(t,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,s){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return fr(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,s,a){const n=lF(t,a);return r==="wo"?s.ordinalNumber(n,{unit:"week"}):fr(n,r.length)},I:function(t,r,s){const a=iF(t);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):fr(a,r.length)},d:function(t,r,s){return r==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):Ji.d(t,r)},D:function(t,r,s){const a=EZ(t);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):fr(a,r.length)},E:function(t,r,s){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,s,a){const n=t.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return fr(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(t,r,s,a){const n=t.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return fr(i,r.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(t,r,s){const a=t.getDay(),n=a===0?7:a;switch(r){case"i":return String(n);case"ii":return fr(n,r.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,s){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,r,s){const a=t.getHours();let n;switch(a===12?n=Kl.noon:a===0?n=Kl.midnight:n=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,r,s){const a=t.getHours();let n;switch(a>=17?n=Kl.evening:a>=12?n=Kl.afternoon:a>=4?n=Kl.morning:n=Kl.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,r,s){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Ji.h(t,r)},H:function(t,r,s){return r==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):Ji.H(t,r)},K:function(t,r,s){const a=t.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):fr(a,r.length)},k:function(t,r,s){let a=t.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):fr(a,r.length)},m:function(t,r,s){return r==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ji.m(t,r)},s:function(t,r,s){return r==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):Ji.s(t,r)},S:function(t,r){return Ji.S(t,r)},X:function(t,r,s){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return WC(a);case"XXXX":case"XX":return Wo(a);default:return Wo(a,":")}},x:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"x":return WC(a);case"xxxx":case"xx":return Wo(a);default:return Wo(a,":")}},O:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+VC(a,":");default:return"GMT"+Wo(a,":")}},z:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+VC(a,":");default:return"GMT"+Wo(a,":")}},t:function(t,r,s){const a=Math.trunc(t.getTime()/1e3);return fr(a,r.length)},T:function(t,r,s){const a=t.getTime();return fr(a,r.length)}};function VC(t,r=""){const s=t>0?"-":"+",a=Math.abs(t),n=Math.trunc(a/60),i=a%60;return i===0?s+String(n):s+String(n)+r+fr(i,2)}function WC(t,r){return t%60===0?(t>0?"-":"+")+fr(Math.abs(t)/60,2):Wo(t,r)}function Wo(t,r=""){const s=t>0?"-":"+",a=Math.abs(t),n=fr(Math.trunc(a/60),2),i=fr(a%60,2);return s+n+r+i}const HC=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});default:return r.date({width:"full"})}},cF=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});default:return r.time({width:"full"})}},OZ=(t,r)=>{const s=t.match(/(P+)(p+)?/)||[],a=s[1],n=s[2];if(!n)return HC(t,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",HC(a,r)).replace("{{time}}",cF(n,r))},DZ={p:cF,P:OZ},RZ=/^D+$/,IZ=/^Y+$/,MZ=["D","DD","YY","YYYY"];function FZ(t){return RZ.test(t)}function LZ(t){return IZ.test(t)}function $Z(t,r,s){const a=qZ(t,r,s);if(console.warn(a),MZ.includes(t))throw new RangeError(a)}function qZ(t,r,s){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UZ=/^'([^]*?)'?$/,VZ=/''/g,WZ=/[a-zA-Z]/;function xt(t,r,s){const a=Ed(),n=s?.locale??a.locale??x1,i=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=gt(t);if(!VJ(l))throw new RangeError("Invalid time value");let c=r.match(BZ).map(u=>{const m=u[0];if(m==="p"||m==="P"){const h=DZ[m];return h(u,n.formatLong)}return u}).join("").match(zZ).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const m=u[0];if(m==="'")return{isToken:!1,value:HZ(u)};if(UC[m])return{isToken:!0,value:u};if(m.match(WZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:u}});n.localize.preprocessor&&(c=n.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:n};return c.map(u=>{if(!u.isToken)return u.value;const m=u.value;(!s?.useAdditionalWeekYearTokens&&LZ(m)||!s?.useAdditionalDayOfYearTokens&&FZ(m))&&$Z(m,r,String(t));const h=UC[m[0]];return h(l,m,n.localize,d)}).join("")}function HZ(t){const r=t.match(UZ);return r?r[1].replace(VZ,"'"):t}function KZ(t,r,s){const a=Ed(),n=s?.locale??a.locale??x1,i=2520,o=Jh(t,r);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:o});let c,d;o>0?(c=gt(r),d=gt(t)):(c=gt(t),d=gt(r));const u=QJ(d,c),m=($c(d)-$c(c))/1e3,h=Math.round((u-m)/60);let p;if(h<2)return s?.includeSeconds?u<5?n.formatDistance("lessThanXSeconds",5,l):u<10?n.formatDistance("lessThanXSeconds",10,l):u<20?n.formatDistance("lessThanXSeconds",20,l):u<40?n.formatDistance("halfAMinute",0,l):u<60?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",1,l):h===0?n.formatDistance("lessThanXMinutes",1,l):n.formatDistance("xMinutes",h,l);if(h<45)return n.formatDistance("xMinutes",h,l);if(h<90)return n.formatDistance("aboutXHours",1,l);if(h<BC){const v=Math.round(h/60);return n.formatDistance("aboutXHours",v,l)}else{if(h<i)return n.formatDistance("xDays",1,l);if(h<_h){const v=Math.round(h/BC);return n.formatDistance("xDays",v,l)}else if(h<_h*2)return p=Math.round(h/_h),n.formatDistance("aboutXMonths",p,l)}if(p=XJ(d,c),p<12){const v=Math.round(h/_h);return n.formatDistance("xMonths",v,l)}else{const v=p%12,x=Math.trunc(p/12);return v<3?n.formatDistance("aboutXYears",x,l):v<9?n.formatDistance("overXYears",x,l):n.formatDistance("almostXYears",x+1,l)}}function jn(t,r){return KZ(t,UJ(t),r)}function GZ(t){const r=gt(t),s=r.getFullYear(),a=r.getMonth(),n=ya(t,0);return n.setFullYear(s,a+1,0),n.setHours(0,0,0,0),n.getDate()}function YZ(t){return Math.trunc(+gt(t)/1e3)}function XZ(t){const r=gt(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(0,0,0,0),r}function QZ(t,r){return WJ(XZ(t),va(t),r)+1}function pw(t,r){const s=gt(t),a=gt(r);return s.getTime()>a.getTime()}function dF(t,r){const s=gt(t),a=gt(r);return+s<+a}function g1(t,r){const s=gt(t),a=gt(r);return s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()}function JZ(t,r){const s=gt(t),a=gt(r);return s.getFullYear()===a.getFullYear()}function vu(t,r){return Ys(t,-r)}function ov(t,r){const s=gt(t),a=s.getFullYear(),n=s.getDate(),i=ya(t,0);i.setFullYear(a,r,15),i.setHours(0,0,0,0);const o=GZ(i);return s.setMonth(r,Math.min(n,o)),s}function KC(t,r){const s=gt(t);return isNaN(+s)?ya(t,NaN):(s.setFullYear(r),s)}function ZZ(t,r){return Qa(t,-r)}function eee(t){const r=tee(t),s=f.forwardRef((a,n)=>{const{children:i,...o}=a,l=f.Children.toArray(i),c=l.find(see);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return e.jsx(r,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return e.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${t}.Slot`,s}function tee(t){const r=f.forwardRef((s,a)=>{const{children:n,...i}=s;if(f.isValidElement(n)){const o=nee(n),l=aee(i,n.props);return n.type!==f.Fragment&&(l.ref=a?Js(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var ree=Symbol("radix.slottable");function see(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ree}function aee(t,r){const s={...r};for(const a in r){const n=t[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...t,...s}}function nee(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var xw=["Enter"," "],iee=["ArrowDown","PageUp","Home"],uF=["ArrowUp","PageDown","End"],oee=[...iee,...uF],lee={ltr:[...xw,"ArrowRight"],rtl:[...xw,"ArrowLeft"]},cee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vm="Menu",[Uu,dee,uee]=_o(Vm),[Dl,mF]=Ur(Vm,[uee,Co,Ad]),Ex=Co(),hF=Ad(),[mee,Rl]=Dl(Vm),[hee,Wm]=Dl(Vm),fF=t=>{const{__scopeMenu:r,open:s=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=t,l=Ex(r),[c,d]=f.useState(null),u=f.useRef(!1),m=pr(i),h=zi(n);return f.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(ex,{...l,children:e.jsx(mee,{scope:r,open:s,onOpenChange:m,content:c,onContentChange:d,children:e.jsx(hee,{scope:r,onClose:f.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:o,children:a})})})};fF.displayName=Vm;var fee="MenuAnchor",v1=f.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t,n=Ex(s);return e.jsx(Im,{...n,...a,ref:r})});v1.displayName=fee;var b1="MenuPortal",[pee,pF]=Dl(b1,{forceMount:void 0}),xF=t=>{const{__scopeMenu:r,forceMount:s,children:a,container:n}=t,i=Rl(b1,r);return e.jsx(pee,{scope:r,forceMount:s,children:e.jsx(qr,{present:s||i.open,children:e.jsx(bd,{asChild:!0,container:n,children:a})})})};xF.displayName=b1;var Ga="MenuContent",[xee,y1]=Dl(Ga),gF=f.forwardRef((t,r)=>{const s=pF(Ga,t.__scopeMenu),{forceMount:a=s.forceMount,...n}=t,i=Rl(Ga,t.__scopeMenu),o=Wm(Ga,t.__scopeMenu);return e.jsx(Uu.Provider,{scope:t.__scopeMenu,children:e.jsx(qr,{present:a||i.open,children:e.jsx(Uu.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(gee,{...n,ref:r}):e.jsx(vee,{...n,ref:r})})})})}),gee=f.forwardRef((t,r)=>{const s=Rl(Ga,t.__scopeMenu),a=f.useRef(null),n=Xe(r,a);return f.useEffect(()=>{const i=a.current;if(i)return lx(i)},[]),e.jsx(j1,{...t,ref:n,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:ve(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),vee=f.forwardRef((t,r)=>{const s=Rl(Ga,t.__scopeMenu);return e.jsx(j1,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),bee=eee("MenuContent.ScrollLock"),j1=f.forwardRef((t,r)=>{const{__scopeMenu:s,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...x}=t,g=Rl(Ga,s),b=Wm(Ga,s),y=Ex(s),j=hF(s),S=dee(s),[w,_]=f.useState(null),N=f.useRef(null),k=Xe(r,N,g.onContentChange),C=f.useRef(0),P=f.useRef(""),A=f.useRef(0),O=f.useRef(null),I=f.useRef("right"),F=f.useRef(0),$=v?Fm:f.Fragment,E=v?{as:bee,allowPinchZoom:!0}:void 0,M=R=>{const te=P.current+R,V=S().filter(Q=>!Q.disabled),D=document.activeElement,H=V.find(Q=>Q.ref.current===D)?.textValue,ae=V.map(Q=>Q.textValue),U=Tee(ae,te,H),se=V.find(Q=>Q.textValue===U)?.ref.current;(function Q(pe){P.current=pe,window.clearTimeout(C.current),pe!==""&&(C.current=window.setTimeout(()=>Q(""),1e3))})(te),se&&setTimeout(()=>se.focus())};f.useEffect(()=>()=>window.clearTimeout(C.current),[]),ix();const z=f.useCallback(R=>I.current===O.current?.side&&Dee(R,O.current?.area),[]);return e.jsx(xee,{scope:s,searchRef:P,onItemEnter:f.useCallback(R=>{z(R)&&R.preventDefault()},[z]),onItemLeave:f.useCallback(R=>{z(R)||(N.current?.focus(),_(null))},[z]),onTriggerLeave:f.useCallback(R=>{z(R)&&R.preventDefault()},[z]),pointerGraceTimerRef:A,onPointerGraceIntentChange:f.useCallback(R=>{O.current=R},[]),children:e.jsx($,{...E,children:e.jsx(Mm,{asChild:!0,trapped:n,onMountAutoFocus:ve(i,R=>{R.preventDefault(),N.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(So,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:p,children:e.jsx(Z_,{asChild:!0,...j,dir:b.dir,orientation:"vertical",loop:a,currentTabStopId:w,onCurrentTabStopIdChange:_,onEntryFocus:ve(c,R=>{b.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(tx,{role:"menu","aria-orientation":"vertical","data-state":DF(g.open),"data-radix-menu-content":"",dir:b.dir,...y,...x,ref:k,style:{outline:"none",...x.style},onKeyDown:ve(x.onKeyDown,R=>{const V=R.target.closest("[data-radix-menu-content]")===R.currentTarget,D=R.ctrlKey||R.altKey||R.metaKey,H=R.key.length===1;V&&(R.key==="Tab"&&R.preventDefault(),!D&&H&&M(R.key));const ae=N.current;if(R.target!==ae||!oee.includes(R.key))return;R.preventDefault();const se=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);uF.includes(R.key)&&se.reverse(),Pee(se)}),onBlur:ve(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:ve(t.onPointerMove,Vu(R=>{const te=R.target,V=F.current!==R.clientX;if(R.currentTarget.contains(te)&&V){const D=R.clientX>F.current?"right":"left";I.current=D,F.current=R.clientX}}))})})})})})})});gF.displayName=Ga;var yee="MenuGroup",w1=f.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t;return e.jsx(we.div,{role:"group",...a,ref:r})});w1.displayName=yee;var jee="MenuLabel",vF=f.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t;return e.jsx(we.div,{...a,ref:r})});vF.displayName=jee;var Tf="MenuItem",GC="menu.itemSelect",Tx=f.forwardRef((t,r)=>{const{disabled:s=!1,onSelect:a,...n}=t,i=f.useRef(null),o=Wm(Tf,t.__scopeMenu),l=y1(Tf,t.__scopeMenu),c=Xe(r,i),d=f.useRef(!1),u=()=>{const m=i.current;if(!s&&m){const h=new CustomEvent(GC,{bubbles:!0,cancelable:!0});m.addEventListener(GC,p=>a?.(p),{once:!0}),Ou(m,h),h.defaultPrevented?d.current=!1:o.onClose()}};return e.jsx(bF,{...n,ref:c,disabled:s,onClick:ve(t.onClick,u),onPointerDown:m=>{t.onPointerDown?.(m),d.current=!0},onPointerUp:ve(t.onPointerUp,m=>{d.current||m.currentTarget?.click()}),onKeyDown:ve(t.onKeyDown,m=>{const h=l.searchRef.current!=="";s||h&&m.key===" "||xw.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Tx.displayName=Tf;var bF=f.forwardRef((t,r)=>{const{__scopeMenu:s,disabled:a=!1,textValue:n,...i}=t,o=y1(Tf,s),l=hF(s),c=f.useRef(null),d=Xe(r,c),[u,m]=f.useState(!1),[h,p]=f.useState("");return f.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[i.children]),e.jsx(Uu.ItemSlot,{scope:s,disabled:a,textValue:n??h,children:e.jsx(e1,{asChild:!0,...l,focusable:!a,children:e.jsx(we.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:ve(t.onPointerMove,Vu(v=>{a?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ve(t.onPointerLeave,Vu(v=>o.onItemLeave(v))),onFocus:ve(t.onFocus,()=>m(!0)),onBlur:ve(t.onBlur,()=>m(!1))})})})}),wee="MenuCheckboxItem",yF=f.forwardRef((t,r)=>{const{checked:s=!1,onCheckedChange:a,...n}=t;return e.jsx(SF,{scope:t.__scopeMenu,checked:s,children:e.jsx(Tx,{role:"menuitemcheckbox","aria-checked":Of(s)?"mixed":s,...n,ref:r,"data-state":_1(s),onSelect:ve(n.onSelect,()=>a?.(Of(s)?!0:!s),{checkForDefaultPrevented:!1})})})});yF.displayName=wee;var jF="MenuRadioGroup",[Nee,_ee]=Dl(jF,{value:void 0,onValueChange:()=>{}}),wF=f.forwardRef((t,r)=>{const{value:s,onValueChange:a,...n}=t,i=pr(a);return e.jsx(Nee,{scope:t.__scopeMenu,value:s,onValueChange:i,children:e.jsx(w1,{...n,ref:r})})});wF.displayName=jF;var NF="MenuRadioItem",_F=f.forwardRef((t,r)=>{const{value:s,...a}=t,n=_ee(NF,t.__scopeMenu),i=s===n.value;return e.jsx(SF,{scope:t.__scopeMenu,checked:i,children:e.jsx(Tx,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":_1(i),onSelect:ve(a.onSelect,()=>n.onValueChange?.(s),{checkForDefaultPrevented:!1})})})});_F.displayName=NF;var N1="MenuItemIndicator",[SF,See]=Dl(N1,{checked:!1}),CF=f.forwardRef((t,r)=>{const{__scopeMenu:s,forceMount:a,...n}=t,i=See(N1,s);return e.jsx(qr,{present:a||Of(i.checked)||i.checked===!0,children:e.jsx(we.span,{...n,ref:r,"data-state":_1(i.checked)})})});CF.displayName=N1;var Cee="MenuSeparator",kF=f.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t;return e.jsx(we.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});kF.displayName=Cee;var kee="MenuArrow",AF=f.forwardRef((t,r)=>{const{__scopeMenu:s,...a}=t,n=Ex(s);return e.jsx(rx,{...n,...a,ref:r})});AF.displayName=kee;var Aee="MenuSub",[bSe,PF]=Dl(Aee),uu="MenuSubTrigger",EF=f.forwardRef((t,r)=>{const s=Rl(uu,t.__scopeMenu),a=Wm(uu,t.__scopeMenu),n=PF(uu,t.__scopeMenu),i=y1(uu,t.__scopeMenu),o=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=f.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return f.useEffect(()=>u,[u]),f.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),e.jsx(v1,{asChild:!0,...d,children:e.jsx(bF,{id:n.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":n.contentId,"data-state":DF(s.open),...t,ref:Js(r,n.onTriggerChange),onClick:m=>{t.onClick?.(m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:ve(t.onPointerMove,Vu(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:ve(t.onPointerLeave,Vu(m=>{u();const h=s.content?.getBoundingClientRect();if(h){const p=s.content?.dataset.side,v=p==="right",x=v?-5:5,g=h[v?"left":"right"],b=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:g,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:g,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ve(t.onKeyDown,m=>{const h=i.searchRef.current!=="";t.disabled||h&&m.key===" "||lee[a.dir].includes(m.key)&&(s.onOpenChange(!0),s.content?.focus(),m.preventDefault())})})})});EF.displayName=uu;var TF="MenuSubContent",OF=f.forwardRef((t,r)=>{const s=pF(Ga,t.__scopeMenu),{forceMount:a=s.forceMount,...n}=t,i=Rl(Ga,t.__scopeMenu),o=Wm(Ga,t.__scopeMenu),l=PF(TF,t.__scopeMenu),c=f.useRef(null),d=Xe(r,c);return e.jsx(Uu.Provider,{scope:t.__scopeMenu,children:e.jsx(qr,{present:a||i.open,children:e.jsx(Uu.Slot,{scope:t.__scopeMenu,children:e.jsx(j1,{id:l.contentId,"aria-labelledby":l.triggerId,...n,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{o.isUsingKeyboardRef.current&&c.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ve(t.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ve(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ve(t.onKeyDown,u=>{const m=u.currentTarget.contains(u.target),h=cee[o.dir].includes(u.key);m&&h&&(i.onOpenChange(!1),l.trigger?.focus(),u.preventDefault())})})})})})});OF.displayName=TF;function DF(t){return t?"open":"closed"}function Of(t){return t==="indeterminate"}function _1(t){return Of(t)?"indeterminate":t?"checked":"unchecked"}function Pee(t){const r=document.activeElement;for(const s of t)if(s===r||(s.focus(),document.activeElement!==r))return}function Eee(t,r){return t.map((s,a)=>t[(r+a)%t.length])}function Tee(t,r,s){const n=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=s?t.indexOf(s):-1;let o=Eee(t,Math.max(i,0));n.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(n.toLowerCase()));return c!==s?c:void 0}function Oee(t,r){const{x:s,y:a}=t;let n=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i],c=r[o],d=l.x,u=l.y,m=c.x,h=c.y;u>a!=h>a&&s<(m-d)*(a-u)/(h-u)+d&&(n=!n)}return n}function Dee(t,r){if(!r)return!1;const s={x:t.clientX,y:t.clientY};return Oee(s,r)}function Vu(t){return r=>r.pointerType==="mouse"?t(r):void 0}var Ree=fF,Iee=v1,Mee=xF,Fee=gF,Lee=w1,$ee=vF,qee=Tx,zee=yF,Bee=wF,Uee=_F,Vee=CF,Wee=kF,Hee=AF,Kee=EF,Gee=OF,Ox="DropdownMenu",[Yee]=Ur(Ox,[mF]),ca=mF(),[Xee,RF]=Yee(Ox),IF=t=>{const{__scopeDropdownMenu:r,children:s,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=ca(r),d=f.useRef(null),[u,m]=Is({prop:n,defaultProp:i??!1,onChange:o,caller:Ox});return e.jsx(Xee,{scope:r,triggerId:Kr(),triggerRef:d,contentId:Kr(),open:u,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(h=>!h),[m]),modal:l,children:e.jsx(Ree,{...c,open:u,onOpenChange:m,dir:a,modal:l,children:s})})};IF.displayName=Ox;var MF="DropdownMenuTrigger",FF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,disabled:a=!1,...n}=t,i=RF(MF,s),o=ca(s);return e.jsx(Iee,{asChild:!0,...o,children:e.jsx(we.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...n,ref:Js(r,i.triggerRef),onPointerDown:ve(t.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ve(t.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});FF.displayName=MF;var Qee="DropdownMenuPortal",LF=t=>{const{__scopeDropdownMenu:r,...s}=t,a=ca(r);return e.jsx(Mee,{...a,...s})};LF.displayName=Qee;var $F="DropdownMenuContent",qF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=RF($F,s),i=ca(s),o=f.useRef(!1);return e.jsx(Fee,{id:n.contentId,"aria-labelledby":n.triggerId,...i,...a,ref:r,onCloseAutoFocus:ve(t.onCloseAutoFocus,l=>{o.current||n.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ve(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!n.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qF.displayName=$F;var Jee="DropdownMenuGroup",Zee=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(Lee,{...n,...a,ref:r})});Zee.displayName=Jee;var ete="DropdownMenuLabel",zF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx($ee,{...n,...a,ref:r})});zF.displayName=ete;var tte="DropdownMenuItem",BF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(qee,{...n,...a,ref:r})});BF.displayName=tte;var rte="DropdownMenuCheckboxItem",UF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(zee,{...n,...a,ref:r})});UF.displayName=rte;var ste="DropdownMenuRadioGroup",ate=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(Bee,{...n,...a,ref:r})});ate.displayName=ste;var nte="DropdownMenuRadioItem",VF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(Uee,{...n,...a,ref:r})});VF.displayName=nte;var ite="DropdownMenuItemIndicator",WF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(Vee,{...n,...a,ref:r})});WF.displayName=ite;var ote="DropdownMenuSeparator",HF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(Wee,{...n,...a,ref:r})});HF.displayName=ote;var lte="DropdownMenuArrow",cte=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(Hee,{...n,...a,ref:r})});cte.displayName=lte;var dte="DropdownMenuSubTrigger",KF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(Kee,{...n,...a,ref:r})});KF.displayName=dte;var ute="DropdownMenuSubContent",GF=f.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...a}=t,n=ca(s);return e.jsx(Gee,{...n,...a,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GF.displayName=ute;var mte=IF,hte=FF,fte=LF,YF=qF,XF=zF,QF=BF,JF=UF,ZF=VF,eL=WF,tL=HF,rL=KF,sL=GF;const hs=mte,fs=hte,pte=f.forwardRef(({className:t,inset:r,children:s,...a},n)=>e.jsxs(rL,{ref:n,className:q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",r&&"pl-8",t),...a,children:[s,e.jsx(lr,{className:"ml-auto h-4 w-4"})]}));pte.displayName=rL.displayName;const xte=f.forwardRef(({className:t,...r},s)=>e.jsx(sL,{ref:s,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));xte.displayName=sL.displayName;const rs=f.forwardRef(({className:t,sideOffset:r=4,...s},a)=>e.jsx(fte,{children:e.jsx(YF,{ref:a,sideOffset:r,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));rs.displayName=YF.displayName;const Se=f.forwardRef(({className:t,inset:r,...s},a)=>e.jsx(QF,{ref:a,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",t),...s}));Se.displayName=QF.displayName;const gte=f.forwardRef(({className:t,children:r,checked:s,...a},n)=>e.jsxs(JF,{ref:n,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:s,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(eL,{children:e.jsx(gr,{className:"h-4 w-4"})})}),r]}));gte.displayName=JF.displayName;const vte=f.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(ZF,{ref:a,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(eL,{children:e.jsx(HD,{className:"h-2 w-2 fill-current"})})}),r]}));vte.displayName=ZF.displayName;const Hm=f.forwardRef(({className:t,inset:r,...s},a)=>e.jsx(XF,{ref:a,className:q("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...s}));Hm.displayName=XF.displayName;const Ar=f.forwardRef(({className:t,...r},s)=>e.jsx(tL,{ref:s,className:q("-mx-1 my-1 h-px bg-muted",t),...r}));Ar.displayName=tL.displayName;function bte(t){const r=yte(t),s=f.forwardRef((a,n)=>{const{children:i,...o}=a,l=f.Children.toArray(i),c=l.find(wte);if(c){const d=c.props.children,u=l.map(m=>m===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:m);return e.jsx(r,{...o,ref:n,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return e.jsx(r,{...o,ref:n,children:i})});return s.displayName=`${t}.Slot`,s}function yte(t){const r=f.forwardRef((s,a)=>{const{children:n,...i}=s;if(f.isValidElement(n)){const o=_te(n),l=Nte(i,n.props);return n.type!==f.Fragment&&(l.ref=a?Js(a,o):o),f.cloneElement(n,l)}return f.Children.count(n)>1?f.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var jte=Symbol("radix.slottable");function wte(t){return f.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jte}function Nte(t,r){const s={...r};for(const a in r){const n=t[a],i=r[a];/^on[A-Z]/.test(a)?n&&i?s[a]=(...l)=>{const c=i(...l);return n(...l),c}:n&&(s[a]=n):a==="style"?s[a]={...n,...i}:a==="className"&&(s[a]=[n,i].filter(Boolean).join(" "))}return{...t,...s}}function _te(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var Dx="Popover",[aL]=Ur(Dx,[Co]),Km=Co(),[Ste,Oo]=aL(Dx),nL=t=>{const{__scopePopover:r,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!1}=t,l=Km(r),c=f.useRef(null),[d,u]=f.useState(!1),[m,h]=Is({prop:a,defaultProp:n??!1,onChange:i,caller:Dx});return e.jsx(ex,{...l,children:e.jsx(Ste,{scope:r,contentId:Kr(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:f.useCallback(()=>u(!0),[]),onCustomAnchorRemove:f.useCallback(()=>u(!1),[]),modal:o,children:s})})};nL.displayName=Dx;var iL="PopoverAnchor",Cte=f.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=Oo(iL,s),i=Km(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=n;return f.useEffect(()=>(o(),()=>l()),[o,l]),e.jsx(Im,{...i,...a,ref:r})});Cte.displayName=iL;var oL="PopoverTrigger",lL=f.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=Oo(oL,s),i=Km(s),o=Xe(r,n.triggerRef),l=e.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":hL(n.open),...a,ref:o,onClick:ve(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?l:e.jsx(Im,{asChild:!0,...i,children:l})});lL.displayName=oL;var S1="PopoverPortal",[kte,Ate]=aL(S1,{forceMount:void 0}),cL=t=>{const{__scopePopover:r,forceMount:s,children:a,container:n}=t,i=Oo(S1,r);return e.jsx(kte,{scope:r,forceMount:s,children:e.jsx(qr,{present:s||i.open,children:e.jsx(bd,{asChild:!0,container:n,children:a})})})};cL.displayName=S1;var zc="PopoverContent",dL=f.forwardRef((t,r)=>{const s=Ate(zc,t.__scopePopover),{forceMount:a=s.forceMount,...n}=t,i=Oo(zc,t.__scopePopover);return e.jsx(qr,{present:a||i.open,children:i.modal?e.jsx(Ete,{...n,ref:r}):e.jsx(Tte,{...n,ref:r})})});dL.displayName=zc;var Pte=bte("PopoverContent.RemoveScroll"),Ete=f.forwardRef((t,r)=>{const s=Oo(zc,t.__scopePopover),a=f.useRef(null),n=Xe(r,a),i=f.useRef(!1);return f.useEffect(()=>{const o=a.current;if(o)return lx(o)},[]),e.jsx(Fm,{as:Pte,allowPinchZoom:!0,children:e.jsx(uL,{...t,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(t.onCloseAutoFocus,o=>{o.preventDefault(),i.current||s.triggerRef.current?.focus()}),onPointerDownOutside:ve(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ve(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Tte=f.forwardRef((t,r)=>{const s=Oo(zc,t.__scopePopover),a=f.useRef(!1),n=f.useRef(!1);return e.jsx(uL,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(a.current||s.triggerRef.current?.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;s.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}})}),uL=f.forwardRef((t,r)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=t,h=Oo(zc,s),p=Km(s);return ix(),e.jsx(Mm,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:e.jsx(So,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:e.jsx(tx,{"data-state":hL(h.open),role:"dialog",id:h.contentId,...p,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mL="PopoverClose",Ote=f.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=Oo(mL,s);return e.jsx(we.button,{type:"button",...a,ref:r,onClick:ve(t.onClick,()=>n.onOpenChange(!1))})});Ote.displayName=mL;var Dte="PopoverArrow",Rte=f.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=Km(s);return e.jsx(rx,{...n,...a,ref:r})});Rte.displayName=Dte;function hL(t){return t?"open":"closed"}var Ite=nL,Mte=lL,Fte=cL,fL=dL;const Df=Ite,Rf=Mte,Wu=f.forwardRef(({className:t,align:r="center",sideOffset:s=4,...a},n)=>e.jsx(Fte,{children:e.jsx(fL,{ref:n,align:r,sideOffset:s,className:q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Wu.displayName=fL.displayName;function cs({children:t}){const{theme:r,setTheme:s}=k9(),{profile:a}=Um(),{user:n,signOut:i}=ur(),{notifications:o,unreadCount:l,markAsRead:c,markAllAsRead:d}=m1(),u=wr(),[m,h]=f.useState(!1),p=o.slice(0,2),v=(g,b)=>g?g.split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2):b?.charAt(0).toUpperCase()||"U",x=async()=>{await i(),u("/")};return e.jsx(a1,{children:e.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[e.jsx(MJ,{}),e.jsxs(o1,{className:"flex flex-col flex-1",children:[e.jsxs("header",{className:"sticky top-0 z-40 flex h-16 items-center justify-between gap-4 border-b border-border bg-background/95 backdrop-blur-md supports-[backdrop-filter]:bg-background/80 px-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i1,{className:"h-9 w-9 hover:bg-secondary transition-all duration-200 rounded-lg"}),e.jsxs("div",{className:"hidden md:flex relative group",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground transition-colors group-focus-within:text-foreground"}),e.jsx(ie,{placeholder:"Search styleboxes, projects...",className:"w-72 lg:w-80 pl-10 bg-secondary/50 border-transparent focus-visible:border-border focus-visible:bg-background transition-all duration-200"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsxs(T,{variant:"ghost",size:"icon",className:"h-9 w-9 md:hidden hover:bg-secondary transition-all duration-200 rounded-lg",children:[e.jsx(dr,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Search"})]}),e.jsxs(T,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-secondary transition-all duration-200 rounded-lg",onClick:()=>s(r==="dark"?"light":"dark"),children:[e.jsx(e_,{className:"h-5 w-5 rotate-0 scale-100 transition-transform duration-300 dark:-rotate-90 dark:scale-0"}),e.jsx(t_,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-transform duration-300 dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),e.jsxs(Df,{open:m,onOpenChange:h,children:[e.jsx(Rf,{asChild:!0,children:e.jsxs(T,{variant:"ghost",size:"icon",className:"relative h-9 w-9 hover:bg-secondary transition-all duration-200 rounded-lg",children:[e.jsx(fo,{className:"h-5 w-5"}),l>0&&e.jsx("span",{className:"notification-badge",children:l>9?"9+":l}),e.jsx("span",{className:"sr-only",children:"Notifications"})]})}),e.jsxs(Wu,{align:"end",className:"w-80 p-0 bg-popover border-border shadow-lg z-50",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Notifications"}),l>0&&e.jsxs(T,{variant:"ghost",size:"sm",className:"h-7 text-xs text-muted-foreground hover:text-foreground",onClick:()=>d(),children:[e.jsx(gr,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:p.length===0?e.jsxs("div",{className:"px-4 py-6 text-center text-muted-foreground text-sm",children:[e.jsx(fo,{className:"h-8 w-8 mx-auto mb-2 opacity-40"}),e.jsx("p",{children:"No notifications yet"})]}):p.map(g=>e.jsx("div",{className:q("px-4 py-3 border-b border-border/50 last:border-b-0 cursor-pointer hover:bg-secondary/50 transition-colors",g.status==="unread"&&"bg-secondary/20"),onClick:()=>{g.status==="unread"&&c(g.id),g.action_url&&(u(g.action_url),h(!1))},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:q("w-2 h-2 rounded-full mt-1.5 shrink-0",g.status==="unread"?"bg-accent":"bg-transparent")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:q("text-sm line-clamp-2",g.status==="unread"?"font-medium":"text-muted-foreground"),children:g.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:jn(new Date(g.created_at),{addSuffix:!0})})]})]})},g.id))}),e.jsx("div",{className:"border-t border-border p-2",children:e.jsxs(T,{variant:"ghost",size:"sm",className:"w-full justify-between text-sm text-muted-foreground hover:text-foreground",onClick:()=>{h(!1),u("/notifications")},children:["View More",e.jsx(lr,{className:"h-4 w-4"})]})})]})]}),e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsxs(T,{variant:"ghost",className:"h-9 gap-2 px-2 hover:bg-secondary transition-all duration-200 rounded-lg",children:[e.jsxs(rr,{className:"h-7 w-7 ring-2 ring-border/50",children:[e.jsx(sr,{src:a?.avatar_url||void 0}),e.jsx(ar,{className:"bg-secondary text-foreground text-xs font-medium",children:v(a?.name,n?.email)})]}),e.jsx("span",{className:"hidden lg:inline text-sm font-medium truncate max-w-24",children:a?.name||n?.email?.split("@")[0]})]})}),e.jsxs(rs,{align:"end",className:"w-56 bg-popover border-border shadow-lg z-50",children:[e.jsxs("div",{className:"px-3 py-2",children:[e.jsx("p",{className:"text-sm font-medium",children:a?.name||"Designer"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n?.email})]}),e.jsx(Ar,{}),e.jsx(Se,{onClick:()=>u("/profile"),className:"cursor-pointer",children:"Profile"}),e.jsx(Se,{onClick:()=>u("/settings"),className:"cursor-pointer",children:"Settings"}),e.jsx(Se,{onClick:()=>u("/subscription"),className:"cursor-pointer",children:"Subscription"}),e.jsx(Ar,{}),e.jsx(Se,{onClick:x,className:"cursor-pointer text-destructive focus:text-destructive",children:"Sign out"})]})]})]})]}),e.jsx("main",{className:"flex-1 overflow-auto bg-background",children:t})]})]})})}function Gd({title:t,value:r,subtitle:s,icon:a,trend:n,className:i}){return e.jsxs(G,{hover:!0,className:q("group relative overflow-hidden card-interactive",i),tabIndex:0,role:"article","aria-label":`${t}: ${r}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-foreground/[0.02] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(Y,{className:"relative p-5 sm:p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[e.jsx("p",{className:"text-label",children:t}),e.jsx("p",{className:"stat-value text-3xl sm:text-4xl truncate",children:r}),s&&e.jsx("p",{className:"text-caption text-xs truncate",children:s}),n&&e.jsxs("div",{className:"flex items-center gap-1.5 pt-1",children:[n.isPositive?e.jsx(ks,{className:"h-3.5 w-3.5 text-success"}):e.jsx(KD,{className:"h-3.5 w-3.5 text-destructive"}),e.jsxs("span",{className:q("text-xs font-medium",n.isPositive?"text-success":"text-destructive"),children:[n.isPositive?"+":"",n.value,"%"]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"vs last month"})]})]}),e.jsx("div",{className:"flex h-11 w-11 sm:h-12 sm:w-12 items-center justify-center rounded-xl bg-secondary border border-border/50 transition-all duration-300 group-hover:bg-foreground group-hover:border-foreground",children:e.jsx(a,{className:"h-5 w-5 sm:h-6 sm:w-6 text-foreground transition-colors duration-300 group-hover:text-background"})})]})})]})}function YC(t){const r=t.getTime()-Date.now();if(r<=0)return{days:0,hours:0,minutes:0,seconds:0,total:0};const s=Math.floor(r/1e3%60),a=Math.floor(r/1e3/60%60),n=Math.floor(r/(1e3*60*60)%24);return{days:Math.floor(r/(1e3*60*60*24)),hours:n,minutes:a,seconds:s,total:r}}function Lte(t){return t.total<=0?"expired":t.days>=7?"safe":t.days>=3?"warning":t.days>=1?"urgent":"critical"}const lv={safe:"text-success bg-success/10 border-success/20",warning:"text-warning bg-warning/10 border-warning/20",urgent:"text-destructive bg-destructive/10 border-destructive/20",critical:"text-destructive bg-destructive/10 border-destructive/20 animate-pulse",expired:"text-muted-foreground bg-muted border-muted"};function C1({deadline:t,className:r,compact:s=!1,showIcon:a=!0}){const n=typeof t=="string"?new Date(t):t,[i,o]=f.useState(()=>YC(n));f.useEffect(()=>{const c=setInterval(()=>{o(YC(n))},1e3);return()=>clearInterval(c)},[n]);const l=Lte(i);return l==="expired"?e.jsxs("div",{className:q("inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium border",lv.expired,r),children:[a&&e.jsx(Ti,{className:"h-3 w-3"}),e.jsx("span",{children:"Deadline Passed"})]}):s?e.jsxs("div",{className:q("inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium border",lv[l],r),children:[a&&e.jsx(Ze,{className:"h-3 w-3"}),e.jsx("span",{className:"tabular-nums",children:i.days>0?`${i.days}d ${i.hours}h`:`${i.hours}h ${i.minutes}m`})]}):e.jsxs("div",{className:q("inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium border",lv[l],r),children:[a&&e.jsx(Ze,{className:"h-4 w-4"}),e.jsxs("div",{className:"flex items-center gap-1 tabular-nums",children:[i.days>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold",children:i.days}),e.jsx("span",{className:"text-xs opacity-70",children:"d"})]}),e.jsx("span",{className:"font-semibold",children:String(i.hours).padStart(2,"0")}),e.jsx("span",{className:"text-xs opacity-70",children:"h"}),e.jsx("span",{className:"font-semibold",children:String(i.minutes).padStart(2,"0")}),e.jsx("span",{className:"text-xs opacity-70",children:"m"}),i.days===0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold",children:String(i.seconds).padStart(2,"0")}),e.jsx("span",{className:"text-xs opacity-70",children:"s"})]})]})]})}const XC={1:{label:"I",name:"Foundation",bg:"bg-muted",text:"text-muted-foreground"},2:{label:"II",name:"Intermediate",bg:"bg-secondary",text:"text-secondary-foreground"},3:{label:"III",name:"Advanced",bg:"bg-primary/10",text:"text-primary"},4:{label:"IV",name:"Master",bg:"bg-primary",text:"text-primary-foreground"}},$te={sm:"h-5 w-5 text-[10px]",md:"h-6 w-6 text-xs",lg:"h-8 w-8 text-sm"};function k1({level:t,className:r,size:s="md"}){const a=XC[t]||XC[1];return e.jsx("div",{className:q("inline-flex items-center justify-center rounded-full font-display font-bold",a.bg,a.text,$te[s],r),title:`Level ${t} - ${a.name}`,children:a.label})}const qte={free:{min:5,max:10},easy:{min:10,max:20},medium:{min:20,max:30},hard:{min:30,max:50},insane:{min:50,max:100}};function A1({difficulty:t,className:r,showRange:s=!0,compact:a=!1}){const n=qte[t];return a?e.jsxs("div",{className:q("inline-flex items-center gap-1 px-1.5 py-0.5 rounded-md bg-primary/10 text-primary text-xs font-medium",r),children:[e.jsx(ct,{className:"h-3 w-3"}),e.jsxs("span",{className:"tabular-nums",children:[s?`${n.min}-${n.max}`:n.max," SC"]})]}):e.jsxs("div",{className:q("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20",r),children:[e.jsx(ct,{className:"h-4 w-4 text-primary"}),e.jsxs("span",{className:"text-sm font-semibold text-primary tabular-nums",children:[s?`${n.min}-${n.max}`:n.max," SC"]})]})}const zte={not_started:{label:"Not Started",icon:Ze,className:"bg-muted text-muted-foreground border-muted"},draft:{label:"Draft",icon:Vz,className:"bg-secondary text-secondary-foreground border-secondary"},active:{label:"In Progress",icon:Ze,className:"bg-primary/10 text-primary border-primary/20"},submitted:{label:"Submitted",icon:ai,className:"bg-warning/10 text-warning border-warning/20"},under_review:{label:"Under Review",icon:Bt,className:"bg-warning/10 text-warning border-warning/20"},approved:{label:"Approved",icon:Mt,className:"bg-success/10 text-success border-success/20"},rejected:{label:"Rejected",icon:Rr,className:"bg-destructive/10 text-destructive border-destructive/20"},completed:{label:"Completed",icon:Mt,className:"bg-success/10 text-success border-success/20"}};function Bte({status:t,className:r,showIcon:s=!0}){const a=zte[t],n=a.icon;return e.jsxs("div",{className:q("inline-flex items-center gap-1.5 px-2 py-1 rounded-md text-xs font-medium border",a.className,r),children:[s&&e.jsx(n,{className:"h-3 w-3"}),e.jsx("span",{children:a.label})]})}function Ute({isLocked:t,requiredRank:r,requiredLevel:s,requiredSubscription:a,children:n,className:i}){if(!t)return e.jsx(e.Fragment,{children:n});const o=[];return r&&o.push(`Rank: ${r}`),s&&o.push(`Level ${s}+ completed`),a&&o.push(`${a} subscription`),e.jsx(Mu,{children:e.jsxs(hf,{children:[e.jsx(ff,{asChild:!0,children:e.jsxs("div",{className:q("relative cursor-not-allowed",i),children:[n,e.jsx("div",{className:"absolute inset-0 bg-background/60 backdrop-blur-[1px] rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-muted rounded-full",children:[e.jsx(us,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Locked"})]})})]})}),e.jsx(Fu,{side:"top",className:"max-w-xs",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium text-sm",children:"Unlock Requirements"}),e.jsx("ul",{className:"space-y-1",children:o.map((l,c)=>e.jsxs("li",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.includes("Rank")&&e.jsx(zt,{className:"h-3 w-3"}),l.includes("Level")&&e.jsx(At,{className:"h-3 w-3"}),l.includes("subscription")&&e.jsx(At,{className:"h-3 w-3"}),e.jsx("span",{children:l})]},c))})]})})]})})}function Vte({value:t,size:r=48,strokeWidth:s=4,className:a,showLabel:n=!0,labelClassName:i}){const o=(r-s)/2,l=o*2*Math.PI,c=Math.min(100,Math.max(0,t)),d=l-c/100*l;return e.jsxs("div",{className:q("relative inline-flex items-center justify-center",a),children:[e.jsxs("svg",{width:r,height:r,className:"transform -rotate-90",children:[e.jsx("circle",{cx:r/2,cy:r/2,r:o,fill:"none",stroke:"hsl(var(--muted))",strokeWidth:s}),e.jsx("circle",{cx:r/2,cy:r/2,r:o,fill:"none",stroke:"hsl(var(--primary))",strokeWidth:s,strokeDasharray:l,strokeDashoffset:d,strokeLinecap:"round",className:"transition-all duration-500 ease-out"})]}),n&&e.jsxs("span",{className:q("absolute text-xs font-semibold tabular-nums",i),children:[Math.round(c),"%"]})]})}function Wte({id:t,title:r,category:s,difficulty:a,season:n,levelNumber:i,xpReward:o,deadline:l,thumbnail:c,studioName:d,progress:u=0,status:m="not_started",isLocked:h=!1,requiredRank:p}){const v=wr(),x=y=>y.charAt(0).toUpperCase()+y.slice(1),g=()=>{h||v(`/styleboxes/${t}`)},b=e.jsxs(G,{hover:!h,className:"overflow-hidden group card-interactive cursor-pointer",onClick:g,tabIndex:0,role:"article","aria-label":`${r} - ${m==="active"?`${u}% complete`:m}`,children:[e.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[e.jsx("img",{src:c||"https://images.unsplash.com/photo-1558171813-4c088753af8f?w=600",alt:r,className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/90 via-foreground/30 to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 right-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k1,{level:i,size:"sm"}),n&&e.jsx(B,{variant:"secondary",className:"text-xs bg-background/90 backdrop-blur-sm border-0",children:n})]}),m!=="not_started"&&e.jsx(Bte,{status:m,showIcon:!1})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{variant:a,className:"text-xs shadow-sm",children:a.charAt(0).toUpperCase()+a.slice(1)}),e.jsx(B,{variant:"secondary",className:"text-xs bg-background/90 backdrop-blur-sm border-0",children:x(s)})]}),e.jsx("h3",{className:"font-display text-lg font-semibold text-primary-foreground leading-tight line-clamp-2",children:r}),d&&e.jsxs("p",{className:"text-xs text-primary-foreground/70 mt-1",children:["Curated by ",d]})]})]}),e.jsxs(Y,{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A1,{difficulty:a,compact:!0}),m==="active"&&u>0&&e.jsx(Vte,{value:u,size:36,strokeWidth:3})]}),e.jsxs("div",{className:"flex items-center justify-between pt-1",children:[l?e.jsx(C1,{deadline:l,compact:!0,showIcon:!0}):e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[e.jsx(Wr,{className:"h-4 w-4"}),e.jsx("span",{children:"No deadline"})]}),e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1.5 btn-press font-medium hover:bg-foreground hover:text-background",onClick:y=>{y.stopPropagation(),g()},children:[m==="not_started"?"Enter":"Continue",e.jsx(St,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5"})]})]})]})]});return h?e.jsx(Ute,{isLocked:h,requiredRank:p,requiredLevel:i>1?i-1:void 0,children:b}):b}const Zi=(t,r,s,a,n,i,o,l,c,d,u,m,h,p)=>({id:t,name:r,title:s,commission:a,revenueShare:a,bonusPercentage:n,minSC:i,maxSC:o,minWeightedScore:i,description:l,requirements:c,perks:d,isFoundation:u,order:m,pricePkr:h,maxSlots:p}),Ir={f1:Zi("f1","Founding Legacy","F1",10,10,0,1/0,"Exclusive founding members with +10% lifetime commission bonus",["One-time PKR 50,000 payment","Limited to first 50 designers"],["+10% bonus on all commissions","First-in-line production queue","Gold Founding Legacy badge"],!0,0,5e4,50),f2:Zi("f2","The Pioneer","F2",5,5,0,1/0,"Pioneer designers with +5% lifetime commission bonus",["One-time PKR 25,000 payment","Limited to first 100 designers"],["+5% bonus on all commissions","Priority queue access","Silver Pioneer badge"],!0,1,25e3,100),apprentice:Zi("apprentice","Apprentice","SC 0-300",8,0,0,300,"Learning the software and basic garment construction",["SC Range: 0-300"],["8% base commission","Access to Easy StyleBoxes"],!1,2),patternist:Zi("patternist","Patternist","SC 301-800",12,0,301,800,"Able to handle Medium difficulty (Complex patterns)",["SC Range: 301-800"],["12% base commission","Access to Medium StyleBoxes"],!1,3),stylist:Zi("stylist","Stylist","SC 801-2,000",18,0,801,2e3,"Proven ability to handle Hard/Insane briefs",["SC Range: 801-2,000"],["18% base commission","Access to Hard StyleBoxes"],!1,4),couturier:Zi("couturier","Couturier","SC 2,001-3,200",25,0,2001,3200,"Expert level; focus on luxury and high-detail designs",["SC Range: 2,001-3,200"],["25% base commission","Priority production queue"],!1,5),visionary:Zi("visionary","Visionary","SC 3,201-5,000",32,0,3201,5e3,"Trend-setter; designs have high artistic value",["SC Range: 3,201-5,000"],["32% base commission","Algorithm priority"],!1,6),creative_director:Zi("creative_director","Creative Director","SC 5,000+",40,0,5001,1/0,"The Master level; leading the Adorzia aesthetic",["SC Range: 5,000+"],["40% base commission (up to 50% with F1)"],!1,7)},gw=["f1","f2","apprentice","patternist","stylist","couturier","visionary","creative_director"],yc=["apprentice","patternist","stylist","couturier","visionary","creative_director"],Hte=["f1","f2"];function Kte(t){return Object.values(Ir).find(r=>r.order===t)}function pL(t){const r=yc.indexOf(t);if(!(r===-1||r===yc.length-1))return Ir[yc[r+1]]}function Gte(t,r){const s=Ir[t];if(s.isFoundation)return 100;const a=pL(t);if(!a)return 100;const n=a.minSC-s.minSC;return n<=0?100:Math.min(100,Math.max(0,Math.round((r-s.minSC)/n*100)))}function xL(t,r){const s=Ir[t].commission;return r?Math.min(50,s+Ir[r].bonusPercentage):s}const Yte=xL;function cv(t){return t.toLocaleString()}function gL(t){return t&&t in Ir?Ir[t]:Ir.apprentice}function Xte(t){return typeof t=="string"&&t in Ir}const QC={f1:{bg:"bg-gradient-to-br from-rank-f1/20 to-rank-f1/5",border:"border-rank-f1/40",text:"text-rank-f1",glow:"shadow-[0_0_20px_hsl(var(--rank-f1)/0.3)]"},f2:{bg:"bg-gradient-to-br from-rank-f2/20 to-rank-f2/5",border:"border-rank-f2/40",text:"text-rank-f2",glow:"shadow-[0_0_20px_hsl(var(--rank-f2)/0.3)]"},apprentice:{bg:"bg-gradient-to-br from-rank-apprentice/20 to-rank-apprentice/5",border:"border-rank-apprentice/30",text:"text-rank-apprentice"},patternist:{bg:"bg-gradient-to-br from-muted/40 to-muted/10",border:"border-muted-foreground/30",text:"text-muted-foreground"},stylist:{bg:"bg-gradient-to-br from-muted/50 to-muted/20",border:"border-muted-foreground/40",text:"text-foreground"},couturier:{bg:"bg-gradient-to-br from-foreground/10 to-foreground/5",border:"border-foreground/30",text:"text-foreground"},visionary:{bg:"bg-gradient-to-br from-foreground/15 to-foreground/5",border:"border-foreground/40",text:"text-foreground"},creative_director:{bg:"bg-gradient-to-br from-foreground/20 to-foreground/10",border:"border-foreground/50",text:"text-foreground",glow:"shadow-[0_0_20px_hsl(var(--foreground)/0.2)]"}},Qte=({rank:t})=>{const r=gL(t),s=t==="creative_director"||t==="visionary";return r.isFoundation?e.jsx(ct,{className:"h-7 w-7"}):s?e.jsx(zt,{className:"h-7 w-7"}):e.jsx(At,{className:"h-7 w-7"})};function Jte({currentRank:t,foundationRank:r,styleCredits:s,badges:a}){const n=Xte(t)?t:"apprentice",i=gL(n),o=pL(n),l=QC[n]||QC.apprentice,c=xL(n,r),d=Gte(n,s),u=o?Math.max(0,o.minSC-s):0;return e.jsxs(G,{className:"overflow-hidden",role:"region","aria-labelledby":"rank-title",children:[e.jsx(je,{className:"pb-4 border-b border-border",children:e.jsxs(Ne,{id:"rank-title",className:"flex items-center gap-2.5 text-lg",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-secondary",children:e.jsx(zt,{className:"h-4 w-4 text-foreground"})}),"Designer Rank"]})}),e.jsxs(Y,{className:"p-5 sm:p-6 space-y-5",children:[e.jsx("div",{className:"text-center",children:e.jsxs(W.div,{className:q("text-4xl font-display font-bold tabular-nums",l.text),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[cv(s)," SC"]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(W.div,{className:"relative flex-shrink-0",children:[e.jsx("div",{className:q("h-14 w-14 rounded-2xl flex items-center justify-center border-2",l.bg,l.border,l.glow),children:e.jsx("span",{className:l.text,children:e.jsx(Qte,{rank:t})})}),r&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-foreground text-[10px] font-bold text-background shadow-md",children:r.toUpperCase()})})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:q("font-display text-xl font-semibold",l.text),children:i.name}),r&&e.jsx(B,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:Ir[r].name})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:i.description})]})]}),e.jsxs("div",{className:q("flex items-center justify-between p-3 rounded-xl border",l.bg,l.border),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pu,{className:q("h-4 w-4",l.text)}),e.jsx("span",{className:"text-sm font-medium",children:"Commission"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:q("text-2xl font-display font-bold tabular-nums",l.text),children:[c,"%"]}),r&&!i.isFoundation&&e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[i.commission,"% + ",Ir[r].bonusPercentage,"% bonus"]})]})]}),o&&!i.isFoundation&&e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ks,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:["Progress to ",o.name]})]}),e.jsxs("span",{className:"font-semibold tabular-nums",children:[d,"%"]})]}),e.jsx(la,{value:d,className:"h-2",animated:!0}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground tabular-nums",children:[e.jsxs("span",{children:[cv(s)," SC"]}),e.jsxs("span",{children:[cv(u)," SC needed"]})]})]}),r&&e.jsxs("div",{className:"flex items-center gap-2.5 p-3 rounded-xl bg-secondary border border-border",children:[e.jsx(Wz,{className:"h-4 w-4 text-foreground"}),e.jsxs("span",{className:"text-sm font-medium",children:[Ir[r].name," - Lifetime +",Ir[r].bonusPercentage,"% bonus"]})]}),a.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-label",children:"Recent Badges"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((m,h)=>e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-secondary border border-border/50",children:[e.jsx("span",{className:"text-base",children:m.icon}),e.jsx("span",{className:"text-xs font-medium",children:m.name})]},h))})]})]})]})}function Zte({teamName:t,activeProject:r,members:s,unreadMessages:a}){return e.jsxs(G,{hover:!0,className:"overflow-hidden",role:"region","aria-labelledby":"team-title",children:[e.jsx(je,{className:"pb-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Ne,{id:"team-title",className:"flex items-center gap-2.5 text-lg",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-secondary",children:e.jsx(mt,{className:"h-4 w-4 text-foreground"})}),"Team Activity"]}),a>0&&e.jsxs(B,{variant:"default",className:"gap-1.5 badge-pulse","aria-label":`${a} new messages`,children:[e.jsx(Wp,{className:"h-3 w-3"}),a," new"]})]})}),e.jsxs(Y,{className:"p-5 sm:p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-label mb-1.5",children:"Active Team"}),e.jsx("p",{className:"font-display text-lg font-semibold",children:t})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label mb-2.5",children:"Current Project"}),e.jsx("div",{className:"p-3 rounded-xl bg-secondary/50 border border-border/50 transition-all duration-200 hover:border-border hover:bg-secondary",children:e.jsx("p",{className:"font-medium text-sm",children:r})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-label mb-3",children:"Team Members"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex avatar-stack",role:"list","aria-label":"Team members",children:s.slice(0,4).map((n,i)=>e.jsxs(rr,{className:"h-9 w-9 border-2 border-background transition-transform duration-200 hover:scale-110 hover:z-10",role:"listitem","aria-label":n.name,children:[e.jsx(sr,{src:n.avatar,alt:n.name}),e.jsx(ar,{className:"text-xs bg-secondary font-medium",children:n.name.split(" ").map(o=>o[0]).join("")})]},i))}),s.length>4&&e.jsxs("span",{className:"ml-3 text-sm text-muted-foreground font-medium",children:["+",s.length-4," more"]})]})]}),e.jsxs(T,{variant:"outline",className:"w-full gap-2 group btn-press hover:bg-foreground hover:text-background hover:border-foreground",children:["Open Team Space",e.jsx(St,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5"})]})]})]})}function ere({totalEarnings:t,monthlyEarnings:r,pendingPayouts:s,productsSold:a,trend:n}){return e.jsxs(G,{className:"overflow-hidden bg-gradient-dark border-0 shadow-xl",role:"region","aria-labelledby":"earnings-title",children:[e.jsx(je,{className:"pb-4 border-b border-primary-foreground/10",children:e.jsxs(Ne,{id:"earnings-title",className:"flex items-center gap-2.5 text-lg text-primary-foreground",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary-foreground/10",children:e.jsx(Rs,{className:"h-4 w-4 text-primary-foreground"})}),"Earnings"]})}),e.jsxs(Y,{className:"p-5 sm:p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-primary-foreground/50 mb-1.5",children:"This Month"}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsxs("span",{className:"font-display text-4xl sm:text-5xl font-bold text-primary-foreground tabular-nums",children:["$",r.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 text-success text-sm font-medium",children:[e.jsx(ks,{className:"h-4 w-4"}),e.jsxs("span",{children:["+",n,"%"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-xl bg-primary-foreground/5 border border-primary-foreground/10 transition-all duration-200 hover:bg-primary-foreground/10",children:[e.jsx("p",{className:"text-xs text-primary-foreground/50 mb-1",children:"Total Earnings"}),e.jsxs("p",{className:"font-display text-xl font-semibold text-primary-foreground tabular-nums",children:["$",t.toLocaleString()]})]}),e.jsxs("div",{className:"p-3 rounded-xl bg-primary-foreground/5 border border-primary-foreground/10 transition-all duration-200 hover:bg-primary-foreground/10",children:[e.jsx("p",{className:"text-xs text-primary-foreground/50 mb-1",children:"Pending"}),e.jsxs("p",{className:"font-display text-xl font-semibold text-primary-foreground/80 tabular-nums",children:["$",s.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-primary-foreground/10 border border-primary-foreground/10",children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx(Ot,{className:"h-5 w-5 text-primary-foreground/70"}),e.jsx("span",{className:"text-sm text-primary-foreground/70",children:"Products Sold"})]}),e.jsx("span",{className:"font-display text-xl font-semibold text-primary-foreground tabular-nums",children:a})]}),e.jsxs(T,{variant:"secondary",className:"w-full gap-2 group btn-press bg-primary-foreground text-foreground hover:bg-primary-foreground/90",children:["View Full Analytics",e.jsx(St,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5"})]})]})]})}function tre({isOpen:t,onClose:r,userName:s}){const a=wr(),[n,i]=f.useState(0),o=[{icon:ct,title:`Welcome to Adorzia${s?`, ${s}`:""}!`,description:"You've just joined an exclusive community of talented designers. Let's get you started on your creative journey.",action:"Get Started"},{icon:ws,title:"Start with Walkthroughs",description:"Complete guided walkthroughs to learn the platform, build your skills, and earn XP to climb the ranks.",action:"Next"},{icon:Mr,title:"Take on Styleboxes",description:"Compete in design challenges, showcase your creativity, and get your work featured on the marketplace.",action:"Next"},{icon:As,title:"Build Your Portfolio",description:"Your best work gets published to the marketplace where you earn revenue from every sale. Ready to begin?",action:"Let's Go!"}],l=o[n],c=l.icon,d=()=>{n<o.length-1?i(n+1):(r(),a("/walkthroughs"))},u=()=>{r()};return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"sm:max-w-md",children:[e.jsxs(Lt,{className:"space-y-4",children:[e.jsx("div",{className:"mx-auto h-16 w-16 rounded-2xl bg-gradient-accent flex items-center justify-center",children:e.jsx(c,{className:"h-8 w-8 text-background"})}),e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx($t,{className:"text-2xl",children:l.title}),e.jsx(Us,{className:"text-base",children:l.description})]})]}),e.jsx("div",{className:"flex justify-center gap-1.5 py-4",children:o.map((m,h)=>e.jsx("div",{className:`h-1.5 w-8 rounded-full transition-colors ${h<=n?"bg-accent":"bg-secondary"}`},h))}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs(T,{onClick:d,className:"gap-2",children:[l.action,e.jsx(St,{className:"h-4 w-4"})]}),n===0&&e.jsx(T,{variant:"ghost",onClick:u,children:"Skip for now"})]})]})})}class dv extends f.Component{constructor(s){super(s);et(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("ErrorBoundary caught an error:",s,a),console.error("Error stack:",s.stack),console.error("Component stack:",a.componentStack)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx(G,{className:"border-destructive/20 bg-destructive/5 m-4",children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(Ti,{className:"h-8 w-8 text-destructive mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Something went wrong loading this section"}),this.state.error&&e.jsx("pre",{className:"text-xs text-left bg-muted p-3 rounded-md mb-4 max-w-2xl overflow-auto",children:e.jsx("code",{children:this.state.error.message})}),e.jsxs(T,{variant:"outline",size:"sm",onClick:this.handleRetry,className:"gap-2",children:[e.jsx(ga,{className:"h-4 w-4"}),"Try Again"]})]})}):this.props.children}}function rre(){const t=wr();return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-secondary flex items-center justify-center mb-4",children:e.jsx(Cc,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h4",{className:"font-medium mb-1",children:"No Recent Activity"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start a Stylebox to see your activity here"}),e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>t("/styleboxes"),children:[e.jsx(Mr,{className:"h-4 w-4"}),"Browse Styleboxes"]})]})}function sre({name:t,isFirstLogin:r,joinedAt:s}){return f.useMemo(()=>{const n=new Date,i=n.getHours(),o=n.getMonth(),l=n.getDate(),c=t||"Designer";if(o===0&&l<=7)return{title:`Happy New Year, ${c}! `,subtitle:"A fresh year of creative possibilities awaits. Let's make it extraordinary!",isSpecial:!0,type:"newyear"};if(o===11&&l>=24&&l<=26)return{title:`Happy Holidays, ${c}! `,subtitle:"Wishing you a season filled with creativity and joy!",isSpecial:!0,type:"christmas"};if(s){const h=new Date(s),p=h.getMonth(),v=h.getDate(),x=n.getFullYear(),g=h.getFullYear();if(p===o&&Math.abs(v-l)<=1&&x>g){const b=x-g;return{title:`Happy Anniversary, ${c}! `,subtitle:`Celebrating ${b} ${b===1?"year":"years"} of amazing creativity with us!`,isSpecial:!0,type:"anniversary"}}}let d;i>=5&&i<12?d="Good morning":i>=12&&i<17?d="Good afternoon":i>=17&&i<21?d="Good evening":d="Welcome back";const u=["Ready to create something amazing today?","Your creative journey continues here.","Let's bring your vision to life.","Time to design something extraordinary.","Your next masterpiece awaits."],m=l%u.length;return{title:`${d}, ${c}`,subtitle:u[m],isSpecial:!1,type:"regular"}},[t,r,s])}function are(){const{user:t}=ur(),[r,s]=f.useState({activeStyleboxes:0,completedStyleboxes:0,portfolioItems:0,totalEarnings:0,monthlyEarnings:0,pendingPayouts:0,productsSold:0,loveCount:0}),[a,n]=f.useState(!0),i=async()=>{if(!t){n(!1);return}try{n(!0);const{data:o}=await J.from("stylebox_submissions").select("status").eq("designer_id",t.id),l=o?.filter(w=>w.status!=="approved"&&w.status!=="rejected").length||0,c=o?.filter(w=>w.status==="approved").length||0,{count:d}=await J.from("portfolio_projects").select("id, portfolios!inner(designer_id)",{count:"exact",head:!0}).eq("portfolios.designer_id",t.id),{data:u}=await J.from("earnings").select("amount, created_at").eq("designer_id",t.id),m=u?.reduce((w,_)=>w+Number(_.amount),0)||0,h=new Date,p=new Date(h.getFullYear(),h.getMonth(),1),v=u?.filter(w=>new Date(w.created_at)>=p).reduce((w,_)=>w+Number(_.amount),0)||0,{data:x}=await J.from("payouts").select("amount").eq("designer_id",t.id).eq("status","pending"),g=x?.reduce((w,_)=>w+Number(_.amount),0)||0,{data:b}=await J.from("marketplace_products").select("id").eq("designer_id",t.id).eq("status","live"),y=b?.map(w=>w.id)||[];let j=0;if(y.length>0){const{data:w}=await J.from("product_sales").select("quantity_sold").in("product_id",y);j=w?.reduce((_,N)=>_+N.quantity_sold,0)||0}const{count:S}=await J.from("designer_follows").select("id",{count:"exact",head:!0}).eq("designer_id",t.id);s({activeStyleboxes:l,completedStyleboxes:c,portfolioItems:d||0,totalEarnings:m,monthlyEarnings:v,pendingPayouts:g,productsSold:j,loveCount:S||0})}catch(o){console.error("Error fetching dashboard stats:",o)}finally{n(!1)}};return f.useEffect(()=>{i();const o=J.channel("dashboard-stats-realtime").on("postgres_changes",{event:"*",schema:"public",table:"portfolio_projects"},()=>{i()}).subscribe();return()=>{J.removeChannel(o)}},[t]),{stats:r,loading:a}}function nre(){const{user:t}=ur(),[r,s]=f.useState([]),[a,n]=f.useState(!0),[i,o]=f.useState(null);return f.useEffect(()=>{if(!t){n(!1);return}(async()=>{try{n(!0),o(null);const{data:c,error:d}=await J.from("stylebox_submissions").select(`
            id,
            status,
            submitted_at,
            styleboxes (
              id,
              title,
              category,
              difficulty,
              submission_deadline,
              thumbnail_url,
              season,
              xp_reward,
              level_number,
              studio_name
            )
          `).eq("designer_id",t.id).eq("status","submitted");if(d)throw d;const u=(c||[]).map(m=>{const h=m.styleboxes,p=m.status==="submitted"?75:50,v=h?.submission_deadline?new Date(h.submission_deadline):null;return{id:m.id,title:h?.title||"Untitled",category:h?.category||"fashion",difficulty:h?.difficulty||"medium",progress:p,dueDate:h?.submission_deadline?xt(new Date(h.submission_deadline),"MMM d"):null,thumbnail:h?.thumbnail_url||null,season:h?.season||null,xpReward:h?.xp_reward||100,levelNumber:h?.level_number||1,studioName:h?.studio_name||null,status:m.status==="submitted"?"submitted":"active",submittedAt:m.submitted_at||null,deadlineDate:v}});s(u)}catch(c){console.error("Error fetching active styleboxes:",c),o(c instanceof Error?c.message:"Failed to fetch active styleboxes")}finally{n(!1)}})()},[t]),{styleboxes:r,loading:a,error:i}}function ire(){const{user:t}=ur(),[r,s]=f.useState(null),[a,n]=f.useState(!0),[i,o]=f.useState(null);return f.useEffect(()=>{if(!t){n(!1);return}(async()=>{try{n(!0),o(null);const{data:c,error:d}=await J.from("team_members").select(`
            team_id,
            role,
            teams (
              id,
              name
            )
          `).eq("user_id",t.id).limit(1).maybeSingle();if(d)throw d;if(!c){s(null),n(!1);return}const u=c.teams,{data:m,error:h}=await J.from("team_members").select(`
            user_id,
            role
          `).eq("team_id",c.team_id);if(h)throw h;const p=m?.map(y=>y.user_id)||[],{data:v}=await J.from("profiles").select("user_id, name, avatar_url").in("user_id",p),x=(m||[]).map(y=>{const j=v?.find(S=>S.user_id===y.user_id);return{name:j?.name||"Unknown",avatar:j?.avatar_url||null,role:y.role==="lead"?"Lead":"Member"}}),{data:g}=await J.from("team_stylebox_submissions").select(`
            styleboxes (
              title
            )
          `).eq("team_id",c.team_id).in("status",["forming","in_progress","submitted"]).limit(1).maybeSingle(),b=g?.styleboxes?g.styleboxes.title:null;s({teamName:u?.name||"My Team",activeProject:b,members:x,unreadMessages:0})}catch(c){console.error("Error fetching team data:",c),o(c instanceof Error?c.message:"Failed to fetch team data")}finally{n(!1)}})()},[t]),{team:r,loading:a,error:i}}const ore=()=>{const{user:t}=ur(),r=wr(),{profile:s,loading:a,markFirstLoginComplete:n}=Um(),{stats:i,loading:o}=are(),{styleboxes:l,loading:c}=nre(),{team:d,loading:u}=ire(),[m,h]=f.useState(!1),[p,v]=f.useState([]),[x,g]=f.useState(!0),b=sre({name:s?.name,isFirstLogin:!1,joinedAt:s?.created_at});f.useEffect(()=>{s?.first_login&&h(!0)},[s?.first_login]);const y=async()=>{h(!1),await n()};f.useEffect(()=>{if(!t){g(!1);return}(async()=>{try{const{data:k}=await J.from("stylebox_submissions").select("*, styleboxes(title)").eq("designer_id",t.id).order("submitted_at",{ascending:!1}).limit(4);if(k&&k.length>0){const C=k.map(P=>({action:P.status==="approved"?"Completed":P.status==="rejected"?"Rejected":"Submitted",project:P.styleboxes?.title||"Stylebox",time:lre(new Date(P.submitted_at)),status:P.status==="approved"?"completed":P.status==="rejected"?"rejected":"pending"}));v(C)}}catch(k){console.error("Error fetching activities:",k)}finally{g(!1)}})()},[t]);const S={currentRank:(()=>{if(s?.rank?.rank_order!==void 0){const k=s.rank.rank_order-2;if(k>=0&&k<yc.length)return yc[k]}return"apprentice"})(),foundationRank:null,styleCredits:s?.xp||0,badges:[]},w={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},_={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.4}}};return e.jsxs(cs,{children:[e.jsx(tre,{isOpen:m,onClose:y,userName:s?.name||void 0}),e.jsxs(W.div,{className:"p-4 sm:p-6 lg:p-8 space-y-8",variants:w,initial:"hidden",animate:"visible",children:[e.jsxs(W.header,{variants:_,className:"relative overflow-hidden rounded-2xl bg-secondary/50 p-6 sm:p-8",role:"banner",children:[e.jsx("div",{className:"absolute inset-0 bg-dot-pattern opacity-30"}),e.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsx("div",{className:"space-y-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-10 w-64"}),e.jsx(rt,{className:"h-5 w-48"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-display-xl",children:b.title}),e.jsx("p",{className:"text-caption text-base",children:b.subtitle})]})}),e.jsxs(T,{variant:"default",size:"lg",className:"gap-2 btn-press shadow-md",onClick:()=>r("/styleboxes"),children:[e.jsx(ct,{className:"h-4 w-4"}),"Explore Styleboxes"]})]})]}),e.jsxs(W.section,{variants:_,"aria-labelledby":"stats-heading",role:"region",children:[e.jsx("h2",{id:"stats-heading",className:"sr-only",children:"Dashboard Statistics"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 sm:gap-5",children:o?e.jsx(e.Fragment,{children:[1,2,3,4].map(N=>e.jsx(rt,{className:"h-32 rounded-xl"},N))}):e.jsxs(e.Fragment,{children:[e.jsx(Gd,{title:"Active Styleboxes",value:i.activeStyleboxes,subtitle:`${i.completedStyleboxes} completed this year`,icon:Mr}),e.jsx(Gd,{title:"Completed",value:i.completedStyleboxes,subtitle:"This year",icon:ri,trend:i.completedStyleboxes>0?{value:12,isPositive:!0}:void 0}),e.jsx(Gd,{title:"Portfolio Items",value:i.portfolioItems,subtitle:`${i.productsSold} published`,icon:As}),e.jsx(Gd,{title:"Love Count",value:i.loveCount,subtitle:"Total followers",icon:gd}),e.jsx(Gd,{title:"Earnings",value:`$${i.monthlyEarnings.toLocaleString()}`,subtitle:"This month",icon:Rs,trend:i.monthlyEarnings>0?{value:23,isPositive:!0}:void 0})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(W.div,{className:"lg:col-span-3",variants:_,children:e.jsx(G,{className:"bg-gradient-to-r from-primary/10 via-secondary/10 to-accent/10 border-primary/20",children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:e.jsx(ct,{className:"h-6 w-6 text-primary animate-pulse"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["Founding Designers Program",e.jsx(B,{variant:"secondary",children:"Limited Slots"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Launch your debut collection with 40% profit-sharing model"})]})]}),e.jsxs(T,{onClick:()=>r("/founding-designers"),className:"gap-2",children:[e.jsx(Ya,{className:"h-4 w-4"}),"Apply Now"]})]})})})}),e.jsxs(W.div,{className:"lg:col-span-2 space-y-6",variants:_,children:[e.jsxs(G,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between pb-4 border-b border-border",children:[e.jsxs(Ne,{className:"flex items-center gap-2.5 text-lg",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-secondary",children:e.jsx(Mr,{className:"h-4 w-4 text-foreground"})}),"Active Styleboxes"]}),e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1.5 text-muted-foreground hover:text-foreground",onClick:()=>r("/styleboxes"),children:["View All",e.jsx(St,{className:"h-4 w-4"})]})]}),e.jsx(Y,{className:"pt-6",children:c?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:[e.jsx(rt,{className:"h-48 rounded-xl"}),e.jsx(rt,{className:"h-48 rounded-xl"})]}):l.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5",children:l.map(N=>e.jsx(Wte,{id:N.id,title:N.title,category:N.category,difficulty:N.difficulty,season:N.season||void 0,levelNumber:N.levelNumber,xpReward:N.xpReward,deadline:N.deadlineDate||void 0,thumbnail:N.thumbnail||void 0,studioName:N.studioName||void 0,progress:N.progress,status:N.status==="submitted"?"submitted":"active"},N.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Mr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h4",{className:"font-medium mb-2",children:"No Active Styleboxes"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start a new challenge to build your portfolio"}),e.jsx(T,{onClick:()=>r("/styleboxes"),children:"Browse Styleboxes"})]})})]}),e.jsxs(G,{children:[e.jsx(je,{className:"pb-4 border-b border-border",children:e.jsx(Ne,{className:"text-lg",children:"Recent Activity"})}),e.jsx(Y,{className:"pt-4",children:x?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>e.jsx(rt,{className:"h-12"},N))}):p.length>0?e.jsx("div",{className:"divide-y divide-border",children:p.map((N,k)=>e.jsxs("div",{className:"flex items-center justify-between py-4 first:pt-0 last:pb-0 group",role:"listitem",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-foreground/20 group-hover:bg-foreground/40 transition-colors"}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:N.action})," ",e.jsx("span",{className:"font-medium",children:N.project})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})]}),e.jsx(B,{variant:N.status==="completed"?"success":N.status==="pending"?"warning":N.status==="published"?"default":"secondary",children:N.status})]},k))}):e.jsx(rre,{})})]})]}),e.jsxs(W.aside,{className:"space-y-6",variants:_,role:"complementary","aria-label":"Sidebar widgets",children:[e.jsx(dv,{children:e.jsx(Jte,{...S})}),e.jsx(dv,{children:u?e.jsx(rt,{className:"h-48 rounded-xl"}):d?e.jsx(Zte,{...d}):e.jsx(G,{children:e.jsxs(Y,{className:"py-8 text-center",children:[e.jsx("h4",{className:"font-medium mb-2",children:"No Team Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Join or create a team to collaborate"}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>r("/teams"),children:"Explore Teams"})]})})}),e.jsx(dv,{children:e.jsx(ere,{totalEarnings:i.totalEarnings,monthlyEarnings:i.monthlyEarnings,pendingPayouts:i.pendingPayouts,productsSold:i.productsSold,trend:i.monthlyEarnings>0?23:0})})]})]})]})]})};function lre(t){const s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),n=Math.floor(s/36e5),i=Math.floor(s/864e5);return a<60?`${a} minutes ago`:n<24?`${n} hours ago`:i<7?`${i} days ago`:`${Math.floor(i/7)} weeks ago`}const cre={easy:"bg-success/10 text-success border-success/20",medium:"bg-warning/10 text-warning border-warning/20",hard:"bg-destructive/10 text-destructive border-destructive/20",insane:"bg-accent/10 text-accent border-accent/20"},dre={fashion:"",textile:"",jewelry:""};function Sh({walkthrough:t,progress:r,userRank:s,userSubscription:a}){const n=wr(),o=(Array.isArray(t.steps)?t.steps:[]).length||1,l=Array.isArray(r?.completed_steps)?r.completed_steps.length:0,c=l/o*100,d=!!r?.completed_at,u=!!r&&!r.completed_at,m=!1,h=()=>{n(`/walkthroughs/${t.id}`)};return e.jsxs(G,{className:q("group relative overflow-hidden transition-all duration-300","hover:shadow-lg hover:-translate-y-1",m,d&&"border-success/30 bg-success/5"),children:[d&&e.jsx("div",{className:"absolute right-3 top-3 z-10",children:e.jsxs(B,{variant:"outline",className:"gap-1 border-success/30 bg-success/10 text-success",children:[e.jsx(Mt,{className:"h-3 w-3"}),"Completed"]})}),u&&!d&&e.jsx("div",{className:"absolute right-3 top-3 z-10",children:e.jsxs(B,{variant:"outline",className:"gap-1 border-accent/30 bg-accent/10 text-accent",children:[e.jsx(n2,{className:"h-3 w-3"}),"In Progress"]})}),m,e.jsx(je,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-accent text-xl",children:dre[t.category]||""}),e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsx("h3",{className:"font-display text-lg font-semibold text-foreground line-clamp-1",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(B,{variant:"outline",className:"text-xs capitalize",children:t.category}),e.jsx(B,{variant:"outline",className:q("text-xs capitalize",cre[t.difficulty]),children:t.difficulty})]})]})]})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:t.description||"Master essential design skills through guided practice."}),u&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progress"}),e.jsxs("span",{className:"font-medium text-foreground",children:[l,"/",o," steps"]})]}),e.jsx(la,{value:c,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ws,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[o," steps"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ct,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["+",t.xp_reward||100," XP"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ze,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["~",Math.ceil(o*10)," min"]})]})]})]}),e.jsx(Tc,{className:"pt-0",children:e.jsx(T,{variant:d?"outline":u?"default":"outline",className:"w-full gap-2",onClick:h,disabled:m,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"h-4 w-4"}),"Review"]}):u?e.jsxs(e.Fragment,{children:[e.jsx(n2,{className:"h-4 w-4"}),"Continue"]}):e.jsxs(e.Fragment,{children:["Start Walkthrough",e.jsx(St,{className:"h-4 w-4"})]})})})]})}function ure(){const{user:t}=ur(),[r,s]=f.useState("all"),[a,n]=f.useState(""),{data:i,isLoading:o}=Oe({queryKey:["walkthroughs",r],queryFn:async()=>{let x=J.from("styleboxes").select("*").eq("is_walkthrough",!0).eq("status","active").order("created_at",{ascending:!1});r!=="all"&&(x=x.eq("category",r));const{data:g,error:b}=await x;if(b)throw b;return g}}),{data:l}=Oe({queryKey:["walkthrough-progress",t?.id],queryFn:async()=>{if(!t?.id)return[];const{data:x,error:g}=await J.from("walkthrough_progress").select("*").eq("designer_id",t.id);if(g)throw g;return x},enabled:!!t?.id}),{data:c}=Oe({queryKey:["profile",t?.id],queryFn:async()=>{if(!t?.id)return null;const{data:x,error:g}=await J.from("profiles").select("*").eq("user_id",t.id).maybeSingle();if(g)throw g;return x},enabled:!!t?.id}),d=new Map(l?.map(x=>[x.stylebox_id,x])||[]),u=i?.filter(x=>x.title.toLowerCase().includes(a.toLowerCase())||x.description?.toLowerCase().includes(a.toLowerCase()))||[],m=u.filter(x=>{const g=d.get(x.id);return g&&!g.completed_at}),h=u.filter(x=>d.get(x.id)?.completed_at),p=u.filter(x=>!d.get(x.id)),v=[{value:"all",label:"All Tracks"},{value:"fashion",label:"Fashion"},{value:"textile",label:"Textile"},{value:"jewelry",label:"Jewelry"}];return e.jsx(cs,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-accent",children:e.jsx(ws,{className:"h-6 w-6 text-accent-foreground"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-semibold text-foreground",children:"Walkthroughs"}),e.jsx("p",{className:"text-muted-foreground",children:"Guided learning paths to build your design skills"})]})]})}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"relative flex-1 lg:w-72",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search walkthroughs...",value:a,onChange:x=>n(x.target.value),className:"pl-9"})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(x=>e.jsxs(T,{variant:r===x.value?"default":"outline",size:"sm",onClick:()=>s(x.value),className:"gap-2",children:[x.value!=="all"&&e.jsx(Al,{className:"h-3.5 w-3.5"}),x.label]},x.value))}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[e.jsx("div",{className:"rounded-xl border bg-card p-4 shadow-card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10",children:e.jsx(ct,{className:"h-5 w-5 text-accent"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:m.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"In Progress"})]})]})}),e.jsx("div",{className:"rounded-xl border bg-card p-4 shadow-card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-success/10",children:e.jsx(ws,{className:"h-5 w-5 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:h.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})}),e.jsx("div",{className:"rounded-xl border bg-card p-4 shadow-card",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(ws,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:p.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Available"})]})]})})]}),e.jsxs(Nr,{defaultValue:"all",className:"space-y-6",children:[e.jsxs(br,{className:"grid w-full max-w-md grid-cols-4",children:[e.jsxs(Ee,{value:"all",children:["All",e.jsx(B,{variant:"secondary",className:"ml-2",children:u.length})]}),e.jsxs(Ee,{value:"in-progress",children:["In Progress",e.jsx(B,{variant:"secondary",className:"ml-2",children:m.length})]}),e.jsxs(Ee,{value:"completed",children:["Completed",e.jsx(B,{variant:"secondary",className:"ml-2",children:h.length})]}),e.jsxs(Ee,{value:"available",children:["Available",e.jsx(B,{variant:"secondary",className:"ml-2",children:p.length})]})]}),e.jsx(Te,{value:"all",className:"space-y-6",children:o?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(x=>e.jsx("div",{className:"h-64 animate-pulse rounded-xl bg-muted"},x))}):u.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border bg-card py-16 text-center",children:[e.jsx(ws,{className:"h-12 w-12 text-muted-foreground/50"}),e.jsx("h3",{className:"mt-4 font-display text-lg font-medium text-foreground",children:"No Walkthroughs Found"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:a?"Try adjusting your search or filters":"New walkthroughs coming soon!"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(x=>e.jsx(Sh,{walkthrough:x,progress:d.get(x.id),userRank:c?.rank_id,userSubscription:c?.subscription_tier},x.id))})}),e.jsx(Te,{value:"in-progress",className:"space-y-6",children:m.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border bg-card py-16 text-center",children:[e.jsx(ct,{className:"h-12 w-12 text-muted-foreground/50"}),e.jsx("h3",{className:"mt-4 font-display text-lg font-medium text-foreground",children:"No Walkthroughs In Progress"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start a walkthrough to begin learning"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:m.map(x=>e.jsx(Sh,{walkthrough:x,progress:d.get(x.id),userRank:c?.rank_id,userSubscription:c?.subscription_tier},x.id))})}),e.jsx(Te,{value:"completed",className:"space-y-6",children:h.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border bg-card py-16 text-center",children:[e.jsx(ws,{className:"h-12 w-12 text-muted-foreground/50"}),e.jsx("h3",{className:"mt-4 font-display text-lg font-medium text-foreground",children:"No Completed Walkthroughs"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Complete walkthroughs to earn XP and build your portfolio"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:h.map(x=>e.jsx(Sh,{walkthrough:x,progress:d.get(x.id),userRank:c?.rank_id,userSubscription:c?.subscription_tier},x.id))})}),e.jsx(Te,{value:"available",className:"space-y-6",children:p.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl border bg-card py-16 text-center",children:[e.jsx(ws,{className:"h-12 w-12 text-muted-foreground/50"}),e.jsx("h3",{className:"mt-4 font-display text-lg font-medium text-foreground",children:"All Walkthroughs Started"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"You've started all available walkthroughs"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:p.map(x=>e.jsx(Sh,{walkthrough:x,progress:d.get(x.id),userRank:c?.rank_id,userSubscription:c?.subscription_tier},x.id))})})]})]})})}function mre(){const{id:t}=ci(),r=wr(),{user:s}=ur(),a=ft(),[n,i]=f.useState(""),{data:o,isLoading:l}=Oe({queryKey:["walkthrough",t],queryFn:async()=>{const{data:S,error:w}=await J.from("styleboxes").select("*").eq("id",t).eq("is_walkthrough",!0).maybeSingle();if(w)throw w;return S},enabled:!!t}),{data:c,isLoading:d}=Oe({queryKey:["walkthrough-progress",t,s?.id],queryFn:async()=>{if(!s?.id||!t)return null;const{data:S,error:w}=await J.from("walkthrough_progress").select("*").eq("designer_id",s.id).eq("stylebox_id",t).maybeSingle();if(w)throw w;return S},enabled:!!s?.id&&!!t}),u=ze({mutationFn:async()=>{if(!s?.id||!t)throw new Error("Missing user or walkthrough ID");const{data:S,error:w}=await J.from("walkthrough_progress").insert({designer_id:s.id,stylebox_id:t,current_step:0,completed_steps:[]}).select().single();if(w)throw w;return S},onSuccess:()=>{a.invalidateQueries({queryKey:["walkthrough-progress"]}),Re.success("Walkthrough started!")},onError:S=>{Re.error("Failed to start walkthrough"),console.error(S)}}),m=ze({mutationFn:async S=>{if(!s?.id||!t||!c)throw new Error("Missing data");const w=Array.isArray(c.completed_steps)?[...c.completed_steps]:[];w.includes(S)||w.push(S);const _=Array.isArray(o?.steps)?o.steps:[];_.length-1;const N=w.length===_.length,{data:k,error:C}=await J.from("walkthrough_progress").update({current_step:Math.min(S+1,_.length-1),completed_steps:w,completed_at:N?new Date().toISOString():null}).eq("id",c.id).select().single();if(C)throw C;return{data:k,allCompleted:N}},onSuccess:({allCompleted:S})=>{a.invalidateQueries({queryKey:["walkthrough-progress"]}),S?Re.success(`Walkthrough completed! +${o?.xp_reward||100} XP`):Re.success("Step completed!")},onError:S=>{Re.error("Failed to complete step"),console.error(S)}}),h=ze({mutationFn:async()=>{if(!c)throw new Error("No progress found");const{error:S}=await J.from("walkthrough_progress").update({added_to_portfolio:!0}).eq("id",c.id);if(S)throw S},onSuccess:()=>{a.invalidateQueries({queryKey:["walkthrough-progress"]}),Re.success("Added to portfolio!")},onError:S=>{Re.error("Failed to add to portfolio"),console.error(S)}});if(l||d)return e.jsx(cs,{children:e.jsx("div",{className:"flex items-center justify-center py-24",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-accent border-t-transparent"})})});if(!o)return e.jsx(cs,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[e.jsx(ws,{className:"h-12 w-12 text-muted-foreground/50"}),e.jsx("h2",{className:"mt-4 font-display text-xl font-semibold",children:"Walkthrough Not Found"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"This walkthrough doesn't exist or is no longer available."}),e.jsx(T,{className:"mt-6",onClick:()=>r("/walkthroughs"),children:"Back to Walkthroughs"})]})});const p=Array.isArray(o.steps)?o.steps:[],v=c?.current_step||0,x=Array.isArray(c?.completed_steps)?c.completed_steps:[],g=!!c?.completed_at,b=!!c,y=p.length>0?x.length/p.length*100:0,j=p[v];return e.jsx(cs,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>r("/walkthroughs"),className:"gap-2",children:[e.jsx(ba,{className:"h-4 w-4"}),"Back to Walkthroughs"]}),e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{variant:"outline",className:"capitalize",children:o.category}),e.jsx(B,{variant:"outline",className:"capitalize",children:o.difficulty}),g&&e.jsxs(B,{variant:"outline",className:"gap-1 border-success/30 bg-success/10 text-success",children:[e.jsx(Mt,{className:"h-3 w-3"}),"Completed"]})]}),e.jsx("h1",{className:"font-display text-3xl font-semibold text-foreground",children:o.title}),e.jsx("p",{className:"max-w-2xl text-muted-foreground",children:o.description})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsxs("span",{children:[p.length," steps"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ct,{className:"h-4 w-4"}),e.jsxs("span",{children:["+",o.xp_reward||100," XP"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ze,{className:"h-4 w-4"}),e.jsxs("span",{children:["~",Math.ceil(p.length*10)," min"]})]})]})]}),b&&e.jsx(G,{children:e.jsxs(Y,{className:"py-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Your Progress"}),e.jsxs("span",{className:"font-medium",children:[x.length,"/",p.length," steps completed"]})]}),e.jsx(la,{value:y,className:"h-3"})]})}),!b&&e.jsx(G,{className:"border-accent/30 bg-accent/5",children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Au,{className:"h-12 w-12 text-accent"}),e.jsx("h3",{className:"mt-4 font-display text-xl font-semibold",children:"Ready to Begin?"}),e.jsx("p",{className:"mt-2 max-w-md text-muted-foreground",children:"This guided walkthrough will help you build essential design skills step by step."}),e.jsxs(T,{className:"mt-6 gap-2",onClick:()=>u.mutate(),disabled:u.isPending,children:["Start Walkthrough",e.jsx(St,{className:"h-4 w-4"})]})]})}),b&&p.length>0&&e.jsxs("div",{className:"grid gap-6 lg:grid-cols-4",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(G,{children:[e.jsx(je,{className:"pb-3",children:e.jsx(Ne,{className:"text-base",children:"Steps"})}),e.jsx(Y,{className:"space-y-1 p-2",children:p.map((S,w)=>{const _=x.includes(w),N=w===v;return e.jsxs("button",{onClick:()=>{c&&J.from("walkthrough_progress").update({current_step:w}).eq("id",c.id).then(()=>{a.invalidateQueries({queryKey:["walkthrough-progress"]})})},className:q("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-left text-sm transition-colors",N?"bg-accent/10 text-accent":"hover:bg-muted",_&&"text-success"),children:[e.jsx("div",{className:q("flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-xs font-medium",_?"bg-success text-success-foreground":N?"bg-accent text-accent-foreground":"bg-muted text-muted-foreground"),children:_?e.jsx(Mt,{className:"h-3.5 w-3.5"}):w+1}),e.jsx("span",{className:"truncate",children:S.title||`Step ${w+1}`})]},w)})})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs(G,{children:[e.jsxs(je,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(B,{variant:"outline",children:["Step ",v+1," of ",p.length]}),x.includes(v)&&e.jsxs(B,{variant:"outline",className:"gap-1 border-success/30 text-success",children:[e.jsx(Mt,{className:"h-3 w-3"}),"Completed"]})]}),e.jsx(Ne,{className:"font-display text-xl",children:j?.title||`Step ${v+1}`})]}),e.jsxs(Y,{className:"space-y-6",children:[e.jsx("p",{className:"text-muted-foreground",children:j?.description||"Complete this step to continue."}),j?.instructions&&j.instructions.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Instructions"}),e.jsx("ol",{className:"space-y-2 pl-4",children:j.instructions.map((S,w)=>e.jsx("li",{className:"list-decimal text-sm text-muted-foreground",children:S},w))})]}),j?.tips&&j.tips.length>0&&e.jsxs("div",{className:"rounded-lg border border-accent/30 bg-accent/5 p-4",children:[e.jsxs("h4",{className:"mb-2 flex items-center gap-2 font-medium text-accent",children:[e.jsx(ct,{className:"h-4 w-4"}),"Pro Tips"]}),e.jsx("ul",{className:"space-y-1",children:j.tips.map((S,w)=>e.jsxs("li",{className:"text-sm text-muted-foreground",children:[" ",S]},w))})]}),j?.deliverable&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Deliverable"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:j.deliverable}),e.jsx(nt,{placeholder:"Describe your work or paste a link to your submission...",value:n,onChange:S=>i(S.target.value),rows:4})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(T,{variant:"outline",onClick:()=>{c&&v>0&&J.from("walkthrough_progress").update({current_step:v-1}).eq("id",c.id).then(()=>{a.invalidateQueries({queryKey:["walkthrough-progress"]})})},disabled:v===0,className:"gap-2",children:[e.jsx(ba,{className:"h-4 w-4"}),"Previous"]}),x.includes(v)?v<p.length-1?e.jsxs(T,{onClick:()=>{c&&J.from("walkthrough_progress").update({current_step:v+1}).eq("id",c.id).then(()=>{a.invalidateQueries({queryKey:["walkthrough-progress"]})})},className:"gap-2",children:["Next Step",e.jsx(St,{className:"h-4 w-4"})]}):null:e.jsxs(T,{onClick:()=>m.mutate(v),disabled:m.isPending,className:"gap-2",children:[e.jsx(Mt,{className:"h-4 w-4"}),"Mark as Complete"]})]})]})]}),g&&e.jsx(G,{className:"border-success/30 bg-success/5",children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Mt,{className:"h-12 w-12 text-success"}),e.jsx("h3",{className:"mt-4 font-display text-xl font-semibold text-success",children:"Walkthrough Complete!"}),e.jsxs("p",{className:"mt-2 max-w-md text-muted-foreground",children:["Congratulations! You've earned +",o.xp_reward||100," XP for completing this walkthrough."]}),!c?.added_to_portfolio&&e.jsxs(T,{className:"mt-6 gap-2",onClick:()=>h.mutate(),disabled:h.isPending,children:[e.jsx(A0,{className:"h-4 w-4"}),"Add to Portfolio"]}),c?.added_to_portfolio&&e.jsxs(B,{variant:"outline",className:"mt-6 gap-1 border-success/30 text-success",children:[e.jsx(Mt,{className:"h-3 w-3"}),"Added to Portfolio"]})]})})]})})}const hre=()=>{const t=wr(),[r,s]=f.useState(""),[a,n]=f.useState("all"),[i,o]=f.useState("all"),[l,c]=f.useState("all"),[d,u]=f.useState("newest"),{data:m=[],isLoading:h}=Oe({queryKey:["styleboxes",a,i,l],queryFn:async()=>{let x=J.from("styleboxes").select("*").eq("status","active").order("created_at",{ascending:!1});a!=="all"&&(x=x.eq("category",a)),i!=="all"&&(x=x.eq("difficulty",i)),l!=="all"&&(x=x.eq("level_number",parseInt(l)));const{data:g,error:b}=await x;if(b)throw b;return g||[]}}),{data:p}=Oe({queryKey:["featured-stylebox"],queryFn:async()=>{const{data:x,error:g}=await J.from("styleboxes").select("*").eq("status","active").eq("is_featured",!0).limit(1).single();if(g&&g.code!=="PGRST116")throw g;return x}}),v=m.filter(x=>x.title.toLowerCase().includes(r.toLowerCase())||x.description?.toLowerCase().includes(r.toLowerCase())).sort((x,g)=>{switch(d){case"deadline":return x.submission_deadline?g.submission_deadline?new Date(x.submission_deadline).getTime()-new Date(g.submission_deadline).getTime():-1:1;case"sc_reward":return(g.xp_reward||0)-(x.xp_reward||0);case"level":return(x.level_number||1)-(g.level_number||1);default:return new Date(g.created_at).getTime()-new Date(x.created_at).getTime()}});return e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"Stylebox Library"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Choose your next creative challenge and level up your design skills"})]}),p&&e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-dark p-6 lg:p-8",children:[e.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(B,{variant:"accent",className:"gap-1",children:[e.jsx(ct,{className:"h-3 w-3"}),"Featured Challenge"]}),e.jsx(B,{variant:p.difficulty,children:p.difficulty.charAt(0).toUpperCase()+p.difficulty.slice(1)}),e.jsx(k1,{level:p.level_number||1,size:"sm"})]}),e.jsx("h2",{className:"font-display text-2xl lg:text-3xl font-bold text-primary-foreground",children:p.title}),e.jsx("p",{className:"text-primary-foreground/70 max-w-xl line-clamp-2",children:p.description||"Join this exclusive challenge and showcase your design skills."}),e.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[e.jsx(A1,{difficulty:p.difficulty}),p.submission_deadline&&e.jsx(C1,{deadline:p.submission_deadline,compact:!0}),p.studio_name&&e.jsxs("span",{className:"text-sm text-primary-foreground/60",children:["Curated by ",p.studio_name]})]})]}),e.jsxs(T,{variant:"accent",size:"lg",className:"shrink-0 gap-2",onClick:()=>t(`/styleboxes/${p.id}`),children:["Enter Challenge",e.jsx(St,{className:"h-4 w-4"})]})]}),p.thumbnail_url&&e.jsxs("div",{className:"absolute top-0 right-0 w-1/2 h-full opacity-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-transparent to-foreground"}),e.jsx("img",{src:p.thumbnail_url,alt:"",className:"w-full h-full object-cover"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search styleboxes...",className:"pl-10",value:r,onChange:x=>s(x.target.value)})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(qe,{value:a,onValueChange:n,children:[e.jsx(Fe,{className:"w-[140px]",children:e.jsx(Me,{placeholder:"Category"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Categories"}),e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]}),e.jsxs(qe,{value:i,onValueChange:o,children:[e.jsx(Fe,{className:"w-[140px]",children:e.jsx(Me,{placeholder:"Difficulty"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Levels"}),e.jsx(X,{value:"free",children:"Free"}),e.jsx(X,{value:"easy",children:"Easy"}),e.jsx(X,{value:"medium",children:"Medium"}),e.jsx(X,{value:"hard",children:"Hard"}),e.jsx(X,{value:"insane",children:"Insane"})]})]}),e.jsxs(qe,{value:l,onValueChange:c,children:[e.jsx(Fe,{className:"w-[120px]",children:e.jsx(Me,{placeholder:"Level"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Levels"}),e.jsx(X,{value:"1",children:"Level I"}),e.jsx(X,{value:"2",children:"Level II"}),e.jsx(X,{value:"3",children:"Level III"}),e.jsx(X,{value:"4",children:"Level IV"})]})]}),e.jsxs(qe,{value:d,onValueChange:u,children:[e.jsx(Fe,{className:"w-[150px]",children:e.jsx(Me,{placeholder:"Sort by"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"newest",children:"Newest"}),e.jsx(X,{value:"deadline",children:"Ending Soon"}),e.jsx(X,{value:"sc_reward",children:"SC Reward"}),e.jsx(X,{value:"level",children:"Level"})]})]})]})]}),h&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),!h&&v.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No styleboxes found. Check back soon for new challenges!"})}),!h&&v.length>0&&e.jsxs(Nr,{defaultValue:"all",className:"space-y-6",children:[e.jsxs(br,{children:[e.jsx(Ee,{value:"all",children:"All Styleboxes"}),e.jsx(Ee,{value:"free",children:"Free"}),e.jsx(Ee,{value:"premium",children:"Premium"})]}),e.jsx(Te,{value:"all",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(x=>e.jsx(uv,{stylebox:x},x.id))})}),e.jsx(Te,{value:"free",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.filter(x=>x.difficulty==="free").map(x=>e.jsx(uv,{stylebox:x},x.id))})}),e.jsx(Te,{value:"premium",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.filter(x=>x.difficulty!=="free").map(x=>e.jsx(uv,{stylebox:x},x.id))})})]})]})})};function uv({stylebox:t}){const r=wr(),s=new Date(t.created_at).getTime()>Date.now()-10080*60*1e3;return e.jsxs(G,{hover:!0,className:"overflow-hidden group cursor-pointer card-interactive",onClick:()=>r(`/styleboxes/${t.id}`),children:[e.jsxs("div",{className:"aspect-[16/9] relative overflow-hidden",children:[e.jsx("img",{src:t.thumbnail_url||`https://images.unsplash.com/photo-1558171813-4c088753af8f?w=600&sig=${t.id}`,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/90 via-foreground/30 to-transparent"}),e.jsxs("div",{className:"absolute top-3 left-3 right-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k1,{level:t.level_number||1,size:"sm"}),t.season&&e.jsx(B,{variant:"season",className:"text-xs",children:t.season}),s&&e.jsx(B,{variant:"success",className:"text-xs",children:"New"})]}),t.is_team_challenge&&e.jsx(B,{variant:"secondary",className:"text-xs",children:"Team"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{variant:t.difficulty||"easy",className:"text-xs shadow-sm",children:t.difficulty?.charAt(0).toUpperCase()+t.difficulty?.slice(1)||"Easy"}),e.jsx(B,{variant:"secondary",className:"text-xs bg-background/90 backdrop-blur-sm border-0",children:t.category?.charAt(0).toUpperCase()+t.category?.slice(1)||"Fashion"})]}),e.jsx("h3",{className:"font-display text-lg font-semibold text-primary-foreground leading-tight line-clamp-2",children:t.title}),t.studio_name&&e.jsxs("p",{className:"text-xs text-primary-foreground/70 mt-1",children:["Curated by ",t.studio_name]})]})]}),e.jsxs(Y,{className:"p-4 space-y-3",children:[t.description&&e.jsx(xx,{html:t.description,className:"text-sm text-muted-foreground line-clamp-2",tagName:"p"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(A1,{difficulty:t.difficulty,compact:!0}),t.submission_deadline?e.jsx(C1,{deadline:t.submission_deadline,compact:!0,showIcon:!0}):e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(Ze,{className:"h-3 w-3"}),e.jsx("span",{children:"No deadline"})]})]}),e.jsxs(T,{variant:"ghost",size:"sm",className:"w-full gap-1.5 btn-press font-medium hover:bg-foreground hover:text-background",children:["View Challenge",e.jsx(St,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5"})]})]})]})}function fre({data:t,darkroomMode:r}){const[s,a]=f.useState(!1),[n,i]=f.useState(100),o=t?.silhouette==="Custom"?t?.custom_silhouette||"Custom":t?.silhouette||"Not specified";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:q("border-r border-b p-8 flex flex-col gap-6 relative group",r?"border-white/10 bg-[#1a1a1a]":"border-gray-200 bg-white"),children:[e.jsx("div",{className:q("absolute top-4 left-4 text-[10px] font-bold uppercase tracking-[0.2em]",r?"text-white/40":"text-gray-400"),children:"Q1: Archetype"}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-8 max-w-xl mx-auto w-full mt-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:q("text-3xl font-serif italic",r?"text-white/90":"text-gray-900"),children:o}),e.jsx("div",{className:q("text-[10px] uppercase font-bold tracking-widest",r?"text-white/50":"text-gray-500"),children:"Commercial Constant"}),e.jsx("p",{className:q("text-sm leading-relaxed font-light",r?"text-white/60":"text-gray-600"),children:t?.rationale||"No rationale provided for this archetype."})]}),e.jsx("div",{className:q("relative aspect-[4/5] rounded-sm overflow-hidden shadow-2xl",r?"bg-white/5 border border-white/5":"bg-gray-100 border border-gray-200"),children:t?.anchor_image?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.anchor_image,alt:"Anchor Reference",className:"w-full h-full object-contain cursor-zoom-in",onClick:()=>a(!0)}),e.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(T,{size:"icon",variant:"secondary",className:q("h-8 w-8 rounded-full",r?"bg-white/10 hover:bg-white/20 border-white/10":"bg-gray-800/80 hover:bg-gray-800"),onClick:()=>a(!0),children:e.jsx(r_,{className:q("h-4 w-4","text-white")})})})]}):e.jsx("div",{className:q("w-full h-full flex items-center justify-center uppercase tracking-widest text-[10px]",r?"text-white/20":"text-gray-300"),children:"Reference Anchor"})})]})]}),e.jsx(Et,{open:s,onOpenChange:a,children:e.jsx(Pt,{className:q("max-w-[95vw] max-h-[95vh] p-0 overflow-hidden",r?"bg-black border-white/10":"bg-white"),children:e.jsxs("div",{className:"relative w-full h-[90vh]",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 bg-black/50 hover:bg-black/70",onClick:()=>a(!1),children:e.jsx(ht,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-2 bg-black/80 rounded-full px-4 py-2",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>i(l=>Math.max(50,l-25)),className:"h-8 px-3 text-white hover:bg-white/10",disabled:n<=50,children:""}),e.jsxs("span",{className:"text-white text-xs font-mono min-w-[60px] text-center",children:[n,"%"]}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>i(l=>Math.min(200,l+25)),className:"h-8 px-3 text-white hover:bg-white/10",disabled:n>=200,children:"+"}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>i(100),className:"h-8 px-3 text-white hover:bg-white/10 ml-2",children:"Reset"})]}),e.jsx("div",{className:"w-full h-full overflow-auto p-8 flex items-center justify-center",children:t?.anchor_image&&e.jsx("img",{src:t.anchor_image,alt:"Anchor Reference - Zoomed",className:"transition-transform duration-200",style:{transform:`scale(${n/100})`,transformOrigin:"center center"}})})]})})})]})}function pre({data:t,darkroomMode:r}){const[s,a]=f.useState(!1),[n,i]=f.useState(0),o=t?.moodboard||[],l=u=>{i(u),a(!0)},c=()=>{i(u=>(u+1)%o.length)},d=()=>{i(u=>u===0?o.length-1:u-1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:q("border-b p-8 flex flex-col gap-6 relative",r?"border-white/10 bg-[#1a1a1a]":"border-gray-200 bg-white"),children:[e.jsx("div",{className:q("absolute top-4 left-4 text-[10px] font-bold uppercase tracking-[0.2em]",r?"text-white/40":"text-gray-400"),children:"Q2: Mutation"}),e.jsxs("div",{className:"flex-1 flex flex-col gap-8 mt-8",children:[e.jsxs("div",{className:"space-y-4 max-w-xl",children:[e.jsx("div",{className:q("text-[10px] uppercase font-bold tracking-widest",r?"text-white/50":"text-gray-500"),children:"The Disruption"}),e.jsx("h3",{className:q("text-2xl font-serif italic",r?"text-white/90":"text-gray-900"),children:t?.concept||"The Concept"}),e.jsx("p",{className:q("text-xs leading-relaxed",r?"text-white/50":"text-gray-600"),children:t?.directive||"No creative directive provided."})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 flex-1",children:o.length>0?o.map((u,m)=>e.jsxs("div",{className:q("aspect-square rounded-sm overflow-hidden transition-all hover:scale-[1.02] cursor-zoom-in group relative",r?"bg-white/5 border border-white/5":"bg-gray-100 border border-gray-200"),onClick:()=>l(m),children:[e.jsx("img",{src:u.url,alt:`Mood ${m+1}`,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsx(r_,{className:"h-6 w-6 text-white drop-shadow-lg"})})]},u.id)):Array.from({length:4}).map((u,m)=>e.jsx("div",{className:q("aspect-square rounded-sm overflow-hidden flex items-center justify-center",r?"bg-white/5 border border-white/5":"bg-gray-100 border border-gray-200"),children:e.jsxs("div",{className:q("text-[8px] uppercase tracking-widest",r?"text-white/10":"text-gray-300"),children:["Mood Asset ",m+1]})},m))})]})]}),e.jsx(Et,{open:s,onOpenChange:a,children:e.jsx(Pt,{className:q("max-w-[98vw] max-h-[98vh] p-0 overflow-hidden",r?"bg-black border-white/10":"bg-white"),children:e.jsxs("div",{className:"relative w-full h-[95vh]",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 bg-black/50 hover:bg-black/70",onClick:()=>a(!1),children:e.jsx(ht,{className:"h-4 w-4 text-white"})}),o.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 h-12 w-12",onClick:d,children:e.jsx(Za,{className:"h-6 w-6 text-white"})}),e.jsx(T,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-black/50 hover:bg-black/70 h-12 w-12",onClick:c,children:e.jsx(lr,{className:"h-6 w-6 text-white"})})]}),e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-10 bg-black/80 rounded-full px-4 py-2",children:e.jsxs("span",{className:"text-white text-xs font-mono",children:[n+1," / ",o.length]})}),e.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:o[n]&&e.jsx("img",{src:o[n].url,alt:`Mood Board ${n+1}`,className:"max-w-full max-h-full object-contain"})}),o.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex gap-2 bg-black/80 rounded-full px-4 py-2",children:o.map((u,m)=>e.jsx("button",{onClick:()=>i(m),className:q("w-12 h-12 rounded-md overflow-hidden border-2 transition-all",m===n?"border-white scale-110":"border-white/30 opacity-60 hover:opacity-100"),children:e.jsx("img",{src:u.url,alt:`Thumbnail ${m+1}`,className:"w-full h-full object-cover"})},u.id))})]})})})]})}function xre({data:t,darkroomMode:r}){const[s,a]=f.useState(new Set),n=l=>{const c=new Set(s);c.has(l)?c.delete(l):c.add(l),a(c)},i=t?.points||[],o=t?.tolerances||{};return e.jsxs("div",{className:q("border-r p-8 flex flex-col gap-6 relative",r?"border-white/10 bg-[#1a1a1a]":"border-gray-200 bg-white"),children:[e.jsx("div",{className:q("absolute top-4 left-4 text-[10px] font-bold uppercase tracking-[0.2em]",r?"text-white/40":"text-gray-400"),children:"Q3: Restrictions"}),e.jsxs("div",{className:"flex-1 flex flex-col gap-8 max-w-xl mx-auto w-full mt-8",children:[e.jsx("div",{className:q("text-[10px] uppercase font-bold tracking-widest",r?"text-white/50":"text-gray-500"),children:"Technical Constraints"}),e.jsx("div",{className:"space-y-6",children:i.length>0?i.map(l=>e.jsx("div",{className:q("border-l pl-6 space-y-2",r?"border-white/20":"border-gray-300"),children:e.jsx("div",{className:"flex items-start justify-between gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:q("text-[10px] font-bold uppercase",r?"text-white/30":"text-gray-400"),children:l.type}),e.jsx("h4",{className:q("text-sm font-semibold tracking-wide",r?"text-white/90":"text-gray-900"),children:l.label})]}),l.details&&e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"ghost",size:"sm",className:q("mt-2 h-6 px-2 text-[10px]",r?"hover:bg-white/10":"hover:bg-gray-100"),onClick:()=>n(l.id),children:s.has(l.id)?e.jsxs(e.Fragment,{children:[e.jsx(QN,{className:"h-3 w-3 mr-1"}),"Hide Details"]}):e.jsxs(e.Fragment,{children:[e.jsx(di,{className:"h-3 w-3 mr-1"}),"Show Details"]})}),s.has(l.id)&&e.jsx("p",{className:q("text-xs font-light leading-relaxed mt-2",r?"text-white/40":"text-gray-600"),children:l.details})]})]})})},l.id)):e.jsx("div",{className:q("text-center py-12 text-xs italic",r?"text-white/20":"text-gray-400"),children:"No technical restrictions defined."})}),(o.max_weight||o.max_cost)&&e.jsxs("div",{className:q("mt-auto grid grid-cols-2 gap-4 p-4 rounded-lg",r?"bg-white/5 border border-white/10":"bg-gray-100 border border-gray-200"),children:[o.max_weight&&e.jsxs("div",{children:[e.jsx("div",{className:q("text-[8px] uppercase font-bold mb-1",r?"text-white/30":"text-gray-500"),children:"Max Weight"}),e.jsxs("div",{className:q("text-lg font-mono",r?"text-white/90":"text-gray-900"),children:[o.max_weight," ",e.jsx("span",{className:q("text-[10px]",r?"text-white/40":"text-gray-500"),children:"KG"})]})]}),o.max_cost&&e.jsxs("div",{children:[e.jsx("div",{className:q("text-[8px] uppercase font-bold mb-1",r?"text-white/30":"text-gray-500"),children:"Max Cost"}),e.jsxs("div",{className:q("text-lg font-mono",r?"text-white/90":"text-gray-900"),children:["$",o.max_cost," ",e.jsx("span",{className:q("text-[10px]",r?"text-white/40":"text-gray-500"),children:"USD"})]})]})]})]})]})}function gre({data:t,submission:r,styleboxId:s,darkroomMode:a,isReadOnly:n=!1,onSave:i}){const[o,l]=f.useState(r.manifestation_rationale||""),[c,d]=f.useState(!1),{toast:u}=Ge(),m=async()=>{d(!0);try{const{error:h}=await J.from("stylebox_submissions").update({manifestation_rationale:o,updated_at:new Date().toISOString()}).eq("id",r.id);if(h)throw h;u({title:"Saved",description:"Your rationale has been saved."}),i&&i()}catch(h){console.error("Save error:",h),u({title:"Error",description:"Failed to save rationale.",variant:"destructive"})}finally{d(!1)}};return e.jsxs("div",{className:q("p-8 flex flex-col gap-6 relative",a?"bg-black/40 border-white/5":"bg-gray-50 border-gray-200"),children:[e.jsx("div",{className:q("absolute top-4 left-4 text-[10px] font-bold uppercase tracking-[0.2em]",a?"text-white/40":"text-gray-400"),children:"Q4: Manifestation"}),e.jsxs("div",{className:"flex-1 flex flex-col gap-8 max-w-xl mx-auto w-full h-full mt-8",children:[e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("h3",{className:q("text-sm font-bold uppercase tracking-[0.3em]",a?"text-white/40":"text-gray-500"),children:"The Prompt"}),e.jsxs("p",{className:q("text-xl font-serif italic leading-relaxed",a?"text-white/80":"text-gray-800"),children:['"',t?.prompt||"Final design prompt will appear here.",'"']})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:q("text-xs font-bold uppercase tracking-wider",a?"text-white/60":"text-gray-600"),children:"Your Rationale (How you met the constraints)"}),e.jsx(nt,{value:o,onChange:h=>l(h.target.value),disabled:n,placeholder:n?"No rationale provided.":"Explain your design approach, material choices, and how you addressed the technical restrictions...",className:q("min-h-[120px] resize-none font-light",a?"bg-white/5 border-white/10 text-white/90 placeholder:text-white/30":"bg-white border-gray-300 text-gray-900",n&&"opacity-70")}),!n&&e.jsx("div",{className:"flex justify-end",children:e.jsx(T,{size:"sm",variant:"outline",onClick:m,disabled:c,className:q("gap-2 text-[11px]",a&&"border-white/20 hover:bg-white/10"),children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-3 w-3 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ka,{className:"h-3 w-3"}),"Save Rationale"]})})})]}),e.jsxs("div",{className:q("flex-1 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center gap-4 min-h-[200px]",a?"border-white/10 bg-white/[0.02]":"border-gray-300 bg-gray-100"),children:[e.jsx("div",{className:q("p-4 rounded-full",a?"bg-white/5":"bg-gray-200"),children:e.jsx(zr,{className:q("h-8 w-8",a?"text-white/20":"text-gray-400")})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:q("text-sm font-medium",a?"text-white/60":"text-gray-700"),children:"Upload your deliverables"}),e.jsx("p",{className:q("text-[10px] mt-1 uppercase tracking-widest",a?"text-white/30":"text-gray-500"),children:"Use sidebar checklist to upload files"})]})]})]})]})}async function P1(t,r={text:"ADORZIA INTERNAL DRAFT",opacity:.3}){return new Promise((s,a)=>{const n=new Image,i=new FileReader;i.onload=o=>{n.onload=()=>{const l=document.createElement("canvas"),c=l.getContext("2d");if(!c){a(new Error("Could not get canvas context"));return}l.width=n.width,l.height=n.height,c.drawImage(n,0,0);const d=r.fontSize||Math.floor(l.width/20);c.font=`bold ${d}px sans-serif`,c.fillStyle=r.color||"rgba(255, 255, 255, "+(r.opacity||.3)+")",c.textAlign="center",c.textBaseline="middle",c.save(),c.translate(l.width/2,l.height/2),c.rotate((r.angle||-45)*Math.PI/180),c.fillText(r.text,0,0),c.font=`bold ${d/2}px sans-serif`,c.fillText(r.text,0,-d*2),c.fillText(r.text,0,d*2),c.restore(),l.toBlob(u=>{if(u){const m=new File([u],t.name,{type:t.type,lastModified:Date.now()});s(m)}else a(new Error("Canvas toBlob failed"))},t.type)},n.onerror=()=>a(new Error("Image load failed")),n.src=o.target?.result},i.onerror=()=>a(new Error("File read failed")),i.readAsDataURL(t)})}function vre({deliverables:t=[],submission:r,darkroomMode:s,isReadOnly:a=!1,onRefresh:n}){const[i,o]=f.useState(null),[l,c]=f.useState(0),{toast:d}=Ge(),{user:u}=ur(),m=g=>{const b=g.toLowerCase();return b.includes("pdf")||b.includes("document")?Wt:b.includes("jpg")||b.includes("png")||b.includes("image")?No:b.includes("mp4")||b.includes("video")?Hz:b.includes("obj")||b.includes("glb")||b.includes("3d")?Mr:Wt},h=g=>{const b=g.toLowerCase();return b.includes("pdf")?"technical_pack":b.includes("jpg")||b.includes("png")||b.includes("image")?"image_2d":b.includes("mp4")||b.includes("mov")||b.includes("video")?"video":b.includes("obj")||b.includes("glb")||b.includes("3d")?"model_3d":"document"},p=g=>{const b=g.toLowerCase();return b.includes("pdf")?".pdf":b.includes("jpg")||b.includes("png")||b.includes("image")?"image/jpeg,image/png":b.includes("video")?"video/mp4,video/quicktime":b.includes("3d")?".obj,.glb,.gltf":"*"},v=async(g,b)=>{if(u){o(g.id),c(0);try{let y=b;b.type.startsWith("image/")&&(c(10),y=await P1(b,{text:"ADORZIA STUDIO - DRAFT",opacity:.25}),c(30)),b.size>50*1024*1024&&d({title:"Large file detected",description:"Uploading in chunks. This may take a few minutes."});const S=b.name.split(".").pop(),w=`${Math.random().toString(36).substring(2)}_${Date.now()}.${S}`,_=`${u.id}/${r.stylebox_id}/${g.id}/${w}`;c(50);const{error:N}=await J.storage.from("stylebox-designer-submissions").upload(_,y);if(N)throw N;c(70);const{data:{publicUrl:k}}=J.storage.from("stylebox-designer-submissions").getPublicUrl(_),{error:C}=await J.from("submission_files").insert({submission_id:r.id,deliverable_id:g.id,file_name:b.name,file_path:_,file_size:b.size,file_type:h(g.file_type),mime_type:b.type,status:"uploaded",is_watermarked:b.type.startsWith("image/"),preview_url:k});if(C)throw C;c(100),d({title:"Upload successful",description:`${g.name} has been uploaded.`}),n()}catch(y){console.error("Upload error:",y),d({title:"Upload failed",description:"Failed to upload file. Please try again.",variant:"destructive"})}finally{o(null),c(0)}}},x=g=>{const b=document.createElement("input");b.type="file",b.accept="*/*",b.onchange=y=>{const j=y.target.files?.[0];if(j){const S=t.find(w=>w.id===g);S&&v(S,j)}},b.click()};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:q("text-xs font-bold uppercase tracking-widest",s?"text-white/80":"text-gray-900"),children:"Deliverables Checklist"}),e.jsx("p",{className:q("text-[10px] italic",s?"text-white/40":"text-gray-500"),children:"Complete all to activate submission"})]}),e.jsx("div",{className:"space-y-3",children:t.length>0?t.map(g=>{const b=m(g.file_type),y=i===g.id,j=!1;return e.jsx("div",{className:q("p-3 rounded-xl border transition-all",s?"bg-white/5 border-white/10 hover:border-white/20":"bg-white border-gray-200 hover:border-gray-300",j),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:q("h-5 w-5 rounded-full border border-dashed flex-shrink-0 flex items-center justify-center mt-0.5",s?"border-white/30":"border-gray-400"),children:e.jsx(Ze,{className:"h-2.5 w-2.5 text-current opacity-40"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:q("text-xs font-semibold",s?"text-white/90":"text-gray-900"),children:g.name}),g.description&&e.jsx("p",{className:q("text-[10px] mt-0.5",s?"text-white/50":"text-gray-600"),children:g.description})]}),e.jsx(b,{className:q("h-4 w-4 flex-shrink-0",s?"text-white/40":"text-gray-400")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{variant:"outline",className:q("text-[8px] h-4 px-1.5 font-bold",s?"border-white/20 text-white/60":"border-gray-300 text-gray-600"),children:g.file_type}),g.is_required&&e.jsx(B,{variant:"outline",className:"text-[8px] h-4 px-1.5 font-bold border-red-500/50 text-red-500",children:"Required"})]}),y&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[e.jsx("span",{className:q(s?"text-white/60":"text-gray-600"),children:"Uploading..."}),e.jsxs("span",{className:q(s?"text-white/60":"text-gray-600"),children:[l,"%"]})]}),e.jsx("div",{className:"h-1 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${l}%`}})})]}),!y&&!a&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"file",id:`file-input-${g.id}`,accept:p(g.file_type),className:"hidden",onChange:S=>{const w=S.target.files?.[0];if(w){if(w.size>500*1024*1024){d({title:"File too large",description:"Maximum file size is 500MB. Please compress your file.",variant:"destructive"});return}v(g,w)}}}),e.jsxs(T,{size:"sm",variant:"outline",className:q("w-full h-7 text-[10px] gap-1.5",s?"border-white/20 hover:bg-white/10":"border-gray-300 hover:bg-gray-100"),onClick:()=>x(g.id),children:[e.jsx(zr,{className:"h-3 w-3"}),"Upload File"]})]}),a&&!j&&e.jsx("p",{className:q("text-[10px] italic text-center",s?"text-white/30":"text-gray-400"),children:"No file uploaded"})]})]})},g.id)}):e.jsx("div",{className:q("text-center py-8 text-xs italic",s?"text-white/40":"text-gray-500"),children:"No deliverables configured."})})]})}function bre({open:t,onOpenChange:r,submission:s,styleboxTitle:a,darkroomMode:n,onSuccess:i}){const[o,l]=f.useState(!1),{toast:c}=Ge(),d=async()=>{l(!0);try{const{error:m}=await J.from("stylebox_submissions").update({status:"submitted",is_final:!0,updated_at:new Date().toISOString()}).eq("id",s.id);if(m)throw m;try{await J.functions.invoke("send-transactional",{body:{type:"stylebox_submission",to:"admin@adorzia.com",data:{stylebox_title:a,submission_id:s.id,designer_id:s.designer_id,submitted_at:new Date().toISOString()}}})}catch(h){console.error("Email notification failed:",h)}c({title:"Submission successful!",description:"Your work has been submitted to Adorzia for review."}),i(),r(!1)}catch(m){console.error("Submission error:",m),c({title:"Submission failed",description:"Failed to submit your work. Please try again.",variant:"destructive"})}finally{l(!1)}},u=s.completed_deliverables>=s.total_deliverables;return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:q("max-w-lg",n?"bg-[#1a1a1a] border-white/10 text-white":"bg-white border-gray-200"),children:[e.jsxs(Lt,{children:[e.jsx($t,{className:q("text-xl font-bold uppercase tracking-wide",n?"text-white":"text-gray-900"),children:"Submit to Adorzia"}),e.jsx(Us,{className:q("text-sm",n?"text-white/60":"text-gray-600"),children:"Review your submission checklist before finalizing."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:q("p-4 rounded-lg border",n?"bg-black/40 border-white/10":"bg-gray-50 border-gray-200"),children:[e.jsx("p",{className:q("text-xs uppercase tracking-wider font-bold mb-1",n?"text-white/40":"text-gray-500"),children:"StyleBox"}),e.jsx("p",{className:q("text-sm font-semibold",n?"text-white":"text-gray-900"),children:a})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:q("text-xs uppercase tracking-wider font-bold",n?"text-white/40":"text-gray-500"),children:"Deliverables Progress"}),u?e.jsx(Mt,{className:"h-5 w-5 text-green-500"}):e.jsx(Vs,{className:"h-5 w-5 text-yellow-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:q(n?"text-white/80":"text-gray-700"),children:"Completed"}),e.jsxs("span",{className:q("font-bold",n?"text-white":"text-gray-900"),children:[s.completed_deliverables," / ",s.total_deliverables]})]}),e.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:q("h-full transition-all duration-300",u?"bg-green-500":"bg-blue-500"),style:{width:`${s.progress_percentage}%`}})})]})]}),!u&&e.jsxs("div",{className:q("p-4 rounded-lg border flex items-start gap-3","bg-yellow-500/10 border-yellow-500/30"),children:[e.jsx(Vs,{className:"h-5 w-5 text-yellow-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-yellow-600 dark:text-yellow-400",children:"Incomplete Submission"}),e.jsx("p",{className:"text-xs text-yellow-600/80 dark:text-yellow-400/80 mt-1",children:"You have not completed all required deliverables. You can still submit, but your work may be rejected."})]})]}),e.jsx("div",{className:q("p-4 rounded-lg border",n?"bg-black/40 border-white/10":"bg-gray-50 border-gray-200"),children:e.jsx("p",{className:q("text-xs leading-relaxed",n?"text-white/70":"text-gray-600"),children:"By submitting, you confirm that your work adheres to all technical restrictions and design requirements specified in this StyleBox brief. Your submission will be reviewed by Adorzia's team."})})]}),e.jsxs(Cs,{className:"gap-2",children:[e.jsx(T,{variant:"outline",onClick:()=>r(!1),disabled:o,className:q(n?"border-white/20 hover:bg-white/10":"border-gray-300 hover:bg-gray-100"),children:"Cancel"}),e.jsx(T,{onClick:d,disabled:o,className:q("gap-2 font-bold uppercase tracking-wider",u?"bg-green-600 hover:bg-green-700":"bg-yellow-600 hover:bg-yellow-700"),children:o?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ai,{className:"h-4 w-4"}),"Submit Now"]})})]})]})})}const yre=t=>t.completed_deliverables>=t.total_deliverables&&t.total_deliverables>0,jre=t=>yre(t)&&t.status==="draft";function wre(){const{id:t}=ci(),r=wr(),{user:s}=ur(),{toast:a}=Ge(),[n,i]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState(!1),u=j=>{switch(j){case"draft":return{label:"Draft",className:"bg-gray-500/10 text-gray-500 border-gray-500/20"};case"submitted":return{label:"Submitted",className:"bg-blue-500/10 text-blue-500 border-blue-500/20"};case"under_review":return{label:"Under Review",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20"};case"approved":return{label:"Approved",className:"bg-green-500/10 text-green-500 border-green-500/20"};case"rejected":return{label:"Rejected",className:"bg-red-500/10 text-red-500 border-red-500/20"};case"revision_requested":return{label:"Revision Requested",className:"bg-orange-500/10 text-orange-500 border-orange-500/20"};default:return{label:j,className:"bg-gray-500/10 text-gray-500 border-gray-500/20"}}},{data:m,isLoading:h}=Oe({queryKey:["stylebox",t],queryFn:async()=>{const{data:j,error:S}=await J.from("styleboxes").select("*").eq("id",t).single();if(S)throw S;return j},enabled:!!t}),{data:p,isLoading:v,refetch:x}=Oe({queryKey:["submission",t,s?.id],queryFn:async()=>{if(!s?.id||!t)return null;const{data:j,error:S}=await J.from("stylebox_submissions").select("*").eq("stylebox_id",t).eq("designer_id",s.id).order("version_number",{ascending:!1}).limit(1).maybeSingle();if(S)throw S;if(!j){const w=m?.adorzia_deliverables||[],_=Array.isArray(w)?w.length:0,{data:N,error:k}=await J.from("stylebox_submissions").insert({stylebox_id:t,designer_id:s.id,version_number:1,status:"draft",total_deliverables:_,completed_deliverables:0,progress_percentage:0}).select().single();if(k)throw k;return N}return j},enabled:!!s?.id&&!!t&&!!m});if(f.useEffect(()=>{if(!p)return;const j=setInterval(()=>{l(new Date)},6e4);return()=>clearInterval(j)},[p]),h||v)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#1a1a1a]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Loading StyleBox..."})]})});if(!m||!p)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#1a1a1a]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white/80 text-lg mb-4",children:"StyleBox not found"}),e.jsxs(T,{variant:"outline",onClick:()=>r("/styleboxes"),children:[e.jsx(ba,{className:"h-4 w-4 mr-2"}),"Back to StyleBoxes"]})]})});const g={archetype:m.archetype,mutation:m.mutation,restrictions:m.restrictions,manifestation:m.manifestation},b=jre(p),y=p.status!=="draft"&&p.status!=="revision_requested";return e.jsxs("div",{className:q("min-h-screen flex flex-col transition-colors duration-300",n?"bg-[#1a1a1a] text-white":"bg-white text-gray-900"),children:[e.jsx("header",{className:q("sticky top-0 z-50 border-b backdrop-blur-md",n?"bg-black/60 border-white/10":"bg-white/60 border-gray-200"),children:e.jsxs("div",{className:"container mx-auto px-6 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>r("/styleboxes"),className:q(n&&"hover:bg-white/10"),children:e.jsx(ba,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[m.display_id&&e.jsx(B,{variant:"outline",className:q("text-[10px] font-bold tracking-widest uppercase",n?"bg-white/5 border-white/20 text-white/80":"bg-gray-100 border-gray-300"),children:m.display_id}),e.jsx("h1",{className:"text-sm font-semibold",children:m.title}),e.jsx(B,{variant:"secondary",className:q("text-[10px] uppercase",n&&"bg-white/10"),children:m.difficulty}),p&&e.jsx(B,{variant:"outline",className:q("text-[10px] font-bold uppercase tracking-wider px-2 py-0.5",u(p.status).className),children:u(p.status).label})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsxs("span",{className:q("text-[10px] flex items-center gap-1",n?"text-white/40":"text-gray-500"),children:[e.jsx(Ka,{className:"h-3 w-3"}),"Saved ",o.toLocaleTimeString()]}),e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>i(!n),className:q(n&&"hover:bg-white/10"),title:"Toggle Darkroom Mode",children:n?e.jsx(e_,{className:"h-4 w-4"}):e.jsx(t_,{className:"h-4 w-4"})}),e.jsxs(T,{variant:"outline",size:"sm",className:q("gap-2 text-[11px]",n&&"border-white/20 hover:bg-white/10 hover:border-white/40"),children:[e.jsx(vn,{className:"h-3.5 w-3.5"}),"Design Kit"]}),e.jsxs(T,{variant:"outline",size:"sm",className:q("gap-2 text-[11px]",n&&"border-white/20 hover:bg-white/10 hover:border-white/40"),children:[e.jsx(Pm,{className:"h-3.5 w-3.5"}),"Share"]})]})]})}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 overflow-auto",children:[e.jsx(fre,{data:g.archetype,darkroomMode:n}),e.jsx(pre,{data:g.mutation,darkroomMode:n}),e.jsx(xre,{data:g.restrictions,darkroomMode:n}),e.jsx(gre,{data:g.manifestation,submission:p,styleboxId:m.id,darkroomMode:n,isReadOnly:y,onSave:()=>{l(new Date),x()}})]}),e.jsxs("aside",{className:q("w-80 border-l overflow-y-auto hidden lg:block",n?"bg-black/40 border-white/10":"bg-gray-50 border-gray-200"),children:[e.jsx(vre,{deliverables:m.adorzia_deliverables,submission:p,darkroomMode:n,isReadOnly:y,onRefresh:x}),e.jsxs("div",{className:"p-6 border-t border-white/10",children:[e.jsx(T,{disabled:!b,onClick:()=>d(!0),className:q("w-full h-12 uppercase font-bold tracking-widest text-xs gap-2",b?"bg-green-600 hover:bg-green-700 text-white":"opacity-50 cursor-not-allowed"),children:b?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"h-4 w-4"}),"Submit to Adorzia"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"h-4 w-4"}),"Complete All Deliverables"]})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("p",{className:q("text-[10px] uppercase tracking-wider font-bold",n?"text-white/40":"text-gray-500"),children:["Progress: ",p.completed_deliverables," /"," ",p.total_deliverables]}),e.jsx("div",{className:"mt-2 h-1.5 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${p.progress_percentage}%`}})})]})]})]})]}),p&&e.jsx(bre,{open:c,onOpenChange:d,submission:p,styleboxTitle:m.title,darkroomMode:n,onSuccess:()=>{x(),a({title:"Success!",description:"Your StyleBox submission has been sent for review."})}})]})}const vL={draft:{id:"draft",label:"Draft",description:"Work in progress",stage:"submission",order:0,designerEditable:!0,designerVisible:!0,adminActions:[]},pending_review:{id:"pending_review",label:"Pending Review",description:"Submitted for initial review",stage:"review",order:1,designerEditable:!1,designerVisible:!0,adminActions:["approve","request_revision","reject"]},revision_requested:{id:"revision_requested",label:"Revision Requested",description:"Changes needed before approval",stage:"review",order:2,designerEditable:!0,designerVisible:!0,adminActions:[]},approved:{id:"approved",label:"Approved",description:"Approved for sampling",stage:"production",order:3,designerEditable:!1,designerVisible:!0,adminActions:["start_sampling"]},sampling:{id:"sampling",label:"Sampling",description:"Sample being created",stage:"production",order:4,designerEditable:!1,designerVisible:!0,adminActions:["complete_sampling","reject"]},sample_ready:{id:"sample_ready",label:"Sample Ready",description:"Sample completed",stage:"production",order:5,designerEditable:!1,designerVisible:!0,adminActions:["start_costing"]},costing_ready:{id:"costing_ready",label:"Costing Ready",description:"Final costing completed",stage:"production",order:6,designerEditable:!1,designerVisible:!0,adminActions:["approve_preproduction"]},pre_production:{id:"pre_production",label:"Pre-Production",description:"Ready for manufacturing",stage:"production",order:7,designerEditable:!1,designerVisible:!0,adminActions:["send_to_marketplace"]},marketplace_pending:{id:"marketplace_pending",label:"Marketplace Prep",description:"Listing being prepared",stage:"marketplace",order:8,designerEditable:!1,designerVisible:!0,adminActions:["create_listing"]},listing_preview:{id:"listing_preview",label:"Preview Listing",description:"Review before going live",stage:"marketplace",order:9,designerEditable:!1,designerVisible:!0,adminActions:["publish","request_adjustments"]},published:{id:"published",label:"Published",description:"Live on marketplace",stage:"marketplace",order:10,designerEditable:!1,designerVisible:!0,adminActions:["unpublish"]},rejected:{id:"rejected",label:"Rejected",description:"Not approved for publication",stage:"review",order:-1,designerEditable:!0,designerVisible:!0,adminActions:[]}},vw=["title","description","category","sketches","moodboard","mockups"];function Nre(t){const r=vw.filter(a=>t[a]).length,s=vw.length;return Math.round(r/s*100)}function _re(t,r){return r==="basic"?{eligible:!1,reason:"Pro or Elite subscription required to publish"}:t<100?{eligible:!1,reason:"All required fields must be completed"}:{eligible:!0}}function Sre(t){const r=vL[t];return r.order===-1?0:Math.round(r.order/10*100)}const mv={submission:{label:"Submission Queue",statuses:["pending_review","revision_requested"],teams:["Review Team"]},sampling:{label:"Sampling Queue",statuses:["approved","sampling","sample_ready"],teams:["Production Team","Sourcing Team"]},techpack:{label:"Tech Pack Queue",statuses:["sample_ready","costing_ready"],teams:["Production Team"]},preproduction:{label:"Pre-Production Queue",statuses:["costing_ready","pre_production"],teams:["QA Team","Production Team"]},marketplace:{label:"Marketplace Queue",statuses:["marketplace_pending","listing_preview"],teams:["Marketplace Team"]}},hv={title:!0,description:!0,category:!0,sketches:!0,moodboard:!0,mockups:!0,story:!0,fabricNotes:!1},JC={title:{label:"Title",icon:Wt},description:{label:"Description",icon:po},category:{label:"Category",icon:al},sketches:{label:"Sketches",icon:mc},moodboard:{label:"Moodboard",icon:No},mockups:{label:"Mockups / 3D",icon:Vp},story:{label:"Story & Vision",icon:po,optional:!0},fabricNotes:{label:"Fabric Notes",icon:Wt,optional:!0}};function Cre({open:t,onOpenChange:r,project:s,currentRank:a,subscriptionTier:n,onSubmit:i}){const[o,l]=f.useState(""),[c,d]=f.useState(!1),[u,m]=f.useState(!1),h=Nre(hv),p=_re(h,n),v=Ir[a],x=async()=>{!p.eligible||!c||(m(!0),await new Promise(g=>setTimeout(g,1500)),i(s.id,o),m(!1),r(!1),Re.success("Publication request submitted!",{description:"You'll be notified when our team reviews your project."}))};return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"sm:max-w-lg",children:[e.jsxs(Lt,{children:[e.jsxs($t,{className:"flex items-center gap-2",children:[e.jsx(zr,{className:"h-5 w-5 text-accent"}),"Request Publication"]}),e.jsx(Us,{children:"Submit your project for marketplace consideration"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-secondary/50 border border-border",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg overflow-hidden shrink-0",children:e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-display font-semibold truncate",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-accent/10 border border-accent/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-sm font-medium",children:"Your Revenue Share"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{variant:"outline",className:"bg-background",children:v.name}),e.jsxs("span",{className:"text-xl font-display font-bold text-accent",children:[v.revenueShare,"%"]})]})]}),n==="basic"&&e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-destructive/10 border border-destructive/20",children:[e.jsx(us,{className:"h-5 w-5 text-destructive shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-destructive",children:"Pro Subscription Required"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Upgrade to Pro or Elite to publish designs on the marketplace."}),e.jsx(T,{variant:"outline",size:"sm",className:"mt-2",children:"View Plans"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Project Completeness"}),e.jsxs("span",{className:q("text-sm font-semibold",h===100?"text-success":"text-warning"),children:[h,"%"]})]}),e.jsx(la,{value:h,className:"h-2"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 pt-2",children:vw.map(g=>{const b=JC[g],y=hv[g],j=b.icon;return e.jsxs("div",{className:q("flex items-center gap-2 p-2 rounded-lg text-sm",y?"bg-success/10 text-success":"bg-destructive/10 text-destructive"),children:[y?e.jsx(gr,{className:"h-4 w-4 shrink-0"}):e.jsx(ht,{className:"h-4 w-4 shrink-0"}),e.jsx(j,{className:"h-3.5 w-3.5 shrink-0"}),e.jsx("span",{className:"truncate",children:b.label})]},g)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional fields (boost visibility):"}),e.jsx("div",{className:"flex gap-2",children:["story","fabricNotes"].map(g=>{const b=JC[g],y=hv[g];return e.jsxs(B,{variant:y?"success":"secondary",className:"gap-1",children:[y&&e.jsx(gr,{className:"h-3 w-3"}),b.label]},g)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"notes",children:"Notes for Review Team (Optional)"}),e.jsx(nt,{id:"notes",placeholder:"Any special instructions or context for our team...",value:o,onChange:g=>l(g.target.value),rows:3})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ns,{id:"agree",checked:c,onCheckedChange:g=>d(g===!0),disabled:!p.eligible}),e.jsxs("label",{htmlFor:"agree",className:"text-sm text-muted-foreground cursor-pointer leading-relaxed",children:["I confirm this is original work and I agree to Adorzia's"," ",e.jsx("a",{href:"#",className:"text-accent hover:underline",children:"Publication Terms"}),"."]})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(T,{variant:"accent",onClick:x,disabled:!p.eligible||!c||u,className:"gap-2",children:u?e.jsx(e.Fragment,{children:"Submitting..."}):e.jsxs(e.Fragment,{children:[e.jsx(zr,{className:"h-4 w-4"}),"Submit for Review"]})})]})]})})}const kre={submission:{label:"Submission",icon:Bt,color:"text-muted-foreground"},review:{label:"Review",icon:il,color:"text-warning"},production:{label:"Production",icon:wo,color:"text-accent"},marketplace:{label:"Marketplace",icon:ui,color:"text-success"}},Are={draft:Ze,pending_review:il,revision_requested:Vs,approved:gr,sampling:Vp,sample_ready:Ot,costing_ready:Rs,pre_production:wo,marketplace_pending:Ma,listing_preview:Bt,published:Mt,rejected:Rr},ZC={draft:"text-muted-foreground bg-muted",pending_review:"text-warning bg-warning/10",revision_requested:"text-orange-500 bg-orange-500/10",approved:"text-success bg-success/10",sampling:"text-accent bg-accent/10",sample_ready:"text-accent bg-accent/10",costing_ready:"text-accent bg-accent/10",pre_production:"text-accent bg-accent/10",marketplace_pending:"text-accent bg-accent/10",listing_preview:"text-success bg-success/10",published:"text-success bg-success/10",rejected:"text-destructive bg-destructive/10"};function Pre({open:t,onOpenChange:r,project:s}){const a=vL[s.publicationStatus],n=Sre(s.publicationStatus),i=Are[s.publicationStatus],o=["submission","review","production","marketplace"],l=o.indexOf(a.stage);return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"sm:max-w-md",children:[e.jsx(Lt,{children:e.jsxs($t,{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-5 w-5 text-accent"}),"Publication Status"]})}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-secondary/50 border border-border",children:[e.jsx("div",{className:"h-14 w-14 rounded-lg overflow-hidden shrink-0",children:e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-display font-semibold truncate",children:s.title}),s.submittedAt&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Submitted ",s.submittedAt]})]})]}),e.jsxs("div",{className:q("flex items-center gap-3 p-4 rounded-xl border",ZC[s.publicationStatus]),children:[e.jsx("div",{className:q("h-10 w-10 rounded-full flex items-center justify-center",ZC[s.publicationStatus]),children:e.jsx(i,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:a.label}),e.jsx("p",{className:"text-sm opacity-80",children:a.description})]})]}),s.publicationStatus==="revision_requested"&&s.reviewerNotes&&e.jsxs("div",{className:"p-3 rounded-xl bg-orange-500/10 border border-orange-500/20",children:[e.jsx("p",{className:"text-sm font-medium text-orange-600 mb-1",children:"Reviewer Feedback:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.reviewerNotes})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Overall Progress"}),e.jsxs("span",{className:"font-medium",children:[n,"%"]})]}),e.jsx(la,{value:n,className:"h-2"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Journey"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-4 bottom-4 w-0.5 bg-border"}),e.jsx("div",{className:"space-y-4",children:o.map((c,d)=>{const u=kre[c],m=u.icon,h=d<l,p=d===l,v=d>l;return e.jsxs(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:d*.1},className:"flex items-center gap-3 relative",children:[e.jsx("div",{className:q("h-8 w-8 rounded-full flex items-center justify-center z-10",h&&"bg-success text-success-foreground",p&&"bg-accent text-accent-foreground ring-2 ring-accent/30 ring-offset-2 ring-offset-background",v&&"bg-muted text-muted-foreground"),children:h?e.jsx(gr,{className:"h-4 w-4"}):e.jsx(m,{className:"h-4 w-4"})}),e.jsxs("div",{className:q("flex-1",v&&"opacity-50"),children:[e.jsx("p",{className:q("font-medium",p&&"text-accent"),children:u.label}),p&&e.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},c)})})]})]}),s.lastUpdated&&e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Last updated: ",s.lastUpdated]})]})]})})}function Ere({open:t,onOpenChange:r,projectId:s,onDelete:a}){const n=ft(),[i,o]=f.useState(0),[l,c]=f.useState(!1),[d,u]=f.useState(""),[m,h]=f.useState(""),[p,v]=f.useState(""),[x,g]=f.useState([]),[b,y]=f.useState(""),[j,S]=f.useState(null),[w,_]=f.useState([]),[N,k]=f.useState(!0),C=async()=>{if(s){k(!0);try{const{data:R,error:te}=await J.from("portfolio_projects").select("*").eq("id",s).single();if(te)throw te;S(R),u(R.title||""),h(R.description||""),v(R.category||""),g(R.tags||[]);const{data:V,error:D}=await J.from("portfolio_assets").select("id, file_url, file_name, display_order").eq("project_id",s).order("display_order",{ascending:!0});if(D)throw D;_(V||[])}catch(R){console.error("Error fetching project:",R),Re.error("Failed to load project details")}finally{k(!1)}}},P=ze({mutationFn:async()=>{const{error:R}=await J.from("portfolio_projects").update({title:d,description:m||null,category:p||null,tags:x.length>0?x:null,updated_at:new Date().toISOString()}).eq("id",s);if(R)throw R},onSuccess:()=>{Re.success("Project updated successfully!"),n.invalidateQueries({queryKey:["portfolios"]}),n.invalidateQueries({queryKey:["portfolio-projects"]}),c(!1),C()},onError:R=>{Re.error("Failed to update project: "+R.message)}}),A=ze({mutationFn:async()=>{const{error:R}=await J.from("portfolio_projects").update({is_featured:!j?.is_featured}).eq("id",s);if(R)throw R},onSuccess:()=>{Re.success(j?.is_featured?"Removed from featured":"Added to featured"),n.invalidateQueries({queryKey:["portfolios"]}),C()}}),O=ze({mutationFn:async()=>{const{error:R}=await J.from("portfolio_assets").delete().eq("project_id",s);if(R)throw R;const{error:te}=await J.from("portfolio_projects").delete().eq("id",s);if(te)throw te},onSuccess:()=>{Re.success("Project deleted successfully"),n.invalidateQueries({queryKey:["portfolios"]}),n.invalidateQueries({queryKey:["portfolio-projects"]}),r(!1),a?.()},onError:R=>{Re.error("Failed to delete project: "+R.message)}}),I=()=>{b.trim()&&!x.includes(b.trim())&&(g([...x,b.trim()]),y(""))},F=R=>{g(x.filter(te=>te!==R))},$=()=>{o(R=>R===0?w.length-1:R-1)},E=()=>{o(R=>R===w.length-1?0:R+1)},M=()=>{confirm("Are you sure you want to delete this project? This action cannot be undone.")&&O.mutate()},z=()=>{const R=`${window.location.origin}/portfolio/${s}`;navigator.clipboard.writeText(R),Re.success("Link copied to clipboard!")};return f.useState(()=>{t&&s&&C()}),N?e.jsx(Et,{open:t,onOpenChange:r,children:e.jsx(Pt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"max-w-5xl max-h-[90vh] overflow-y-auto p-0",children:[e.jsx(Lt,{className:"px-6 pt-6 pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx($t,{className:"text-2xl font-display",children:l?"Edit Project":j?.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[!l&&e.jsxs(e.Fragment,{children:[e.jsx(T,{size:"icon",variant:"ghost",onClick:()=>A.mutate(),disabled:A.isPending,children:j?.is_featured?e.jsx(At,{className:"h-5 w-5 fill-yellow-500 text-yellow-500"}):e.jsx(GD,{className:"h-5 w-5"})}),e.jsx(T,{size:"icon",variant:"ghost",onClick:z,children:e.jsx(Pm,{className:"h-5 w-5"})}),e.jsx(T,{size:"icon",variant:"ghost",onClick:()=>c(!0),children:e.jsx(VD,{className:"h-5 w-5"})}),e.jsx(T,{size:"icon",variant:"ghost",onClick:M,disabled:O.isPending,children:e.jsx(Hr,{className:"h-5 w-5 text-destructive"})})]}),e.jsx(T,{size:"icon",variant:"ghost",onClick:()=>r(!1),children:e.jsx(ht,{className:"h-5 w-5"})})]})]})}),e.jsxs("div",{className:"px-6 pb-6 space-y-6",children:[w.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:[e.jsx("img",{src:w[i]?.file_url,alt:`Image ${i+1}`,className:"w-full h-full object-contain"}),w.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(T,{size:"icon",variant:"secondary",className:"absolute left-4 top-1/2 -translate-y-1/2 rounded-full",onClick:$,children:e.jsx(Za,{className:"h-5 w-5"})}),e.jsx(T,{size:"icon",variant:"secondary",className:"absolute right-4 top-1/2 -translate-y-1/2 rounded-full",onClick:E,children:e.jsx(lr,{className:"h-5 w-5"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-background/90 px-3 py-1 rounded-full text-sm",children:[i+1," / ",w.length]})]})]}),w.length>1&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:w.map((R,te)=>e.jsx("button",{onClick:()=>o(te),className:q("relative h-20 w-20 flex-shrink-0 rounded-lg overflow-hidden border-2 transition-all",i===te?"border-primary":"border-transparent opacity-60 hover:opacity-100"),children:e.jsx("img",{src:R.file_url,alt:`Thumbnail ${te+1}`,className:"w-full h-full object-cover"})},R.id))})]}),e.jsx(Ut,{}),e.jsx("div",{className:"space-y-4",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Title"}),e.jsx(ie,{value:d,onChange:R=>u(R.target.value),placeholder:"Project title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(nt,{value:m,onChange:R=>h(R.target.value),placeholder:"Project description",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsx(ie,{value:p,onChange:R=>v(R.target.value),placeholder:"Category"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{value:b,onChange:R=>y(R.target.value),onKeyDown:R=>R.key==="Enter"&&I(),placeholder:"Add tag..."}),e.jsx(T,{onClick:I,children:"Add"})]}),x.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.map((R,te)=>e.jsxs(B,{variant:"secondary",className:"gap-1",children:[R,e.jsx("button",{onClick:()=>F(R),children:e.jsx(ht,{className:"h-3 w-3"})})]},te))})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(T,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsxs(T,{onClick:()=>P.mutate(),disabled:P.isPending,children:[e.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}):e.jsxs(e.Fragment,{children:[m&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-1",children:"Category"}),e.jsx(B,{variant:"secondary",children:p})]}),j?.created_at&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-1 flex items-center gap-1",children:[e.jsx(Wr,{className:"h-4 w-4"}),"Created"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:xt(new Date(j.created_at),"MMM d, yyyy")})]})]}),x.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-1",children:[e.jsx(af,{className:"h-4 w-4"}),"Tags"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map((R,te)=>e.jsx(B,{variant:"outline",children:R},te))})]})]})})]})]})})}const Tre=({items:t})=>{const[r,s]=f.useState(t),[a,n]=f.useState(!1),i=ft(),o=ze({mutationFn:async h=>{const p=h.map((g,b)=>J.from("portfolio_projects").update({display_order:b}).eq("id",g.id));if((await Promise.all(p.map(g=>g.then(b=>b)))).filter(g=>g.error).length>0)throw new Error("Failed to update some project orders")},onSuccess:()=>{Re.success("Project order updated successfully!"),i.invalidateQueries({queryKey:["portfolios"]}),i.invalidateQueries({queryKey:["portfolio-projects"]})},onError:h=>{Re.error("Failed to update project order: "+h.message),s(t)}}),l=()=>{a&&o.mutate(r),n(!a)},c=(h,p)=>{if(!a)return;const v=[...r],[x]=v.splice(h,1);v.splice(p,0,x),s(v)},d=(h,p)=>{h.dataTransfer.setData("text/plain",p.toString())},u=h=>{h.preventDefault()},m=(h,p)=>{h.preventDefault();const v=parseInt(h.dataTransfer.getData("text/plain"));v!==p&&c(v,p)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Manage Projects"}),e.jsx(T,{variant:"outline",size:"sm",onClick:l,disabled:o.isPending,children:a?"Save Order":"Reorder"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map((h,p)=>e.jsx(G,{draggable:a,onDragStart:v=>d(v,p),onDragOver:u,onDrop:v=>m(v,p),className:`relative overflow-hidden ${a?"cursor-move hover:shadow-lg transition-shadow":""}`,children:e.jsxs(Y,{className:"p-0",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:h.thumbnail,alt:h.title,className:"w-full h-48 object-cover"}),a&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Em,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(T,{size:"icon",variant:"secondary",className:"h-8 w-8",children:e.jsx(Hs,{className:"h-4 w-4"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-medium truncate",children:h.title}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:h.category}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:h.createdAt}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${h.status==="completed"?"bg-green-100 text-green-800":h.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:h.status})]})]})]})},h.id))})]})},ek={draft:{label:"Draft",variant:"secondary",icon:ol},completed:{label:"Completed",variant:"success",icon:gr},published:{label:"Published",variant:"accent",icon:xn},pending:{label:"Pending Review",variant:"warning",icon:Ze}},Ore={pending_review:Ze,revision_requested:Vs,sampling:Ot,pre_production:wo,marketplace_pending:ui};function fv({items:t,currentRank:r="stylist",subscriptionTier:s="pro",isReordering:a=!1}){const[n,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(null),[h,p]=f.useState(!1),v=a!==void 0?a:h,x=()=>{p(!h)},g=_=>{m(_),i(!0)},b=_=>{m(_),l(!0)},y=_=>{m(_),d(!0)},j=(_,N)=>{console.log("Submitting project:",_,"with notes:",N)},S=_=>_.status==="completed"&&(!_.publicationStatus||_.publicationStatus==="draft"||_.publicationStatus==="revision_requested"),w=_=>_.publicationStatus&&_.publicationStatus!=="draft"&&_.publicationStatus!=="published";return e.jsxs(e.Fragment,{children:[v?e.jsx(Tre,{items:t.map(_=>({id:_.id,title:_.title,category:_.category,thumbnail:_.thumbnail,status:_.status,createdAt:_.createdAt,source:_.source}))}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(_=>{const N=ek[_.status]??ek.draft,k=N.icon,C=w(_),P=_.publicationStatus?Ore[_.publicationStatus]:null;return e.jsxs(G,{hover:!0,className:"overflow-hidden group",children:[e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[e.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx(T,{size:"icon",variant:"secondary",className:"h-10 w-10 rounded-full",onClick:()=>y(_),children:e.jsx(Bt,{className:"h-5 w-5"})}),e.jsx(T,{size:"icon",variant:"secondary",className:"h-10 w-10 rounded-full",onClick:()=>y(_),children:e.jsx(ol,{className:"h-5 w-5"})}),S(_)&&e.jsx(T,{size:"icon",variant:"accent",className:"h-10 w-10 rounded-full",onClick:()=>g(_),children:e.jsx(zr,{className:"h-5 w-5"})})]}),_.imageCount&&_.imageCount>1&&e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsxs(B,{variant:"secondary",className:"gap-1 bg-background/90",children:[e.jsx(No,{className:"h-3 w-3"}),_.imageCount]})}),_.isFeatured&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(At,{className:"h-5 w-5 fill-yellow-500 text-yellow-500"})}),e.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-2",children:[e.jsx(B,{variant:"outline",className:"bg-background/80 text-foreground border-0 text-xs",children:_.source==="stylebox"?"Stylebox":"Uploaded"}),e.jsxs(B,{variant:N.variant,className:"gap-1",children:[e.jsx(k,{className:"h-3 w-3"}),N.label]})]}),C&&P&&e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsxs(T,{size:"sm",variant:"secondary",className:"h-7 gap-1.5 text-xs bg-background/90 hover:bg-background",onClick:()=>b(_),children:[e.jsx(P,{className:"h-3 w-3 text-accent"}),"Track"]})})]}),e.jsxs(Y,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-display font-semibold truncate",children:_.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:_.category})]}),e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",children:[e.jsxs(Se,{onClick:()=>y(_),children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(Se,{onClick:()=>y(_),children:[e.jsx(ol,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(Se,{onClick:x,children:[e.jsx(Em,{className:"h-4 w-4 mr-2"}),v?"Exit Reorder":"Reorder Projects"]}),C&&e.jsxs(Se,{onClick:()=>b(_),children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Track Status"]}),e.jsx(Ar,{}),S(_)?e.jsxs(Se,{onClick:()=>g(_),children:[e.jsx(zr,{className:"h-4 w-4 mr-2"}),"Request Publish"]}):_.status==="published"?e.jsxs(Se,{children:[e.jsx(xn,{className:"h-4 w-4 mr-2"}),"View on Marketplace"]}):null]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:_.createdAt})]})]},_.id)})}),u&&e.jsx(Cre,{open:n,onOpenChange:i,project:u,currentRank:r,subscriptionTier:s,onSubmit:j}),u&&u.publicationStatus&&e.jsx(Pre,{open:o,onOpenChange:l,project:{...u,publicationStatus:u.publicationStatus}}),u&&e.jsx(Ere,{open:c,onOpenChange:d,projectId:u.id})]})}var E1="Radio",[Dre,bL]=Ur(E1),[Rre,Ire]=Dre(E1),yL=f.forwardRef((t,r)=>{const{__scopeRadio:s,name:a,checked:n=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=t,[m,h]=f.useState(null),p=Xe(r,g=>h(g)),v=f.useRef(!1),x=m?d||!!m.closest("form"):!0;return e.jsxs(Rre,{scope:s,checked:n,disabled:o,children:[e.jsx(we.button,{type:"button",role:"radio","aria-checked":n,"data-state":_L(n),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:p,onClick:ve(t.onClick,g=>{n||c?.(),x&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),x&&e.jsx(NL,{control:m,bubbles:!v.current,name:a,value:l,checked:n,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});yL.displayName=E1;var jL="RadioIndicator",wL=f.forwardRef((t,r)=>{const{__scopeRadio:s,forceMount:a,...n}=t,i=Ire(jL,s);return e.jsx(qr,{present:a||i.checked,children:e.jsx(we.span,{"data-state":_L(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:r})})});wL.displayName=jL;var Mre="RadioBubbleInput",NL=f.forwardRef(({__scopeRadio:t,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=f.useRef(null),l=Xe(o,i),c=Sd(s),d=Rm(r);return f.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==s&&p){const v=new Event("click",{bubbles:a});p.call(u,s),u.dispatchEvent(v)}},[c,s,a]),e.jsx(we.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NL.displayName=Mre;function _L(t){return t?"checked":"unchecked"}var Fre=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rx="RadioGroup",[Lre]=Ur(Rx,[Ad,bL]),SL=Ad(),CL=bL(),[$re,qre]=Lre(Rx),kL=f.forwardRef((t,r)=>{const{__scopeRadioGroup:s,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...h}=t,p=SL(s),v=zi(d),[x,g]=Is({prop:i,defaultProp:n??null,onChange:m,caller:Rx});return e.jsx($re,{scope:s,name:a,required:o,disabled:l,value:x,onValueChange:g,children:e.jsx(Z_,{asChild:!0,...p,orientation:c,dir:v,loop:u,children:e.jsx(we.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...h,ref:r})})})});kL.displayName=Rx;var AL="RadioGroupItem",PL=f.forwardRef((t,r)=>{const{__scopeRadioGroup:s,disabled:a,...n}=t,i=qre(AL,s),o=i.disabled||a,l=SL(s),c=CL(s),d=f.useRef(null),u=Xe(r,d),m=i.value===n.value,h=f.useRef(!1);return f.useEffect(()=>{const p=x=>{Fre.includes(x.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",v)}},[]),e.jsx(e1,{asChild:!0,...l,focusable:!o,active:m,children:e.jsx(yL,{disabled:o,required:i.required,checked:m,...c,...n,name:i.name,ref:u,onCheck:()=>i.onValueChange(n.value),onKeyDown:ve(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ve(n.onFocus,()=>{h.current&&d.current?.click()})})})});PL.displayName=AL;var zre="RadioGroupIndicator",EL=f.forwardRef((t,r)=>{const{__scopeRadioGroup:s,...a}=t,n=CL(s);return e.jsx(wL,{...n,...a,ref:r})});EL.displayName=zre;var TL=kL,OL=PL,Bre=EL;const DL=f.forwardRef(({className:t,...r},s)=>e.jsx(TL,{className:q("grid gap-2",t),...r,ref:s}));DL.displayName=TL.displayName;const RL=f.forwardRef(({className:t,...r},s)=>e.jsx(OL,{ref:s,className:q("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(Bre,{className:"flex items-center justify-center",children:e.jsx(HD,{className:"h-2.5 w-2.5 fill-current text-current"})})}));RL.displayName=OL.displayName;const tk={stylebox:{label:"StyleBox Submission",description:"Work completed from a StyleBox challenge",icon:Mr},walkthrough:{label:"Walkthrough Project",description:"Design created during a guided walkthrough",icon:ws},portfolio:{label:"Portfolio Item",description:"Independent work from your portfolio",icon:Kz}};function Ure({open:t,onOpenChange:r,onSuccess:s}){const{user:a}=ur(),[n,i]=f.useState(1),[o,l]=f.useState(null),[c,d]=f.useState(null),[u,m]=f.useState(""),[h,p]=f.useState(!1),[v,x]=f.useState(!1);f.useEffect(()=>{t||(i(1),l(null),d(null),m(""),p(!1))},[t]);const{data:g,isLoading:b}=Oe({queryKey:["profile",a?.id],queryFn:async()=>{if(!a?.id)return null;const{data:V,error:D}=await J.from("profiles").select("*, ranks(*)").eq("user_id",a.id).maybeSingle();if(D)throw D;return V},enabled:!!a?.id}),{data:y=[],isLoading:j}=Oe({queryKey:["stylebox-submissions-for-publish",a?.id],queryFn:async()=>{if(!a?.id)return[];const{data:V,error:D}=await J.from("stylebox_submissions").select(`
          id,
          description,
          submitted_at,
          status,
          styleboxes (
            id,
            title,
            category,
            description
          )
        `).eq("designer_id",a.id).eq("status","approved");if(D)throw D;return(V||[]).map(H=>({id:H.id,title:H.styleboxes?.title||"Untitled",category:H.styleboxes?.category||"fashion",description:H.description||H.styleboxes?.description,completedAt:H.submitted_at}))},enabled:!!a?.id&&o==="stylebox"}),{data:S=[],isLoading:w}=Oe({queryKey:["walkthrough-progress-for-publish",a?.id],queryFn:async()=>{if(!a?.id)return[];const{data:V,error:D}=await J.from("walkthrough_progress").select(`
          id,
          completed_at,
          submission_notes,
          styleboxes (
            id,
            title,
            category,
            description
          )
        `).eq("designer_id",a.id).not("completed_at","is",null);if(D)throw D;return(V||[]).map(H=>({id:H.id,title:H.styleboxes?.title||"Untitled",category:H.styleboxes?.category||"fashion",description:H.submission_notes||H.styleboxes?.description,completedAt:H.completed_at}))},enabled:!!a?.id&&o==="walkthrough"}),{data:_=[],isLoading:N}=Oe({queryKey:["portfolios-for-publish",a?.id],queryFn:async()=>{if(!a?.id)return[];const{data:V,error:D}=await J.from("portfolios").select("*").eq("designer_id",a.id);if(D)throw D;return(V||[]).map(H=>({id:H.id,title:H.title,category:"fashion",description:H.description,completedAt:H.created_at}))},enabled:!!a?.id&&o==="portfolio"}),k=()=>{switch(o){case"stylebox":return y;case"walkthrough":return S;case"portfolio":return _;default:return[]}},C=j||w||N,P=k(),A=P.find(V=>V.id===c),O=g?.subscription_tier||"basic",I=O==="pro"||O==="elite",F=g?.ranks?.name||"Novice",$=g?.ranks?.revenue_share_percent||20,E=100,M=async()=>{if(!(!a?.id||!A||!o)){x(!0);try{let V=o==="portfolio"?c:null;if(!V){const{data:H,error:ae}=await J.from("portfolios").insert({designer_id:a.id,title:A.title,description:A.description||""}).select().single();if(ae)throw ae;V=H.id}const{error:D}=await J.from("portfolio_publications").insert({portfolio_id:V,source_type:o,source_id:c,status:"pending",decision:"pending",design_metadata:{original_title:A.title,category:A.category,notes:u}});if(D)throw D;Re.success("Publication request submitted!",{description:"You'll be notified when our team reviews your project."}),s?.(),r(!1)}catch(V){console.error("Error submitting publication request:",V),Re.error("Failed to submit request",{description:"Please try again later."})}finally{x(!1)}}},z=o!==null,R=c!==null,te=I&&h&&E>=100;return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"sm:max-w-xl",children:[e.jsxs(Lt,{children:[e.jsxs($t,{className:"flex items-center gap-2",children:[e.jsx(zr,{className:"h-5 w-5 text-accent"}),"Request Publication"]}),e.jsx(Us,{children:"Submit your work for marketplace review"})]}),e.jsx("div",{className:"flex items-center gap-2 py-2",children:[1,2,3].map(V=>e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:q("h-8 w-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors",n>=V?"bg-accent text-accent-foreground":"bg-muted text-muted-foreground"),children:n>V?e.jsx(gr,{className:"h-4 w-4"}):V}),V<3&&e.jsx("div",{className:q("flex-1 h-0.5",n>V?"bg-accent":"bg-muted")})]},V))}),n===1&&e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(K,{className:"text-sm font-medium",children:"Where is your work from?"}),e.jsx(DL,{value:o||"",onValueChange:V=>l(V),className:"space-y-3",children:Object.entries(tk).map(([V,D])=>{const H=D.icon;return e.jsxs(K,{htmlFor:V,className:q("flex items-center gap-4 p-4 rounded-xl border cursor-pointer transition-all",o===V?"border-accent bg-accent/5":"border-border hover:border-accent/50"),children:[e.jsx(RL,{value:V,id:V,className:"sr-only"}),e.jsx("div",{className:q("h-10 w-10 rounded-lg flex items-center justify-center",o===V?"bg-accent/20":"bg-muted"),children:e.jsx(H,{className:q("h-5 w-5",o===V?"text-accent":"text-muted-foreground")})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:D.label}),e.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]}),o===V&&e.jsx(gr,{className:"h-5 w-5 text-accent"})]},V)})})]}),n===2&&e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx(K,{className:"text-sm font-medium",children:"Select your project"}),C?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Ue,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):P.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{className:"text-muted-foreground",children:["No eligible items found. Complete a"," ",o==="stylebox"?"StyleBox challenge":o==="walkthrough"?"Walkthrough":"portfolio project"," ","first."]})}):e.jsx(rn,{className:"h-[280px] pr-4",children:e.jsx("div",{className:"space-y-2",children:P.map(V=>e.jsx(G,{className:q("cursor-pointer transition-all",c===V.id?"border-accent bg-accent/5":"hover:border-accent/50"),onClick:()=>d(V.id),children:e.jsxs(Y,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-muted flex items-center justify-center",children:V.thumbnail?e.jsx("img",{src:V.thumbnail,alt:V.title,className:"h-full w-full object-cover rounded-lg"}):e.jsx(mc,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:V.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsx(B,{variant:"secondary",className:"text-xs capitalize",children:V.category}),V.completedAt&&e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(V.completedAt).toLocaleDateString()})]})]}),c===V.id&&e.jsx(gr,{className:"h-5 w-5 text-accent shrink-0"})]})},V.id))})})]}),n===3&&A&&e.jsxs("div",{className:"space-y-5 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl bg-secondary/50 border border-border",children:[e.jsx("div",{className:"h-14 w-14 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(mc,{className:"h-6 w-6 text-muted-foreground"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-display font-semibold truncate",children:A.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{variant:"secondary",className:"text-xs capitalize",children:A.category}),e.jsx(B,{variant:"outline",className:"text-xs",children:tk[o].label})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-accent/10 border border-accent/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-sm font-medium",children:"Your Revenue Share"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{variant:"outline",className:"bg-background",children:F}),e.jsxs("span",{className:"text-xl font-display font-bold text-accent",children:[$,"%"]})]})]}),!I&&e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-destructive/10 border border-destructive/20",children:[e.jsx(us,{className:"h-5 w-5 text-destructive shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-destructive",children:"Pro Subscription Required"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Upgrade to Pro or Elite to publish designs on the marketplace."}),e.jsx(T,{variant:"outline",size:"sm",className:"mt-2",children:"View Plans"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Project Completeness"}),e.jsxs("span",{className:q("text-sm font-semibold","text-success"),children:[E,"%"]})]}),e.jsx(la,{value:E,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"notes",children:"Notes for Review Team (Optional)"}),e.jsx(nt,{id:"notes",placeholder:"Any special instructions or context for our team...",value:u,onChange:V=>m(V.target.value),rows:3})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ns,{id:"agree",checked:h,onCheckedChange:V=>p(V===!0),disabled:!I}),e.jsxs("label",{htmlFor:"agree",className:"text-sm text-muted-foreground cursor-pointer leading-relaxed",children:["I confirm this is original work and I agree to Adorzia's"," ",e.jsx("a",{href:"#",className:"text-accent hover:underline",children:"Publication Terms"}),"."]})]})]}),e.jsxs(Cs,{className:"gap-2 sm:gap-0",children:[n>1&&e.jsx(T,{variant:"outline",onClick:()=>i(n-1),disabled:v,children:"Back"}),n===1&&e.jsx(T,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n<3?e.jsxs(T,{variant:"accent",onClick:()=>i(n+1),disabled:n===1?!z:!R,className:"gap-2",children:["Continue",e.jsx(lr,{className:"h-4 w-4"})]}):e.jsx(T,{variant:"accent",onClick:M,disabled:!te||v,className:"gap-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zr,{className:"h-4 w-4"}),"Submit for Review"]})})]})]})})}const Vre=["Fashion Design","Jewelry Design","Textile Design","Accessory Design","Footwear Design","Bag Design","Other"],Wre=10*1024*1024,rk=["image/jpeg","image/jpg","image/png","image/webp"];function Hre({open:t,onOpenChange:r,onSuccess:s}){const a=ft(),[n,i]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,m]=f.useState([]),[h,p]=f.useState(""),[v,x]=f.useState([]),[g,b]=f.useState(!1),[y,j]=f.useState(""),S=ze({mutationFn:async()=>{if(v.length===0)throw new Error("At least one image is required");if(!n.trim())throw new Error("Title is required");j("Preparing upload...");const $=await Promise.all(v.map(async z=>new Promise((R,te)=>{const V=new FileReader;V.onload=()=>{R({fileName:z.fileName,fileType:z.fileType,fileData:V.result})},V.onerror=te,V.readAsDataURL(z.file)})));j("Uploading to server...");const{data:{session:E}}=await J.auth.getSession();if(!E)throw new Error("Not authenticated");const M=await fetch("https://lnrhrevpouozugsarsmz.supabase.co/functions/v1/upload-portfolio-project",{method:"POST",headers:{Authorization:`Bearer ${E.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({title:n,description:o||void 0,category:c||void 0,tags:u.length>0?u:void 0,images:$})});if(!M.ok){const z=await M.json();throw new Error(z.error||"Upload failed")}return M.json()},onSuccess:()=>{Re.success("Project uploaded successfully!"),a.invalidateQueries({queryKey:["portfolios"]}),a.invalidateQueries({queryKey:["portfolio-projects"]}),s?.(),w()},onError:$=>{Re.error("Upload failed: "+$.message),j("")}}),w=()=>{i(""),l(""),d(""),m([]),p(""),x([]),j(""),r(!1)},_=()=>{h.trim()&&!u.includes(h.trim())&&(m([...u,h.trim()]),p(""))},N=$=>{m(u.filter(E=>E!==$))},k=$=>{$.key==="Enter"&&($.preventDefault(),_())},C=$=>rk.includes($.type)?$.size>Wre?`${$.name}: File size exceeds 10MB limit.`:null:`${$.name}: Invalid file type. Only JPEG, PNG, and WebP are allowed.`,P=f.useCallback(async $=>{if(!$)return;const E=[],M=[];if(Array.from($).forEach(R=>{const te=C(R);te?M.push(te):E.push(R)}),M.length>0&&Re.error(M.join(`
`)),E.length===0)return;const z=E.map(R=>({file:R,preview:URL.createObjectURL(R),fileName:R.name,fileType:R.type}));x(R=>[...R,...z]),Re.success(`${E.length} image${E.length>1?"s":""} ready for upload`)},[]),A=$=>{$.preventDefault(),$.stopPropagation(),$.type==="dragenter"||$.type==="dragover"?b(!0):$.type==="dragleave"&&b(!1)},O=$=>{$.preventDefault(),$.stopPropagation(),b(!1),$.dataTransfer.files&&$.dataTransfer.files.length>0&&P($.dataTransfer.files)},I=$=>{P($.target.files)},F=$=>{x(E=>{const M=[...E];return URL.revokeObjectURL(M[$].preview),M.splice($,1),M})};return e.jsx(Et,{open:t,onOpenChange:w,children:e.jsxs(Pt,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Lt,{children:e.jsx($t,{children:"Upload New Project"})}),e.jsxs("div",{className:"space-y-6 py-4",children:[S.isPending&&e.jsx("div",{className:"space-y-2 p-4 bg-primary/5 rounded-lg border border-primary/20",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(zr,{className:"h-4 w-4 text-primary animate-pulse"}),e.jsx("span",{children:y})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(K,{children:"Project Images *"}),e.jsxs("div",{className:q("border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer",g?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onDragEnter:A,onDragLeave:A,onDragOver:A,onDrop:O,onClick:()=>document.getElementById("file-input")?.click(),children:[e.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:rk.join(","),onChange:I,className:"hidden"}),e.jsx(zr,{className:"h-10 w-10 mx-auto mb-3 text-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, WebP up to 10MB"})]}),v.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:e.jsxs("span",{children:[v.length," image",v.length>1?"s":""," selected"]})}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:v.map(($,E)=>e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border group",children:[e.jsx("img",{src:$.preview,alt:`Upload ${E+1}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(T,{size:"icon",variant:"destructive",className:"h-8 w-8",onClick:M=>{M.stopPropagation(),F(E)},children:e.jsx(ht,{className:"h-4 w-4"})})})]},E))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"title",children:"Project Title *"}),e.jsx(ie,{id:"title",value:n,onChange:$=>i($.target.value),placeholder:"Enter project title",maxLength:100})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"description",children:"Description"}),e.jsx(nt,{id:"description",value:o,onChange:$=>l($.target.value),placeholder:"Describe your project...",rows:4,maxLength:1e3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"category",children:"Category"}),e.jsxs(qe,{value:c,onValueChange:d,children:[e.jsx(Fe,{id:"category",children:e.jsx(Me,{placeholder:"Select a category"})}),e.jsx(Le,{children:Vre.map($=>e.jsx(X,{value:$,children:$},$))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"tags",children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{id:"tags",value:h,onChange:$=>p($.target.value),onKeyDown:k,placeholder:"Add tag...",maxLength:30}),e.jsx(T,{type:"button",variant:"outline",size:"icon",onClick:_,children:e.jsx(Xt,{className:"h-4 w-4"})})]}),u.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map(($,E)=>e.jsxs(B,{variant:"secondary",className:"gap-1",children:[$,e.jsx("button",{onClick:()=>N($),className:"hover:text-destructive",children:e.jsx(ht,{className:"h-3 w-3"})})]},E))})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{variant:"outline",onClick:w,disabled:S.isPending,children:"Cancel"}),e.jsx(T,{onClick:()=>S.mutate(),disabled:S.isPending||v.length===0||!n.trim(),children:S.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zr,{className:"mr-2 h-4 w-4"}),"Upload Project"]})})]})]})})}function pv({onUpload:t}){const r=wr();return e.jsx(G,{className:"border-dashed",children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-secondary flex items-center justify-center mb-6",children:e.jsx(As,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"No Projects Yet"}),e.jsx("p",{className:"text-muted-foreground max-w-sm mb-6",children:"Complete a Stylebox challenge or upload your own work to build your portfolio"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{variant:"outline",className:"gap-2",onClick:()=>r("/styleboxes"),children:[e.jsx(Mr,{className:"h-4 w-4"}),"Browse Styleboxes"]}),e.jsxs(T,{variant:"default",className:"gap-2",onClick:t,children:[e.jsx(zr,{className:"h-4 w-4"}),"Upload Project"]})]})]})})}function Kre(){const{user:t}=ur(),[r,s]=f.useState([]),[a,n]=f.useState({totalProjects:0,published:0,inPipeline:0,collections:0}),[i,o]=f.useState(!0),[l,c]=f.useState(null),d=async()=>{if(!t){o(!1);return}try{o(!0),c(null);const{data:u,error:m}=await J.from("portfolios").select("id").eq("designer_id",t.id);if(m)throw m;const h=u?.map(b=>b.id)||[];let p=[];if(h.length>0){const{data:b,error:y}=await J.from("portfolio_projects").select("id, title, category, thumbnail_url, created_at, source_type, description, tags").in("portfolio_id",h).order("created_at",{ascending:!1});if(y)throw y;p=b||[]}let v=0,x=0;if(h.length>0){const{data:b,error:y}=await J.from("portfolio_publications").select("status").in("portfolio_id",h);!y&&b&&(v=b.filter(j=>j.status==="published").length,x=b.filter(j=>["pending","sampling","pending_review","marketplace_pending"].includes(j.status)).length)}const g=new Set(p.map(b=>b.category).filter(Boolean));s(p),n({totalProjects:p.length,published:v,inPipeline:x,collections:g.size})}catch(u){console.error("Error fetching portfolio data:",u),c(u instanceof Error?u.message:"Failed to fetch portfolio data")}finally{o(!1)}};return f.useEffect(()=>{d()},[t]),{projects:r,stats:a,loading:i,error:l,refetch:d}}const Gre=({selectedProjectIds:t,onActionComplete:r})=>{const[s,a]=f.useState(!1),n=ft(),i=ze({mutationFn:async({action:l,ids:c})=>{if(c.length!==0)switch(l){case"delete":const{error:d}=await J.from("portfolio_assets").delete().in("project_id",c);if(d)throw d;const{error:u}=await J.from("portfolio_projects").delete().in("id",c);if(u)throw u;break;case"feature":const{error:m}=await J.from("portfolio_projects").update({is_featured:!0}).in("id",c);if(m)throw m;break;case"unfeature":const{error:h}=await J.from("portfolio_projects").update({is_featured:!1}).in("id",c);if(h)throw h;break;case"archive":const{error:p}=await J.from("portfolio_projects").update({status:"archived"}).in("id",c);if(p)throw p;break;default:throw new Error(`Unknown action: ${l}`)}},onMutate:()=>{a(!0)},onSuccess:(l,c)=>{const u={delete:"deleted",feature:"featured",unfeature:"unfeatured",archive:"archived"}[c.action]||c.action;Re.success(`${c.ids.length} project(s) ${u} successfully!`),n.invalidateQueries({queryKey:["portfolios"]}),n.invalidateQueries({queryKey:["portfolio-projects"]}),r&&r()},onError:l=>{Re.error(`Bulk operation failed: ${l.message}`)},onSettled:()=>{a(!1)}}),o=l=>{t.length!==0&&i.mutate({action:l,ids:t})};return t.length===0?null:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(po,{className:"h-4 w-4"}),"Bulk Actions (",t.length,")"]})}),e.jsxs(rs,{align:"end",className:"w-56",children:[e.jsxs(Se,{onClick:()=>o("feature"),children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Feature Selected"]}),e.jsxs(Se,{onClick:()=>o("unfeature"),children:[e.jsx(At,{className:"h-4 w-4 mr-2 fill-current opacity-50"}),"Unfeature Selected"]}),e.jsx(Ar,{}),e.jsxs(Se,{onClick:()=>o("archive"),children:[e.jsx(Gp,{className:"h-4 w-4 mr-2"}),"Archive Selected"]}),e.jsxs(Se,{onClick:()=>o("delete"),className:"text-destructive",children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Delete Selected"]}),e.jsx(Ar,{}),e.jsxs(Se,{children:[e.jsx(vd,{className:"h-4 w-4 mr-2"}),"Duplicate Selected"]}),e.jsxs(Se,{children:[e.jsx(vn,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),e.jsx(Ar,{}),e.jsxs(Se,{children:[e.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Edit Selected"]}),e.jsxs(Se,{children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View Selected"]})]})]})},Yre=({items:t,selectedItems:r,onSelectionChange:s,onReorderToggle:a,isReordering:n,onViewChange:i,currentView:o})=>{const[l,c]=f.useState(!1),d=()=>{r.length===t.length?s([]):s(t.map(m=>m.id))},u=()=>{s([])};return e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ns,{id:"select-all",checked:r.length>0&&r.length===t.length,onCheckedChange:d,className:"h-4 w-4"}),e.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[r.length," selected"]}),r.length>0&&e.jsx(T,{variant:"ghost",size:"sm",onClick:u,className:"ml-2",children:"Clear"})]}),r.length>0&&e.jsx(Gre,{selectedProjectIds:r,onActionComplete:u})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex border border-border rounded-md overflow-hidden",children:[e.jsx(T,{variant:o==="grid"?"secondary":"ghost",size:"sm",onClick:()=>i("grid"),className:"h-8 w-8 p-0",children:e.jsx(Gz,{className:"h-4 w-4"})}),e.jsx(T,{variant:o==="list"?"secondary":"ghost",size:"sm",onClick:()=>i("list"),className:"h-8 w-8 p-0",children:e.jsx(YD,{className:"h-4 w-4"})})]}),e.jsxs(T,{variant:n?"secondary":"outline",size:"sm",onClick:a,className:"gap-2",children:[e.jsx(Em,{className:"h-4 w-4"}),n?"Exit Reorder":"Reorder"]}),e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),"More"]})}),e.jsxs(rs,{align:"end",children:[e.jsxs(Se,{children:[e.jsx(Al,{className:"h-4 w-4 mr-2"}),"Filter"]}),e.jsxs(Se,{children:[e.jsx(vn,{className:"h-4 w-4 mr-2"}),"Export All"]}),e.jsx(Ar,{}),e.jsxs(Se,{children:[e.jsx(vd,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),e.jsxs(Se,{children:[e.jsx(Gp,{className:"h-4 w-4 mr-2"}),"Archive All"]}),e.jsx(Ar,{}),e.jsxs(Se,{children:[e.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Batch Edit"]}),e.jsxs(Se,{children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Preview All"]})]})]})]})]})},Xre=({projects:t,onEdit:r,onDelete:s,onDuplicate:a,onPublish:n,onFeature:i})=>{const[o,l]=f.useState(null),c=ft(),d=ze({mutationFn:async b=>{const{error:y}=await J.from("portfolio_assets").delete().eq("project_id",b);if(y)throw y;const{error:j}=await J.from("portfolio_projects").delete().eq("id",b);if(j)throw j},onSuccess:()=>{Re.success("Project deleted successfully!"),c.invalidateQueries({queryKey:["portfolios"]}),c.invalidateQueries({queryKey:["portfolio-projects"]})},onError:b=>{Re.error(`Failed to delete project: ${b.message}`)}}),u=ze({mutationFn:async b=>{const{data:y,error:j}=await J.from("portfolio_projects").select("*").eq("id",b).single();if(j)throw j;const{data:S,error:w}=await J.from("portfolio_assets").select("*").eq("project_id",b);if(w)throw w;const{data:_,error:N}=await J.from("portfolio_projects").insert({...y,id:void 0,title:`${y.title} (Copy)`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(N)throw N;if(S&&S.length>0){const k=S.map(P=>({...P,id:void 0,project_id:_.id,created_at:new Date().toISOString()})),{error:C}=await J.from("portfolio_assets").insert(k);if(C)throw C}return _},onSuccess:()=>{Re.success("Project duplicated successfully!"),c.invalidateQueries({queryKey:["portfolios"]}),c.invalidateQueries({queryKey:["portfolio-projects"]})},onError:b=>{Re.error(`Failed to duplicate project: ${b.message}`)}}),m=ze({mutationFn:async({projectId:b,featured:y})=>{const{error:j}=await J.from("portfolio_projects").update({is_featured:y}).eq("id",b);if(j)throw j},onSuccess:()=>{Re.success("Featured status updated successfully!"),c.invalidateQueries({queryKey:["portfolios"]}),c.invalidateQueries({queryKey:["portfolio-projects"]})},onError:b=>{Re.error(`Failed to update featured status: ${b.message}`)}}),h=b=>{window.confirm("Are you sure you want to delete this project? This action cannot be undone.")&&d.mutate(b)},p=b=>{u.mutate(b)},v=(b,y)=>{m.mutate({projectId:b,featured:!y})},g={totalProjects:t.length,featured:t.filter(b=>b.isFeatured).length,published:t.filter(b=>b.status==="published").length,drafts:t.filter(b=>b.status==="draft").length,totalViews:t.reduce((b,y)=>b+y.views,0),totalLikes:t.reduce((b,y)=>b+y.likes,0),totalSales:t.reduce((b,y)=>b+y.sales,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsx(G,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:e.jsxs(Y,{className:"p-4 flex flex-col items-center text-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center mb-2",children:e.jsx(ct,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:g.totalProjects}),e.jsx("p",{className:"text-xs text-blue-700",children:"Projects"})]})}),e.jsx(G,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:e.jsxs(Y,{className:"p-4 flex flex-col items-center text-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500 flex items-center justify-center mb-2",children:e.jsx(At,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:g.featured}),e.jsx("p",{className:"text-xs text-purple-700",children:"Featured"})]})}),e.jsx(G,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsxs(Y,{className:"p-4 flex flex-col items-center text-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500 flex items-center justify-center mb-2",children:e.jsx(ks,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:g.published}),e.jsx("p",{className:"text-xs text-green-700",children:"Published"})]})}),e.jsx(G,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:e.jsxs(Y,{className:"p-4 flex flex-col items-center text-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-500 flex items-center justify-center mb-2",children:e.jsx(Bt,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:g.totalViews}),e.jsx("p",{className:"text-xs text-orange-700",children:"Views"})]})}),e.jsx(G,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:e.jsxs(Y,{className:"p-4 flex flex-col items-center text-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-red-500 flex items-center justify-center mb-2",children:e.jsx(mt,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:g.totalLikes}),e.jsx("p",{className:"text-xs text-red-700",children:"Likes"})]})}),e.jsx(G,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border-emerald-200",children:e.jsxs(Y,{className:"p-4 flex flex-col items-center text-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-emerald-500 flex items-center justify-center mb-2",children:e.jsx(kc,{className:"h-5 w-5 text-white"})}),e.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:g.totalSales}),e.jsx("p",{className:"text-xs text-emerald-700",children:"Sales"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(b=>e.jsxs(G,{className:"overflow-hidden group hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[e.jsx("img",{src:b.thumbnail,alt:b.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute top-3 right-3 flex gap-1",children:[e.jsxs(B,{variant:"secondary",className:"bg-background/90 backdrop-blur-sm",children:[e.jsx(Bt,{className:"h-3 w-3 mr-1"}),b.views]}),e.jsxs(B,{variant:"secondary",className:"bg-background/90 backdrop-blur-sm",children:[e.jsx(mt,{className:"h-3 w-3 mr-1"}),b.likes]}),e.jsxs(B,{variant:"secondary",className:"bg-background/90 backdrop-blur-sm",children:[e.jsx(kc,{className:"h-3 w-3 mr-1"}),b.sales]})]}),b.isFeatured&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(B,{variant:"default",className:"bg-yellow-500 text-yellow-900",children:[e.jsx(At,{className:"h-3 w-3 mr-1"}),"Featured"]})}),e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsx(B,{variant:b.status==="published"?"default":b.status==="draft"?"secondary":b.status==="pending"?"outline":"default",children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx(T,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 rounded-full",onClick:()=>r(b.id),children:e.jsx(Tu,{className:"h-4 w-4"})}),e.jsx(T,{size:"sm",variant:"default",className:"h-8 w-8 p-0 rounded-full",onClick:()=>n(b.id),children:e.jsx(zr,{className:"h-4 w-4"})}),e.jsx(T,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 rounded-full",onClick:()=>v(b.id,b.isFeatured),children:e.jsx(At,{className:`h-4 w-4 ${b.isFeatured?"fill-current text-yellow-500":""}`})}),e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 rounded-full",children:e.jsx(Vp,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",children:[e.jsxs(Se,{onClick:()=>p(b.id),children:[e.jsx(vd,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),e.jsxs(Se,{onClick:()=>r(b.id),children:[e.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Edit Details"]}),e.jsxs(Se,{onClick:()=>r(b.id),children:[e.jsx(al,{className:"h-4 w-4 mr-2"}),"Change Theme"]}),e.jsxs(Se,{onClick:()=>r(b.id),children:[e.jsx(UD,{className:"h-4 w-4 mr-2"}),"Adjust Measurements"]}),e.jsxs(Se,{onClick:()=>h(b.id),className:"text-destructive",children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]}),e.jsxs(je,{className:"pb-2",children:[e.jsx(Ne,{className:"text-lg truncate",children:b.title}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(B,{variant:"outline",children:b.category}),e.jsx("span",{className:"text-xs text-muted-foreground",children:b.createdAt})]})]}),e.jsx(Y,{className:"pb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.tags.slice(0,3).map((y,j)=>e.jsx(B,{variant:"secondary",className:"text-xs",children:y},j)),b.tags.length>3&&e.jsxs(B,{variant:"outline",className:"text-xs",children:["+",b.tags.length-3," more"]})]})})]},b.id))})]})},Qre=()=>{const[t,r]=f.useState(!1),[s,a]=f.useState(!1),[n,i]=f.useState([]),[o,l]=f.useState(!1),[c,d]=f.useState("grid"),{projects:u,stats:m,loading:h,refetch:p}=Kre(),v=N=>{console.log("Editing project:",N)},x=N=>{window.confirm("Are you sure you want to delete this project?")&&console.log("Deleting project:",N)},g=N=>{console.log("Duplicating project:",N)},b=N=>{console.log("Publishing project:",N)},y=(N,k)=>{console.log(`Setting featured status for ${N} to ${k}`)},j=u.map(N=>({id:N.id,title:N.title,category:N.category||"Uncategorized",thumbnail:N.thumbnail_url||"https://images.unsplash.com/photo-1558171813-4c088753af8f?w=600",status:"completed",createdAt:N.created_at?xt(new Date(N.created_at),"MMM d, yyyy"):"",source:N.source_type==="stylebox"?"stylebox":"upload"})),S=j.filter(N=>N.source==="stylebox"),w=j.filter(N=>N.source==="upload"),_=[...new Set(u.map(N=>N.category).filter(Boolean))];return e.jsxs(cs,{children:[e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"My Portfolio"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Create, upload, edit, and manage your design work"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{variant:"outline",className:"gap-2",children:[e.jsx(vn,{className:"h-4 w-4"}),"Export PDF"]}),e.jsxs(T,{variant:"outline",className:"gap-2",onClick:()=>r(!0),disabled:u.length===0,children:[e.jsx(ai,{className:"h-4 w-4"}),"Request Publish"]}),e.jsxs(T,{variant:"default",className:"gap-2",onClick:()=>a(!0),children:[e.jsx(Xt,{className:"h-4 w-4"}),"Upload Project"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h?e.jsx(e.Fragment,{children:[1,2,3,4].map(N=>e.jsx(rt,{className:"h-20 rounded-xl"},N))}):e.jsx(e.Fragment,{children:[{label:"Total Projects",value:m.totalProjects.toString(),icon:Am},{label:"Published",value:m.published.toString(),icon:zr},{label:"In Pipeline",value:m.inPipeline.toString(),icon:Ze},{label:"Collections",value:m.collections.toString(),icon:A0}].map((N,k)=>e.jsx(G,{children:e.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-secondary flex items-center justify-center",children:e.jsx(N.icon,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-display font-semibold",children:N.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:N.label})]})]})},k))})}),h?e.jsxs("div",{className:"space-y-4",children:[e.jsx(rt,{className:"h-10 w-full max-w-md"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4].map(N=>e.jsx(rt,{className:"aspect-square rounded-xl"},N))})]}):u.length===0?e.jsx(pv,{onUpload:()=>a(!0)}):e.jsxs(e.Fragment,{children:[e.jsx(Yre,{items:j,selectedItems:n,onSelectionChange:i,onReorderToggle:()=>l(!o),isReordering:o,onViewChange:d,currentView:c}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search projects...",className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(qe,{defaultValue:"all",children:[e.jsx(Fe,{className:"w-[140px]",children:e.jsx(Me,{placeholder:"Category"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Categories"}),e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]}),e.jsxs(qe,{defaultValue:"all",children:[e.jsx(Fe,{className:"w-[140px]",children:e.jsx(Me,{placeholder:"Status"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Status"}),e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"completed",children:"Completed"}),e.jsx(X,{value:"pending",children:"Pending"}),e.jsx(X,{value:"published",children:"Published"})]})]})]})]}),e.jsxs(Nr,{defaultValue:"all",className:"space-y-6",children:[e.jsxs(br,{children:[e.jsx(Ee,{value:"all",children:"All Projects"}),e.jsx(Ee,{value:"stylebox",children:"From Styleboxes"}),e.jsx(Ee,{value:"uploaded",children:"Uploaded"}),e.jsx(Ee,{value:"collections",children:"Collections"})]}),e.jsx(Te,{value:"all",children:o?e.jsx(fv,{items:j,isReordering:o}):e.jsx(Xre,{projects:j.map(N=>({...N,views:Math.floor(Math.random()*1e3),likes:Math.floor(Math.random()*100),sales:Math.floor(Math.random()*50),tags:["fashion","design","style"],isFeatured:N.id===j[0]?.id})),onEdit:v,onDelete:x,onDuplicate:g,onPublish:b,onFeature:y})}),e.jsx(Te,{value:"stylebox",children:S.length>0?e.jsx(fv,{items:S,isReordering:o}):e.jsx(pv,{})}),e.jsx(Te,{value:"uploaded",children:w.length>0?e.jsx(fv,{items:w,isReordering:o}):e.jsx(pv,{})}),e.jsx(Te,{value:"collections",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[_.map((N,k)=>{const C=u.filter(A=>A.category===N),P=C[0]?.thumbnail_url||"https://images.unsplash.com/photo-1558171813-4c088753af8f?w=400";return e.jsx(G,{hover:!0,className:"overflow-hidden cursor-pointer group",children:e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[e.jsx("img",{src:P,alt:N||"Collection",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-foreground/80 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4",children:[e.jsx("h3",{className:"font-display text-lg font-semibold text-primary-foreground",children:N}),e.jsxs("p",{className:"text-sm text-primary-foreground/70",children:[C.length," projects"]})]})]})},k)}),e.jsx(G,{className:"aspect-square border-dashed flex items-center justify-center cursor-pointer hover:border-accent hover:bg-accent/5 transition-colors",children:e.jsxs("div",{className:"text-center",children:[e.jsx(A0,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Create Collection"})]})})]})})]})]})]}),e.jsx(Ure,{open:t,onOpenChange:r}),e.jsx(Hre,{open:s,onOpenChange:a,onSuccess:p})]})},Jre=(t,r,s)=>{if(!t&&!r)return null;const a=i=>i>=1e3?`${(i/1e3).toFixed(0)}k`:i.toString(),n=s==="hourly"?"/hr":s==="monthly"?"/mo":"/yr";return t&&r?`$${a(t)} - $${a(r)}${n}`:t?`$${a(t)}+${n}`:r?`Up to $${a(r)}${n}`:null},Zre=t=>t?t.replace("_"," ").replace(/\b\w/g,r=>r.toUpperCase()):"Full Time",ese=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"Remote",tse=t=>{const r=new Date,s=new Date(t),a=Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24));return a===0?"Today":a===1?"Yesterday":a<7?`${a} days ago`:a<30?`${Math.floor(a/7)} weeks ago`:`${Math.floor(a/30)} months ago`};function sk({job:t,isSaved:r,hasApplied:s,onView:a,onSave:n,onApply:i}){const o=Jre(t.salary_min,t.salary_max,t.salary_type);return e.jsxs(G,{className:q("group relative overflow-hidden transition-all duration-300 hover:shadow-lg cursor-pointer border-border/50",t.is_featured&&"ring-2 ring-primary/20 bg-gradient-to-br from-primary/5 to-transparent"),onClick:()=>a(t),children:[t.is_featured&&e.jsx("div",{className:"absolute top-0 right-0",children:e.jsxs("div",{className:"bg-primary text-primary-foreground text-xs font-semibold px-3 py-1 rounded-bl-lg flex items-center gap-1",children:[e.jsx(At,{className:"h-3 w-3 fill-current"}),"Featured"]})}),e.jsx(Y,{className:"p-5",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-14 w-14 rounded-xl bg-muted flex items-center justify-center overflow-hidden border border-border/50",children:t.company_logo?e.jsx("img",{src:t.company_logo,alt:t.company_name||"Company",className:"h-full w-full object-cover"}):e.jsx(pd,{className:"h-6 w-6 text-muted-foreground"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors line-clamp-1",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:t.company_name||"Company Name"})]}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",onClick:l=>{l.stopPropagation(),n(t.id)},children:r?e.jsx(XD,{className:"h-4 w-4 text-primary fill-primary"}):e.jsx(s_,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ha,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:t.location||ese(t.location_type)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Tn,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:Zre(t.job_type)})]}),o&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Rs,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:o})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:tse(t.created_at)})]})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-3",children:[t.tags.slice(0,4).map(l=>e.jsx(B,{variant:"secondary",className:"text-xs font-normal",children:l},l)),t.tags.length>4&&e.jsxs(B,{variant:"outline",className:"text-xs font-normal",children:["+",t.tags.length-4]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(T,{size:"sm",onClick:l=>{l.stopPropagation(),i(t)},disabled:s,className:"h-8",children:s?"Applied":"Apply Now"}),e.jsx(T,{variant:"outline",size:"sm",onClick:l=>{l.stopPropagation(),a(t)},className:"h-8",children:"View Details"})]})]})]})})]})}const rse=(t,r,s)=>{if(!t&&!r)return"Competitive";const a=i=>i.toLocaleString(),n=s==="hourly"?"/hour":s==="monthly"?"/month":"/year";return t&&r?`$${a(t)} - $${a(r)}${n}`:t?`$${a(t)}+${n}`:r?`Up to $${a(r)}${n}`:"Competitive"},sse=t=>t?t.replace("_"," ").replace(/\b\w/g,r=>r.toUpperCase()):"Full Time",ase=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"Remote";function nse({job:t,open:r,onOpenChange:s,isSaved:a,hasApplied:n,onSave:i,onApply:o}){if(!t)return null;const l=Array.isArray(t.requirements)?t.requirements:[],c=Array.isArray(t.benefits)?t.benefits:[];return e.jsx(Et,{open:r,onOpenChange:s,children:e.jsx(Pt,{className:"max-w-2xl max-h-[90vh] p-0",children:e.jsx(rn,{className:"max-h-[90vh]",children:e.jsxs("div",{className:"p-6",children:[e.jsxs(Lt,{className:"text-left",children:[t.is_featured&&e.jsxs(B,{className:"w-fit mb-2 bg-primary/10 text-primary border-0",children:[e.jsx(At,{className:"h-3 w-3 mr-1 fill-current"}),"Featured Position"]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-xl bg-muted flex items-center justify-center overflow-hidden border border-border/50 flex-shrink-0",children:t.company_logo?e.jsx("img",{src:t.company_logo,alt:t.company_name||"Company",className:"h-full w-full object-cover"}):e.jsx(pd,{className:"h-7 w-7 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx($t,{className:"text-xl font-semibold mb-1",children:t.title}),e.jsx("p",{className:"text-muted-foreground",children:t.company_name||"Company Name"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-6",children:[e.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs mb-1",children:[e.jsx(Ha,{className:"h-3.5 w-3.5"}),"Location"]}),e.jsx("p",{className:"font-medium text-sm",children:t.location||ase(t.location_type)})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs mb-1",children:[e.jsx(Tn,{className:"h-3.5 w-3.5"}),"Type"]}),e.jsx("p",{className:"font-medium text-sm",children:sse(t.job_type)})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs mb-1",children:[e.jsx(Rs,{className:"h-3.5 w-3.5"}),"Salary"]}),e.jsx("p",{className:"font-medium text-sm",children:rse(t.salary_min,t.salary_max,t.salary_type)})]}),e.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-xs mb-1",children:[e.jsx(mt,{className:"h-3.5 w-3.5"}),"Applicants"]}),e.jsxs("p",{className:"font-medium text-sm",children:[t.application_count||0," applied"]})]})]}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:t.tags.map(d=>e.jsx(B,{variant:"secondary",children:d},d))}),e.jsx(Ut,{className:"my-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"About This Role"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed whitespace-pre-wrap",children:t.description||"No description provided."})]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"my-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Requirements"}),e.jsx("ul",{className:"space-y-2",children:l.map((d,u)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Mt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:d})]},u))})]})]}),c.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Ut,{className:"my-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Benefits & Perks"}),e.jsx("ul",{className:"space-y-2",children:c.map((d,u)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Mt,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:d})]},u))})]})]}),e.jsx(Ut,{className:"my-6"}),e.jsxs("div",{className:"space-y-3",children:[t.deadline&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Application Deadline:"}),e.jsx("span",{className:"font-medium",children:new Date(t.deadline).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),t.contact_email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ms,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),e.jsx("a",{href:`mailto:${t.contact_email}`,className:"font-medium text-primary hover:underline",children:t.contact_email})]}),t.external_link&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx($i,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"External Link:"}),e.jsx("a",{href:t.external_link,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline",children:"View on Company Site"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Posted:"}),e.jsx("span",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-8 pt-6 border-t",children:[e.jsx(T,{size:"lg",className:"flex-1",onClick:()=>o(t),disabled:n,children:n?"Already Applied":"Apply Now"}),e.jsx(T,{variant:"outline",size:"lg",onClick:()=>i(t.id),children:a?e.jsxs(e.Fragment,{children:[e.jsx(XD,{className:"h-4 w-4 mr-2 fill-current"}),"Saved"]}):e.jsxs(e.Fragment,{children:[e.jsx(s_,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]})})})})}function ise({job:t,open:r,onOpenChange:s,onSubmit:a,isSubmitting:n}){const[i,o]=f.useState(""),[l,c]=f.useState(""),d=async u=>{u.preventDefault(),await a({cover_letter:i,portfolio_url:l}),o(""),c("")};return t?e.jsx(Et,{open:r,onOpenChange:s,children:e.jsxs(Pt,{className:"max-w-lg",children:[e.jsxs(Lt,{children:[e.jsx($t,{children:"Apply for Position"}),e.jsxs(Us,{children:["Submit your application for ",t.title," at ",t.company_name||"the company"]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-background flex items-center justify-center overflow-hidden border border-border/50",children:t.company_logo?e.jsx("img",{src:t.company_logo,alt:t.company_name||"Company",className:"h-full w-full object-cover"}):e.jsx(pd,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:t.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.company_name||"Company"})]})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4 mt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"portfolio",children:"Portfolio URL"}),e.jsx(ie,{id:"portfolio",type:"url",placeholder:"https://your-portfolio.com",value:l,onChange:u=>c(u.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Link to your portfolio, Behance, Dribbble, or personal website"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"cover-letter",children:"Cover Letter"}),e.jsx(nt,{id:"cover-letter",placeholder:"Tell us why you're a great fit for this role...",value:i,onChange:u=>o(u.target.value),rows:6,required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Briefly introduce yourself and explain your interest in this position"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:n,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:n||!i.trim(),children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ai,{className:"h-4 w-4 mr-2"}),"Submit Application"]})})]})]})]})}):null}var Ix="Switch",[ose]=Ur(Ix),[lse,cse]=ose(Ix),IL=f.forwardRef((t,r)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...m}=t,[h,p]=f.useState(null),v=Xe(r,j=>p(j)),x=f.useRef(!1),g=h?u||!!h.closest("form"):!0,[b,y]=Is({prop:n,defaultProp:i??!1,onChange:d,caller:Ix});return e.jsxs(lse,{scope:s,checked:b,disabled:l,children:[e.jsx(we.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":$L(b),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onClick:ve(t.onClick,j=>{y(S=>!S),g&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),g&&e.jsx(LL,{control:h,bubbles:!x.current,name:a,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});IL.displayName=Ix;var ML="SwitchThumb",FL=f.forwardRef((t,r)=>{const{__scopeSwitch:s,...a}=t,n=cse(ML,s);return e.jsx(we.span,{"data-state":$L(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});FL.displayName=ML;var dse="SwitchBubbleInput",LL=f.forwardRef(({__scopeSwitch:t,control:r,checked:s,bubbles:a=!0,...n},i)=>{const o=f.useRef(null),l=Xe(o,i),c=Sd(s),d=Rm(r);return f.useEffect(()=>{const u=o.current;if(!u)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==s&&p){const v=new Event("click",{bubbles:a});p.call(u,s),u.dispatchEvent(v)}},[c,s,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LL.displayName=dse;function $L(t){return t?"checked":"unchecked"}var qL=IL,use=FL;const Ws=f.forwardRef(({className:t,...r},s)=>e.jsx(qL,{className:q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...r,ref:s,children:e.jsx(use,{className:q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ws.displayName=qL.displayName;function mse({filters:t,onFiltersChange:r,onReset:s}){const[a,n]=f.useState(!1),i=(c,d)=>{r({...t,[c]:d})},o=t.category!=="all"||t.jobType!=="all"||t.locationType!=="all"||t.salaryMin>0||t.salaryMax<5e5||t.featuredOnly,l=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Category"}),e.jsxs(qe,{value:t.category,onValueChange:c=>i("category",c),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"All Categories"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Categories"}),e.jsx(X,{value:"fashion",children:"Fashion Design"}),e.jsx(X,{value:"textile",children:"Textile Design"}),e.jsx(X,{value:"jewelry",children:"Jewelry Design"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Job Type"}),e.jsxs(qe,{value:t.jobType,onValueChange:c=>i("jobType",c),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"All Types"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Types"}),e.jsx(X,{value:"full_time",children:"Full Time"}),e.jsx(X,{value:"part_time",children:"Part Time"}),e.jsx(X,{value:"contract",children:"Contract"}),e.jsx(X,{value:"freelance",children:"Freelance"}),e.jsx(X,{value:"internship",children:"Internship"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Location"}),e.jsxs(qe,{value:t.locationType,onValueChange:c=>i("locationType",c),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"All Locations"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Locations"}),e.jsx(X,{value:"remote",children:"Remote"}),e.jsx(X,{value:"onsite",children:"On-site"}),e.jsx(X,{value:"hybrid",children:"Hybrid"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(K,{children:"Salary Range (Annual)"}),e.jsx("div",{className:"px-2",children:e.jsx(zu,{value:[t.salaryMin,t.salaryMax],min:0,max:5e5,step:1e4,onValueChange:([c,d])=>{r({...t,salaryMin:c,salaryMax:d})}})}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["$",(t.salaryMin/1e3).toFixed(0),"k"]}),e.jsxs("span",{children:["$",(t.salaryMax/1e3).toFixed(0),"k+"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{htmlFor:"featured",children:"Featured Jobs Only"}),e.jsx(Ws,{id:"featured",checked:t.featuredOnly,onCheckedChange:c=>i("featuredOnly",c)})]}),o&&e.jsxs(T,{variant:"outline",className:"w-full",onClick:s,children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search jobs, companies, or keywords...",value:t.search,onChange:c=>i("search",c.target.value),className:"pl-10 h-11"})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"bg-card rounded-xl border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Pu,{className:"h-4 w-4"}),"Filters"]}),o&&e.jsx(T,{variant:"ghost",size:"sm",onClick:s,children:"Reset"})]}),e.jsx(l,{})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsxs(El,{open:a,onOpenChange:n,children:[e.jsx(hx,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:"w-full",children:[e.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Filters",o&&e.jsx("span",{className:"ml-2 bg-primary text-primary-foreground text-xs px-2 py-0.5 rounded-full",children:"Active"})]})}),e.jsxs(Ao,{side:"bottom",className:"h-[80vh]",children:[e.jsx(qm,{children:e.jsx(zm,{children:"Filter Jobs"})}),e.jsx("div",{className:"mt-4",children:e.jsx(l,{})})]})]})})]})}const hse=t=>{const s={applied:{label:"Applied",variant:"secondary"},shortlisted:{label:"Shortlisted",variant:"default"},rejected:{label:"Rejected",variant:"destructive"},hired:{label:"Hired",variant:"default"}}[t]||{label:t,variant:"outline"};return e.jsx(B,{variant:s.variant,className:t==="hired"?"bg-green-500 hover:bg-green-600":"",children:s.label})};function fse({application:t,onClick:r}){const s=t.jobs;return e.jsx(G,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:r,children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-muted flex items-center justify-center overflow-hidden flex-shrink-0",children:s?.company_logo?e.jsx("img",{src:s.company_logo,alt:s.company_name||"Company",className:"h-full w-full object-cover"}):e.jsx(pd,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium line-clamp-1",children:s?.title||"Unknown Position"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?.company_name||"Company"})]}),hse(t.status)]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wr,{className:"h-3 w-3"}),"Applied ",new Date(t.applied_at).toLocaleDateString()]}),t.interview_date&&e.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[e.jsx(Ze,{className:"h-3 w-3"}),"Interview: ",new Date(t.interview_date).toLocaleDateString()]})]})]})]})})})}function pse(t={}){return Oe({queryKey:["jobs","active",t],queryFn:async()=>{let r=J.from("jobs").select("*").eq("status","active").order("is_featured",{ascending:!1}).order("created_at",{ascending:!1});t.category&&t.category!=="all"&&(r=r.eq("category",t.category)),t.jobType&&t.jobType!=="all"&&(r=r.eq("job_type",t.jobType)),t.locationType&&t.locationType!=="all"&&(r=r.eq("location_type",t.locationType)),t.search&&(r=r.or(`title.ilike.%${t.search}%,company_name.ilike.%${t.search}%`)),t.featuredOnly&&(r=r.eq("is_featured",!0));const{data:s,error:a}=await r;if(a)throw a;return s}})}function xse(t={}){return Oe({queryKey:["jobs","all",t],queryFn:async()=>{let r=ee.from("jobs").select("*").order("created_at",{ascending:!1});t.status&&t.status!=="all"&&(r=r.eq("status",t.status)),t.category&&t.category!=="all"&&(r=r.eq("category",t.category)),t.search&&(r=r.or(`title.ilike.%${t.search}%,company_name.ilike.%${t.search}%`));const{data:s,error:a}=await r;if(a)throw a;return s}})}function gse(t){return Oe({queryKey:["my-applications",t],queryFn:async()=>{if(!t)return[];const{data:r,error:s}=await J.from("job_applications").select(`
          *,
          jobs(title, company_name, company_logo, location, job_type, salary_min, salary_max, salary_type)
        `).eq("designer_id",t).order("applied_at",{ascending:!1});if(s)throw s;return r},enabled:!!t})}function vse(t){return Oe({queryKey:["saved-jobs-details",t],queryFn:async()=>{if(!t)return[];const{data:r,error:s}=await J.from("saved_jobs").select(`
          job_id,
          jobs(*)
        `).eq("designer_id",t);if(s)throw s;return r.map(a=>a.jobs)},enabled:!!t})}function bse(t){return Oe({queryKey:["admin-applications",t],queryFn:async()=>{let r=ee.from("job_applications").select(`
          *,
          jobs(title, company_name)
        `).order("applied_at",{ascending:!1});t&&(r=r.eq("job_id",t));const{data:s,error:a}=await r;if(a)throw a;const n=[...new Set(s.map(l=>l.designer_id))],{data:i}=await ee.from("profiles").select("user_id, name, email, avatar_url, category").in("user_id",n),o=new Map(i?.map(l=>[l.user_id,l])||[]);return s.map(l=>({...l,profiles:o.get(l.designer_id)||{name:null,email:null,avatar_url:null,category:null}}))}})}function yse(){return Oe({queryKey:["job-application-stats"],queryFn:async()=>{const{data:t,error:r}=await J.rpc("get_job_application_stats");if(r)throw r;return t}})}function jse(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({jobId:s,designerId:a,isSaved:n})=>{if(n){const{error:i}=await J.from("saved_jobs").delete().eq("job_id",s).eq("designer_id",a);if(i)throw i;return{action:"unsaved",jobId:s}}else{const{error:i}=await J.from("saved_jobs").insert({job_id:s,designer_id:a});if(i)throw i;return{action:"saved",jobId:s}}},onSuccess:(s,a)=>{t.invalidateQueries({queryKey:["saved-jobs"]}),t.invalidateQueries({queryKey:["jobs","with-status"]}),s.action==="saved"?Re.success("Job saved to your list"):Re.success("Job removed from saved list")},onError:s=>{r({title:"Error",description:s.message,variant:"destructive"})}})}function wse(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({jobId:s,designerId:a,coverLetter:n,portfolioUrl:i,resumeUrl:o})=>{const{error:l}=await J.from("job_applications").insert({job_id:s,designer_id:a,cover_letter:n,portfolio_url:i,resume_url:o,status:"applied"});if(l)throw l},onSuccess:()=>{t.invalidateQueries({queryKey:["my-applications"]}),t.invalidateQueries({queryKey:["jobs"]}),t.invalidateQueries({queryKey:["jobs","with-status"]}),t.invalidateQueries({queryKey:["job-application-stats"]}),Re.success("Application submitted successfully!")},onError:s=>{r({title:"Error submitting application",description:s.message,variant:"destructive"})}})}function Nse(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({job:s,userId:a})=>{if(s.id){const{error:n}=await ee.from("jobs").update({...s,updated_at:new Date().toISOString()}).eq("id",s.id);if(n)throw n;return{action:"updated",id:s.id}}else{const{data:n,error:i}=await ee.from("jobs").insert({...s,posted_by:a}).select().single();if(i)throw i;return{action:"created",id:n.id}}},onSuccess:s=>{t.invalidateQueries({queryKey:["jobs"]}),t.invalidateQueries({queryKey:["job-application-stats"]}),Re.success(s.action==="created"?"Job created":"Job updated")},onError:s=>{r({title:"Error saving job",description:s.message,variant:"destructive"})}})}function _se(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async s=>{const{error:a}=await ee.from("jobs").delete().eq("id",s);if(a)throw a},onSuccess:()=>{t.invalidateQueries({queryKey:["jobs"]}),t.invalidateQueries({queryKey:["job-application-stats"]}),Re.success("Job deleted")},onError:s=>{r({title:"Error deleting job",description:s.message,variant:"destructive"})}})}function Sse(){const t=ft();return ze({mutationFn:async({jobId:r,status:s})=>{const{error:a}=await ee.from("jobs").update({status:s,updated_at:new Date().toISOString()}).eq("id",r);if(a)throw a},onSuccess:()=>{t.invalidateQueries({queryKey:["jobs"]})}})}function Cse(){const t=ft();return ze({mutationFn:async({jobId:r,isFeatured:s})=>{const{error:a}=await ee.from("jobs").update({is_featured:s,updated_at:new Date().toISOString()}).eq("id",r);if(a)throw a},onSuccess:()=>{t.invalidateQueries({queryKey:["jobs"]})}})}function kse(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({applicationId:s,status:a,notes:n,interviewDate:i,reviewedBy:o})=>{const{error:l}=await ee.from("job_applications").update({status:a,notes:n,interview_date:i,reviewed_by:o,reviewed_at:new Date().toISOString()}).eq("id",s);if(l)throw l},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-applications"]}),t.invalidateQueries({queryKey:["my-applications"]}),t.invalidateQueries({queryKey:["job-application-stats"]}),Re.success("Application updated")},onError:s=>{r({title:"Error updating application",description:s.message,variant:"destructive"})}})}const ak={search:"",category:"all",jobType:"all",locationType:"all",salaryMin:0,salaryMax:5e5,featuredOnly:!1};function Ase(){const{user:t}=ur(),r=ft(),[s,a]=f.useState(ak),[n,i]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,m]=f.useState(!1),[h,p]=f.useState(0),{data:v=[],isLoading:x}=pse(s),{data:g=[]}=gse(t?.id),{data:b=[]}=vse(t?.id),y=jse(),j=wse(),S=f.useMemo(()=>b.map(k=>k.id),[b]);f.useEffect(()=>{if(!t)return;const k=J.channel("job-portal-realtime").on("postgres_changes",{event:"*",schema:"public",table:"jobs",filter:"status=eq.active"},C=>{console.log("[Realtime] Job change:",C),C.eventType==="INSERT"?(p(P=>P+1),Re.success(`New job posted: ${C.new.title}`,{description:`at ${C.new.company_name||"Unknown Company"}`,action:{label:"View",onClick:()=>{i(C.new),l(!0)}}})):C.eventType==="UPDATE"?C.new.status!=="active"&&Re.info(`Job "${C.new.title}" is no longer active`):C.eventType==="DELETE"&&Re.info("A job has been removed"),r.invalidateQueries({queryKey:["jobs"]})}).on("postgres_changes",{event:"*",schema:"public",table:"job_applications",filter:`designer_id=eq.${t.id}`},C=>{if(console.log("[Realtime] Application change:",C),C.eventType==="INSERT")r.invalidateQueries({queryKey:["my-applications"]});else if(C.eventType==="UPDATE"){const P=C.old?.status,A=C.new?.status;P!==A&&(J.from("jobs").select("title").eq("id",C.new.job_id).single().then(({data:O})=>{const I=O?.title||"a job";A==="shortlisted"?Re.success(`You've been shortlisted for "${I}"!`,{description:"Check your applications for details."}):A==="hired"?Re.success(`Congratulations! You've been hired for "${I}"!`,{description:"The employer will contact you soon."}):A==="rejected"&&Re.info(`Update on your application for "${I}"`,{description:"Unfortunately, you were not selected this time."})}),r.invalidateQueries({queryKey:["my-applications"]}))}}).on("postgres_changes",{event:"*",schema:"public",table:"saved_jobs",filter:`designer_id=eq.${t.id}`},C=>{console.log("[Realtime] Saved job change:",C),r.invalidateQueries({queryKey:["saved-jobs"]})}).subscribe(C=>{console.log("[Realtime] Subscription status:",C),m(C==="SUBSCRIBED")});return()=>{J.removeChannel(k)}},[t,r]);const w=f.useMemo(()=>v.filter(k=>!(s.search&&!k.title.toLowerCase().includes(s.search.toLowerCase())&&!k.company_name?.toLowerCase().includes(s.search.toLowerCase())||s.category!=="all"&&k.category!==s.category||s.jobType!=="all"&&k.job_type!==s.jobType||s.locationType!=="all"&&k.location_type!==s.locationType||s.featuredOnly&&!k.is_featured)),[v,s]),_=f.useMemo(()=>g.map(k=>k.job_id),[g]),N=f.useCallback(()=>{p(0),r.invalidateQueries({queryKey:["jobs"]})},[r]);return e.jsx(cs,{children:e.jsxs("div",{className:"container max-w-7xl py-8",children:[e.jsxs("div",{className:"mb-8 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Job Portal"}),e.jsx(B,{variant:"outline",className:`gap-1.5 text-xs ${u?"text-green-600 border-green-200 bg-green-50":"text-gray-500"}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx(P0,{className:"h-3 w-3"})," Live"]}):e.jsxs(e.Fragment,{children:[e.jsx(QD,{className:"h-3 w-3"})," Offline"]})})]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Find your next design opportunity"})]}),h>0&&e.jsxs(B,{className:"cursor-pointer hover:bg-primary/90",onClick:N,children:[h," new job",h>1?"s":""," posted"]})]}),e.jsxs(Nr,{defaultValue:"browse",className:"space-y-6",children:[e.jsxs(br,{children:[e.jsxs(Ee,{value:"browse",className:"gap-2",children:[e.jsx(Tn,{className:"h-4 w-4"}),"Browse Jobs"]}),e.jsxs(Ee,{value:"applications",className:"gap-2",children:[e.jsx(Wt,{className:"h-4 w-4"}),"My Applications (",g.length,")"]}),e.jsxs(Ee,{value:"saved",className:"gap-2",children:[e.jsx(s_,{className:"h-4 w-4"}),"Saved (",b.length,")"]})]}),e.jsx(Te,{value:"browse",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(mse,{filters:s,onFiltersChange:a,onReset:()=>a(ak)})}),e.jsx("div",{className:"lg:col-span-3 space-y-4",children:x?Array.from({length:3}).map((k,C)=>e.jsx(rt,{className:"h-40 w-full"},C)):w.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx("p",{children:"No jobs found matching your criteria"}),u&&e.jsxs("p",{className:"text-sm mt-2 text-green-600",children:[e.jsx(P0,{className:"h-3 w-3 inline mr-1"}),"Listening for new job postings..."]})]}):w.map(k=>e.jsx(sk,{job:k,isSaved:S.includes(k.id),hasApplied:_.includes(k.id),onView:C=>{i(C),l(!0)},onSave:C=>{t&&y.mutate({jobId:C,designerId:t.id,isSaved:S.includes(C)})},onApply:C=>{i(C),d(!0)}},k.id))})]})}),e.jsx(Te,{value:"applications",children:e.jsx("div",{className:"space-y-4 max-w-2xl",children:g.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"You haven't applied to any jobs yet"}):g.map(k=>e.jsx(fse,{application:k},k.id))})}),e.jsx(Te,{value:"saved",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.length===0?e.jsxs("div",{className:"col-span-2 text-center py-12 text-muted-foreground",children:[e.jsx("p",{children:"No saved jobs"}),e.jsx("p",{className:"text-sm mt-1",children:"Jobs you save will appear here"})]}):b.map(k=>e.jsx(sk,{job:k,isSaved:!0,hasApplied:_.includes(k.id),onView:C=>{i(C),l(!0)},onSave:C=>{t&&y.mutate({jobId:C,designerId:t.id,isSaved:!0})},onApply:C=>{i(C),d(!0)}},k.id))})})]}),e.jsx(nse,{job:n,open:o,onOpenChange:l,isSaved:n?S.includes(n.id):!1,hasApplied:n?_.includes(n.id):!1,onSave:k=>{t&&y.mutate({jobId:k,designerId:t.id,isSaved:S.includes(k)})},onApply:k=>{l(!1),d(!0)}}),e.jsx(ise,{job:n,open:c,onOpenChange:d,isSubmitting:j.isPending,onSubmit:async k=>{n&&t&&await j.mutateAsync({jobId:n.id,designerId:t.id,coverLetter:k.cover_letter,portfolioUrl:k.portfolio_url})}})]})})}const Pse={master_cutter:"",artisan_weaver:"",draping_specialist:"",creative_director:""};function Ese({title:t,description:r,difficulty:s,teamSize:a,minimumRankOrder:n,timeLimit:i,xpReward:o,roles:l,isTeamEligible:c,currentTeamSize:d=0,onStartChallenge:u,onViewDetails:m}){const h=Kte(n),p=d>=a,v=c&&p;return e.jsxs(G,{className:"overflow-hidden border-2 border-primary/20 bg-gradient-to-br from-background via-background to-primary/5",children:[e.jsxs(je,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-purple-500 to-pink-600",children:e.jsx(zt,{className:"h-5 w-5 text-white"})}),e.jsx("div",{children:e.jsx(B,{variant:"secondary",className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:" INSANE - Team Challenge"})})]}),e.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[e.jsx(ri,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-bold",children:[o," SC"]})]})]}),e.jsx("h3",{className:"text-lg font-bold mt-3 leading-tight",children:t}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:r})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["Team of ",a]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[i,"h limit"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/50",children:[c?e.jsx(ct,{className:"h-4 w-4 text-emerald-500"}):e.jsx(us,{className:"h-4 w-4 text-amber-500"}),e.jsxs("span",{className:"text-sm",children:["Requires: ",e.jsx("strong",{children:h?.name||"Unknown"})," rank (all members)"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Team Roles"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.map(x=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/30 text-xs",children:[e.jsx("span",{className:"text-lg",children:Pse[x.role_id]||""}),e.jsx("span",{className:"truncate",children:x.role_name.split("(")[0].trim()})]},x.role_id))})]}),d>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Team Formation"}),e.jsxs("span",{children:[d,"/",a," members"]})]}),e.jsx(la,{value:d/a*100,className:"h-2"})]}),!c&&e.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[e.jsx(Ti,{className:"h-4 w-4 text-amber-500 mt-0.5 shrink-0"}),e.jsxs("p",{className:"text-xs text-amber-500/90",children:["Not all team members meet the ",h?.name," rank requirement (",h?.minSC,"+ SC)"]})]})]}),e.jsxs(Tc,{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",className:"flex-1",onClick:m,children:"View Details"}),e.jsx(T,{className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700",disabled:!v,onClick:u,children:v?"Start Challenge":"Not Eligible"})]})]})}const Tse=[{role_id:"master_cutter",role_name:"Master Cutter (Pattern & Silhouette)",requirements:["Pattern accuracy with grain respect","Drape simulation for fabric types","Internal architecture modeling","Realistic tension creases"],deliverables:["14-panel Jamawar lehenga pattern","Drape properties distinguishing silk stiffness vs flow","Patti (hem-border) reinforcement","Stay-stitched armholes","Tension creases at bust and waist"],badge:{name:"Golden Scissors",icon:"",meaning:"Your patterns are production-ready."}},{role_id:"artisan_weaver",role_name:"Artisan Weaver (Textile & Surface)",requirements:["Zardozi stack layering technique","Sheen variance simulation","Transparency and moir management"],deliverables:["Gold thread-work (Dabka) layer","Sequins (Sitara) placement","Stone embellishments","Sheen variance showing hand-touch","Double-tone net Dupatta with moir control"],badge:{name:"Needle-Master",icon:"",meaning:"Your embroidery looks 100% hand-touched."}},{role_id:"draping_specialist",role_name:"Draping Specialist (Styling & Flow)",requirements:["Multi-point draping technique","Collision physics for jewelry","Motion inertia simulation"],deliverables:["Signature multi-point Dupatta drape","Jewelry collision with fabric indent","Delayed swing physics for heavy hem","Nath (nose ring) chain draping"],badge:{name:"Sultan of Sway",icon:"",meaning:"Your fabric physics are poetic."}},{role_id:"creative_director",role_name:"Creative Director (Merchandising & Presentation)",requirements:["Heritage narrative development","Quality control expertise","Market positioning analysis"],deliverables:["Collection Moodbook with motif explanation","QC review of all seams and finishes","Man-hours production estimate","Era and cultural context documentation"],badge:{name:"Couture Visionary",icon:"",meaning:"Your brand storytelling is world-class."}}],Yd={title:"Session 1000 | The Legacy Collection: 1:1 Couture Masterpiece",team_size:4,time_limit_hours:168,xp_reward:100,description:`As a team of 4 Senior Designers, you are tasked with creating the "Inaugural Royal Ensemble." This isn't just a 3D model; it is a digital garment that must be "sewn" exactly as it would be in a high-end Lahore atelier. You must respect the grain of the silk, the weight of the hand-work, and the delicate balance of a bridal silhouette.`};function Ose(){const{user:t}=ur(),{toast:r}=Ge(),[s,a]=f.useState(null),[n,i]=f.useState([]),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,m]=f.useState(!0),[h,p]=f.useState(null),v=async()=>{if(t)try{console.log("[useTeams] Fetching my team for user:",t.id);const{data:k,error:C}=await J.from("team_members").select("team_id, role, joined_at").eq("user_id",t.id).maybeSingle();if(C)throw C;if(!k){a(null);return}const{data:P,error:A}=await J.from("teams").select("*").eq("id",k.team_id).single();if(A)throw A;const{data:O,error:I}=await J.from("team_members").select("user_id, role, joined_at").eq("team_id",k.team_id);if(I)throw I;const F=O?.map(R=>R.user_id)||[],{data:$}=await J.from("profiles").select("user_id, name, avatar_url").in("user_id",F),E=(O||[]).map(R=>{const te=$?.find(V=>V.user_id===R.user_id);return{user_id:R.user_id,name:te?.name||"Unknown",avatar:te?.avatar_url||null,role:R.role,joined_at:R.joined_at}}),{data:M}=await J.from("team_stylebox_submissions").select("styleboxes(title)").eq("team_id",k.team_id).in("status",["forming","in_progress","submitted"]).limit(1).maybeSingle(),z=M?.styleboxes?M.styleboxes.title:null;a({...P,members:E,member_count:E.length,active_project:z}),console.log("[useTeams] Team loaded:",P.name)}catch(k){console.error("[useTeams] Error fetching my team:",k),p(k instanceof Error?k.message:"Failed to fetch team")}},x=async()=>{if(!t){console.log("[useTeams]  No user, skipping fetchAvailableTeams");return}try{console.log("[useTeams]  Fetching available teams for user:",t.id);const{data:k,error:C}=await J.from("teams").select(`
          *,
          team_members(count)
        `).order("created_at",{ascending:!1}).limit(20);if(console.log("[useTeams]  Raw query result:",{success:!C,dataLength:k?.length||0,error:C?.message||null,errorCode:C?.code||null}),C)throw console.error("[useTeams]  Query error:",JSON.stringify(C,null,2)),C;if(!k||k.length===0){console.warn("[useTeams]  No teams returned from database!"),i([]);return}console.log("[useTeams]  Teams from DB:",k.map(O=>({id:O.id,name:O.name,is_open:O.is_open})));const P=(k||[]).map(O=>{const I=O.id.startsWith("00000000-"),F=Array.isArray(O.team_members)?O.team_members.length:O.team_members?.count||0;return{...O,member_count:F,is_preview:I}});console.log("[useTeams]  Formatted teams:",P.length);const A=P.filter(O=>!s||O.id!==s.id);console.log("[useTeams]  Final filtered teams:",{total:A.length,myTeamId:s?.id||"none",teamNames:A.map(O=>O.name)}),i(A)}catch(k){console.error("[useTeams]  Error fetching available teams:",k),console.error("[useTeams] Error details:",{message:k instanceof Error?k.message:"Unknown error"})}},g=async()=>{if(t)try{const{data:k,error:C}=await J.from("team_invitations").select(`
          id,
          team_id,
          message,
          created_at,
          status,
          teams(name),
          profiles!team_invitations_inviter_id_fkey(name)
        `).eq("invitee_id",t.id).eq("status","pending").order("created_at",{ascending:!1});if(C)throw C;const P=(k||[]).map(A=>({id:A.id,team_id:A.team_id,team_name:A.teams?.name||"Unknown Team",inviter_name:A.profiles?.name||"Unknown",message:A.message,created_at:A.created_at,status:A.status}));l(P),console.log("[useTeams] Invitations loaded:",P.length)}catch(k){console.error("[useTeams] Error fetching invitations:",k)}},b=async()=>{if(!t||!s||s.members.find(k=>k.user_id===t.id)?.role!=="lead"){d([]);return}try{const{data:k,error:C}=await J.from("team_join_requests").select(`
          id,
          user_id,
          message,
          created_at,
          status,
          profiles(name, avatar_url)
        `).eq("team_id",s.id).eq("status","pending").order("created_at",{ascending:!1});if(C)throw C;const P=(k||[]).map(A=>({id:A.id,user_id:A.user_id,user_name:A.profiles?.name||"Unknown",user_avatar:A.profiles?.avatar_url||null,message:A.message,created_at:A.created_at,status:A.status}));d(P),console.log("[useTeams] Join requests loaded:",P.length)}catch(k){console.error("[useTeams] Error fetching join requests:",k)}},y=async k=>{try{console.log("[useTeams] Creating team:",k.name);const{data:C,error:P}=await J.functions.invoke("manage-team",{body:{action:"create",...k}});if(console.log("[useTeams] Create team response:",{data:C,error:P}),P)throw console.error("[useTeams] Function invocation error:",P),new Error(P.message||"Failed to invoke function");if(C?.error){console.error("[useTeams] Server returned error:",C.error);const A=C.details?` - ${C.details}`:"",O=C.code?` (Code: ${C.code})`:"";throw new Error(C.error+A+O)}return r({title:"Team created successfully!",description:`Welcome to ${k.name}!`}),await Promise.all([v(),x()]),C.team}catch(C){console.error("[useTeams] Create team error:",C);const P=C instanceof Error?C.message:"Failed to create team";throw r({title:"Error",description:P,variant:"destructive"}),C}},j=async(k,C)=>{if(!s)throw new Error("Not in a team");try{const{data:P,error:A}=await J.functions.invoke("manage-team",{body:{action:"invite",team_id:s.id,invitee_id:k,message:C}});if(A)throw A;if(P.error)throw new Error(P.error);return r({title:"Invitation sent!"}),P.invitation}catch(P){const A=P instanceof Error?P.message:"Failed to send invitation";throw r({title:"Error",description:A,variant:"destructive"}),P}},S=async(k,C)=>{try{const{data:P,error:A}=await J.functions.invoke("manage-team",{body:{action:"respond_invitation",invitation_id:k,accept:C}});if(A)throw A;if(P.error)throw new Error(P.error);r({title:C?"Invitation accepted!":"Invitation declined"}),await Promise.all([v(),g(),x()])}catch(P){const A=P instanceof Error?P.message:"Failed to respond to invitation";throw r({title:"Error",description:A,variant:"destructive"}),P}},w=async(k,C)=>{try{const{data:P,error:A}=await J.functions.invoke("manage-team",{body:{action:"join_request",team_id:k,message:C}});if(A)throw A;if(P.error)throw new Error(P.error);return r({title:"Join request sent!"}),P.request}catch(P){const A=P instanceof Error?P.message:"Failed to send join request";throw r({title:"Error",description:A,variant:"destructive"}),P}},_=async(k,C)=>{try{const{data:P,error:A}=await J.functions.invoke("manage-team",{body:{action:"respond_request",request_id:k,approve:C}});if(A)throw A;if(P.error)throw new Error(P.error);r({title:C?"Join request approved!":"Join request declined"}),await Promise.all([v(),b()])}catch(P){const A=P instanceof Error?P.message:"Failed to respond to join request";throw r({title:"Error",description:A,variant:"destructive"}),P}},N=async()=>{if(!s)throw new Error("Not in a team");try{const{data:k,error:C}=await J.functions.invoke("manage-team",{body:{action:"leave",team_id:s.id}});if(C)throw C;if(k.error)throw new Error(k.error);r({title:"Left team successfully"}),a(null),await x()}catch(k){const C=k instanceof Error?k.message:"Failed to leave team";throw r({title:"Error",description:C,variant:"destructive"}),k}};return f.useEffect(()=>{if(!t){m(!1);return}(async()=>(m(!0),await v(),await Promise.all([x(),g()]),m(!1)))()},[t]),f.useEffect(()=>{s&&b()},[s]),f.useEffect(()=>{if(!t)return;const k=J.channel("team_invitations_changes").on("postgres_changes",{event:"*",schema:"public",table:"team_invitations",filter:`invitee_id=eq.${t.id}`},()=>{g()}).subscribe();let C=null;return s&&(C=J.channel("team_members_changes").on("postgres_changes",{event:"*",schema:"public",table:"team_members",filter:`team_id=eq.${s.id}`},()=>{v()}).subscribe()),()=>{k.unsubscribe(),C&&C.unsubscribe()}},[t,s?.id]),{myTeam:s,availableTeams:n,invitations:o,joinRequests:c,loading:u,error:h,createTeam:y,inviteMember:j,respondToInvitation:S,requestToJoin:w,respondToJoinRequest:_,leaveTeam:N,refetch:async()=>{await v(),await x(),await g(),await b()}}}function nk({icon:t,title:r,description:s,action:a}){return e.jsx(G,{className:"border-dashed",children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-secondary flex items-center justify-center mb-6",children:e.jsx(t,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:r}),e.jsx("p",{className:"text-muted-foreground max-w-sm mb-6",children:s}),a&&e.jsx("div",{children:a})]})})}const Dse=()=>{const{myTeam:t,availableTeams:r,invitations:s,joinRequests:a,loading:n,createTeam:i,respondToInvitation:o,requestToJoin:l,respondToJoinRequest:c,leaveTeam:d}=Ose(),[u,m]=f.useState(""),[h,p]=f.useState("my-team"),[v,x]=f.useState(!1),[g,b]=f.useState({name:"",description:"",category:"fashion",max_members:5,is_open:!0}),[y,j]=f.useState(!1),S=async()=>{if(!(g.name.trim().length<3)){j(!0);try{await i(g),x(!1),b({name:"",description:"",category:"fashion",max_members:5,is_open:!0}),p("my-team")}finally{j(!1)}}},w=r.filter(N=>N.name.toLowerCase().includes(u.toLowerCase())||N.description?.toLowerCase().includes(u.toLowerCase())),_=t?t.member_count>=4:!1;return n?e.jsx(cs,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin text-primary"})})}):e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"Teams"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Collaborate with other designers on team challenges"})]}),!t&&e.jsxs(Et,{open:v,onOpenChange:x,children:[e.jsx(r1,{asChild:!0,children:e.jsxs(T,{variant:"accent",className:"gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Create Team"]})}),e.jsxs(Pt,{children:[e.jsxs(Lt,{children:[e.jsx($t,{children:"Create a New Team"}),e.jsx(Us,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:"Start your own designer collective and invite others to join"}),e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[e.jsx(zt,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:"text-sm text-amber-600 dark:text-amber-400 font-medium",children:"Requires Rank 3 (Stylist) or higher - 801+ Style Credits"})]})]})})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"name",children:"Team Name *"}),e.jsx(ie,{id:"name",placeholder:"e.g., Studio Collective",value:g.name,onChange:N=>b({...g,name:N.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"description",children:"Description"}),e.jsx(nt,{id:"description",placeholder:"Describe your team's focus and goals...",value:g.description,onChange:N=>b({...g,description:N.target.value}),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"max_members",children:"Max Members"}),e.jsx(ie,{id:"max_members",type:"number",min:2,max:10,value:g.max_members,onChange:N=>b({...g,max_members:parseInt(N.target.value)||5})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"category",children:"Category"}),e.jsxs("select",{id:"category",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:g.category,onChange:N=>b({...g,category:N.target.value}),children:[e.jsx("option",{value:"fashion",children:"Fashion"}),e.jsx("option",{value:"textile",children:"Textile"}),e.jsx("option",{value:"jewelry",children:"Jewelry"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_open",checked:g.is_open,onChange:N=>b({...g,is_open:N.target.checked})}),e.jsx(K,{htmlFor:"is_open",className:"cursor-pointer font-normal",children:"Allow anyone to request to join"})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{variant:"outline",onClick:()=>x(!1),disabled:y,children:"Cancel"}),e.jsxs(T,{onClick:S,disabled:y||g.name.trim().length<3,children:[y&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Create Team"]})]})]})]})]}),e.jsxs(Nr,{value:h,onValueChange:p,className:"space-y-6",children:[e.jsxs(br,{children:[e.jsx(Ee,{value:"my-team",children:"My Team"}),e.jsxs(Ee,{value:"challenges",className:"gap-1",children:[e.jsx(Yz,{className:"h-4 w-4"}),"Team Challenges"]}),e.jsx(Ee,{value:"discover",children:"Discover Teams"}),e.jsx(Ee,{value:"invitations",children:"Invitations"})]}),e.jsx(Te,{value:"my-team",className:"space-y-6",children:t?e.jsxs(e.Fragment,{children:[e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h2",{className:"font-display text-2xl font-bold",children:t.name}),e.jsx(B,{variant:"accent",children:"Active"})]}),e.jsx("p",{className:"text-muted-foreground",children:t.description||"No description"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[t.member_count,"/",t.max_members," members"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wr,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[t.completed_challenges," challenges completed"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{variant:"default",className:"gap-2",disabled:!0,children:[e.jsx(Wp,{className:"h-4 w-4"}),"Team Chat"]}),e.jsxs(T,{variant:"outline",className:"gap-2",disabled:!0,children:[e.jsx(Ac,{className:"h-4 w-4"}),"Invite"]}),e.jsxs(T,{variant:"outline",className:"gap-2 ml-auto text-destructive hover:bg-destructive/10",onClick:()=>{confirm("Are you sure you want to leave this team?")&&d()},children:[e.jsx(Ei,{className:"h-4 w-4"}),"Leave Team"]})]})]}),t.active_project&&e.jsx(G,{className:"lg:w-80 bg-secondary/50",children:e.jsxs(Y,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Current Project"}),e.jsx("h3",{className:"font-display font-semibold mb-3",children:t.active_project}),e.jsxs(T,{variant:"outline",size:"sm",className:"w-full gap-2 group",children:["View Project",e.jsx(St,{className:"h-4 w-4 transition-transform group-hover:translate-x-0.5"})]})]})})]})})}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Team Members"})}),e.jsx(Y,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.members.map(N=>e.jsx(G,{hover:!0,className:"overflow-hidden",children:e.jsxs(Y,{className:"p-4 text-center",children:[e.jsxs(rr,{className:"h-16 w-16 mx-auto mb-3 border-2 border-border",children:[e.jsx(sr,{src:N.avatar||void 0}),e.jsx(ar,{children:N.name.split(" ").map(k=>k[0]).join("")})]}),e.jsx("h3",{className:"font-medium truncate",children:N.name}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[N.role==="lead"&&e.jsx(zt,{className:"h-4 w-4 text-accent"}),e.jsx(B,{variant:"secondary",children:N.role==="lead"?"Leader":"Member"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Joined ",new Date(N.joined_at).toLocaleDateString()]})]})},N.user_id))})})]}),a.length>0&&e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{children:["Join Requests (",a.length,")"]})}),e.jsx(Y,{children:e.jsx("div",{className:"space-y-4",children:a.map(N=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.jsxs(rr,{className:"h-12 w-12",children:[e.jsx(sr,{src:N.user_avatar||void 0}),e.jsx(ar,{children:N.user_name[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:N.user_name}),N.message&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.message}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(N.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{size:"sm",variant:"default",className:"gap-1",onClick:()=>c(N.id,!0),children:[e.jsx(gr,{className:"h-4 w-4"}),"Accept"]}),e.jsxs(T,{size:"sm",variant:"outline",className:"gap-1",onClick:()=>c(N.id,!1),children:[e.jsx(ht,{className:"h-4 w-4"}),"Decline"]})]})]},N.id))})})]})]}):e.jsx(nk,{icon:mt,title:"No Team Yet",description:"Create or join a team to collaborate with other designers on challenges",action:e.jsxs(T,{variant:"accent",className:"gap-2",onClick:()=>x(!0),children:[e.jsx(Xt,{className:"h-4 w-4"}),"Create Team"]})})}),e.jsxs(Te,{value:"challenges",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.jsx(Ese,{title:Yd.title,description:Yd.description,difficulty:"insane",teamSize:Yd.team_size,minimumRankOrder:4,timeLimit:Yd.time_limit_hours,xpReward:Yd.xp_reward,roles:Tse,isTeamEligible:_,currentTeamSize:t?.member_count||0,onViewDetails:()=>console.log("View details"),onStartChallenge:()=>console.log("Start challenge")})}),e.jsx(G,{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border-purple-500/20",children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-purple-500/20",children:e.jsx(zt,{className:"h-6 w-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-display font-semibold mb-1",children:"Team Challenges"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Complete team challenges to earn exclusive badges and unlock Rank 4+ progression. Each team member takes on a specialized role with unique deliverables."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(B,{variant:"outline",className:"border-purple-500/30 text-purple-400",children:" Master Cutter"}),e.jsx(B,{variant:"outline",className:"border-purple-500/30 text-purple-400",children:" Needle Artisan"}),e.jsx(B,{variant:"outline",className:"border-purple-500/30 text-purple-400",children:" Drape Stylist"}),e.jsx(B,{variant:"outline",className:"border-purple-500/30 text-purple-400",children:" Creative Lead"})]})]})]})})})]}),e.jsxs(Te,{value:"discover",className:"space-y-6",children:[e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search teams...",className:"pl-10",value:u,onChange:N=>m(N.target.value)})]})}),w.length===0?e.jsx(nk,{icon:dr,title:"No Teams Found",description:u?"Try adjusting your search":"No public teams available yet"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(N=>e.jsxs(G,{hover:!0,className:N.is_preview?"border-dashed border-2 overflow-hidden":"overflow-hidden",children:[N.banner_url&&e.jsx("div",{className:"h-32 w-full bg-gradient-to-br from-primary/20 to-accent/20 relative overflow-hidden",children:e.jsx("img",{src:N.banner_url,alt:N.name,className:"w-full h-full object-cover",onError:k=>{k.currentTarget.style.display="none"}})}),e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[N.logo_url?e.jsx("div",{className:"h-16 w-16 rounded-xl overflow-hidden border-2 border-border shrink-0",children:e.jsx("img",{src:N.logo_url,alt:N.name,className:"w-full h-full object-cover",onError:k=>{k.currentTarget.parentElement.innerHTML=`
                                  <div class="h-full w-full bg-accent/10 flex items-center justify-center">
                                    <svg class="h-8 w-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                    </svg>
                                  </div>
                                `}})}):e.jsx("div",{className:"h-16 w-16 rounded-xl bg-accent/10 flex items-center justify-center shrink-0",children:e.jsx(mt,{className:"h-8 w-8 text-accent"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h3",{className:"font-display text-lg font-semibold line-clamp-1",children:N.name}),e.jsxs("div",{className:"flex flex-col gap-1 items-end shrink-0",children:[e.jsx(B,{variant:"outline",className:"text-xs",children:N.category}),N.is_preview&&e.jsx(B,{variant:"secondary",className:"bg-purple-500/10 text-purple-500 border-purple-500/20 text-xs",children:"Preview"})]})]})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:N.description||"No description"}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(mt,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[N.member_count||0,"/",N.max_members]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Wr,{className:"h-3 w-3"}),e.jsxs("span",{className:"text-xs",children:[N.completed_challenges," challenges"]})]})]}),N.is_preview?e.jsx("div",{className:"p-3 rounded-lg bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 text-center",children:e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:"Preview team - Reach Rank 3 to create your own"})}):e.jsx(T,{variant:"outline",className:"w-full",onClick:()=>l(N.id),disabled:!!t||!N.is_open,children:t?"Already in Team":N.is_open?"Request to Join":"Private Team"})]})]},N.id))})]}),e.jsx(Te,{value:"invitations",children:s.length===0?e.jsx(G,{children:e.jsxs(Y,{className:"p-12 text-center",children:[e.jsx("div",{className:"h-16 w-16 mx-auto rounded-2xl bg-muted flex items-center justify-center mb-4",children:e.jsx(ms,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"font-display text-lg font-semibold mb-2",children:"No Invitations"}),e.jsx("p",{className:"text-muted-foreground",children:"You don't have any pending team invitations"})]})}):e.jsx("div",{className:"space-y-4",children:s.map(N=>e.jsx(G,{children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-accent/10 flex items-center justify-center shrink-0",children:e.jsx(mt,{className:"h-6 w-6 text-accent"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-display text-lg font-semibold mb-1",children:N.team_name}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Invited by ",e.jsx("span",{className:"font-medium",children:N.inviter_name})]}),N.message&&e.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-lg mb-3",children:N.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(N.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:"default",className:"gap-1",onClick:async()=>{await o(N.id,!0),p("my-team")},children:[e.jsx(gr,{className:"h-4 w-4"}),"Accept"]}),e.jsxs(T,{variant:"outline",className:"gap-1",onClick:()=>o(N.id,!1),children:[e.jsx(ht,{className:"h-4 w-4"}),"Decline"]})]})]})})},N.id))})})]})]})})};function Rse(){const t=wr();return e.jsx(G,{className:"border-dashed",children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-secondary flex items-center justify-center mb-6",children:e.jsx(Rs,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"font-display text-xl font-semibold mb-2",children:"No Earnings Yet"}),e.jsx("p",{className:"text-muted-foreground max-w-sm mb-6",children:"Submit your designs for publication to start earning from marketplace sales"}),e.jsxs(T,{variant:"default",className:"gap-2",onClick:()=>t("/portfolio"),children:[e.jsx(ai,{className:"h-4 w-4"}),"Go to Portfolio"]})]})})}var xv,ik;function Na(){if(ik)return xv;ik=1;var t=Array.isArray;return xv=t,xv}var gv,ok;function zL(){if(ok)return gv;ok=1;var t=typeof dh=="object"&&dh&&dh.Object===Object&&dh;return gv=t,gv}var vv,lk;function fi(){if(lk)return vv;lk=1;var t=zL(),r=typeof self=="object"&&self&&self.Object===Object&&self,s=t||r||Function("return this")();return vv=s,vv}var bv,ck;function Gm(){if(ck)return bv;ck=1;var t=fi(),r=t.Symbol;return bv=r,bv}var yv,dk;function Ise(){if(dk)return yv;dk=1;var t=Gm(),r=Object.prototype,s=r.hasOwnProperty,a=r.toString,n=t?t.toStringTag:void 0;function i(o){var l=s.call(o,n),c=o[n];try{o[n]=void 0;var d=!0}catch{}var u=a.call(o);return d&&(l?o[n]=c:delete o[n]),u}return yv=i,yv}var jv,uk;function Mse(){if(uk)return jv;uk=1;var t=Object.prototype,r=t.toString;function s(a){return r.call(a)}return jv=s,jv}var wv,mk;function Bi(){if(mk)return wv;mk=1;var t=Gm(),r=Ise(),s=Mse(),a="[object Null]",n="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?n:a:i&&i in Object(l)?r(l):s(l)}return wv=o,wv}var Nv,hk;function Ui(){if(hk)return Nv;hk=1;function t(r){return r!=null&&typeof r=="object"}return Nv=t,Nv}var _v,fk;function Td(){if(fk)return _v;fk=1;var t=Bi(),r=Ui(),s="[object Symbol]";function a(n){return typeof n=="symbol"||r(n)&&t(n)==s}return _v=a,_v}var Sv,pk;function T1(){if(pk)return Sv;pk=1;var t=Na(),r=Td(),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function n(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||r(i)?!0:a.test(i)||!s.test(i)||o!=null&&i in Object(o)}return Sv=n,Sv}var Cv,xk;function Do(){if(xk)return Cv;xk=1;function t(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}return Cv=t,Cv}var kv,gk;function O1(){if(gk)return kv;gk=1;var t=Bi(),r=Do(),s="[object AsyncFunction]",a="[object Function]",n="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!r(l))return!1;var c=t(l);return c==a||c==n||c==s||c==i}return kv=o,kv}var Av,vk;function Fse(){if(vk)return Av;vk=1;var t=fi(),r=t["__core-js_shared__"];return Av=r,Av}var Pv,bk;function Lse(){if(bk)return Pv;bk=1;var t=Fse(),r=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function s(a){return!!r&&r in a}return Pv=s,Pv}var Ev,yk;function BL(){if(yk)return Ev;yk=1;var t=Function.prototype,r=t.toString;function s(a){if(a!=null){try{return r.call(a)}catch{}try{return a+""}catch{}}return""}return Ev=s,Ev}var Tv,jk;function $se(){if(jk)return Tv;jk=1;var t=O1(),r=Lse(),s=Do(),a=BL(),n=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(h){if(!s(h)||r(h))return!1;var p=t(h)?u:i;return p.test(a(h))}return Tv=m,Tv}var Ov,wk;function qse(){if(wk)return Ov;wk=1;function t(r,s){return r?.[s]}return Ov=t,Ov}var Dv,Nk;function Il(){if(Nk)return Dv;Nk=1;var t=$se(),r=qse();function s(a,n){var i=r(a,n);return t(i)?i:void 0}return Dv=s,Dv}var Rv,_k;function Mx(){if(_k)return Rv;_k=1;var t=Il(),r=t(Object,"create");return Rv=r,Rv}var Iv,Sk;function zse(){if(Sk)return Iv;Sk=1;var t=Mx();function r(){this.__data__=t?t(null):{},this.size=0}return Iv=r,Iv}var Mv,Ck;function Bse(){if(Ck)return Mv;Ck=1;function t(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}return Mv=t,Mv}var Fv,kk;function Use(){if(kk)return Fv;kk=1;var t=Mx(),r="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;function n(i){var o=this.__data__;if(t){var l=o[i];return l===r?void 0:l}return a.call(o,i)?o[i]:void 0}return Fv=n,Fv}var Lv,Ak;function Vse(){if(Ak)return Lv;Ak=1;var t=Mx(),r=Object.prototype,s=r.hasOwnProperty;function a(n){var i=this.__data__;return t?i[n]!==void 0:s.call(i,n)}return Lv=a,Lv}var $v,Pk;function Wse(){if(Pk)return $v;Pk=1;var t=Mx(),r="__lodash_hash_undefined__";function s(a,n){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=t&&n===void 0?r:n,this}return $v=s,$v}var qv,Ek;function Hse(){if(Ek)return qv;Ek=1;var t=zse(),r=Bse(),s=Use(),a=Vse(),n=Wse();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=s,i.prototype.has=a,i.prototype.set=n,qv=i,qv}var zv,Tk;function Kse(){if(Tk)return zv;Tk=1;function t(){this.__data__=[],this.size=0}return zv=t,zv}var Bv,Ok;function D1(){if(Ok)return Bv;Ok=1;function t(r,s){return r===s||r!==r&&s!==s}return Bv=t,Bv}var Uv,Dk;function Fx(){if(Dk)return Uv;Dk=1;var t=D1();function r(s,a){for(var n=s.length;n--;)if(t(s[n][0],a))return n;return-1}return Uv=r,Uv}var Vv,Rk;function Gse(){if(Rk)return Vv;Rk=1;var t=Fx(),r=Array.prototype,s=r.splice;function a(n){var i=this.__data__,o=t(i,n);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():s.call(i,o,1),--this.size,!0}return Vv=a,Vv}var Wv,Ik;function Yse(){if(Ik)return Wv;Ik=1;var t=Fx();function r(s){var a=this.__data__,n=t(a,s);return n<0?void 0:a[n][1]}return Wv=r,Wv}var Hv,Mk;function Xse(){if(Mk)return Hv;Mk=1;var t=Fx();function r(s){return t(this.__data__,s)>-1}return Hv=r,Hv}var Kv,Fk;function Qse(){if(Fk)return Kv;Fk=1;var t=Fx();function r(s,a){var n=this.__data__,i=t(n,s);return i<0?(++this.size,n.push([s,a])):n[i][1]=a,this}return Kv=r,Kv}var Gv,Lk;function Lx(){if(Lk)return Gv;Lk=1;var t=Kse(),r=Gse(),s=Yse(),a=Xse(),n=Qse();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=s,i.prototype.has=a,i.prototype.set=n,Gv=i,Gv}var Yv,$k;function R1(){if($k)return Yv;$k=1;var t=Il(),r=fi(),s=t(r,"Map");return Yv=s,Yv}var Xv,qk;function Jse(){if(qk)return Xv;qk=1;var t=Hse(),r=Lx(),s=R1();function a(){this.size=0,this.__data__={hash:new t,map:new(s||r),string:new t}}return Xv=a,Xv}var Qv,zk;function Zse(){if(zk)return Qv;zk=1;function t(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}return Qv=t,Qv}var Jv,Bk;function $x(){if(Bk)return Jv;Bk=1;var t=Zse();function r(s,a){var n=s.__data__;return t(a)?n[typeof a=="string"?"string":"hash"]:n.map}return Jv=r,Jv}var Zv,Uk;function eae(){if(Uk)return Zv;Uk=1;var t=$x();function r(s){var a=t(this,s).delete(s);return this.size-=a?1:0,a}return Zv=r,Zv}var eb,Vk;function tae(){if(Vk)return eb;Vk=1;var t=$x();function r(s){return t(this,s).get(s)}return eb=r,eb}var tb,Wk;function rae(){if(Wk)return tb;Wk=1;var t=$x();function r(s){return t(this,s).has(s)}return tb=r,tb}var rb,Hk;function sae(){if(Hk)return rb;Hk=1;var t=$x();function r(s,a){var n=t(this,s),i=n.size;return n.set(s,a),this.size+=n.size==i?0:1,this}return rb=r,rb}var sb,Kk;function I1(){if(Kk)return sb;Kk=1;var t=Jse(),r=eae(),s=tae(),a=rae(),n=sae();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=s,i.prototype.has=a,i.prototype.set=n,sb=i,sb}var ab,Gk;function UL(){if(Gk)return ab;Gk=1;var t=I1(),r="Expected a function";function s(a,n){if(typeof a!="function"||n!=null&&typeof n!="function")throw new TypeError(r);var i=function(){var o=arguments,l=n?n.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=a.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(s.Cache||t),i}return s.Cache=t,ab=s,ab}var nb,Yk;function aae(){if(Yk)return nb;Yk=1;var t=UL(),r=500;function s(a){var n=t(a,function(o){return i.size===r&&i.clear(),o}),i=n.cache;return n}return nb=s,nb}var ib,Xk;function nae(){if(Xk)return ib;Xk=1;var t=aae(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=t(function(n){var i=[];return n.charCodeAt(0)===46&&i.push(""),n.replace(r,function(o,l,c,d){i.push(c?d.replace(s,"$1"):l||o)}),i});return ib=a,ib}var ob,Qk;function M1(){if(Qk)return ob;Qk=1;function t(r,s){for(var a=-1,n=r==null?0:r.length,i=Array(n);++a<n;)i[a]=s(r[a],a,r);return i}return ob=t,ob}var lb,Jk;function iae(){if(Jk)return lb;Jk=1;var t=Gm(),r=M1(),s=Na(),a=Td(),n=t?t.prototype:void 0,i=n?n.toString:void 0;function o(l){if(typeof l=="string")return l;if(s(l))return r(l,o)+"";if(a(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return lb=o,lb}var cb,Zk;function VL(){if(Zk)return cb;Zk=1;var t=iae();function r(s){return s==null?"":t(s)}return cb=r,cb}var db,eA;function WL(){if(eA)return db;eA=1;var t=Na(),r=T1(),s=nae(),a=VL();function n(i,o){return t(i)?i:r(i,o)?[i]:s(a(i))}return db=n,db}var ub,tA;function qx(){if(tA)return ub;tA=1;var t=Td();function r(s){if(typeof s=="string"||t(s))return s;var a=s+"";return a=="0"&&1/s==-1/0?"-0":a}return ub=r,ub}var mb,rA;function F1(){if(rA)return mb;rA=1;var t=WL(),r=qx();function s(a,n){n=t(n,a);for(var i=0,o=n.length;a!=null&&i<o;)a=a[r(n[i++])];return i&&i==o?a:void 0}return mb=s,mb}var hb,sA;function HL(){if(sA)return hb;sA=1;var t=F1();function r(s,a,n){var i=s==null?void 0:t(s,a);return i===void 0?n:i}return hb=r,hb}var oae=HL();const Ra=vr(oae);var fb,aA;function lae(){if(aA)return fb;aA=1;function t(r){return r==null}return fb=t,fb}var cae=lae();const vt=vr(cae);var pb,nA;function dae(){if(nA)return pb;nA=1;var t=Bi(),r=Na(),s=Ui(),a="[object String]";function n(i){return typeof i=="string"||!r(i)&&s(i)&&t(i)==a}return pb=n,pb}var uae=dae();const vl=vr(uae);var mae=O1();const ot=vr(mae);var hae=Do();const Od=vr(hae);var xb={exports:{}},ir={};var iA;function fae(){if(iA)return ir;iA=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function x(g){if(typeof g=="object"&&g!==null){var b=g.$$typeof;switch(b){case t:switch(g=g.type,g){case s:case n:case a:case d:case u:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case h:case m:case i:return g;default:return b}}case r:return b}}}return ir.ContextConsumer=o,ir.ContextProvider=i,ir.Element=t,ir.ForwardRef=c,ir.Fragment=s,ir.Lazy=h,ir.Memo=m,ir.Portal=r,ir.Profiler=n,ir.StrictMode=a,ir.Suspense=d,ir.SuspenseList=u,ir.isAsyncMode=function(){return!1},ir.isConcurrentMode=function(){return!1},ir.isContextConsumer=function(g){return x(g)===o},ir.isContextProvider=function(g){return x(g)===i},ir.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},ir.isForwardRef=function(g){return x(g)===c},ir.isFragment=function(g){return x(g)===s},ir.isLazy=function(g){return x(g)===h},ir.isMemo=function(g){return x(g)===m},ir.isPortal=function(g){return x(g)===r},ir.isProfiler=function(g){return x(g)===n},ir.isStrictMode=function(g){return x(g)===a},ir.isSuspense=function(g){return x(g)===d},ir.isSuspenseList=function(g){return x(g)===u},ir.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===s||g===n||g===a||g===d||g===u||g===p||typeof g=="object"&&g!==null&&(g.$$typeof===h||g.$$typeof===m||g.$$typeof===i||g.$$typeof===o||g.$$typeof===c||g.$$typeof===v||g.getModuleId!==void 0)},ir.typeOf=x,ir}var oA;function pae(){return oA||(oA=1,xb.exports=fae()),xb.exports}var xae=pae(),gb,lA;function KL(){if(lA)return gb;lA=1;var t=Bi(),r=Ui(),s="[object Number]";function a(n){return typeof n=="number"||r(n)&&t(n)==s}return gb=a,gb}var vb,cA;function gae(){if(cA)return vb;cA=1;var t=KL();function r(s){return t(s)&&s!=+s}return vb=r,vb}var vae=gae();const Dd=vr(vae);var bae=KL();const yae=vr(bae);var sa=function(r){return r===0?0:r>0?1:-1},Yo=function(r){return vl(r)&&r.indexOf("%")===r.length-1},_e=function(r){return yae(r)&&!Dd(r)},jae=function(r){return vt(r)},Ss=function(r){return _e(r)||vl(r)},wae=0,Ml=function(r){var s=++wae;return"".concat(r||"").concat(s)},aa=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(r)&&!vl(r))return a;var i;if(Yo(r)){var o=r.indexOf("%");i=s*parseFloat(r.slice(0,o))/100}else i=+r;return Dd(i)&&(i=a),n&&i>s&&(i=s),i},no=function(r){if(!r)return null;var s=Object.keys(r);return s&&s.length?r[s[0]]:null},Nae=function(r){if(!Array.isArray(r))return!1;for(var s=r.length,a={},n=0;n<s;n++)if(!a[r[n]])a[r[n]]=!0;else return!0;return!1},_s=function(r,s){return _e(r)&&_e(s)?function(a){return r+a*(s-r)}:function(){return s}};function If(t,r,s){return!t||!t.length?null:t.find(function(a){return a&&(typeof r=="function"?r(a):Ra(a,r))===s})}var _ae=function(r,s){return _e(r)&&_e(s)?r-s:vl(r)&&vl(s)?r.localeCompare(s):r instanceof Date&&s instanceof Date?r.getTime()-s.getTime():String(r).localeCompare(String(s))};function jc(t,r){for(var s in t)if({}.hasOwnProperty.call(t,s)&&(!{}.hasOwnProperty.call(r,s)||t[s]!==r[s]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(t,a))return!1;return!0}function bw(t){"@babel/helpers - typeof";return bw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bw(t)}var Sae=["viewBox","children"],Cae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dA=["points","pathLength"],bb={svg:Sae,polygon:dA,polyline:dA},L1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mf=function(r,s){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(f.isValidElement(r)&&(a=r.props),!Od(a))return null;var n={};return Object.keys(a).forEach(function(i){L1.includes(i)&&(n[i]=s||function(o){return a[i](a,o)})}),n},kae=function(r,s,a){return function(n){return r(s,a,n),null}},bl=function(r,s,a){if(!Od(r)||bw(r)!=="object")return null;var n=null;return Object.keys(r).forEach(function(i){var o=r[i];L1.includes(i)&&typeof o=="function"&&(n||(n={}),n[i]=kae(o,s,a))}),n},Aae=["children"],Pae=["children"];function uA(t,r){if(t==null)return{};var s=Eae(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Eae(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function yw(t){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yw(t)}var mA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ai=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},hA=null,yb=null,$1=function t(r){if(r===hA&&Array.isArray(yb))return yb;var s=[];return f.Children.forEach(r,function(a){vt(a)||(xae.isFragment(a)?s=s.concat(t(a.props.children)):s.push(a))}),yb=s,hA=r,s};function Ia(t,r){var s=[],a=[];return Array.isArray(r)?a=r.map(function(n){return Ai(n)}):a=[Ai(r)],$1(t).forEach(function(n){var i=Ra(n,"type.displayName")||Ra(n,"type.name");a.indexOf(i)!==-1&&s.push(n)}),s}function Aa(t,r){var s=Ia(t,r);return s&&s[0]}var fA=function(r){if(!r||!r.props)return!1;var s=r.props,a=s.width,n=s.height;return!(!_e(a)||a<=0||!_e(n)||n<=0)},Tae=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Oae=function(r){return r&&r.type&&vl(r.type)&&Tae.indexOf(r.type)>=0},GL=function(r){return r&&yw(r)==="object"&&"clipDot"in r},Dae=function(r,s,a,n){var i,o=(i=bb?.[n])!==null&&i!==void 0?i:[];return s.startsWith("data-")||!ot(r)&&(n&&o.includes(s)||Cae.includes(s))||a&&L1.includes(s)},tt=function(r,s,a){if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(f.isValidElement(r)&&(n=r.props),!Od(n))return null;var i={};return Object.keys(n).forEach(function(o){var l;Dae((l=n)===null||l===void 0?void 0:l[o],o,s,a)&&(i[o]=n[o])}),i},jw=function t(r,s){if(r===s)return!0;var a=f.Children.count(r);if(a!==f.Children.count(s))return!1;if(a===0)return!0;if(a===1)return pA(Array.isArray(r)?r[0]:r,Array.isArray(s)?s[0]:s);for(var n=0;n<a;n++){var i=r[n],o=s[n];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!pA(i,o))return!1}return!0},pA=function(r,s){if(vt(r)&&vt(s))return!0;if(!vt(r)&&!vt(s)){var a=r.props||{},n=a.children,i=uA(a,Aae),o=s.props||{},l=o.children,c=uA(o,Pae);return n&&l?jc(i,c)&&jw(n,l):!n&&!l?jc(i,c):!1}return!1},xA=function(r,s){var a=[],n={};return $1(r).forEach(function(i,o){if(Oae(i))a.push(i);else if(i){var l=Ai(i.type),c=s[l]||{},d=c.handler,u=c.once;if(d&&(!u||!n[l])){var m=d(i,l,o);a.push(m),n[l]=!0}}}),a},Rae=function(r){var s=r&&r.type;return s&&mA[s]?mA[s]:null},Iae=function(r,s){return $1(s).indexOf(r)},Mae=["children","width","height","viewBox","className","style","title","desc"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ww.apply(this,arguments)}function Fae(t,r){if(t==null)return{};var s=Lae(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Lae(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function Nw(t){var r=t.children,s=t.width,a=t.height,n=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=Fae(t,Mae),u=n||{width:s,height:a,x:0,y:0},m=jt("recharts-surface",i);return L.createElement("svg",ww({},tt(d,!0,"svg"),{className:m,width:s,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),r)}var $ae=["children","className"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},_w.apply(this,arguments)}function qae(t,r){if(t==null)return{};var s=zae(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function zae(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}var Ft=L.forwardRef(function(t,r){var s=t.children,a=t.className,n=qae(t,$ae),i=jt("recharts-layer",a);return L.createElement("g",_w({className:i},tt(n,!0),{ref:r}),s)}),gn=function(r,s){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]},jb,gA;function Bae(){if(gA)return jb;gA=1;function t(r,s,a){var n=-1,i=r.length;s<0&&(s=-s>i?0:i+s),a=a>i?i:a,a<0&&(a+=i),i=s>a?0:a-s>>>0,s>>>=0;for(var o=Array(i);++n<i;)o[n]=r[n+s];return o}return jb=t,jb}var wb,vA;function Uae(){if(vA)return wb;vA=1;var t=Bae();function r(s,a,n){var i=s.length;return n=n===void 0?i:n,!a&&n>=i?s:t(s,a,n)}return wb=r,wb}var Nb,bA;function YL(){if(bA)return Nb;bA=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",n=r+s+a,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+n+i+"]");function c(d){return l.test(d)}return Nb=c,Nb}var _b,yA;function Vae(){if(yA)return _b;yA=1;function t(r){return r.split("")}return _b=t,_b}var Sb,jA;function Wae(){if(jA)return Sb;jA=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",n=r+s+a,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+n+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=d+"?",x="["+i+"]?",g="(?:"+p+"(?:"+[u,m,h].join("|")+")"+x+v+")*",b=x+v+g,y="(?:"+[u+l+"?",l,m,h,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+y+b,"g");function S(w){return w.match(j)||[]}return Sb=S,Sb}var Cb,wA;function Hae(){if(wA)return Cb;wA=1;var t=Vae(),r=YL(),s=Wae();function a(n){return r(n)?s(n):t(n)}return Cb=a,Cb}var kb,NA;function Kae(){if(NA)return kb;NA=1;var t=Uae(),r=YL(),s=Hae(),a=VL();function n(i){return function(o){o=a(o);var l=r(o)?s(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return kb=n,kb}var Ab,_A;function Gae(){if(_A)return Ab;_A=1;var t=Kae(),r=t("toUpperCase");return Ab=r,Ab}var Yae=Gae();const zx=vr(Yae);function Sr(t){return function(){return t}}const XL=Math.cos,Ff=Math.sin,Rn=Math.sqrt,Lf=Math.PI,Bx=2*Lf,Sw=Math.PI,Cw=2*Sw,Ho=1e-6,Xae=Cw-Ho;function QL(t){this._+=t[0];for(let r=1,s=t.length;r<s;++r)this._+=arguments[r]+t[r]}function Qae(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return QL;const s=10**r;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*s)/s+a[n]}}class Jae{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?QL:Qae(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,a,n){this._append`Q${+r},${+s},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(r,s,a,n,i,o){this._append`C${+r},${+s},${+a},${+n},${this._x1=+i},${this._y1=+o}`}arcTo(r,s,a,n,i){if(r=+r,s=+s,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-r,d=n-s,u=o-r,m=l-s,h=u*u+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(h>Ho)if(!(Math.abs(m*c-d*u)>Ho)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let p=a-o,v=n-l,x=c*c+d*d,g=p*p+v*v,b=Math.sqrt(x),y=Math.sqrt(h),j=i*Math.tan((Sw-Math.acos((x+h-g)/(2*b*y)))/2),S=j/y,w=j/b;Math.abs(S-1)>Ho&&this._append`L${r+S*u},${s+S*m}`,this._append`A${i},${i},0,0,${+(m*p>u*v)},${this._x1=r+w*c},${this._y1=s+w*d}`}}arc(r,s,a,n,i,o){if(r=+r,s=+s,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(n),c=a*Math.sin(n),d=r+l,u=s+c,m=1^o,h=o?n-i:i-n;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ho||Math.abs(this._y1-u)>Ho)&&this._append`L${d},${u}`,a&&(h<0&&(h=h%Cw+Cw),h>Xae?this._append`A${a},${a},0,1,${m},${r-l},${s-c}A${a},${a},0,1,${m},${this._x1=d},${this._y1=u}`:h>Ho&&this._append`A${a},${a},0,${+(h>=Sw)},${m},${this._x1=r+a*Math.cos(i)},${this._y1=s+a*Math.sin(i)}`)}rect(r,s,a,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function q1(t){let r=3;return t.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const a=Math.floor(s);if(!(a>=0))throw new RangeError(`invalid digits: ${s}`);r=a}return t},()=>new Jae(r)}function z1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JL(t){this._context=t}JL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function Ux(t){return new JL(t)}function ZL(t){return t[0]}function e6(t){return t[1]}function t6(t,r){var s=Sr(!0),a=null,n=Ux,i=null,o=q1(l);t=typeof t=="function"?t:t===void 0?ZL:Sr(t),r=typeof r=="function"?r:r===void 0?e6:Sr(r);function l(c){var d,u=(c=z1(c)).length,m,h=!1,p;for(a==null&&(i=n(p=o())),d=0;d<=u;++d)!(d<u&&s(m=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(m,d,c),+r(m,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Sr(+c),l):t},l.y=function(c){return arguments.length?(r=typeof c=="function"?c:Sr(+c),l):r},l.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Sr(!!c),l):s},l.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),l):n},l.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),l):a},l}function Ch(t,r,s){var a=null,n=Sr(!0),i=null,o=Ux,l=null,c=q1(d);t=typeof t=="function"?t:t===void 0?ZL:Sr(+t),r=typeof r=="function"?r:Sr(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?e6:Sr(+s);function d(m){var h,p,v,x=(m=z1(m)).length,g,b=!1,y,j=new Array(x),S=new Array(x);for(i==null&&(l=o(y=c())),h=0;h<=x;++h){if(!(h<x&&n(g=m[h],h,m))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(j[v],S[v]);l.lineEnd(),l.areaEnd()}b&&(j[h]=+t(g,h,m),S[h]=+r(g,h,m),l.point(a?+a(g,h,m):j[h],s?+s(g,h,m):S[h]))}if(y)return l=null,y+""||null}function u(){return t6().defined(n).curve(o).context(i)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Sr(+m),a=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Sr(+m),d):t},d.x1=function(m){return arguments.length?(a=m==null?null:typeof m=="function"?m:Sr(+m),d):a},d.y=function(m){return arguments.length?(r=typeof m=="function"?m:Sr(+m),s=null,d):r},d.y0=function(m){return arguments.length?(r=typeof m=="function"?m:Sr(+m),d):r},d.y1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:Sr(+m),d):s},d.lineX0=d.lineY0=function(){return u().x(t).y(r)},d.lineY1=function(){return u().x(t).y(s)},d.lineX1=function(){return u().x(a).y(r)},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Sr(!!m),d):n},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class r6{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function Zae(t){return new r6(t,!0)}function ene(t){return new r6(t,!1)}const B1={draw(t,r){const s=Rn(r/Lf);t.moveTo(s,0),t.arc(0,0,s,0,Bx)}},tne={draw(t,r){const s=Rn(r/5)/2;t.moveTo(-3*s,-s),t.lineTo(-s,-s),t.lineTo(-s,-3*s),t.lineTo(s,-3*s),t.lineTo(s,-s),t.lineTo(3*s,-s),t.lineTo(3*s,s),t.lineTo(s,s),t.lineTo(s,3*s),t.lineTo(-s,3*s),t.lineTo(-s,s),t.lineTo(-3*s,s),t.closePath()}},s6=Rn(1/3),rne=s6*2,sne={draw(t,r){const s=Rn(r/rne),a=s*s6;t.moveTo(0,-s),t.lineTo(a,0),t.lineTo(0,s),t.lineTo(-a,0),t.closePath()}},ane={draw(t,r){const s=Rn(r),a=-s/2;t.rect(a,a,s,s)}},nne=.8908130915292852,a6=Ff(Lf/10)/Ff(7*Lf/10),ine=Ff(Bx/10)*a6,one=-XL(Bx/10)*a6,lne={draw(t,r){const s=Rn(r*nne),a=ine*s,n=one*s;t.moveTo(0,-s),t.lineTo(a,n);for(let i=1;i<5;++i){const o=Bx*i/5,l=XL(o),c=Ff(o);t.lineTo(c*s,-l*s),t.lineTo(l*a-c*n,c*a+l*n)}t.closePath()}},Pb=Rn(3),cne={draw(t,r){const s=-Rn(r/(Pb*3));t.moveTo(0,s*2),t.lineTo(-Pb*s,-s),t.lineTo(Pb*s,-s),t.closePath()}},qa=-.5,za=Rn(3)/2,kw=1/Rn(12),dne=(kw/2+1)*3,une={draw(t,r){const s=Rn(r/dne),a=s/2,n=s*kw,i=a,o=s*kw+s,l=-i,c=o;t.moveTo(a,n),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(qa*a-za*n,za*a+qa*n),t.lineTo(qa*i-za*o,za*i+qa*o),t.lineTo(qa*l-za*c,za*l+qa*c),t.lineTo(qa*a+za*n,qa*n-za*a),t.lineTo(qa*i+za*o,qa*o-za*i),t.lineTo(qa*l+za*c,qa*c-za*l),t.closePath()}};function mne(t,r){let s=null,a=q1(n);t=typeof t=="function"?t:Sr(t||B1),r=typeof r=="function"?r:Sr(r===void 0?64:+r);function n(){let i;if(s||(s=i=a()),t.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return n.type=function(i){return arguments.length?(t=typeof i=="function"?i:Sr(i),n):t},n.size=function(i){return arguments.length?(r=typeof i=="function"?i:Sr(+i),n):r},n.context=function(i){return arguments.length?(s=i??null,n):s},n}function $f(){}function qf(t,r,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+s)/6)}function n6(t){this._context=t}n6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qf(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function hne(t){return new n6(t)}function i6(t){this._context=t}i6.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:qf(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function fne(t){return new i6(t)}function o6(t){this._context=t}o6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:qf(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function pne(t){return new o6(t)}function l6(t){this._context=t}l6.prototype={areaStart:$f,areaEnd:$f,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function xne(t){return new l6(t)}function SA(t){return t<0?-1:1}function CA(t,r,s){var a=t._x1-t._x0,n=r-t._x1,i=(t._y1-t._y0)/(a||n<0&&-0),o=(s-t._y1)/(n||a<0&&-0),l=(i*n+o*a)/(a+n);return(SA(i)+SA(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function kA(t,r){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-r)/2:r}function Eb(t,r,s){var a=t._x0,n=t._y0,i=t._x1,o=t._y1,l=(i-a)/3;t._context.bezierCurveTo(a+l,n+l*r,i-l,o-l*s,i,o)}function zf(t){this._context=t}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Eb(this,this._t0,kA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var s=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,Eb(this,kA(this,s=CA(this,t,r)),s);break;default:Eb(this,this._t0,s=CA(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=s}}};function c6(t){this._context=new d6(t)}(c6.prototype=Object.create(zf.prototype)).point=function(t,r){zf.prototype.point.call(this,r,t)};function d6(t){this._context=t}d6.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,s,a,n,i){this._context.bezierCurveTo(r,t,a,s,i,n)}};function gne(t){return new zf(t)}function vne(t){return new c6(t)}function u6(t){this._context=t}u6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),s===2)this._context.lineTo(t[1],r[1]);else for(var a=AA(t),n=AA(r),i=0,o=1;o<s;++i,++o)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],t[o],r[o]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function AA(t){var r,s=t.length-1,a,n=new Array(s),i=new Array(s),o=new Array(s);for(n[0]=0,i[0]=2,o[0]=t[0]+2*t[1],r=1;r<s-1;++r)n[r]=1,i[r]=4,o[r]=4*t[r]+2*t[r+1];for(n[s-1]=2,i[s-1]=7,o[s-1]=8*t[s-1]+t[s],r=1;r<s;++r)a=n[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(n[s-1]=o[s-1]/i[s-1],r=s-2;r>=0;--r)n[r]=(o[r]-n[r+1])/i[r];for(i[s-1]=(t[s]+n[s-1])/2,r=0;r<s-1;++r)i[r]=2*t[r+1]-n[r+1];return[n,i]}function bne(t){return new u6(t)}function Vx(t,r){this._context=t,this._t=r}Vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=t,this._y=r}};function yne(t){return new Vx(t,.5)}function jne(t){return new Vx(t,0)}function wne(t){return new Vx(t,1)}function Bc(t,r){if((o=t.length)>1)for(var s=1,a,n,i=t[r[0]],o,l=i.length;s<o;++s)for(n=i,i=t[r[s]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function Aw(t){for(var r=t.length,s=new Array(r);--r>=0;)s[r]=r;return s}function Nne(t,r){return t[r]}function _ne(t){const r=[];return r.key=t,r}function Sne(){var t=Sr([]),r=Aw,s=Bc,a=Nne;function n(i){var o=Array.from(t.apply(this,arguments),_ne),l,c=o.length,d=-1,u;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(m,o[l].key,d,i)]).data=m;for(l=0,u=z1(r(o));l<c;++l)o[u[l]].index=l;return s(o,u),o}return n.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Sr(Array.from(i)),n):t},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Sr(+i),n):a},n.order=function(i){return arguments.length?(r=i==null?Aw:typeof i=="function"?i:Sr(Array.from(i)),n):r},n.offset=function(i){return arguments.length?(s=i??Bc,n):s},n}function Cne(t,r){if((a=t.length)>0){for(var s,a,n=0,i=t[0].length,o;n<i;++n){for(o=s=0;s<a;++s)o+=t[s][n][1]||0;if(o)for(s=0;s<a;++s)t[s][n][1]/=o}Bc(t,r)}}function kne(t,r){if((n=t.length)>0){for(var s=0,a=t[r[0]],n,i=a.length;s<i;++s){for(var o=0,l=0;o<n;++o)l+=t[o][s][1]||0;a[s][1]+=a[s][0]=-l/2}Bc(t,r)}}function Ane(t,r){if(!(!((o=t.length)>0)||!((i=(n=t[r[0]]).length)>0))){for(var s=0,a=1,n,i,o;a<i;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[r[l]],m=u[a][1]||0,h=u[a-1][1]||0,p=(m-h)/2,v=0;v<l;++v){var x=t[r[v]],g=x[a][1]||0,b=x[a-1][1]||0;p+=g-b}c+=m,d+=p*m}n[a-1][1]+=n[a-1][0]=s,c&&(s-=d/c)}n[a-1][1]+=n[a-1][0]=s,Bc(t,r)}}function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hu(t)}var Pne=["type","size","sizeType"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Pw.apply(this,arguments)}function PA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function EA(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?PA(Object(s),!0).forEach(function(a){Ene(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):PA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Ene(t,r,s){return r=Tne(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Tne(t){var r=One(t,"string");return Hu(r)=="symbol"?r:r+""}function One(t,r){if(Hu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Hu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Dne(t,r){if(t==null)return{};var s=Rne(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Rne(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}var m6={symbolCircle:B1,symbolCross:tne,symbolDiamond:sne,symbolSquare:ane,symbolStar:lne,symbolTriangle:cne,symbolWye:une},Ine=Math.PI/180,Mne=function(r){var s="symbol".concat(zx(r));return m6[s]||B1},Fne=function(r,s,a){if(s==="area")return r;switch(a){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var n=18*Ine;return 1.25*r*r*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},Lne=function(r,s){m6["symbol".concat(zx(r))]=s},U1=function(r){var s=r.type,a=s===void 0?"circle":s,n=r.size,i=n===void 0?64:n,o=r.sizeType,l=o===void 0?"area":o,c=Dne(r,Pne),d=EA(EA({},c),{},{type:a,size:i,sizeType:l}),u=function(){var g=Mne(a),b=mne().type(g).size(Fne(i,l,a));return b()},m=d.className,h=d.cx,p=d.cy,v=tt(d,!0);return h===+h&&p===+p&&i===+i?L.createElement("path",Pw({},v,{className:jt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};U1.registerSymbol=Lne;function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uc(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Ew.apply(this,arguments)}function TA(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function $ne(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?TA(Object(s),!0).forEach(function(a){Ku(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):TA(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function qne(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function zne(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,f6(a.key),a)}}function Bne(t,r,s){return r&&zne(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Une(t,r,s){return r=Bf(r),Vne(t,h6()?Reflect.construct(r,s||[],Bf(t).constructor):r.apply(t,s))}function Vne(t,r){if(r&&(Uc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wne(t)}function Wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h6=function(){return!!t})()}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Bf(t)}function Hne(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Tw(t,r)}function Tw(t,r){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Tw(t,r)}function Ku(t,r,s){return r=f6(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function f6(t){var r=Kne(t,"string");return Uc(r)=="symbol"?r:r+""}function Kne(t,r){if(Uc(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ba=32,V1=(function(t){function r(){return qne(this,r),Une(this,r,arguments)}return Hne(r,t),Bne(r,[{key:"renderIcon",value:function(a){var n=this.props.inactiveColor,i=Ba/2,o=Ba/6,l=Ba/3,c=a.inactive?n:a.color;if(a.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Ba,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ba,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ba/8,"h").concat(Ba,"v").concat(Ba*3/4,"h").concat(-Ba,"z"),className:"recharts-legend-icon"});if(L.isValidElement(a.legendIcon)){var d=$ne({},a);return delete d.legendIcon,L.cloneElement(a.legendIcon,d)}return L.createElement(U1,{fill:c,cx:i,cy:i,size:Ba,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,n=this.props,i=n.payload,o=n.iconSize,l=n.layout,c=n.formatter,d=n.inactiveColor,u={x:0,y:0,width:Ba,height:Ba},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var x=p.formatter||c,g=jt(Ku(Ku({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=ot(p.value)?null:p.value;gn(!ot(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?d:p.color;return L.createElement("li",Ew({className:g,style:m,key:"legend-item-".concat(v)},bl(a.props,p,v)),L.createElement(Nw,{width:o,height:o,viewBox:u,style:h},a.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(b,p,v):b))})}},{key:"render",value:function(){var a=this.props,n=a.payload,i=a.layout,o=a.align;if(!n||!n.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(f.PureComponent);Ku(V1,"displayName","Legend");Ku(V1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Tb,OA;function Gne(){if(OA)return Tb;OA=1;var t=Lx();function r(){this.__data__=new t,this.size=0}return Tb=r,Tb}var Ob,DA;function Yne(){if(DA)return Ob;DA=1;function t(r){var s=this.__data__,a=s.delete(r);return this.size=s.size,a}return Ob=t,Ob}var Db,RA;function Xne(){if(RA)return Db;RA=1;function t(r){return this.__data__.get(r)}return Db=t,Db}var Rb,IA;function Qne(){if(IA)return Rb;IA=1;function t(r){return this.__data__.has(r)}return Rb=t,Rb}var Ib,MA;function Jne(){if(MA)return Ib;MA=1;var t=Lx(),r=R1(),s=I1(),a=200;function n(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!r||c.length<a-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new s(c)}return l.set(i,o),this.size=l.size,this}return Ib=n,Ib}var Mb,FA;function p6(){if(FA)return Mb;FA=1;var t=Lx(),r=Gne(),s=Yne(),a=Xne(),n=Qne(),i=Jne();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=r,o.prototype.delete=s,o.prototype.get=a,o.prototype.has=n,o.prototype.set=i,Mb=o,Mb}var Fb,LA;function Zne(){if(LA)return Fb;LA=1;var t="__lodash_hash_undefined__";function r(s){return this.__data__.set(s,t),this}return Fb=r,Fb}var Lb,$A;function eie(){if($A)return Lb;$A=1;function t(r){return this.__data__.has(r)}return Lb=t,Lb}var $b,qA;function x6(){if(qA)return $b;qA=1;var t=I1(),r=Zne(),s=eie();function a(n){var i=-1,o=n==null?0:n.length;for(this.__data__=new t;++i<o;)this.add(n[i])}return a.prototype.add=a.prototype.push=r,a.prototype.has=s,$b=a,$b}var qb,zA;function g6(){if(zA)return qb;zA=1;function t(r,s){for(var a=-1,n=r==null?0:r.length;++a<n;)if(s(r[a],a,r))return!0;return!1}return qb=t,qb}var zb,BA;function v6(){if(BA)return zb;BA=1;function t(r,s){return r.has(s)}return zb=t,zb}var Bb,UA;function b6(){if(UA)return Bb;UA=1;var t=x6(),r=g6(),s=v6(),a=1,n=2;function i(o,l,c,d,u,m){var h=c&a,p=o.length,v=l.length;if(p!=v&&!(h&&v>p))return!1;var x=m.get(o),g=m.get(l);if(x&&g)return x==l&&g==o;var b=-1,y=!0,j=c&n?new t:void 0;for(m.set(o,l),m.set(l,o);++b<p;){var S=o[b],w=l[b];if(d)var _=h?d(w,S,b,l,o,m):d(S,w,b,o,l,m);if(_!==void 0){if(_)continue;y=!1;break}if(j){if(!r(l,function(N,k){if(!s(j,k)&&(S===N||u(S,N,c,d,m)))return j.push(k)})){y=!1;break}}else if(!(S===w||u(S,w,c,d,m))){y=!1;break}}return m.delete(o),m.delete(l),y}return Bb=i,Bb}var Ub,VA;function tie(){if(VA)return Ub;VA=1;var t=fi(),r=t.Uint8Array;return Ub=r,Ub}var Vb,WA;function rie(){if(WA)return Vb;WA=1;function t(r){var s=-1,a=Array(r.size);return r.forEach(function(n,i){a[++s]=[i,n]}),a}return Vb=t,Vb}var Wb,HA;function W1(){if(HA)return Wb;HA=1;function t(r){var s=-1,a=Array(r.size);return r.forEach(function(n){a[++s]=n}),a}return Wb=t,Wb}var Hb,KA;function sie(){if(KA)return Hb;KA=1;var t=Gm(),r=tie(),s=D1(),a=b6(),n=rie(),i=W1(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",m="[object Map]",h="[object Number]",p="[object RegExp]",v="[object Set]",x="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",y="[object DataView]",j=t?t.prototype:void 0,S=j?j.valueOf:void 0;function w(_,N,k,C,P,A,O){switch(k){case y:if(_.byteLength!=N.byteLength||_.byteOffset!=N.byteOffset)return!1;_=_.buffer,N=N.buffer;case b:return!(_.byteLength!=N.byteLength||!A(new r(_),new r(N)));case c:case d:case h:return s(+_,+N);case u:return _.name==N.name&&_.message==N.message;case p:case x:return _==N+"";case m:var I=n;case v:var F=C&o;if(I||(I=i),_.size!=N.size&&!F)return!1;var $=O.get(_);if($)return $==N;C|=l,O.set(_,N);var E=a(I(_),I(N),C,P,A,O);return O.delete(_),E;case g:if(S)return S.call(_)==S.call(N)}return!1}return Hb=w,Hb}var Kb,GA;function y6(){if(GA)return Kb;GA=1;function t(r,s){for(var a=-1,n=s.length,i=r.length;++a<n;)r[i+a]=s[a];return r}return Kb=t,Kb}var Gb,YA;function aie(){if(YA)return Gb;YA=1;var t=y6(),r=Na();function s(a,n,i){var o=n(a);return r(a)?o:t(o,i(a))}return Gb=s,Gb}var Yb,XA;function nie(){if(XA)return Yb;XA=1;function t(r,s){for(var a=-1,n=r==null?0:r.length,i=0,o=[];++a<n;){var l=r[a];s(l,a,r)&&(o[i++]=l)}return o}return Yb=t,Yb}var Xb,QA;function iie(){if(QA)return Xb;QA=1;function t(){return[]}return Xb=t,Xb}var Qb,JA;function oie(){if(JA)return Qb;JA=1;var t=nie(),r=iie(),s=Object.prototype,a=s.propertyIsEnumerable,n=Object.getOwnPropertySymbols,i=n?function(o){return o==null?[]:(o=Object(o),t(n(o),function(l){return a.call(o,l)}))}:r;return Qb=i,Qb}var Jb,ZA;function lie(){if(ZA)return Jb;ZA=1;function t(r,s){for(var a=-1,n=Array(r);++a<r;)n[a]=s(a);return n}return Jb=t,Jb}var Zb,eP;function cie(){if(eP)return Zb;eP=1;var t=Bi(),r=Ui(),s="[object Arguments]";function a(n){return r(n)&&t(n)==s}return Zb=a,Zb}var ey,tP;function H1(){if(tP)return ey;tP=1;var t=cie(),r=Ui(),s=Object.prototype,a=s.hasOwnProperty,n=s.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return r(o)&&a.call(o,"callee")&&!n.call(o,"callee")};return ey=i,ey}var mu={exports:{}},ty,rP;function die(){if(rP)return ty;rP=1;function t(){return!1}return ty=t,ty}mu.exports;var sP;function j6(){return sP||(sP=1,(function(t,r){var s=fi(),a=die(),n=r&&!r.nodeType&&r,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,l=o?s.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;t.exports=d})(mu,mu.exports)),mu.exports}var ry,aP;function K1(){if(aP)return ry;aP=1;var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function s(a,n){var i=typeof a;return n=n??t,!!n&&(i=="number"||i!="symbol"&&r.test(a))&&a>-1&&a%1==0&&a<n}return ry=s,ry}var sy,nP;function G1(){if(nP)return sy;nP=1;var t=9007199254740991;function r(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=t}return sy=r,sy}var ay,iP;function uie(){if(iP)return ay;iP=1;var t=Bi(),r=G1(),s=Ui(),a="[object Arguments]",n="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",m="[object Object]",h="[object RegExp]",p="[object Set]",v="[object String]",x="[object WeakMap]",g="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",j="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",_="[object Int32Array]",N="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",P="[object Uint32Array]",A={};A[y]=A[j]=A[S]=A[w]=A[_]=A[N]=A[k]=A[C]=A[P]=!0,A[a]=A[n]=A[g]=A[i]=A[b]=A[o]=A[l]=A[c]=A[d]=A[u]=A[m]=A[h]=A[p]=A[v]=A[x]=!1;function O(I){return s(I)&&r(I.length)&&!!A[t(I)]}return ay=O,ay}var ny,oP;function w6(){if(oP)return ny;oP=1;function t(r){return function(s){return r(s)}}return ny=t,ny}var hu={exports:{}};hu.exports;var lP;function mie(){return lP||(lP=1,(function(t,r){var s=zL(),a=r&&!r.nodeType&&r,n=a&&!0&&t&&!t.nodeType&&t,i=n&&n.exports===a,o=i&&s.process,l=(function(){try{var c=n&&n.require&&n.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(hu,hu.exports)),hu.exports}var iy,cP;function N6(){if(cP)return iy;cP=1;var t=uie(),r=w6(),s=mie(),a=s&&s.isTypedArray,n=a?r(a):t;return iy=n,iy}var oy,dP;function hie(){if(dP)return oy;dP=1;var t=lie(),r=H1(),s=Na(),a=j6(),n=K1(),i=N6(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var m=s(d),h=!m&&r(d),p=!m&&!h&&a(d),v=!m&&!h&&!p&&i(d),x=m||h||p||v,g=x?t(d.length,String):[],b=g.length;for(var y in d)(u||l.call(d,y))&&!(x&&(y=="length"||p&&(y=="offset"||y=="parent")||v&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||n(y,b)))&&g.push(y);return g}return oy=c,oy}var ly,uP;function fie(){if(uP)return ly;uP=1;var t=Object.prototype;function r(s){var a=s&&s.constructor,n=typeof a=="function"&&a.prototype||t;return s===n}return ly=r,ly}var cy,mP;function _6(){if(mP)return cy;mP=1;function t(r,s){return function(a){return r(s(a))}}return cy=t,cy}var dy,hP;function pie(){if(hP)return dy;hP=1;var t=_6(),r=t(Object.keys,Object);return dy=r,dy}var uy,fP;function xie(){if(fP)return uy;fP=1;var t=fie(),r=pie(),s=Object.prototype,a=s.hasOwnProperty;function n(i){if(!t(i))return r(i);var o=[];for(var l in Object(i))a.call(i,l)&&l!="constructor"&&o.push(l);return o}return uy=n,uy}var my,pP;function Ym(){if(pP)return my;pP=1;var t=O1(),r=G1();function s(a){return a!=null&&r(a.length)&&!t(a)}return my=s,my}var hy,xP;function Wx(){if(xP)return hy;xP=1;var t=hie(),r=xie(),s=Ym();function a(n){return s(n)?t(n):r(n)}return hy=a,hy}var fy,gP;function gie(){if(gP)return fy;gP=1;var t=aie(),r=oie(),s=Wx();function a(n){return t(n,s,r)}return fy=a,fy}var py,vP;function vie(){if(vP)return py;vP=1;var t=gie(),r=1,s=Object.prototype,a=s.hasOwnProperty;function n(i,o,l,c,d,u){var m=l&r,h=t(i),p=h.length,v=t(o),x=v.length;if(p!=x&&!m)return!1;for(var g=p;g--;){var b=h[g];if(!(m?b in o:a.call(o,b)))return!1}var y=u.get(i),j=u.get(o);if(y&&j)return y==o&&j==i;var S=!0;u.set(i,o),u.set(o,i);for(var w=m;++g<p;){b=h[g];var _=i[b],N=o[b];if(c)var k=m?c(N,_,b,o,i,u):c(_,N,b,i,o,u);if(!(k===void 0?_===N||d(_,N,l,c,u):k)){S=!1;break}w||(w=b=="constructor")}if(S&&!w){var C=i.constructor,P=o.constructor;C!=P&&"constructor"in i&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof P=="function"&&P instanceof P)&&(S=!1)}return u.delete(i),u.delete(o),S}return py=n,py}var xy,bP;function bie(){if(bP)return xy;bP=1;var t=Il(),r=fi(),s=t(r,"DataView");return xy=s,xy}var gy,yP;function yie(){if(yP)return gy;yP=1;var t=Il(),r=fi(),s=t(r,"Promise");return gy=s,gy}var vy,jP;function S6(){if(jP)return vy;jP=1;var t=Il(),r=fi(),s=t(r,"Set");return vy=s,vy}var by,wP;function jie(){if(wP)return by;wP=1;var t=Il(),r=fi(),s=t(r,"WeakMap");return by=s,by}var yy,NP;function wie(){if(NP)return yy;NP=1;var t=bie(),r=R1(),s=yie(),a=S6(),n=jie(),i=Bi(),o=BL(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",m="[object WeakMap]",h="[object DataView]",p=o(t),v=o(r),x=o(s),g=o(a),b=o(n),y=i;return(t&&y(new t(new ArrayBuffer(1)))!=h||r&&y(new r)!=l||s&&y(s.resolve())!=d||a&&y(new a)!=u||n&&y(new n)!=m)&&(y=function(j){var S=i(j),w=S==c?j.constructor:void 0,_=w?o(w):"";if(_)switch(_){case p:return h;case v:return l;case x:return d;case g:return u;case b:return m}return S}),yy=y,yy}var jy,_P;function Nie(){if(_P)return jy;_P=1;var t=p6(),r=b6(),s=sie(),a=vie(),n=wie(),i=Na(),o=j6(),l=N6(),c=1,d="[object Arguments]",u="[object Array]",m="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function v(x,g,b,y,j,S){var w=i(x),_=i(g),N=w?u:n(x),k=_?u:n(g);N=N==d?m:N,k=k==d?m:k;var C=N==m,P=k==m,A=N==k;if(A&&o(x)){if(!o(g))return!1;w=!0,C=!1}if(A&&!C)return S||(S=new t),w||l(x)?r(x,g,b,y,j,S):s(x,g,N,b,y,j,S);if(!(b&c)){var O=C&&p.call(x,"__wrapped__"),I=P&&p.call(g,"__wrapped__");if(O||I){var F=O?x.value():x,$=I?g.value():g;return S||(S=new t),j(F,$,b,y,S)}}return A?(S||(S=new t),a(x,g,b,y,j,S)):!1}return jy=v,jy}var wy,SP;function Y1(){if(SP)return wy;SP=1;var t=Nie(),r=Ui();function s(a,n,i,o,l){return a===n?!0:a==null||n==null||!r(a)&&!r(n)?a!==a&&n!==n:t(a,n,i,o,s,l)}return wy=s,wy}var Ny,CP;function _ie(){if(CP)return Ny;CP=1;var t=p6(),r=Y1(),s=1,a=2;function n(i,o,l,c){var d=l.length,u=d,m=!c;if(i==null)return!u;for(i=Object(i);d--;){var h=l[d];if(m&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++d<u;){h=l[d];var p=h[0],v=i[p],x=h[1];if(m&&h[2]){if(v===void 0&&!(p in i))return!1}else{var g=new t;if(c)var b=c(v,x,p,i,o,g);if(!(b===void 0?r(x,v,s|a,c,g):b))return!1}}return!0}return Ny=n,Ny}var _y,kP;function C6(){if(kP)return _y;kP=1;var t=Do();function r(s){return s===s&&!t(s)}return _y=r,_y}var Sy,AP;function Sie(){if(AP)return Sy;AP=1;var t=C6(),r=Wx();function s(a){for(var n=r(a),i=n.length;i--;){var o=n[i],l=a[o];n[i]=[o,l,t(l)]}return n}return Sy=s,Sy}var Cy,PP;function k6(){if(PP)return Cy;PP=1;function t(r,s){return function(a){return a==null?!1:a[r]===s&&(s!==void 0||r in Object(a))}}return Cy=t,Cy}var ky,EP;function Cie(){if(EP)return ky;EP=1;var t=_ie(),r=Sie(),s=k6();function a(n){var i=r(n);return i.length==1&&i[0][2]?s(i[0][0],i[0][1]):function(o){return o===n||t(o,n,i)}}return ky=a,ky}var Ay,TP;function kie(){if(TP)return Ay;TP=1;function t(r,s){return r!=null&&s in Object(r)}return Ay=t,Ay}var Py,OP;function Aie(){if(OP)return Py;OP=1;var t=WL(),r=H1(),s=Na(),a=K1(),n=G1(),i=qx();function o(l,c,d){c=t(c,l);for(var u=-1,m=c.length,h=!1;++u<m;){var p=i(c[u]);if(!(h=l!=null&&d(l,p)))break;l=l[p]}return h||++u!=m?h:(m=l==null?0:l.length,!!m&&n(m)&&a(p,m)&&(s(l)||r(l)))}return Py=o,Py}var Ey,DP;function Pie(){if(DP)return Ey;DP=1;var t=kie(),r=Aie();function s(a,n){return a!=null&&r(a,n,t)}return Ey=s,Ey}var Ty,RP;function Eie(){if(RP)return Ty;RP=1;var t=Y1(),r=HL(),s=Pie(),a=T1(),n=C6(),i=k6(),o=qx(),l=1,c=2;function d(u,m){return a(u)&&n(m)?i(o(u),m):function(h){var p=r(h,u);return p===void 0&&p===m?s(h,u):t(m,p,l|c)}}return Ty=d,Ty}var Oy,IP;function Rd(){if(IP)return Oy;IP=1;function t(r){return r}return Oy=t,Oy}var Dy,MP;function Tie(){if(MP)return Dy;MP=1;function t(r){return function(s){return s?.[r]}}return Dy=t,Dy}var Ry,FP;function Oie(){if(FP)return Ry;FP=1;var t=F1();function r(s){return function(a){return t(a,s)}}return Ry=r,Ry}var Iy,LP;function Die(){if(LP)return Iy;LP=1;var t=Tie(),r=Oie(),s=T1(),a=qx();function n(i){return s(i)?t(a(i)):r(i)}return Iy=n,Iy}var My,$P;function pi(){if($P)return My;$P=1;var t=Cie(),r=Eie(),s=Rd(),a=Na(),n=Die();function i(o){return typeof o=="function"?o:o==null?s:typeof o=="object"?a(o)?r(o[0],o[1]):t(o):n(o)}return My=i,My}var Fy,qP;function A6(){if(qP)return Fy;qP=1;function t(r,s,a,n){for(var i=r.length,o=a+(n?1:-1);n?o--:++o<i;)if(s(r[o],o,r))return o;return-1}return Fy=t,Fy}var Ly,zP;function Rie(){if(zP)return Ly;zP=1;function t(r){return r!==r}return Ly=t,Ly}var $y,BP;function Iie(){if(BP)return $y;BP=1;function t(r,s,a){for(var n=a-1,i=r.length;++n<i;)if(r[n]===s)return n;return-1}return $y=t,$y}var qy,UP;function Mie(){if(UP)return qy;UP=1;var t=A6(),r=Rie(),s=Iie();function a(n,i,o){return i===i?s(n,i,o):t(n,r,o)}return qy=a,qy}var zy,VP;function Fie(){if(VP)return zy;VP=1;var t=Mie();function r(s,a){var n=s==null?0:s.length;return!!n&&t(s,a,0)>-1}return zy=r,zy}var By,WP;function Lie(){if(WP)return By;WP=1;function t(r,s,a){for(var n=-1,i=r==null?0:r.length;++n<i;)if(a(s,r[n]))return!0;return!1}return By=t,By}var Uy,HP;function $ie(){if(HP)return Uy;HP=1;function t(){}return Uy=t,Uy}var Vy,KP;function qie(){if(KP)return Vy;KP=1;var t=S6(),r=$ie(),s=W1(),a=1/0,n=t&&1/s(new t([,-0]))[1]==a?function(i){return new t(i)}:r;return Vy=n,Vy}var Wy,GP;function zie(){if(GP)return Wy;GP=1;var t=x6(),r=Fie(),s=Lie(),a=v6(),n=qie(),i=W1(),o=200;function l(c,d,u){var m=-1,h=r,p=c.length,v=!0,x=[],g=x;if(u)v=!1,h=s;else if(p>=o){var b=d?null:n(c);if(b)return i(b);v=!1,h=a,g=new t}else g=d?[]:x;e:for(;++m<p;){var y=c[m],j=d?d(y):y;if(y=u||y!==0?y:0,v&&j===j){for(var S=g.length;S--;)if(g[S]===j)continue e;d&&g.push(j),x.push(y)}else h(g,j,u)||(g!==x&&g.push(j),x.push(y))}return x}return Wy=l,Wy}var Hy,YP;function Bie(){if(YP)return Hy;YP=1;var t=pi(),r=zie();function s(a,n){return a&&a.length?r(a,t(n,2)):[]}return Hy=s,Hy}var Uie=Bie();const XP=vr(Uie);function P6(t,r,s){return r===!0?XP(t,s):ot(r)?XP(t,r):t}function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vc(t)}var Vie=["ref"];function QP(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function bi(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?QP(Object(s),!0).forEach(function(a){Hx(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):QP(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Wie(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function JP(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,T6(a.key),a)}}function Hie(t,r,s){return r&&JP(t.prototype,r),s&&JP(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kie(t,r,s){return r=Uf(r),Gie(t,E6()?Reflect.construct(r,s||[],Uf(t).constructor):r.apply(t,s))}function Gie(t,r){if(r&&(Vc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yie(t)}function Yie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E6=function(){return!!t})()}function Uf(t){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Uf(t)}function Xie(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Ow(t,r)}function Ow(t,r){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Ow(t,r)}function Hx(t,r,s){return r=T6(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function T6(t){var r=Qie(t,"string");return Vc(r)=="symbol"?r:r+""}function Qie(t,r){if(Vc(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Vc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jie(t,r){if(t==null)return{};var s=Zie(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Zie(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function eoe(t){return t.value}function toe(t,r){if(L.isValidElement(t))return L.cloneElement(t,r);if(typeof t=="function")return L.createElement(t,r);r.ref;var s=Jie(r,Vie);return L.createElement(V1,s)}var ZP=1,wc=(function(t){function r(){var s;Wie(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=Kie(this,r,[].concat(n)),Hx(s,"lastBoundingBox",{width:-1,height:-1}),s}return Xie(r,t),Hie(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>ZP||Math.abs(n.height-this.lastBoundingBox.height)>ZP)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,a&&a(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var n=this.props,i=n.layout,o=n.align,l=n.verticalAlign,c=n.margin,d=n.chartWidth,u=n.chartHeight,m,h;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();m={left:((d||0)-p.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((u||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bi(bi({},m),h)}},{key:"render",value:function(){var a=this,n=this.props,i=n.content,o=n.width,l=n.height,c=n.wrapperStyle,d=n.payloadUniqBy,u=n.payload,m=bi(bi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(p){a.wrapperNode=p}},toe(i,bi(bi({},this.props),{},{payload:P6(u,d,eoe)})))}}],[{key:"getWithHeight",value:function(a,n){var i=bi(bi({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&_e(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||n}:null}}])})(f.PureComponent);Hx(wc,"displayName","Legend");Hx(wc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ky,e4;function roe(){if(e4)return Ky;e4=1;var t=Gm(),r=H1(),s=Na(),a=t?t.isConcatSpreadable:void 0;function n(i){return s(i)||r(i)||!!(a&&i&&i[a])}return Ky=n,Ky}var Gy,t4;function O6(){if(t4)return Gy;t4=1;var t=y6(),r=roe();function s(a,n,i,o,l){var c=-1,d=a.length;for(i||(i=r),l||(l=[]);++c<d;){var u=a[c];n>0&&i(u)?n>1?s(u,n-1,i,o,l):t(l,u):o||(l[l.length]=u)}return l}return Gy=s,Gy}var Yy,r4;function soe(){if(r4)return Yy;r4=1;function t(r){return function(s,a,n){for(var i=-1,o=Object(s),l=n(s),c=l.length;c--;){var d=l[r?c:++i];if(a(o[d],d,o)===!1)break}return s}}return Yy=t,Yy}var Xy,s4;function aoe(){if(s4)return Xy;s4=1;var t=soe(),r=t();return Xy=r,Xy}var Qy,a4;function D6(){if(a4)return Qy;a4=1;var t=aoe(),r=Wx();function s(a,n){return a&&t(a,n,r)}return Qy=s,Qy}var Jy,n4;function noe(){if(n4)return Jy;n4=1;var t=Ym();function r(s,a){return function(n,i){if(n==null)return n;if(!t(n))return s(n,i);for(var o=n.length,l=a?o:-1,c=Object(n);(a?l--:++l<o)&&i(c[l],l,c)!==!1;);return n}}return Jy=r,Jy}var Zy,i4;function X1(){if(i4)return Zy;i4=1;var t=D6(),r=noe(),s=r(t);return Zy=s,Zy}var ej,o4;function R6(){if(o4)return ej;o4=1;var t=X1(),r=Ym();function s(a,n){var i=-1,o=r(a)?Array(a.length):[];return t(a,function(l,c,d){o[++i]=n(l,c,d)}),o}return ej=s,ej}var tj,l4;function ioe(){if(l4)return tj;l4=1;function t(r,s){var a=r.length;for(r.sort(s);a--;)r[a]=r[a].value;return r}return tj=t,tj}var rj,c4;function ooe(){if(c4)return rj;c4=1;var t=Td();function r(s,a){if(s!==a){var n=s!==void 0,i=s===null,o=s===s,l=t(s),c=a!==void 0,d=a===null,u=a===a,m=t(a);if(!d&&!m&&!l&&s>a||l&&c&&u&&!d&&!m||i&&c&&u||!n&&u||!o)return 1;if(!i&&!l&&!m&&s<a||m&&n&&o&&!i&&!l||d&&n&&o||!c&&o||!u)return-1}return 0}return rj=r,rj}var sj,d4;function loe(){if(d4)return sj;d4=1;var t=ooe();function r(s,a,n){for(var i=-1,o=s.criteria,l=a.criteria,c=o.length,d=n.length;++i<c;){var u=t(o[i],l[i]);if(u){if(i>=d)return u;var m=n[i];return u*(m=="desc"?-1:1)}}return s.index-a.index}return sj=r,sj}var aj,u4;function coe(){if(u4)return aj;u4=1;var t=M1(),r=F1(),s=pi(),a=R6(),n=ioe(),i=w6(),o=loe(),l=Rd(),c=Na();function d(u,m,h){m.length?m=t(m,function(x){return c(x)?function(g){return r(g,x.length===1?x[0]:x)}:x}):m=[l];var p=-1;m=t(m,i(s));var v=a(u,function(x,g,b){var y=t(m,function(j){return j(x)});return{criteria:y,index:++p,value:x}});return n(v,function(x,g){return o(x,g,h)})}return aj=d,aj}var nj,m4;function doe(){if(m4)return nj;m4=1;function t(r,s,a){switch(a.length){case 0:return r.call(s);case 1:return r.call(s,a[0]);case 2:return r.call(s,a[0],a[1]);case 3:return r.call(s,a[0],a[1],a[2])}return r.apply(s,a)}return nj=t,nj}var ij,h4;function uoe(){if(h4)return ij;h4=1;var t=doe(),r=Math.max;function s(a,n,i){return n=r(n===void 0?a.length-1:n,0),function(){for(var o=arguments,l=-1,c=r(o.length-n,0),d=Array(c);++l<c;)d[l]=o[n+l];l=-1;for(var u=Array(n+1);++l<n;)u[l]=o[l];return u[n]=i(d),t(a,this,u)}}return ij=s,ij}var oj,f4;function moe(){if(f4)return oj;f4=1;function t(r){return function(){return r}}return oj=t,oj}var lj,p4;function I6(){if(p4)return lj;p4=1;var t=Il(),r=(function(){try{var s=t(Object,"defineProperty");return s({},"",{}),s}catch{}})();return lj=r,lj}var cj,x4;function hoe(){if(x4)return cj;x4=1;var t=moe(),r=I6(),s=Rd(),a=r?function(n,i){return r(n,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:s;return cj=a,cj}var dj,g4;function foe(){if(g4)return dj;g4=1;var t=800,r=16,s=Date.now;function a(n){var i=0,o=0;return function(){var l=s(),c=r-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}return dj=a,dj}var uj,v4;function poe(){if(v4)return uj;v4=1;var t=hoe(),r=foe(),s=r(t);return uj=s,uj}var mj,b4;function xoe(){if(b4)return mj;b4=1;var t=Rd(),r=uoe(),s=poe();function a(n,i){return s(r(n,i,t),n+"")}return mj=a,mj}var hj,y4;function Kx(){if(y4)return hj;y4=1;var t=D1(),r=Ym(),s=K1(),a=Do();function n(i,o,l){if(!a(l))return!1;var c=typeof o;return(c=="number"?r(l)&&s(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return hj=n,hj}var fj,j4;function goe(){if(j4)return fj;j4=1;var t=O6(),r=coe(),s=xoe(),a=Kx(),n=s(function(i,o){if(i==null)return[];var l=o.length;return l>1&&a(i,o[0],o[1])?o=[]:l>2&&a(o[0],o[1],o[2])&&(o=[o[0]]),r(i,t(o,1),[])});return fj=n,fj}var voe=goe();const Q1=vr(voe);function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gu(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Dw.apply(this,arguments)}function boe(t,r){return Noe(t)||woe(t,r)||joe(t,r)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function joe(t,r){if(t){if(typeof t=="string")return w4(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return w4(t,r)}}function w4(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function woe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Noe(t){if(Array.isArray(t))return t}function N4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function pj(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?N4(Object(s),!0).forEach(function(a){_oe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):N4(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function _oe(t,r,s){return r=Soe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Soe(t){var r=Coe(t,"string");return Gu(r)=="symbol"?r:r+""}function Coe(t,r){if(Gu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Gu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function koe(t){return Array.isArray(t)&&Ss(t[0])&&Ss(t[1])?t.join(" ~ "):t}var Aoe=function(r){var s=r.separator,a=s===void 0?" : ":s,n=r.contentStyle,i=n===void 0?{}:n,o=r.itemStyle,l=o===void 0?{}:o,c=r.labelStyle,d=c===void 0?{}:c,u=r.payload,m=r.formatter,h=r.itemSorter,p=r.wrapperClassName,v=r.labelClassName,x=r.label,g=r.labelFormatter,b=r.accessibilityLayer,y=b===void 0?!1:b,j=function(){if(u&&u.length){var O={padding:0,margin:0},I=(h?Q1(u,h):u).map(function(F,$){if(F.type==="none")return null;var E=pj({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),M=F.formatter||m||koe,z=F.value,R=F.name,te=z,V=R;if(M&&te!=null&&V!=null){var D=M(z,R,F,$,u);if(Array.isArray(D)){var H=boe(D,2);te=H[0],V=H[1]}else te=D}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:E},Ss(V)?L.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Ss(V)?L.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,L.createElement("span",{className:"recharts-tooltip-item-value"},te),L.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},S=pj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=pj({margin:0},d),_=!vt(x),N=_?x:"",k=jt("recharts-default-tooltip",p),C=jt("recharts-tooltip-label",v);_&&g&&u!==void 0&&u!==null&&(N=g(x,u));var P=y?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Dw({className:k,style:S},P),L.createElement("p",{className:C,style:w},L.isValidElement(N)?N:"".concat(N)),j())};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yu(t)}function kh(t,r,s){return r=Poe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Poe(t){var r=Eoe(t,"string");return Yu(r)=="symbol"?r:r+""}function Eoe(t,r){if(Yu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Yu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Xd="recharts-tooltip-wrapper",Toe={visibility:"hidden"};function Ooe(t){var r=t.coordinate,s=t.translateX,a=t.translateY;return jt(Xd,kh(kh(kh(kh({},"".concat(Xd,"-right"),_e(s)&&r&&_e(r.x)&&s>=r.x),"".concat(Xd,"-left"),_e(s)&&r&&_e(r.x)&&s<r.x),"".concat(Xd,"-bottom"),_e(a)&&r&&_e(r.y)&&a>=r.y),"".concat(Xd,"-top"),_e(a)&&r&&_e(r.y)&&a<r.y))}function _4(t){var r=t.allowEscapeViewBox,s=t.coordinate,a=t.key,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&_e(i[a]))return i[a];var u=s[a]-l-n,m=s[a]+n;if(r[a])return o[a]?u:m;if(o[a]){var h=u,p=c[a];return h<p?Math.max(m,c[a]):Math.max(u,c[a])}var v=m+l,x=c[a]+d;return v>x?Math.max(u,c[a]):Math.max(m,c[a])}function Doe(t){var r=t.translateX,s=t.translateY,a=t.useTranslate3d;return{transform:a?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function Roe(t){var r=t.allowEscapeViewBox,s=t.coordinate,a=t.offsetTopLeft,n=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,m;return o.height>0&&o.width>0&&s?(u=_4({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=_4({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=Doe({translateX:u,translateY:m,useTranslate3d:l})):d=Toe,{cssProperties:d,cssClasses:Ooe({translateX:u,translateY:m,coordinate:s})}}function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wc(t)}function S4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function C4(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?S4(Object(s),!0).forEach(function(a){Iw(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):S4(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Ioe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Moe(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,F6(a.key),a)}}function Foe(t,r,s){return r&&Moe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Loe(t,r,s){return r=Vf(r),$oe(t,M6()?Reflect.construct(r,s||[],Vf(t).constructor):r.apply(t,s))}function $oe(t,r){if(r&&(Wc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qoe(t)}function qoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M6=function(){return!!t})()}function Vf(t){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Vf(t)}function zoe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Rw(t,r)}function Rw(t,r){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Rw(t,r)}function Iw(t,r,s){return r=F6(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function F6(t){var r=Boe(t,"string");return Wc(r)=="symbol"?r:r+""}function Boe(t,r){if(Wc(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Wc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k4=1,Uoe=(function(t){function r(){var s;Ioe(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=Loe(this,r,[].concat(n)),Iw(s,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Iw(s,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;s.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=s.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=s.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),s}return zoe(r,t),Foe(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>k4||Math.abs(a.height-this.state.lastBoundingBox.height)>k4)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,n=this.props,i=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,d=n.children,u=n.coordinate,m=n.hasPayload,h=n.isAnimationActive,p=n.offset,v=n.position,x=n.reverseDirection,g=n.useTranslate3d,b=n.viewBox,y=n.wrapperStyle,j=Roe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),S=j.cssClasses,w=j.cssProperties,_=C4(C4({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},y);return L.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(k){a.wrapperNode=k}},d)}}])})(f.PureComponent),Voe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ro={isSsr:Voe()};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hc(t)}function A4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function P4(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?A4(Object(s),!0).forEach(function(a){J1(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):A4(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Woe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Hoe(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,$6(a.key),a)}}function Koe(t,r,s){return r&&Hoe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Goe(t,r,s){return r=Wf(r),Yoe(t,L6()?Reflect.construct(r,s||[],Wf(t).constructor):r.apply(t,s))}function Yoe(t,r){if(r&&(Hc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xoe(t)}function Xoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L6=function(){return!!t})()}function Wf(t){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Wf(t)}function Qoe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Mw(t,r)}function Mw(t,r){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Mw(t,r)}function J1(t,r,s){return r=$6(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function $6(t){var r=Joe(t,"string");return Hc(r)=="symbol"?r:r+""}function Joe(t,r){if(Hc(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Hc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zoe(t){return t.dataKey}function ele(t,r){return L.isValidElement(t)?L.cloneElement(t,r):typeof t=="function"?L.createElement(t,r):L.createElement(Aoe,r)}var Ua=(function(t){function r(){return Woe(this,r),Goe(this,r,arguments)}return Qoe(r,t),Koe(r,[{key:"render",value:function(){var a=this,n=this.props,i=n.active,o=n.allowEscapeViewBox,l=n.animationDuration,c=n.animationEasing,d=n.content,u=n.coordinate,m=n.filterNull,h=n.isAnimationActive,p=n.offset,v=n.payload,x=n.payloadUniqBy,g=n.position,b=n.reverseDirection,y=n.useTranslate3d,j=n.viewBox,S=n.wrapperStyle,w=v??[];m&&w.length&&(w=P6(v.filter(function(N){return N.value!=null&&(N.hide!==!0||a.props.includeHidden)}),x,Zoe));var _=w.length>0;return L.createElement(Uoe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:_,offset:p,position:g,reverseDirection:b,useTranslate3d:y,viewBox:j,wrapperStyle:S},ele(d,P4(P4({},this.props),{},{payload:w})))}}])})(f.PureComponent);J1(Ua,"displayName","Tooltip");J1(Ua,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ro.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xj,E4;function tle(){if(E4)return xj;E4=1;var t=fi(),r=function(){return t.Date.now()};return xj=r,xj}var gj,T4;function rle(){if(T4)return gj;T4=1;var t=/\s/;function r(s){for(var a=s.length;a--&&t.test(s.charAt(a)););return a}return gj=r,gj}var vj,O4;function sle(){if(O4)return vj;O4=1;var t=rle(),r=/^\s+/;function s(a){return a&&a.slice(0,t(a)+1).replace(r,"")}return vj=s,vj}var bj,D4;function q6(){if(D4)return bj;D4=1;var t=sle(),r=Do(),s=Td(),a=NaN,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(s(d))return a;if(r(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=r(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=i.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):n.test(d)?a:+d}return bj=c,bj}var yj,R4;function ale(){if(R4)return yj;R4=1;var t=Do(),r=tle(),s=q6(),a="Expected a function",n=Math.max,i=Math.min;function o(l,c,d){var u,m,h,p,v,x,g=0,b=!1,y=!1,j=!0;if(typeof l!="function")throw new TypeError(a);c=s(c)||0,t(d)&&(b=!!d.leading,y="maxWait"in d,h=y?n(s(d.maxWait)||0,c):h,j="trailing"in d?!!d.trailing:j);function S(I){var F=u,$=m;return u=m=void 0,g=I,p=l.apply($,F),p}function w(I){return g=I,v=setTimeout(k,c),b?S(I):p}function _(I){var F=I-x,$=I-g,E=c-F;return y?i(E,h-$):E}function N(I){var F=I-x,$=I-g;return x===void 0||F>=c||F<0||y&&$>=h}function k(){var I=r();if(N(I))return C(I);v=setTimeout(k,_(I))}function C(I){return v=void 0,j&&u?S(I):(u=m=void 0,p)}function P(){v!==void 0&&clearTimeout(v),g=0,u=x=m=v=void 0}function A(){return v===void 0?p:C(r())}function O(){var I=r(),F=N(I);if(u=arguments,m=this,x=I,F){if(v===void 0)return w(x);if(y)return clearTimeout(v),v=setTimeout(k,c),S(x)}return v===void 0&&(v=setTimeout(k,c)),p}return O.cancel=P,O.flush=A,O}return yj=o,yj}var jj,I4;function nle(){if(I4)return jj;I4=1;var t=ale(),r=Do(),s="Expected a function";function a(n,i,o){var l=!0,c=!0;if(typeof n!="function")throw new TypeError(s);return r(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(n,i,{leading:l,maxWait:i,trailing:c})}return jj=a,jj}var ile=nle();const z6=vr(ile);function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xu(t)}function M4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Ah(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?M4(Object(s),!0).forEach(function(a){ole(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):M4(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function ole(t,r,s){return r=lle(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function lle(t){var r=cle(t,"string");return Xu(r)=="symbol"?r:r+""}function cle(t,r){if(Xu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Xu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function dle(t,r){return fle(t)||hle(t,r)||mle(t,r)||ule()}function ule(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mle(t,r){if(t){if(typeof t=="string")return F4(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return F4(t,r)}}function F4(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function hle(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function fle(t){if(Array.isArray(t))return t}var Gx=f.forwardRef(function(t,r){var s=t.aspect,a=t.initialDimension,n=a===void 0?{width:-1,height:-1}:a,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,m=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,x=v===void 0?0:v,g=t.id,b=t.className,y=t.onResize,j=t.style,S=j===void 0?{}:j,w=f.useRef(null),_=f.useRef();_.current=y,f.useImperativeHandle(r,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var N=f.useState({containerWidth:n.width,containerHeight:n.height}),k=dle(N,2),C=k[0],P=k[1],A=f.useCallback(function(I,F){P(function($){var E=Math.round(I),M=Math.round(F);return $.containerWidth===E&&$.containerHeight===M?$:{containerWidth:E,containerHeight:M}})},[]);f.useEffect(function(){var I=function(R){var te,V=R[0].contentRect,D=V.width,H=V.height;A(D,H),(te=_.current)===null||te===void 0||te.call(_,D,H)};x>0&&(I=z6(I,x,{trailing:!0,leading:!1}));var F=new ResizeObserver(I),$=w.current.getBoundingClientRect(),E=$.width,M=$.height;return A(E,M),F.observe(w.current),function(){F.disconnect()}},[A,x]);var O=f.useMemo(function(){var I=C.containerWidth,F=C.containerHeight;if(I<0||F<0)return null;gn(Yo(o)||Yo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),gn(!s||s>0,"The aspect(%s) must be greater than zero.",s);var $=Yo(o)?I:o,E=Yo(c)?F:c;s&&s>0&&($?E=$/s:E&&($=E*s),h&&E>h&&(E=h)),gn($>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,E,o,c,u,m,s);var M=!Array.isArray(p)&&Ai(p.type).endsWith("Chart");return L.Children.map(p,function(z){return L.isValidElement(z)?f.cloneElement(z,Ah({width:$,height:E},M?{style:Ah({height:"100%",width:"100%",maxHeight:E,maxWidth:$},z.props.style)}:{})):z})},[s,p,c,h,m,u,C,o]);return L.createElement("div",{id:g?"".concat(g):void 0,className:jt("recharts-responsive-container",b),style:Ah(Ah({},S),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:h}),ref:w},O)}),Xm=function(r){return null};Xm.displayName="Cell";function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qu(t)}function L4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Fw(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?L4(Object(s),!0).forEach(function(a){ple(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):L4(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function ple(t,r,s){return r=xle(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function xle(t){var r=gle(t,"string");return Qu(r)=="symbol"?r:r+""}function gle(t,r){if(Qu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Qu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Gl={widthCache:{},cacheCount:0},vle=2e3,ble={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$4="recharts_measurement_span";function yle(t){var r=Fw({},t);return Object.keys(r).forEach(function(s){r[s]||delete r[s]}),r}var bu=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||Ro.isSsr)return{width:0,height:0};var a=yle(s),n=JSON.stringify({text:r,copyStyle:a});if(Gl.widthCache[n])return Gl.widthCache[n];try{var i=document.getElementById($4);i||(i=document.createElement("span"),i.setAttribute("id",$4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Fw(Fw({},ble),a);Object.assign(i.style,o),i.textContent="".concat(r);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Gl.widthCache[n]=c,++Gl.cacheCount>vle&&(Gl.cacheCount=0,Gl.widthCache={}),c}catch{return{width:0,height:0}}},jle=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ju(t)}function Hf(t,r){return Sle(t)||_le(t,r)||Nle(t,r)||wle()}function wle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(t,r){if(t){if(typeof t=="string")return q4(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q4(t,r)}}function q4(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function _le(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Sle(t){if(Array.isArray(t))return t}function Cle(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function z4(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Ale(a.key),a)}}function kle(t,r,s){return r&&z4(t.prototype,r),s&&z4(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ale(t){var r=Ple(t,"string");return Ju(r)=="symbol"?r:r+""}function Ple(t,r){if(Ju(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Ju(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ele=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ole=Object.keys(B6),ic="NaN";function Dle(t,r){return t*B6[r]}var Ph=(function(){function t(r,s){Cle(this,t),this.num=r,this.unit=s,this.num=r,this.unit=s,Number.isNaN(r)&&(this.unit=""),s!==""&&!Ele.test(s)&&(this.num=NaN,this.unit=""),Ole.includes(s)&&(this.num=Dle(r,s),this.unit="px")}return kle(t,[{key:"add",value:function(s){return this.unit!==s.unit?new t(NaN,""):new t(this.num+s.num,this.unit)}},{key:"subtract",value:function(s){return this.unit!==s.unit?new t(NaN,""):new t(this.num-s.num,this.unit)}},{key:"multiply",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new t(NaN,""):new t(this.num*s.num,this.unit||s.unit)}},{key:"divide",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new t(NaN,""):new t(this.num/s.num,this.unit||s.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(s){var a,n=(a=Tle.exec(s))!==null&&a!==void 0?a:[],i=Hf(n,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function U6(t){if(t.includes(ic))return ic;for(var r=t;r.includes("*")||r.includes("/");){var s,a=(s=B4.exec(r))!==null&&s!==void 0?s:[],n=Hf(a,4),i=n[1],o=n[2],l=n[3],c=Ph.parse(i??""),d=Ph.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return ic;r=r.replace(B4,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,h=(m=U4.exec(r))!==null&&m!==void 0?m:[],p=Hf(h,4),v=p[1],x=p[2],g=p[3],b=Ph.parse(v??""),y=Ph.parse(g??""),j=x==="+"?b.add(y):b.subtract(y);if(j.isNaN())return ic;r=r.replace(U4,j.toString())}return r}var V4=/\(([^()]*)\)/;function Rle(t){for(var r=t;r.includes("(");){var s=V4.exec(r),a=Hf(s,2),n=a[1];r=r.replace(V4,U6(n))}return r}function Ile(t){var r=t.replace(/\s+/g,"");return r=Rle(r),r=U6(r),r}function Mle(t){try{return Ile(t)}catch{return ic}}function wj(t){var r=Mle(t.slice(5,-1));return r===ic?"":r}var Fle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lle=["dx","dy","angle","className","breakAll"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Lw.apply(this,arguments)}function W4(t,r){if(t==null)return{};var s=$le(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function $le(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function H4(t,r){return Ule(t)||Ble(t,r)||zle(t,r)||qle()}function qle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zle(t,r){if(t){if(typeof t=="string")return K4(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return K4(t,r)}}function K4(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function Ble(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Ule(t){if(Array.isArray(t))return t}var V6=/[ \f\n\r\t\v\u2028\u2029]+/,W6=function(r){var s=r.children,a=r.breakAll,n=r.style;try{var i=[];vt(s)||(a?i=s.toString().split(""):i=s.toString().split(V6));var o=i.map(function(c){return{word:c,width:bu(c,n).width}}),l=a?0:bu("",n).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Vle=function(r,s,a,n,i){var o=r.maxLines,l=r.children,c=r.style,d=r.breakAll,u=_e(o),m=l,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(E,M){var z=M.word,R=M.width,te=E[E.length-1];if(te&&(n==null||i||te.width+R+a<Number(n)))te.words.push(z),te.width+=R+a;else{var V={words:[z],width:R};E.push(V)}return E},[])},p=h(s),v=function($){return $.reduce(function(E,M){return E.width>M.width?E:M})};if(!u)return p;for(var x="",g=function($){var E=m.slice(0,$),M=W6({breakAll:d,style:c,children:E+x}).wordsWithComputedWidth,z=h(M),R=z.length>o||v(z).width>Number(n);return[R,z]},b=0,y=m.length-1,j=0,S;b<=y&&j<=m.length-1;){var w=Math.floor((b+y)/2),_=w-1,N=g(_),k=H4(N,2),C=k[0],P=k[1],A=g(w),O=H4(A,1),I=O[0];if(!C&&!I&&(b=w+1),C&&I&&(y=w-1),!C&&I){S=P;break}j++}return S||p},G4=function(r){var s=vt(r)?[]:r.toString().split(V6);return[{words:s}]},Wle=function(r){var s=r.width,a=r.scaleToFit,n=r.children,i=r.style,o=r.breakAll,l=r.maxLines;if((s||a)&&!Ro.isSsr){var c,d,u=W6({breakAll:o,children:n,style:i});if(u){var m=u.wordsWithComputedWidth,h=u.spaceWidth;c=m,d=h}else return G4(n);return Vle({breakAll:o,children:n,maxLines:l,style:i},c,d,s,a)}return G4(n)},Y4="#808080",yl=function(r){var s=r.x,a=s===void 0?0:s,n=r.y,i=n===void 0?0:n,o=r.lineHeight,l=o===void 0?"1em":o,c=r.capHeight,d=c===void 0?"0.71em":c,u=r.scaleToFit,m=u===void 0?!1:u,h=r.textAnchor,p=h===void 0?"start":h,v=r.verticalAnchor,x=v===void 0?"end":v,g=r.fill,b=g===void 0?Y4:g,y=W4(r,Fle),j=f.useMemo(function(){return Wle({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:m,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,m,y.style,y.width]),S=y.dx,w=y.dy,_=y.angle,N=y.className,k=y.breakAll,C=W4(y,Lle);if(!Ss(a)||!Ss(i))return null;var P=a+(_e(S)?S:0),A=i+(_e(w)?w:0),O;switch(x){case"start":O=wj("calc(".concat(d,")"));break;case"middle":O=wj("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:O=wj("calc(".concat(j.length-1," * -").concat(l,")"));break}var I=[];if(m){var F=j[0].width,$=y.width;I.push("scale(".concat((_e($)?$/F:1)/F,")"))}return _&&I.push("rotate(".concat(_,", ").concat(P,", ").concat(A,")")),I.length&&(C.transform=I.join(" ")),L.createElement("text",Lw({},tt(C,!0),{x:P,y:A,className:jt("recharts-text",N),textAnchor:p,fill:b.includes("url")?Y4:b}),j.map(function(E,M){var z=E.words.join(k?"":" ");return L.createElement("tspan",{x:P,dy:M===0?O:l,key:"".concat(z,"-").concat(M)},z)}))};function ho(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function Hle(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function Z1(t){let r,s,a;t.length!==2?(r=ho,s=(l,c)=>ho(t(l),c),a=(l,c)=>t(l)-c):(r=t===ho||t===Hle?t:Kle,s=t,a=t);function n(l,c,d=0,u=l.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;s(l[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;s(l[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function o(l,c,d=0,u=l.length){const m=n(l,c,d,u-1);return m>d&&a(l[m-1],c)>-a(l[m],c)?m-1:m}return{left:n,center:o,right:i}}function Kle(){return 0}function H6(t){return t===null?NaN:+t}function*Gle(t,r){for(let s of t)s!=null&&(s=+s)>=s&&(yield s)}const Yle=Z1(ho),Qm=Yle.right;Z1(H6).center;class X4 extends Map{constructor(r,s=Jle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[a,n]of r)this.set(a,n)}get(r){return super.get(Q4(this,r))}has(r){return super.has(Q4(this,r))}set(r,s){return super.set(Xle(this,r),s)}delete(r){return super.delete(Qle(this,r))}}function Q4({_intern:t,_key:r},s){const a=r(s);return t.has(a)?t.get(a):s}function Xle({_intern:t,_key:r},s){const a=r(s);return t.has(a)?t.get(a):(t.set(a,s),s)}function Qle({_intern:t,_key:r},s){const a=r(s);return t.has(a)&&(s=t.get(a),t.delete(a)),s}function Jle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Zle(t=ho){if(t===ho)return K6;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,s)=>{const a=t(r,s);return a||a===0?a:(t(s,s)===0)-(t(r,r)===0)}}function K6(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const ece=Math.sqrt(50),tce=Math.sqrt(10),rce=Math.sqrt(2);function Kf(t,r,s){const a=(r-t)/Math.max(0,s),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),o=i>=ece?10:i>=tce?5:i>=rce?2:1;let l,c,d;return n<0?(d=Math.pow(10,-n)/o,l=Math.round(t*d),c=Math.round(r*d),l/d<t&&++l,c/d>r&&--c,d=-d):(d=Math.pow(10,n)*o,l=Math.round(t/d),c=Math.round(r/d),l*d<t&&++l,c*d>r&&--c),c<l&&.5<=s&&s<2?Kf(t,r,s*2):[l,c,d]}function $w(t,r,s){if(r=+r,t=+t,s=+s,!(s>0))return[];if(t===r)return[t];const a=r<t,[n,i,o]=a?Kf(r,t,s):Kf(t,r,s);if(!(i>=n))return[];const l=i-n+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(n+d)/-o;else for(let d=0;d<l;++d)c[d]=(n+d)*o;return c}function qw(t,r,s){return r=+r,t=+t,s=+s,Kf(t,r,s)[2]}function zw(t,r,s){r=+r,t=+t,s=+s;const a=r<t,n=a?qw(r,t,s):qw(t,r,s);return(a?-1:1)*(n<0?1/-n:n)}function J4(t,r){let s;for(const a of t)a!=null&&(s<a||s===void 0&&a>=a)&&(s=a);return s}function Z4(t,r){let s;for(const a of t)a!=null&&(s>a||s===void 0&&a>=a)&&(s=a);return s}function G6(t,r,s=0,a=1/0,n){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),a=Math.floor(Math.min(t.length-1,a)),!(s<=r&&r<=a))return t;for(n=n===void 0?K6:Zle(n);a>s;){if(a-s>600){const c=a-s+1,d=r-s+1,u=Math.log(c),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),p=Math.max(s,Math.floor(r-d*m/c+h)),v=Math.min(a,Math.floor(r+(c-d)*m/c+h));G6(t,r,p,v,n)}const i=t[r];let o=s,l=a;for(Qd(t,s,r),n(t[a],i)>0&&Qd(t,s,a);o<l;){for(Qd(t,o,l),++o,--l;n(t[o],i)<0;)++o;for(;n(t[l],i)>0;)--l}n(t[s],i)===0?Qd(t,s,l):(++l,Qd(t,l,a)),l<=r&&(s=l+1),r<=l&&(a=l-1)}return t}function Qd(t,r,s){const a=t[r];t[r]=t[s],t[s]=a}function sce(t,r,s){if(t=Float64Array.from(Gle(t)),!(!(a=t.length)||isNaN(r=+r))){if(r<=0||a<2)return Z4(t);if(r>=1)return J4(t);var a,n=(a-1)*r,i=Math.floor(n),o=J4(G6(t,i).subarray(0,i+1)),l=Z4(t.subarray(i+1));return o+(l-o)*(n-i)}}function ace(t,r,s=H6){if(!(!(a=t.length)||isNaN(r=+r))){if(r<=0||a<2)return+s(t[0],0,t);if(r>=1)return+s(t[a-1],a-1,t);var a,n=(a-1)*r,i=Math.floor(n),o=+s(t[i],i,t),l=+s(t[i+1],i+1,t);return o+(l-o)*(n-i)}}function nce(t,r,s){t=+t,r=+r,s=(n=arguments.length)<2?(r=t,t=0,1):n<3?1:+s;for(var a=-1,n=Math.max(0,Math.ceil((r-t)/s))|0,i=new Array(n);++a<n;)i[a]=t+a*s;return i}function nn(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function Vi(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Bw=Symbol("implicit");function eS(){var t=new X4,r=[],s=[],a=Bw;function n(i){let o=t.get(i);if(o===void 0){if(a!==Bw)return a;t.set(i,o=r.push(i)-1)}return s[o%s.length]}return n.domain=function(i){if(!arguments.length)return r.slice();r=[],t=new X4;for(const o of i)t.has(o)||t.set(o,r.push(o)-1);return n},n.range=function(i){return arguments.length?(s=Array.from(i),n):s.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return eS(r,s).unknown(a)},nn.apply(n,arguments),n}function Zu(){var t=eS().unknown(void 0),r=t.domain,s=t.range,a=0,n=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function m(){var h=r().length,p=n<a,v=p?n:a,x=p?a:n;i=(x-v)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),v+=(x-v-i*(h-c))*u,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var g=nce(h).map(function(b){return v+i*b});return s(p?g.reverse():g)}return t.domain=function(h){return arguments.length?(r(h),m()):r()},t.range=function(h){return arguments.length?([a,n]=h,a=+a,n=+n,m()):[a,n]},t.rangeRound=function(h){return[a,n]=h,a=+a,n=+n,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,m()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),m()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},t.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),m()):u},t.copy=function(){return Zu(r(),[a,n]).round(l).paddingInner(c).paddingOuter(d).align(u)},nn.apply(m(),arguments)}function Y6(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Y6(r())},t}function yu(){return Y6(Zu.apply(null,arguments).paddingInner(1))}function tS(t,r,s){t.prototype=r.prototype=s,s.constructor=t}function X6(t,r){var s=Object.create(t.prototype);for(var a in r)s[a]=r[a];return s}function Jm(){}var em=.7,Gf=1/em,Nc="\\s*([+-]?\\d+)\\s*",tm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ice=/^#([0-9a-f]{3,8})$/,oce=new RegExp(`^rgb\\(${Nc},${Nc},${Nc}\\)$`),lce=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),cce=new RegExp(`^rgba\\(${Nc},${Nc},${Nc},${tm}\\)$`),dce=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${tm}\\)$`),uce=new RegExp(`^hsl\\(${tm},${Zn},${Zn}\\)$`),mce=new RegExp(`^hsla\\(${tm},${Zn},${Zn},${tm}\\)$`),eE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tS(Jm,rm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tE,formatHex:tE,formatHex8:hce,formatHsl:fce,formatRgb:rE,toString:rE});function tE(){return this.rgb().formatHex()}function hce(){return this.rgb().formatHex8()}function fce(){return Q6(this).formatHsl()}function rE(){return this.rgb().formatRgb()}function rm(t){var r,s;return t=(t+"").trim().toLowerCase(),(r=ice.exec(t))?(s=r[1].length,r=parseInt(r[1],16),s===6?sE(r):s===3?new xa(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Eh(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Eh(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=oce.exec(t))?new xa(r[1],r[2],r[3],1):(r=lce.exec(t))?new xa(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=cce.exec(t))?Eh(r[1],r[2],r[3],r[4]):(r=dce.exec(t))?Eh(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=uce.exec(t))?iE(r[1],r[2]/100,r[3]/100,1):(r=mce.exec(t))?iE(r[1],r[2]/100,r[3]/100,r[4]):eE.hasOwnProperty(t)?sE(eE[t]):t==="transparent"?new xa(NaN,NaN,NaN,0):null}function sE(t){return new xa(t>>16&255,t>>8&255,t&255,1)}function Eh(t,r,s,a){return a<=0&&(t=r=s=NaN),new xa(t,r,s,a)}function pce(t){return t instanceof Jm||(t=rm(t)),t?(t=t.rgb(),new xa(t.r,t.g,t.b,t.opacity)):new xa}function Uw(t,r,s,a){return arguments.length===1?pce(t):new xa(t,r,s,a??1)}function xa(t,r,s,a){this.r=+t,this.g=+r,this.b=+s,this.opacity=+a}tS(xa,Uw,X6(Jm,{brighter(t){return t=t==null?Gf:Math.pow(Gf,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?em:Math.pow(em,t),new xa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xa(tl(this.r),tl(this.g),tl(this.b),Yf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aE,formatHex:aE,formatHex8:xce,formatRgb:nE,toString:nE}));function aE(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}`}function xce(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}${Xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function nE(){const t=Yf(this.opacity);return`${t===1?"rgb(":"rgba("}${tl(this.r)}, ${tl(this.g)}, ${tl(this.b)}${t===1?")":`, ${t})`}`}function Yf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xo(t){return t=tl(t),(t<16?"0":"")+t.toString(16)}function iE(t,r,s,a){return a<=0?t=r=s=NaN:s<=0||s>=1?t=r=NaN:r<=0&&(t=NaN),new hn(t,r,s,a)}function Q6(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);if(t instanceof Jm||(t=rm(t)),!t)return new hn;if(t instanceof hn)return t;t=t.rgb();var r=t.r/255,s=t.g/255,a=t.b/255,n=Math.min(r,s,a),i=Math.max(r,s,a),o=NaN,l=i-n,c=(i+n)/2;return l?(r===i?o=(s-a)/l+(s<a)*6:s===i?o=(a-r)/l+2:o=(r-s)/l+4,l/=c<.5?i+n:2-i-n,o*=60):l=c>0&&c<1?0:o,new hn(o,l,c,t.opacity)}function gce(t,r,s,a){return arguments.length===1?Q6(t):new hn(t,r,s,a??1)}function hn(t,r,s,a){this.h=+t,this.s=+r,this.l=+s,this.opacity=+a}tS(hn,gce,X6(Jm,{brighter(t){return t=t==null?Gf:Math.pow(Gf,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?em:Math.pow(em,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*r,n=2*s-a;return new xa(Nj(t>=240?t-240:t+120,n,a),Nj(t,n,a),Nj(t<120?t+240:t-120,n,a),this.opacity)},clamp(){return new hn(oE(this.h),Th(this.s),Th(this.l),Yf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yf(this.opacity);return`${t===1?"hsl(":"hsla("}${oE(this.h)}, ${Th(this.s)*100}%, ${Th(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oE(t){return t=(t||0)%360,t<0?t+360:t}function Th(t){return Math.max(0,Math.min(1,t||0))}function Nj(t,r,s){return(t<60?r+(s-r)*t/60:t<180?s:t<240?r+(s-r)*(240-t)/60:r)*255}const rS=t=>()=>t;function vce(t,r){return function(s){return t+s*r}}function bce(t,r,s){return t=Math.pow(t,s),r=Math.pow(r,s)-t,s=1/s,function(a){return Math.pow(t+a*r,s)}}function yce(t){return(t=+t)==1?J6:function(r,s){return s-r?bce(r,s,t):rS(isNaN(r)?s:r)}}function J6(t,r){var s=r-t;return s?vce(t,s):rS(isNaN(t)?r:t)}const lE=(function t(r){var s=yce(r);function a(n,i){var o=s((n=Uw(n)).r,(i=Uw(i)).r),l=s(n.g,i.g),c=s(n.b,i.b),d=J6(n.opacity,i.opacity);return function(u){return n.r=o(u),n.g=l(u),n.b=c(u),n.opacity=d(u),n+""}}return a.gamma=t,a})(1);function jce(t,r){r||(r=[]);var s=t?Math.min(r.length,t.length):0,a=r.slice(),n;return function(i){for(n=0;n<s;++n)a[n]=t[n]*(1-i)+r[n]*i;return a}}function wce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nce(t,r){var s=r?r.length:0,a=t?Math.min(s,t.length):0,n=new Array(a),i=new Array(s),o;for(o=0;o<a;++o)n[o]=Id(t[o],r[o]);for(;o<s;++o)i[o]=r[o];return function(l){for(o=0;o<a;++o)i[o]=n[o](l);return i}}function _ce(t,r){var s=new Date;return t=+t,r=+r,function(a){return s.setTime(t*(1-a)+r*a),s}}function Xf(t,r){return t=+t,r=+r,function(s){return t*(1-s)+r*s}}function Sce(t,r){var s={},a={},n;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in t?s[n]=Id(t[n],r[n]):a[n]=r[n];return function(i){for(n in s)a[n]=s[n](i);return a}}var Vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_j=new RegExp(Vw.source,"g");function Cce(t){return function(){return t}}function kce(t){return function(r){return t(r)+""}}function Ace(t,r){var s=Vw.lastIndex=_j.lastIndex=0,a,n,i,o=-1,l=[],c=[];for(t=t+"",r=r+"";(a=Vw.exec(t))&&(n=_j.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(n=n[0])?l[o]?l[o]+=n:l[++o]=n:(l[++o]=null,c.push({i:o,x:Xf(a,n)})),s=_j.lastIndex;return s<r.length&&(i=r.slice(s),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?kce(c[0].x):Cce(r):(r=c.length,function(d){for(var u=0,m;u<r;++u)l[(m=c[u]).i]=m.x(d);return l.join("")})}function Id(t,r){var s=typeof r,a;return r==null||s==="boolean"?rS(r):(s==="number"?Xf:s==="string"?(a=rm(r))?(r=a,lE):Ace:r instanceof rm?lE:r instanceof Date?_ce:wce(r)?jce:Array.isArray(r)?Nce:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Sce:Xf)(t,r)}function sS(t,r){return t=+t,r=+r,function(s){return Math.round(t*(1-s)+r*s)}}function Pce(t,r){r===void 0&&(r=t,t=Id);for(var s=0,a=r.length-1,n=r[0],i=new Array(a<0?0:a);s<a;)i[s]=t(n,n=r[++s]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function Ece(t){return function(){return t}}function Qf(t){return+t}var cE=[0,1];function na(t){return t}function Ww(t,r){return(r-=t=+t)?function(s){return(s-t)/r}:Ece(isNaN(r)?NaN:.5)}function Tce(t,r){var s;return t>r&&(s=t,t=r,r=s),function(a){return Math.max(t,Math.min(r,a))}}function Oce(t,r,s){var a=t[0],n=t[1],i=r[0],o=r[1];return n<a?(a=Ww(n,a),i=s(o,i)):(a=Ww(a,n),i=s(i,o)),function(l){return i(a(l))}}function Dce(t,r,s){var a=Math.min(t.length,r.length)-1,n=new Array(a),i=new Array(a),o=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++o<a;)n[o]=Ww(t[o],t[o+1]),i[o]=s(r[o],r[o+1]);return function(l){var c=Qm(t,l,1,a)-1;return i[c](n[c](l))}}function Zm(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yx(){var t=cE,r=cE,s=Id,a,n,i,o=na,l,c,d;function u(){var h=Math.min(t.length,r.length);return o!==na&&(o=Tce(t[0],t[h-1])),l=h>2?Dce:Oce,c=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(a),r,s)))(a(o(h)))}return m.invert=function(h){return o(n((d||(d=l(r,t.map(a),Xf)))(h)))},m.domain=function(h){return arguments.length?(t=Array.from(h,Qf),u()):t.slice()},m.range=function(h){return arguments.length?(r=Array.from(h),u()):r.slice()},m.rangeRound=function(h){return r=Array.from(h),s=sS,u()},m.clamp=function(h){return arguments.length?(o=h?!0:na,u()):o!==na},m.interpolate=function(h){return arguments.length?(s=h,u()):s},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,p){return a=h,n=p,u()}}function aS(){return Yx()(na,na)}function Rce(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Jf(t,r){if((s=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var s,a=t.slice(0,s);return[a.length>1?a[0]+a.slice(2):a,+t.slice(s+1)]}function Kc(t){return t=Jf(Math.abs(t)),t?t[1]:NaN}function Ice(t,r){return function(s,a){for(var n=s.length,i=[],o=0,l=t[0],c=0;n>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(s.substring(n-=l,n+l)),!((c+=l+1)>a));)l=t[o=(o+1)%t.length];return i.reverse().join(r)}}function Mce(t){return function(r){return r.replace(/[0-9]/g,function(s){return t[+s]})}}var Fce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sm(t){if(!(r=Fce.exec(t)))throw new Error("invalid format: "+t);var r;return new nS({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}sm.prototype=nS.prototype;function nS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lce(t){e:for(var r=t.length,s=1,a=-1,n;s<r;++s)switch(t[s]){case".":a=n=s;break;case"0":a===0&&(a=s),n=s;break;default:if(!+t[s])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(n+1):t}var Z6;function $ce(t,r){var s=Jf(t,r);if(!s)return t+"";var a=s[0],n=s[1],i=n-(Z6=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Jf(t,Math.max(0,r+i-1))[0]}function dE(t,r){var s=Jf(t,r);if(!s)return t+"";var a=s[0],n=s[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const uE={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Rce,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>dE(t*100,r),r:dE,s:$ce,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mE(t){return t}var hE=Array.prototype.map,fE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qce(t){var r=t.grouping===void 0||t.thousands===void 0?mE:Ice(hE.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?mE:Mce(hE.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=sm(m);var h=m.fill,p=m.align,v=m.sign,x=m.symbol,g=m.zero,b=m.width,y=m.comma,j=m.precision,S=m.trim,w=m.type;w==="n"?(y=!0,w="g"):uE[w]||(j===void 0&&(j=12),S=!0,w="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var _=x==="$"?s:x==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",N=x==="$"?a:/[%p]/.test(w)?o:"",k=uE[w],C=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(A){var O=_,I=N,F,$,E;if(w==="c")I=k(A)+I,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),j),S&&(A=Lce(A)),M&&+A==0&&v!=="+"&&(M=!1),O=(M?v==="("?v:l:v==="-"||v==="("?"":v)+O,I=(w==="s"?fE[8+Z6/3]:"")+I+(M&&v==="("?")":""),C){for(F=-1,$=A.length;++F<$;)if(E=A.charCodeAt(F),48>E||E>57){I=(E===46?n+A.slice(F+1):A.slice(F))+I,A=A.slice(0,F);break}}}y&&!g&&(A=r(A,1/0));var z=O.length+A.length+I.length,R=z<b?new Array(b-z+1).join(h):"";switch(y&&g&&(A=r(R+A,R.length?b-I.length:1/0),R=""),p){case"<":A=O+A+I+R;break;case"=":A=O+R+A+I;break;case"^":A=R.slice(0,z=R.length>>1)+O+A+I+R.slice(z);break;default:A=R+O+A+I;break}return i(A)}return P.toString=function(){return m+""},P}function u(m,h){var p=d((m=sm(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(Kc(h)/3)))*3,x=Math.pow(10,-v),g=fE[8+v/3];return function(b){return p(x*b)+g}}return{format:d,formatPrefix:u}}var Oh,iS,e$;zce({thousands:",",grouping:[3],currency:["$",""]});function zce(t){return Oh=qce(t),iS=Oh.format,e$=Oh.formatPrefix,Oh}function Bce(t){return Math.max(0,-Kc(Math.abs(t)))}function Uce(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kc(r)/3)))*3-Kc(Math.abs(t)))}function Vce(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Kc(r)-Kc(t))+1}function t$(t,r,s,a){var n=zw(t,r,s),i;switch(a=sm(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(r));return a.precision==null&&!isNaN(i=Uce(n,o))&&(a.precision=i),e$(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Vce(n,Math.max(Math.abs(t),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Bce(n))&&(a.precision=i-(a.type==="%")*2);break}}return iS(a)}function Io(t){var r=t.domain;return t.ticks=function(s){var a=r();return $w(a[0],a[a.length-1],s??10)},t.tickFormat=function(s,a){var n=r();return t$(n[0],n[n.length-1],s??10,a)},t.nice=function(s){s==null&&(s=10);var a=r(),n=0,i=a.length-1,o=a[n],l=a[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=n,n=i,i=d);u-- >0;){if(d=qw(o,l,s),d===c)return a[n]=o,a[i]=l,r(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Zf(){var t=aS();return t.copy=function(){return Zm(t,Zf())},nn.apply(t,arguments),Io(t)}function r$(t){var r;function s(a){return a==null||isNaN(a=+a)?r:a}return s.invert=s,s.domain=s.range=function(a){return arguments.length?(t=Array.from(a,Qf),s):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return r$(t).unknown(r)},t=arguments.length?Array.from(t,Qf):[0,1],Io(s)}function s$(t,r){t=t.slice();var s=0,a=t.length-1,n=t[s],i=t[a],o;return i<n&&(o=s,s=a,a=o,o=n,n=i,i=o),t[s]=r.floor(n),t[a]=r.ceil(i),t}function pE(t){return Math.log(t)}function xE(t){return Math.exp(t)}function Wce(t){return-Math.log(-t)}function Hce(t){return-Math.exp(-t)}function Kce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gce(t){return t===10?Kce:t===Math.E?Math.exp:r=>Math.pow(t,r)}function Yce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function gE(t){return(r,s)=>-t(-r,s)}function oS(t){const r=t(pE,xE),s=r.domain;let a=10,n,i;function o(){return n=Yce(a),i=Gce(a),s()[0]<0?(n=gE(n),i=gE(i),t(Wce,Hce)):t(pE,xE),r}return r.base=function(l){return arguments.length?(a=+l,o()):a},r.domain=function(l){return arguments.length?(s(l),o()):s()},r.ticks=l=>{const c=s();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let h=n(d),p=n(u),v,x;const g=l==null?10:+l;let b=[];if(!(a%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(v=1;v<a;++v)if(x=h<0?v/i(-h):v*i(h),!(x<d)){if(x>u)break;b.push(x)}}else for(;h<=p;++h)for(v=a-1;v>=1;--v)if(x=h>0?v/i(-h):v*i(h),!(x<d)){if(x>u)break;b.push(x)}b.length*2<g&&(b=$w(d,u,g))}else b=$w(h,p,Math.min(p-h,g)).map(i);return m?b.reverse():b},r.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=sm(c)).precision==null&&(c.trim=!0),c=iS(c)),l===1/0)return c;const d=Math.max(1,a*l/r.ticks().length);return u=>{let m=u/i(Math.round(n(u)));return m*a<a-.5&&(m*=a),m<=d?c(u):""}},r.nice=()=>s(s$(s(),{floor:l=>i(Math.floor(n(l))),ceil:l=>i(Math.ceil(n(l)))})),r}function a$(){const t=oS(Yx()).domain([1,10]);return t.copy=()=>Zm(t,a$()).base(t.base()),nn.apply(t,arguments),t}function vE(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function bE(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function lS(t){var r=1,s=t(vE(r),bE(r));return s.constant=function(a){return arguments.length?t(vE(r=+a),bE(r)):r},Io(s)}function n$(){var t=lS(Yx());return t.copy=function(){return Zm(t,n$()).constant(t.constant())},nn.apply(t,arguments)}function yE(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function Xce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qce(t){return t<0?-t*t:t*t}function cS(t){var r=t(na,na),s=1;function a(){return s===1?t(na,na):s===.5?t(Xce,Qce):t(yE(s),yE(1/s))}return r.exponent=function(n){return arguments.length?(s=+n,a()):s},Io(r)}function dS(){var t=cS(Yx());return t.copy=function(){return Zm(t,dS()).exponent(t.exponent())},nn.apply(t,arguments),t}function Jce(){return dS.apply(null,arguments).exponent(.5)}function jE(t){return Math.sign(t)*t*t}function Zce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i$(){var t=aS(),r=[0,1],s=!1,a;function n(i){var o=Zce(t(i));return isNaN(o)?a:s?Math.round(o):o}return n.invert=function(i){return t.invert(jE(i))},n.domain=function(i){return arguments.length?(t.domain(i),n):t.domain()},n.range=function(i){return arguments.length?(t.range((r=Array.from(i,Qf)).map(jE)),n):r.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(s=!!i,n):s},n.clamp=function(i){return arguments.length?(t.clamp(i),n):t.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return i$(t.domain(),r).round(s).clamp(t.clamp()).unknown(a)},nn.apply(n,arguments),Io(n)}function o$(){var t=[],r=[],s=[],a;function n(){var o=0,l=Math.max(1,r.length);for(s=new Array(l-1);++o<l;)s[o-1]=ace(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:r[Qm(s,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?s[l-1]:t[0],l<s.length?s[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ho),n()},i.range=function(o){return arguments.length?(r=Array.from(o),n()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return s.slice()},i.copy=function(){return o$().domain(t).range(r).unknown(a)},nn.apply(i,arguments)}function l$(){var t=0,r=1,s=1,a=[.5],n=[0,1],i;function o(c){return c!=null&&c<=c?n[Qm(a,c,0,s)]:i}function l(){var c=-1;for(a=new Array(s);++c<s;)a[c]=((c+1)*r-(c-s)*t)/(s+1);return o}return o.domain=function(c){return arguments.length?([t,r]=c,t=+t,r=+r,l()):[t,r]},o.range=function(c){return arguments.length?(s=(n=Array.from(c)).length-1,l()):n.slice()},o.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,a[0]]:d>=s?[a[s-1],r]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return l$().domain([t,r]).range(n).unknown(i)},nn.apply(Io(o),arguments)}function c$(){var t=[.5],r=[0,1],s,a=1;function n(i){return i!=null&&i<=i?r[Qm(t,i,0,a)]:s}return n.domain=function(i){return arguments.length?(t=Array.from(i),a=Math.min(t.length,r.length-1),n):t.slice()},n.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(t.length,r.length-1),n):r.slice()},n.invertExtent=function(i){var o=r.indexOf(i);return[t[o-1],t[o]]},n.unknown=function(i){return arguments.length?(s=i,n):s},n.copy=function(){return c$().domain(t).range(r).unknown(s)},nn.apply(n,arguments)}const Sj=new Date,Cj=new Date;function Ps(t,r,s,a){function n(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(t(i=new Date(+i)),i),n.ceil=i=>(t(i=new Date(i-1)),r(i,1),t(i),i),n.round=i=>{const o=n(i),l=n.ceil(i);return i-o<l-i?o:l},n.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),n.range=(i,o,l)=>{const c=[];if(i=n.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),r(i,l),t(i);while(d<i&&i<o);return c},n.filter=i=>Ps(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),s&&(n.count=(i,o)=>(Sj.setTime(+i),Cj.setTime(+o),t(Sj),t(Cj),Math.floor(s(Sj,Cj))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?o=>a(o)%i===0:o=>n.count(0,o)%i===0):n)),n}const ep=Ps(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);ep.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ps(r=>{r.setTime(Math.floor(r/t)*t)},(r,s)=>{r.setTime(+r+s*t)},(r,s)=>(s-r)/t):ep);ep.range;const Si=1e3,Wa=Si*60,Ci=Wa*60,Ii=Ci*24,uS=Ii*7,wE=Ii*30,kj=Ii*365,Qo=Ps(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*Si)},(t,r)=>(r-t)/Si,t=>t.getUTCSeconds());Qo.range;const mS=Ps(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Si)},(t,r)=>{t.setTime(+t+r*Wa)},(t,r)=>(r-t)/Wa,t=>t.getMinutes());mS.range;const hS=Ps(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*Wa)},(t,r)=>(r-t)/Wa,t=>t.getUTCMinutes());hS.range;const fS=Ps(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Si-t.getMinutes()*Wa)},(t,r)=>{t.setTime(+t+r*Ci)},(t,r)=>(r-t)/Ci,t=>t.getHours());fS.range;const pS=Ps(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*Ci)},(t,r)=>(r-t)/Ci,t=>t.getUTCHours());pS.range;const eh=Ps(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/Ii,t=>t.getDate()-1);eh.range;const Xx=Ps(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Ii,t=>t.getUTCDate()-1);Xx.range;const d$=Ps(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Ii,t=>Math.floor(t/Ii));d$.range;function Fl(t){return Ps(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*Wa)/uS)}const Qx=Fl(0),tp=Fl(1),ede=Fl(2),tde=Fl(3),Gc=Fl(4),rde=Fl(5),sde=Fl(6);Qx.range;tp.range;ede.range;tde.range;Gc.range;rde.range;sde.range;function Ll(t){return Ps(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/uS)}const Jx=Ll(0),rp=Ll(1),ade=Ll(2),nde=Ll(3),Yc=Ll(4),ide=Ll(5),ode=Ll(6);Jx.range;rp.range;ade.range;nde.range;Yc.range;ide.range;ode.range;const xS=Ps(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xS.range;const gS=Ps(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gS.range;const Mi=Ps(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ps(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*t)});Mi.range;const Fi=Ps(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ps(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*t)});Fi.range;function u$(t,r,s,a,n,i){const o=[[Qo,1,Si],[Qo,5,5*Si],[Qo,15,15*Si],[Qo,30,30*Si],[i,1,Wa],[i,5,5*Wa],[i,15,15*Wa],[i,30,30*Wa],[n,1,Ci],[n,3,3*Ci],[n,6,6*Ci],[n,12,12*Ci],[a,1,Ii],[a,2,2*Ii],[s,1,uS],[r,1,wE],[r,3,3*wE],[t,1,kj]];function l(d,u,m){const h=u<d;h&&([d,u]=[u,d]);const p=m&&typeof m.range=="function"?m:c(d,u,m),v=p?p.range(d,+u+1):[];return h?v.reverse():v}function c(d,u,m){const h=Math.abs(u-d)/m,p=Z1(([,,g])=>g).right(o,h);if(p===o.length)return t.every(zw(d/kj,u/kj,m));if(p===0)return ep.every(Math.max(zw(d,u,m),1));const[v,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(x)}return[l,c]}const[lde,cde]=u$(Fi,gS,Jx,d$,pS,hS),[dde,ude]=u$(Mi,xS,Qx,eh,fS,mS);function Aj(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pj(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jd(t,r,s){return{y:t,m:r,d:s,H:0,M:0,S:0,L:0}}function mde(t){var r=t.dateTime,s=t.date,a=t.time,n=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Zd(n),u=eu(n),m=Zd(i),h=eu(i),p=Zd(o),v=eu(o),x=Zd(l),g=eu(l),b=Zd(c),y=eu(c),j={a:M,A:z,b:R,B:te,c:null,d:AE,e:AE,f:Ide,g:Wde,G:Kde,H:Ode,I:Dde,j:Rde,L:m$,m:Mde,M:Fde,p:V,q:D,Q:TE,s:OE,S:Lde,u:$de,U:qde,V:zde,w:Bde,W:Ude,x:null,X:null,y:Vde,Y:Hde,Z:Gde,"%":EE},S={a:H,A:ae,b:U,B:se,c:null,d:PE,e:PE,f:Jde,g:lue,G:due,H:Yde,I:Xde,j:Qde,L:f$,m:Zde,M:eue,p:Q,q:pe,Q:TE,s:OE,S:tue,u:rue,U:sue,V:aue,w:nue,W:iue,x:null,X:null,y:oue,Y:cue,Z:uue,"%":EE},w={a:P,A,b:O,B:I,c:F,d:CE,e:CE,f:Ade,g:SE,G:_E,H:kE,I:kE,j:_de,L:kde,m:Nde,M:Sde,p:C,q:wde,Q:Ede,s:Tde,S:Cde,u:gde,U:vde,V:bde,w:xde,W:yde,x:$,X:E,y:SE,Y:_E,Z:jde,"%":Pde};j.x=_(s,j),j.X=_(a,j),j.c=_(r,j),S.x=_(s,S),S.X=_(a,S),S.c=_(r,S);function _(le,ue){return function(De){var he=[],st=-1,Qe=0,Ct=le.length,Tt,Jt,_t;for(De instanceof Date||(De=new Date(+De));++st<Ct;)le.charCodeAt(st)===37&&(he.push(le.slice(Qe,st)),(Jt=NE[Tt=le.charAt(++st)])!=null?Tt=le.charAt(++st):Jt=Tt==="e"?" ":"0",(_t=ue[Tt])&&(Tt=_t(De,Jt)),he.push(Tt),Qe=st+1);return he.push(le.slice(Qe,st)),he.join("")}}function N(le,ue){return function(De){var he=Jd(1900,void 0,1),st=k(he,le,De+="",0),Qe,Ct;if(st!=De.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ue&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Qe=Pj(Jd(he.y,0,1)),Ct=Qe.getUTCDay(),Qe=Ct>4||Ct===0?rp.ceil(Qe):rp(Qe),Qe=Xx.offset(Qe,(he.V-1)*7),he.y=Qe.getUTCFullYear(),he.m=Qe.getUTCMonth(),he.d=Qe.getUTCDate()+(he.w+6)%7):(Qe=Aj(Jd(he.y,0,1)),Ct=Qe.getDay(),Qe=Ct>4||Ct===0?tp.ceil(Qe):tp(Qe),Qe=eh.offset(Qe,(he.V-1)*7),he.y=Qe.getFullYear(),he.m=Qe.getMonth(),he.d=Qe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Ct="Z"in he?Pj(Jd(he.y,0,1)).getUTCDay():Aj(Jd(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Ct+5)%7:he.w+he.U*7-(Ct+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Pj(he)):Aj(he)}}function k(le,ue,De,he){for(var st=0,Qe=ue.length,Ct=De.length,Tt,Jt;st<Qe;){if(he>=Ct)return-1;if(Tt=ue.charCodeAt(st++),Tt===37){if(Tt=ue.charAt(st++),Jt=w[Tt in NE?ue.charAt(st++):Tt],!Jt||(he=Jt(le,De,he))<0)return-1}else if(Tt!=De.charCodeAt(he++))return-1}return he}function C(le,ue,De){var he=d.exec(ue.slice(De));return he?(le.p=u.get(he[0].toLowerCase()),De+he[0].length):-1}function P(le,ue,De){var he=p.exec(ue.slice(De));return he?(le.w=v.get(he[0].toLowerCase()),De+he[0].length):-1}function A(le,ue,De){var he=m.exec(ue.slice(De));return he?(le.w=h.get(he[0].toLowerCase()),De+he[0].length):-1}function O(le,ue,De){var he=b.exec(ue.slice(De));return he?(le.m=y.get(he[0].toLowerCase()),De+he[0].length):-1}function I(le,ue,De){var he=x.exec(ue.slice(De));return he?(le.m=g.get(he[0].toLowerCase()),De+he[0].length):-1}function F(le,ue,De){return k(le,r,ue,De)}function $(le,ue,De){return k(le,s,ue,De)}function E(le,ue,De){return k(le,a,ue,De)}function M(le){return o[le.getDay()]}function z(le){return i[le.getDay()]}function R(le){return c[le.getMonth()]}function te(le){return l[le.getMonth()]}function V(le){return n[+(le.getHours()>=12)]}function D(le){return 1+~~(le.getMonth()/3)}function H(le){return o[le.getUTCDay()]}function ae(le){return i[le.getUTCDay()]}function U(le){return c[le.getUTCMonth()]}function se(le){return l[le.getUTCMonth()]}function Q(le){return n[+(le.getUTCHours()>=12)]}function pe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ue=_(le+="",j);return ue.toString=function(){return le},ue},parse:function(le){var ue=N(le+="",!1);return ue.toString=function(){return le},ue},utcFormat:function(le){var ue=_(le+="",S);return ue.toString=function(){return le},ue},utcParse:function(le){var ue=N(le+="",!0);return ue.toString=function(){return le},ue}}}var NE={"-":"",_:" ",0:"0"},Fs=/^\s*\d+/,hde=/^%/,fde=/[\\^$*+?|[\]().{}]/g;function Qt(t,r,s){var a=t<0?"-":"",n=(a?-t:t)+"",i=n.length;return a+(i<s?new Array(s-i+1).join(r)+n:n)}function pde(t){return t.replace(fde,"\\$&")}function Zd(t){return new RegExp("^(?:"+t.map(pde).join("|")+")","i")}function eu(t){return new Map(t.map((r,s)=>[r.toLowerCase(),s]))}function xde(t,r,s){var a=Fs.exec(r.slice(s,s+1));return a?(t.w=+a[0],s+a[0].length):-1}function gde(t,r,s){var a=Fs.exec(r.slice(s,s+1));return a?(t.u=+a[0],s+a[0].length):-1}function vde(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.U=+a[0],s+a[0].length):-1}function bde(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.V=+a[0],s+a[0].length):-1}function yde(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.W=+a[0],s+a[0].length):-1}function _E(t,r,s){var a=Fs.exec(r.slice(s,s+4));return a?(t.y=+a[0],s+a[0].length):-1}function SE(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),s+a[0].length):-1}function jde(t,r,s){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),s+a[0].length):-1}function wde(t,r,s){var a=Fs.exec(r.slice(s,s+1));return a?(t.q=a[0]*3-3,s+a[0].length):-1}function Nde(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.m=a[0]-1,s+a[0].length):-1}function CE(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.d=+a[0],s+a[0].length):-1}function _de(t,r,s){var a=Fs.exec(r.slice(s,s+3));return a?(t.m=0,t.d=+a[0],s+a[0].length):-1}function kE(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.H=+a[0],s+a[0].length):-1}function Sde(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.M=+a[0],s+a[0].length):-1}function Cde(t,r,s){var a=Fs.exec(r.slice(s,s+2));return a?(t.S=+a[0],s+a[0].length):-1}function kde(t,r,s){var a=Fs.exec(r.slice(s,s+3));return a?(t.L=+a[0],s+a[0].length):-1}function Ade(t,r,s){var a=Fs.exec(r.slice(s,s+6));return a?(t.L=Math.floor(a[0]/1e3),s+a[0].length):-1}function Pde(t,r,s){var a=hde.exec(r.slice(s,s+1));return a?s+a[0].length:-1}function Ede(t,r,s){var a=Fs.exec(r.slice(s));return a?(t.Q=+a[0],s+a[0].length):-1}function Tde(t,r,s){var a=Fs.exec(r.slice(s));return a?(t.s=+a[0],s+a[0].length):-1}function AE(t,r){return Qt(t.getDate(),r,2)}function Ode(t,r){return Qt(t.getHours(),r,2)}function Dde(t,r){return Qt(t.getHours()%12||12,r,2)}function Rde(t,r){return Qt(1+eh.count(Mi(t),t),r,3)}function m$(t,r){return Qt(t.getMilliseconds(),r,3)}function Ide(t,r){return m$(t,r)+"000"}function Mde(t,r){return Qt(t.getMonth()+1,r,2)}function Fde(t,r){return Qt(t.getMinutes(),r,2)}function Lde(t,r){return Qt(t.getSeconds(),r,2)}function $de(t){var r=t.getDay();return r===0?7:r}function qde(t,r){return Qt(Qx.count(Mi(t)-1,t),r,2)}function h$(t){var r=t.getDay();return r>=4||r===0?Gc(t):Gc.ceil(t)}function zde(t,r){return t=h$(t),Qt(Gc.count(Mi(t),t)+(Mi(t).getDay()===4),r,2)}function Bde(t){return t.getDay()}function Ude(t,r){return Qt(tp.count(Mi(t)-1,t),r,2)}function Vde(t,r){return Qt(t.getFullYear()%100,r,2)}function Wde(t,r){return t=h$(t),Qt(t.getFullYear()%100,r,2)}function Hde(t,r){return Qt(t.getFullYear()%1e4,r,4)}function Kde(t,r){var s=t.getDay();return t=s>=4||s===0?Gc(t):Gc.ceil(t),Qt(t.getFullYear()%1e4,r,4)}function Gde(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Qt(r/60|0,"0",2)+Qt(r%60,"0",2)}function PE(t,r){return Qt(t.getUTCDate(),r,2)}function Yde(t,r){return Qt(t.getUTCHours(),r,2)}function Xde(t,r){return Qt(t.getUTCHours()%12||12,r,2)}function Qde(t,r){return Qt(1+Xx.count(Fi(t),t),r,3)}function f$(t,r){return Qt(t.getUTCMilliseconds(),r,3)}function Jde(t,r){return f$(t,r)+"000"}function Zde(t,r){return Qt(t.getUTCMonth()+1,r,2)}function eue(t,r){return Qt(t.getUTCMinutes(),r,2)}function tue(t,r){return Qt(t.getUTCSeconds(),r,2)}function rue(t){var r=t.getUTCDay();return r===0?7:r}function sue(t,r){return Qt(Jx.count(Fi(t)-1,t),r,2)}function p$(t){var r=t.getUTCDay();return r>=4||r===0?Yc(t):Yc.ceil(t)}function aue(t,r){return t=p$(t),Qt(Yc.count(Fi(t),t)+(Fi(t).getUTCDay()===4),r,2)}function nue(t){return t.getUTCDay()}function iue(t,r){return Qt(rp.count(Fi(t)-1,t),r,2)}function oue(t,r){return Qt(t.getUTCFullYear()%100,r,2)}function lue(t,r){return t=p$(t),Qt(t.getUTCFullYear()%100,r,2)}function cue(t,r){return Qt(t.getUTCFullYear()%1e4,r,4)}function due(t,r){var s=t.getUTCDay();return t=s>=4||s===0?Yc(t):Yc.ceil(t),Qt(t.getUTCFullYear()%1e4,r,4)}function uue(){return"+0000"}function EE(){return"%"}function TE(t){return+t}function OE(t){return Math.floor(+t/1e3)}var Yl,x$,g$;mue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mue(t){return Yl=mde(t),x$=Yl.format,Yl.parse,g$=Yl.utcFormat,Yl.utcParse,Yl}function hue(t){return new Date(t)}function fue(t){return t instanceof Date?+t:+new Date(+t)}function vS(t,r,s,a,n,i,o,l,c,d){var u=aS(),m=u.invert,h=u.domain,p=d(".%L"),v=d(":%S"),x=d("%I:%M"),g=d("%I %p"),b=d("%a %d"),y=d("%b %d"),j=d("%B"),S=d("%Y");function w(_){return(c(_)<_?p:l(_)<_?v:o(_)<_?x:i(_)<_?g:a(_)<_?n(_)<_?b:y:s(_)<_?j:S)(_)}return u.invert=function(_){return new Date(m(_))},u.domain=function(_){return arguments.length?h(Array.from(_,fue)):h().map(hue)},u.ticks=function(_){var N=h();return t(N[0],N[N.length-1],_??10)},u.tickFormat=function(_,N){return N==null?w:d(N)},u.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=r(N[0],N[N.length-1],_??10)),_?h(s$(N,_)):u},u.copy=function(){return Zm(u,vS(t,r,s,a,n,i,o,l,c,d))},u}function pue(){return nn.apply(vS(dde,ude,Mi,xS,Qx,eh,fS,mS,Qo,x$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xue(){return nn.apply(vS(lde,cde,Fi,gS,Jx,Xx,pS,hS,Qo,g$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zx(){var t=0,r=1,s,a,n,i,o=na,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(n===0?.5:(m=(i(m)-s)*n,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,r]=m,s=i(t=+t),a=i(r=+r),n=s===a?0:1/(a-s),d):[t,r]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function u(m){return function(h){var p,v;return arguments.length?([p,v]=h,o=m(p,v),d):[o(0),o(1)]}}return d.range=u(Id),d.rangeRound=u(sS),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,s=m(t),a=m(r),n=s===a?0:1/(a-s),d}}function Mo(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function v$(){var t=Io(Zx()(na));return t.copy=function(){return Mo(t,v$())},Vi.apply(t,arguments)}function b$(){var t=oS(Zx()).domain([1,10]);return t.copy=function(){return Mo(t,b$()).base(t.base())},Vi.apply(t,arguments)}function y$(){var t=lS(Zx());return t.copy=function(){return Mo(t,y$()).constant(t.constant())},Vi.apply(t,arguments)}function bS(){var t=cS(Zx());return t.copy=function(){return Mo(t,bS()).exponent(t.exponent())},Vi.apply(t,arguments)}function gue(){return bS.apply(null,arguments).exponent(.5)}function j$(){var t=[],r=na;function s(a){if(a!=null&&!isNaN(a=+a))return r((Qm(t,a,1)-1)/(t.length-1))}return s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let n of a)n!=null&&!isNaN(n=+n)&&t.push(n);return t.sort(ho),s},s.interpolator=function(a){return arguments.length?(r=a,s):r},s.range=function(){return t.map((a,n)=>r(n/(t.length-1)))},s.quantiles=function(a){return Array.from({length:a+1},(n,i)=>sce(t,i/a))},s.copy=function(){return j$(r).domain(t)},Vi.apply(s,arguments)}function eg(){var t=0,r=.5,s=1,a=1,n,i,o,l,c,d=na,u,m=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-i)*(a*x<a*i?l:c),d(m?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,r,s]=x,n=u(t=+t),i=u(r=+r),o=u(s=+s),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),a=i<n?-1:1,p):[t,r,s]},p.clamp=function(x){return arguments.length?(m=!!x,p):m},p.interpolator=function(x){return arguments.length?(d=x,p):d};function v(x){return function(g){var b,y,j;return arguments.length?([b,y,j]=g,d=Pce(x,[b,y,j]),p):[d(0),d(.5),d(1)]}}return p.range=v(Id),p.rangeRound=v(sS),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,n=x(t),i=x(r),o=x(s),l=n===i?0:.5/(i-n),c=i===o?0:.5/(o-i),a=i<n?-1:1,p}}function w$(){var t=Io(eg()(na));return t.copy=function(){return Mo(t,w$())},Vi.apply(t,arguments)}function N$(){var t=oS(eg()).domain([.1,1,10]);return t.copy=function(){return Mo(t,N$()).base(t.base())},Vi.apply(t,arguments)}function _$(){var t=lS(eg());return t.copy=function(){return Mo(t,_$()).constant(t.constant())},Vi.apply(t,arguments)}function yS(){var t=cS(eg());return t.copy=function(){return Mo(t,yS()).exponent(t.exponent())},Vi.apply(t,arguments)}function vue(){return yS.apply(null,arguments).exponent(.5)}const DE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zu,scaleDiverging:w$,scaleDivergingLog:N$,scaleDivergingPow:yS,scaleDivergingSqrt:vue,scaleDivergingSymlog:_$,scaleIdentity:r$,scaleImplicit:Bw,scaleLinear:Zf,scaleLog:a$,scaleOrdinal:eS,scalePoint:yu,scalePow:dS,scaleQuantile:o$,scaleQuantize:l$,scaleRadial:i$,scaleSequential:v$,scaleSequentialLog:b$,scaleSequentialPow:bS,scaleSequentialQuantile:j$,scaleSequentialSqrt:gue,scaleSequentialSymlog:y$,scaleSqrt:Jce,scaleSymlog:n$,scaleThreshold:c$,scaleTime:pue,scaleUtc:xue,tickFormat:t$},Symbol.toStringTag,{value:"Module"}));var Ej,RE;function tg(){if(RE)return Ej;RE=1;var t=Td();function r(s,a,n){for(var i=-1,o=s.length;++i<o;){var l=s[i],c=a(l);if(c!=null&&(d===void 0?c===c&&!t(c):n(c,d)))var d=c,u=l}return u}return Ej=r,Ej}var Tj,IE;function S$(){if(IE)return Tj;IE=1;function t(r,s){return r>s}return Tj=t,Tj}var Oj,ME;function bue(){if(ME)return Oj;ME=1;var t=tg(),r=S$(),s=Rd();function a(n){return n&&n.length?t(n,s,r):void 0}return Oj=a,Oj}var yue=bue();const oo=vr(yue);var Dj,FE;function C$(){if(FE)return Dj;FE=1;function t(r,s){return r<s}return Dj=t,Dj}var Rj,LE;function jue(){if(LE)return Rj;LE=1;var t=tg(),r=C$(),s=Rd();function a(n){return n&&n.length?t(n,s,r):void 0}return Rj=a,Rj}var wue=jue();const rg=vr(wue);var Ij,$E;function Nue(){if($E)return Ij;$E=1;var t=M1(),r=pi(),s=R6(),a=Na();function n(i,o){var l=a(i)?t:s;return l(i,r(o,3))}return Ij=n,Ij}var Mj,qE;function _ue(){if(qE)return Mj;qE=1;var t=O6(),r=Nue();function s(a,n){return t(r(a,n),1)}return Mj=s,Mj}var Sue=_ue();const Cue=vr(Sue);var Fj,zE;function kue(){if(zE)return Fj;zE=1;var t=Y1();function r(s,a){return t(s,a)}return Fj=r,Fj}var Aue=kue();const jl=vr(Aue);var Md=1e9,Pue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wS,$r=!0,Ja="[DecimalError] ",rl=Ja+"Invalid argument: ",jS=Ja+"Exponent out of range: ",Fd=Math.floor,Ko=Math.pow,Eue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ta,Os=1e7,Dr=7,k$=9007199254740991,sp=Fd(k$/Dr),We={};We.absoluteValue=We.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};We.comparedTo=We.cmp=function(t){var r,s,a,n,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(a=i.d.length,n=t.d.length,r=0,s=a<n?a:n;r<s;++r)if(i.d[r]!==t.d[r])return i.d[r]>t.d[r]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};We.decimalPlaces=We.dp=function(){var t=this,r=t.d.length-1,s=(r-t.e)*Dr;if(r=t.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};We.dividedBy=We.div=function(t){return Pi(this,new this.constructor(t))};We.dividedToIntegerBy=We.idiv=function(t){var r=this,s=r.constructor;return jr(Pi(r,new s(t),0,1),s.precision)};We.equals=We.eq=function(t){return!this.cmp(t)};We.exponent=function(){return ds(this)};We.greaterThan=We.gt=function(t){return this.cmp(t)>0};We.greaterThanOrEqualTo=We.gte=function(t){return this.cmp(t)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(t){return this.cmp(t)<0};We.lessThanOrEqualTo=We.lte=function(t){return this.cmp(t)<1};We.logarithm=We.log=function(t){var r,s=this,a=s.constructor,n=a.precision,i=n+5;if(t===void 0)t=new a(10);else if(t=new a(t),t.s<1||t.eq(Ta))throw Error(Ja+"NaN");if(s.s<1)throw Error(Ja+(s.s?"NaN":"-Infinity"));return s.eq(Ta)?new a(0):($r=!1,r=Pi(am(s,i),am(t,i),i),$r=!0,jr(r,n))};We.minus=We.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?E$(r,t):A$(r,(t.s=-t.s,t))};We.modulo=We.mod=function(t){var r,s=this,a=s.constructor,n=a.precision;if(t=new a(t),!t.s)throw Error(Ja+"NaN");return s.s?($r=!1,r=Pi(s,t,0,1).times(t),$r=!0,s.minus(r)):jr(new a(s),n)};We.naturalExponential=We.exp=function(){return P$(this)};We.naturalLogarithm=We.ln=function(){return am(this)};We.negated=We.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};We.plus=We.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?A$(r,t):E$(r,(t.s=-t.s,t))};We.precision=We.sd=function(t){var r,s,a,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rl+t);if(r=ds(n)+1,a=n.d.length-1,s=a*Dr+1,a=n.d[a],a){for(;a%10==0;a/=10)s--;for(a=n.d[0];a>=10;a/=10)s++}return t&&r>s?r:s};We.squareRoot=We.sqrt=function(){var t,r,s,a,n,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ja+"NaN")}for(t=ds(l),$r=!1,n=Math.sqrt(+l),n==0||n==1/0?(r=Gn(l.d),(r.length+t)%2==0&&(r+="0"),n=Math.sqrt(r),t=Fd((t+1)/2)-(t<0||t%2),n==1/0?r="5e"+t:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),a=new c(r)):a=new c(n.toString()),s=c.precision,n=o=s+3;;)if(i=a,a=i.plus(Pi(l,i,o+2)).times(.5),Gn(i.d).slice(0,o)===(r=Gn(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),n==o&&r=="4999"){if(jr(i,s+1,0),i.times(i).eq(l)){a=i;break}}else if(r!="9999")break;o+=4}return $r=!0,jr(a,s)};We.times=We.mul=function(t){var r,s,a,n,i,o,l,c,d,u=this,m=u.constructor,h=u.d,p=(t=new m(t)).d;if(!u.s||!t.s)return new m(0);for(t.s*=u.s,s=u.e+t.e,c=h.length,d=p.length,c<d&&(i=h,h=p,p=i,o=c,c=d,d=o),i=[],o=c+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(r=0,n=c+a;n>a;)l=i[n]+p[a]*h[n-a-1]+r,i[n--]=l%Os|0,r=l/Os|0;i[n]=(i[n]+r)%Os|0}for(;!i[--o];)i.pop();return r?++s:i.shift(),t.d=i,t.e=s,$r?jr(t,m.precision):t};We.toDecimalPlaces=We.todp=function(t,r){var s=this,a=s.constructor;return s=new a(s),t===void 0?s:(oi(t,0,Md),r===void 0?r=a.rounding:oi(r,0,8),jr(s,t+ds(s)+1,r))};We.toExponential=function(t,r){var s,a=this,n=a.constructor;return t===void 0?s=wl(a,!0):(oi(t,0,Md),r===void 0?r=n.rounding:oi(r,0,8),a=jr(new n(a),t+1,r),s=wl(a,!0,t+1)),s};We.toFixed=function(t,r){var s,a,n=this,i=n.constructor;return t===void 0?wl(n):(oi(t,0,Md),r===void 0?r=i.rounding:oi(r,0,8),a=jr(new i(n),t+ds(n)+1,r),s=wl(a.abs(),!1,t+ds(a)+1),n.isneg()&&!n.isZero()?"-"+s:s)};We.toInteger=We.toint=function(){var t=this,r=t.constructor;return jr(new r(t),ds(t)+1,r.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(t){var r,s,a,n,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(Ta);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ja+"Infinity");return l}if(l.eq(Ta))return l;if(a=c.precision,t.eq(Ta))return jr(l,a);if(r=t.e,s=t.d.length-1,o=r>=s,i=l.s,o){if((s=u<0?-u:u)<=k$){for(n=new c(Ta),r=Math.ceil(a/Dr+4),$r=!1;s%2&&(n=n.times(l),UE(n.d,r)),s=Fd(s/2),s!==0;)l=l.times(l),UE(l.d,r);return $r=!0,t.s<0?new c(Ta).div(n):jr(n,a)}}else if(i<0)throw Error(Ja+"NaN");return i=i<0&&t.d[Math.max(r,s)]&1?-1:1,l.s=1,$r=!1,n=t.times(am(l,a+d)),$r=!0,n=P$(n),n.s=i,n};We.toPrecision=function(t,r){var s,a,n=this,i=n.constructor;return t===void 0?(s=ds(n),a=wl(n,s<=i.toExpNeg||s>=i.toExpPos)):(oi(t,1,Md),r===void 0?r=i.rounding:oi(r,0,8),n=jr(new i(n),t,r),s=ds(n),a=wl(n,t<=s||s<=i.toExpNeg,t)),a};We.toSignificantDigits=We.tosd=function(t,r){var s=this,a=s.constructor;return t===void 0?(t=a.precision,r=a.rounding):(oi(t,1,Md),r===void 0?r=a.rounding:oi(r,0,8)),jr(new a(s),t,r)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=ds(t),s=t.constructor;return wl(t,r<=s.toExpNeg||r>=s.toExpPos)};function A$(t,r){var s,a,n,i,o,l,c,d,u=t.constructor,m=u.precision;if(!t.s||!r.s)return r.s||(r=new u(t)),$r?jr(r,m):r;if(c=t.d,d=r.d,o=t.e,n=r.e,c=c.slice(),i=o-n,i){for(i<0?(a=c,i=-i,l=d.length):(a=d,n=o,l=c.length),o=Math.ceil(m/Dr),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,a=d,d=c,c=a),s=0;i;)s=(c[--i]=c[i]+d[i]+s)/Os|0,c[i]%=Os;for(s&&(c.unshift(s),++n),l=c.length;c[--l]==0;)c.pop();return r.d=c,r.e=n,$r?jr(r,m):r}function oi(t,r,s){if(t!==~~t||t<r||t>s)throw Error(rl+t)}function Gn(t){var r,s,a,n=t.length-1,i="",o=t[0];if(n>0){for(i+=o,r=1;r<n;r++)a=t[r]+"",s=Dr-a.length,s&&(i+=so(s)),i+=a;o=t[r],a=o+"",s=Dr-a.length,s&&(i+=so(s))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pi=(function(){function t(a,n){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*n+o,a[l]=i%Os|0,o=i/Os|0;return o&&a.unshift(o),a}function r(a,n,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=n[l]){c=a[l]>n[l]?1:-1;break}return c}function s(a,n,i){for(var o=0;i--;)a[i]-=o,o=a[i]<n[i]?1:0,a[i]=o*Os+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,o){var l,c,d,u,m,h,p,v,x,g,b,y,j,S,w,_,N,k,C=a.constructor,P=a.s==n.s?1:-1,A=a.d,O=n.d;if(!a.s)return new C(a);if(!n.s)throw Error(Ja+"Division by zero");for(c=a.e-n.e,N=O.length,w=A.length,p=new C(P),v=p.d=[],d=0;O[d]==(A[d]||0);)++d;if(O[d]>(A[d]||0)&&--c,i==null?y=i=C.precision:o?y=i+(ds(a)-ds(n))+1:y=i,y<0)return new C(0);if(y=y/Dr+2|0,d=0,N==1)for(u=0,O=O[0],y++;(d<w||u)&&y--;d++)j=u*Os+(A[d]||0),v[d]=j/O|0,u=j%O|0;else{for(u=Os/(O[0]+1)|0,u>1&&(O=t(O,u),A=t(A,u),N=O.length,w=A.length),S=N,x=A.slice(0,N),g=x.length;g<N;)x[g++]=0;k=O.slice(),k.unshift(0),_=O[0],O[1]>=Os/2&&++_;do u=0,l=r(O,x,N,g),l<0?(b=x[0],N!=g&&(b=b*Os+(x[1]||0)),u=b/_|0,u>1?(u>=Os&&(u=Os-1),m=t(O,u),h=m.length,g=x.length,l=r(m,x,h,g),l==1&&(u--,s(m,N<h?k:O,h))):(u==0&&(l=u=1),m=O.slice()),h=m.length,h<g&&m.unshift(0),s(x,m,g),l==-1&&(g=x.length,l=r(O,x,N,g),l<1&&(u++,s(x,N<g?k:O,g))),g=x.length):l===0&&(u++,x=[0]),v[d++]=u,l&&x[0]?x[g++]=A[S]||0:(x=[A[S]],g=1);while((S++<w||x[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,jr(p,o?i+ds(p)+1:i)}})();function P$(t,r){var s,a,n,i,o,l,c=0,d=0,u=t.constructor,m=u.precision;if(ds(t)>16)throw Error(jS+ds(t));if(!t.s)return new u(Ta);for($r=!1,l=m,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(a=Math.log(Ko(2,d))/Math.LN10*2+5|0,l+=a,s=n=i=new u(Ta),u.precision=l;;){if(n=jr(n.times(t),l),s=s.times(++c),o=i.plus(Pi(n,s,l)),Gn(o.d).slice(0,l)===Gn(i.d).slice(0,l)){for(;d--;)i=jr(i.times(i),l);return u.precision=m,r==null?($r=!0,jr(i,m)):i}i=o}}function ds(t){for(var r=t.e*Dr,s=t.d[0];s>=10;s/=10)r++;return r}function Lj(t,r,s){if(r>t.LN10.sd())throw $r=!0,s&&(t.precision=s),Error(Ja+"LN10 precision limit exceeded");return jr(new t(t.LN10),r)}function so(t){for(var r="";t--;)r+="0";return r}function am(t,r){var s,a,n,i,o,l,c,d,u,m=1,h=10,p=t,v=p.d,x=p.constructor,g=x.precision;if(p.s<1)throw Error(Ja+(p.s?"NaN":"-Infinity"));if(p.eq(Ta))return new x(0);if(r==null?($r=!1,d=g):d=r,p.eq(10))return r==null&&($r=!0),Lj(x,d);if(d+=h,x.precision=d,s=Gn(v),a=s.charAt(0),i=ds(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&s.charAt(1)>3;)p=p.times(t),s=Gn(p.d),a=s.charAt(0),m++;i=ds(p),a>1?(p=new x("0."+s),i++):p=new x(a+"."+s.slice(1))}else return c=Lj(x,d+2,g).times(i+""),p=am(new x(a+"."+s.slice(1)),d-h).plus(c),x.precision=g,r==null?($r=!0,jr(p,g)):p;for(l=o=p=Pi(p.minus(Ta),p.plus(Ta),d),u=jr(p.times(p),d),n=3;;){if(o=jr(o.times(u),d),c=l.plus(Pi(o,new x(n),d)),Gn(c.d).slice(0,d)===Gn(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(Lj(x,d+2,g).times(i+""))),l=Pi(l,new x(m),d),x.precision=g,r==null?($r=!0,jr(l,g)):l;l=c,n+=2}}function BE(t,r){var s,a,n;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(s<0&&(s=a),s+=+r.slice(a+1),r=r.substring(0,a)):s<0&&(s=r.length),a=0;r.charCodeAt(a)===48;)++a;for(n=r.length;r.charCodeAt(n-1)===48;)--n;if(r=r.slice(a,n),r){if(n-=a,s=s-a-1,t.e=Fd(s/Dr),t.d=[],a=(s+1)%Dr,s<0&&(a+=Dr),a<n){for(a&&t.d.push(+r.slice(0,a)),n-=Dr;a<n;)t.d.push(+r.slice(a,a+=Dr));r=r.slice(a),a=Dr-r.length}else a-=n;for(;a--;)r+="0";if(t.d.push(+r),$r&&(t.e>sp||t.e<-sp))throw Error(jS+s)}else t.s=0,t.e=0,t.d=[0];return t}function jr(t,r,s){var a,n,i,o,l,c,d,u,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=Dr,n=r,d=m[u=0];else{if(u=Math.ceil((a+1)/Dr),i=m.length,u>=i)return t;for(d=i=m[u],o=1;i>=10;i/=10)o++;a%=Dr,n=a-Dr+o}if(s!==void 0&&(i=Ko(10,o-n-1),l=d/i%10|0,c=r<0||m[u+1]!==void 0||d%i,c=s<4?(l||c)&&(s==0||s==(t.s<0?3:2)):l>5||l==5&&(s==4||c||s==6&&(a>0?n>0?d/Ko(10,o-n):0:m[u-1])%10&1||s==(t.s<0?8:7))),r<1||!m[0])return c?(i=ds(t),m.length=1,r=r-i-1,m[0]=Ko(10,(Dr-r%Dr)%Dr),t.e=Fd(-r/Dr)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(a==0?(m.length=u,i=1,u--):(m.length=u+1,i=Ko(10,Dr-a),m[u]=n>0?(d/Ko(10,o-n)%Ko(10,n)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==Os&&(m[0]=1,++t.e);break}else{if(m[u]+=i,m[u]!=Os)break;m[u--]=0,i=1}for(a=m.length;m[--a]===0;)m.pop();if($r&&(t.e>sp||t.e<-sp))throw Error(jS+ds(t));return t}function E$(t,r){var s,a,n,i,o,l,c,d,u,m,h=t.constructor,p=h.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new h(t),$r?jr(r,p):r;if(c=t.d,m=r.d,a=r.e,d=t.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(s=c,o=-o,l=m.length):(s=m,a=d,l=c.length),n=Math.max(Math.ceil(p/Dr),l)+2,o>n&&(o=n,s.length=1),s.reverse(),n=o;n--;)s.push(0);s.reverse()}else{for(n=c.length,l=m.length,u=n<l,u&&(l=n),n=0;n<l;n++)if(c[n]!=m[n]){u=c[n]<m[n];break}o=0}for(u&&(s=c,c=m,m=s,r.s=-r.s),l=c.length,n=m.length-l;n>0;--n)c[l++]=0;for(n=m.length;n>o;){if(c[--n]<m[n]){for(i=n;i&&c[--i]===0;)c[i]=Os-1;--c[i],c[n]+=Os}c[n]-=m[n]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(r.d=c,r.e=a,$r?jr(r,p):r):new h(0)}function wl(t,r,s){var a,n=ds(t),i=Gn(t.d),o=i.length;return r?(s&&(a=s-o)>0?i=i.charAt(0)+"."+i.slice(1)+so(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+so(-n-1)+i,s&&(a=s-o)>0&&(i+=so(a))):n>=o?(i+=so(n+1-o),s&&(a=s-n-1)>0&&(i=i+"."+so(a))):((a=n+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),s&&(a=s-o)>0&&(n+1===o&&(i+="."),i+=so(a))),t.s<0?"-"+i:i}function UE(t,r){if(t.length>r)return t.length=r,!0}function T$(t){var r,s,a;function n(i){var o=this;if(!(o instanceof n))return new n(i);if(o.constructor=n,i instanceof n){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return BE(o,i.toString())}else if(typeof i!="string")throw Error(rl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Eue.test(i))BE(o,i);else throw Error(rl+i)}if(n.prototype=We,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=T$,n.config=n.set=Tue,t===void 0&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(s=a[r++])||(t[s]=this[s]);return n.config(t),n}function Tue(t){if(!t||typeof t!="object")throw Error(Ja+"Object expected");var r,s,a,n=["precision",1,Md,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<n.length;r+=3)if((a=t[s=n[r]])!==void 0)if(Fd(a)===a&&a>=n[r+1]&&a<=n[r+2])this[s]=a;else throw Error(rl+s+": "+a);if((a=t[s="LN10"])!==void 0)if(a==Math.LN10)this[s]=new this(a);else throw Error(rl+s+": "+a);return this}var wS=T$(Pue);Ta=new wS(1);const xr=wS;function Oue(t){return Mue(t)||Iue(t)||Rue(t)||Due()}function Due(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(t,r){if(t){if(typeof t=="string")return Hw(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Hw(t,r)}}function Iue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Mue(t){if(Array.isArray(t))return Hw(t)}function Hw(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}var Fue=function(r){return r},O$={},D$=function(r){return r===O$},VE=function(r){return function s(){return arguments.length===0||arguments.length===1&&D$(arguments.length<=0?void 0:arguments[0])?s:r.apply(void 0,arguments)}},Lue=function t(r,s){return r===1?s:VE(function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];var o=n.filter(function(l){return l!==O$}).length;return o>=r?s.apply(void 0,n):t(r-o,VE(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=n.map(function(m){return D$(m)?c.shift():m});return s.apply(void 0,Oue(u).concat(c))}))})},sg=function(r){return Lue(r.length,r)},Kw=function(r,s){for(var a=[],n=r;n<s;++n)a[n-r]=n;return a},$ue=sg(function(t,r){return Array.isArray(r)?r.map(t):Object.keys(r).map(function(s){return r[s]}).map(t)}),que=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];if(!s.length)return Fue;var n=s.reverse(),i=n[0],o=n.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Gw=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},R$=function(r){var s=null,a=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return s&&i.every(function(l,c){return l===s[c]})||(s=i,a=r.apply(void 0,i)),a}};function zue(t){var r;return t===0?r=1:r=Math.floor(new xr(t).abs().log(10).toNumber())+1,r}function Bue(t,r,s){for(var a=new xr(t),n=0,i=[];a.lt(r)&&n<1e5;)i.push(a.toNumber()),a=a.add(s),n++;return i}var Uue=sg(function(t,r,s){var a=+t,n=+r;return a+s*(n-a)}),Vue=sg(function(t,r,s){var a=r-+t;return a=a||1/0,(s-t)/a}),Wue=sg(function(t,r,s){var a=r-+t;return a=a||1/0,Math.max(0,Math.min(1,(s-t)/a))});const ag={rangeStep:Bue,getDigitCount:zue,interpolateNumber:Uue,uninterpolateNumber:Vue,uninterpolateTruncation:Wue};function Yw(t){return Gue(t)||Kue(t)||I$(t)||Hue()}function Hue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Gue(t){if(Array.isArray(t))return Xw(t)}function nm(t,r){return Que(t)||Xue(t,r)||I$(t,r)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I$(t,r){if(t){if(typeof t=="string")return Xw(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Xw(t,r)}}function Xw(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function Xue(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var s=[],a=!0,n=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(s.push(l.value),!(r&&s.length===r));a=!0);}catch(c){n=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(n)throw i}}return s}}function Que(t){if(Array.isArray(t))return t}function M$(t){var r=nm(t,2),s=r[0],a=r[1],n=s,i=a;return s>a&&(n=a,i=s),[n,i]}function F$(t,r,s){if(t.lte(0))return new xr(0);var a=ag.getDigitCount(t.toNumber()),n=new xr(10).pow(a),i=t.div(n),o=a!==1?.05:.1,l=new xr(Math.ceil(i.div(o).toNumber())).add(s).mul(o),c=l.mul(n);return r?c:new xr(Math.ceil(c))}function Jue(t,r,s){var a=1,n=new xr(t);if(!n.isint()&&s){var i=Math.abs(t);i<1?(a=new xr(10).pow(ag.getDigitCount(t)-1),n=new xr(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new xr(Math.floor(t)))}else t===0?n=new xr(Math.floor((r-1)/2)):s||(n=new xr(Math.floor(t)));var o=Math.floor((r-1)/2),l=que($ue(function(c){return n.add(new xr(c-o).mul(a)).toNumber()}),Kw);return l(0,r)}function L$(t,r,s,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(s-1)))return{step:new xr(0),tickMin:new xr(0),tickMax:new xr(0)};var i=F$(new xr(r).sub(t).div(s-1),a,n),o;t<=0&&r>=0?o=new xr(0):(o=new xr(t).add(r).div(2),o=o.sub(new xr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new xr(r).sub(o).div(i).toNumber()),d=l+c+1;return d>s?L$(t,r,s,a,n+1):(d<s&&(c=r>0?c+(s-d):c,l=r>0?l:l+(s-d)),{step:i,tickMin:o.sub(new xr(l).mul(i)),tickMax:o.add(new xr(c).mul(i))})}function Zue(t){var r=nm(t,2),s=r[0],a=r[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),l=M$([s,a]),c=nm(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var m=u===1/0?[d].concat(Yw(Kw(0,n-1).map(function(){return 1/0}))):[].concat(Yw(Kw(0,n-1).map(function(){return-1/0})),[u]);return s>a?Gw(m):m}if(d===u)return Jue(d,n,i);var h=L$(d,u,o,i),p=h.step,v=h.tickMin,x=h.tickMax,g=ag.rangeStep(v,x.add(new xr(.1).mul(p)),p);return s>a?Gw(g):g}function eme(t,r){var s=nm(t,2),a=s[0],n=s[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=M$([a,n]),l=nm(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,n];if(c===d)return[c];var u=Math.max(r,2),m=F$(new xr(d).sub(c).div(u-1),i,0),h=[].concat(Yw(ag.rangeStep(new xr(c),new xr(d).sub(new xr(.99).mul(m)),m)),[d]);return a>n?Gw(h):h}var tme=R$(Zue),rme=R$(eme),sme="Invariant failed";function Nl(t,r){throw new Error(sme)}var ame=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xc(t)}function ap(){return ap=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ap.apply(this,arguments)}function nme(t,r){return cme(t)||lme(t,r)||ome(t,r)||ime()}function ime(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ome(t,r){if(t){if(typeof t=="string")return WE(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return WE(t,r)}}function WE(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function lme(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function cme(t){if(Array.isArray(t))return t}function dme(t,r){if(t==null)return{};var s=ume(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function ume(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function mme(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function hme(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,z$(a.key),a)}}function fme(t,r,s){return r&&hme(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pme(t,r,s){return r=np(r),xme(t,$$()?Reflect.construct(r,s||[],np(t).constructor):r.apply(t,s))}function xme(t,r){if(r&&(Xc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gme(t)}function gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($$=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},np(t)}function vme(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Qw(t,r)}function Qw(t,r){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Qw(t,r)}function q$(t,r,s){return r=z$(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function z$(t){var r=bme(t,"string");return Xc(r)=="symbol"?r:r+""}function bme(t,r){if(Xc(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Xc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var th=(function(t){function r(){return mme(this,r),pme(this,r,arguments)}return vme(r,t),fme(r,[{key:"render",value:function(){var a=this.props,n=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,u=a.xAxis,m=a.yAxis,h=dme(a,ame),p=tt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Nl();var v=c.map(function(x){var g=d(x,l),b=g.x,y=g.y,j=g.value,S=g.errorVal;if(!S)return null;var w=[],_,N;if(Array.isArray(S)){var k=nme(S,2);_=k[0],N=k[1]}else _=N=S;if(i==="vertical"){var C=u.scale,P=y+n,A=P+o,O=P-o,I=C(j-_),F=C(j+N);w.push({x1:F,y1:A,x2:F,y2:O}),w.push({x1:I,y1:P,x2:F,y2:P}),w.push({x1:I,y1:A,x2:I,y2:O})}else if(i==="horizontal"){var $=m.scale,E=b+n,M=E-o,z=E+o,R=$(j-_),te=$(j+N);w.push({x1:M,y1:te,x2:z,y2:te}),w.push({x1:E,y1:R,x2:E,y2:te}),w.push({x1:M,y1:R,x2:z,y2:R})}return L.createElement(Ft,ap({className:"recharts-errorBar",key:"bar-".concat(w.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),w.map(function(V){return L.createElement("line",ap({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return L.createElement(Ft,{className:"recharts-errorBars"},v)}}])})(L.Component);q$(th,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});q$(th,"displayName","ErrorBar");function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},im(t)}function HE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Bo(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?HE(Object(s),!0).forEach(function(a){yme(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):HE(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function yme(t,r,s){return r=jme(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function jme(t){var r=wme(t,"string");return im(r)=="symbol"?r:r+""}function wme(t,r){if(im(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var B$=function(r){var s=r.children,a=r.formattedGraphicalItems,n=r.legendWidth,i=r.legendContent,o=Aa(s,wc);if(!o)return null;var l=wc.defaultProps,c=l!==void 0?Bo(Bo({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(u,m){var h=m.item,p=m.props,v=p.sectors||p.data||[];return u.concat(v.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(a||[]).map(function(u){var m=u.item,h=m.type.defaultProps,p=h!==void 0?Bo(Bo({},h),m.props):{},v=p.dataKey,x=p.name,g=p.legendType,b=p.hide;return{inactive:b,dataKey:v,type:c.iconType||g||"square",color:NS(m),value:x||v,payload:p}}),Bo(Bo(Bo({},c),wc.getWithHeight(o,n)),{},{payload:d,item:o})};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},om(t)}function KE(t){return Cme(t)||Sme(t)||_me(t)||Nme()}function Nme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _me(t,r){if(t){if(typeof t=="string")return Jw(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Jw(t,r)}}function Sme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cme(t){if(Array.isArray(t))return Jw(t)}function Jw(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function GE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Vr(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?GE(Object(s),!0).forEach(function(a){_c(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):GE(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function _c(t,r,s){return r=kme(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function kme(t){var r=Ame(t,"string");return om(r)=="symbol"?r:r+""}function Ame(t,r){if(om(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(om(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function es(t,r,s){return vt(t)||vt(r)?s:Ss(r)?Ra(t,r,s):ot(r)?r(t):s}function ju(t,r,s,a){var n=Cue(t,function(l){return es(l,r)});if(s==="number"){var i=n.filter(function(l){return _e(l)||parseFloat(l)});return i.length?[rg(i),oo(i)]:[1/0,-1/0]}var o=a?n.filter(function(l){return!vt(l)}):n;return o.map(function(l){return Ss(l)||l instanceof Date?l:""})}var Pme=function(r){var s,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(s=a?.length)!==null&&s!==void 0?s:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?n[d-1].coordinate:n[l-1].coordinate,m=n[d].coordinate,h=d>=l-1?n[0].coordinate:n[d+1].coordinate,p=void 0;if(sa(m-u)!==sa(h-m)){var v=[];if(sa(h-m)===sa(c[1]-c[0])){p=h;var x=m+c[1]-c[0];v[0]=Math.min(x,(x+u)/2),v[1]=Math.max(x,(x+u)/2)}else{p=u;var g=h+c[1]-c[0];v[0]=Math.min(m,(g+m)/2),v[1]=Math.max(m,(g+m)/2)}var b=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(r>b[0]&&r<=b[1]||r>=v[0]&&r<=v[1]){o=n[d].index;break}}else{var y=Math.min(u,h),j=Math.max(u,h);if(r>(y+m)/2&&r<=(j+m)/2){o=n[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&r<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<l-1&&r>(a[S].coordinate+a[S-1].coordinate)/2&&r<=(a[S].coordinate+a[S+1].coordinate)/2||S===l-1&&r>(a[S].coordinate+a[S-1].coordinate)/2){o=a[S].index;break}return o},NS=function(r){var s,a=r,n=a.type.displayName,i=(s=r.type)!==null&&s!==void 0&&s.defaultProps?Vr(Vr({},r.type.defaultProps),r.props):r.props,o=i.stroke,l=i.fill,c;switch(n){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Eme=function(r){var s=r.barSize,a=r.totalSize,n=r.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,m=Object.keys(u),h=0,p=m.length;h<p;h++){var v=u[m[h]],x=v.items,g=v.cateAxisId,b=x.filter(function(N){return Ai(N.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,j=y!==void 0?Vr(Vr({},y),b[0].props):b[0].props,S=j.barSize,w=j[g];o[w]||(o[w]=[]);var _=vt(S)?s:S;o[w].push({item:b[0],stackList:b.slice(1),barSize:vt(_)?void 0:aa(_,a,0)})}}return o},Tme=function(r){var s=r.barGap,a=r.barCategoryGap,n=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,l=r.maxBarSize,c=o.length;if(c<1)return null;var d=aa(s,n,0,!0),u,m=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=n/c,v=o.reduce(function(S,w){return S+w.barSize||0},0);v+=(c-1)*d,v>=n&&(v-=(c-1)*d,d=0),v>=n&&p>0&&(h=!0,p*=.9,v=c*p);var x=(n-v)/2>>0,g={offset:x-d,size:0};u=o.reduce(function(S,w){var _={item:w.item,position:{offset:g.offset+g.size+d,size:h?p:w.barSize}},N=[].concat(KE(S),[_]);return g=N[N.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){N.push({item:k,position:g})}),N},m)}else{var b=aa(a,n,0,!0);n-2*b-(c-1)*d<=0&&(d=0);var y=(n-2*b-(c-1)*d)/c;y>1&&(y>>=0);var j=l===+l?Math.min(y,l):y;u=o.reduce(function(S,w,_){var N=[].concat(KE(S),[{item:w.item,position:{offset:b+(y+d)*_+(y-j)/2,size:j}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},m)}return u},Ome=function(r,s,a,n){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=B$({children:i,legendWidth:c});if(d){var u=n||{},m=u.width,h=u.height,p=d.align,v=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&p!=="center"&&_e(r[p]))return Vr(Vr({},r),{},_c({},p,r[p]+(m||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&v!=="middle"&&_e(r[v]))return Vr(Vr({},r),{},_c({},v,r[v]+(h||0)))}return r},Dme=function(r,s,a){return vt(s)?!0:r==="horizontal"?s==="yAxis":r==="vertical"||a==="x"?s==="xAxis":a==="y"?s==="yAxis":!0},U$=function(r,s,a,n,i){var o=s.props.children,l=Ia(o,th).filter(function(d){return Dme(n,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return r.reduce(function(d,u){var m=es(u,a);if(vt(m))return d;var h=Array.isArray(m)?[rg(m),oo(m)]:[m,m],p=c.reduce(function(v,x){var g=es(u,x,0),b=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},Rme=function(r,s,a,n,i){var o=s.map(function(l){return U$(r,l,a,i,n)}).filter(function(l){return!vt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},V$=function(r,s,a,n,i){var o=s.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&U$(r,c,d,n)||ju(r,d,a,i)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,m=d.length;u<m;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},W$=function(r,s){return r==="horizontal"&&s==="xAxis"||r==="vertical"&&s==="yAxis"||r==="centric"&&s==="angleAxis"||r==="radial"&&s==="radiusAxis"},H$=function(r,s,a,n){if(n)return r.map(function(c){return c.coordinate});var i,o,l=r.map(function(c){return c.coordinate===s&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||l.push(s),o||l.push(a),l},ki=function(r,s,a){if(!r)return null;var n=r.scale,i=r.duplicateDomain,o=r.type,l=r.range,c=r.realScaleType==="scaleBand"?n.bandwidth()/2:2,d=(s||a)&&o==="category"&&n.bandwidth?n.bandwidth()/c:0;if(d=r.axisType==="angleAxis"&&l?.length>=2?sa(l[0]-l[1])*2*d:d,s&&(r.ticks||r.niceTicks)){var u=(r.ticks||r.niceTicks).map(function(m){var h=i?i.indexOf(m):m;return{coordinate:n(h)+d,value:m,offset:d}});return u.filter(function(m){return!Dd(m.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(m,h){return{coordinate:n(m)+d,value:m,index:h,offset:d}}):n.ticks&&!a?n.ticks(r.tickCount).map(function(m){return{coordinate:n(m)+d,value:m,offset:d}}):n.domain().map(function(m,h){return{coordinate:n(m)+d,value:i?i[m]:m,index:h,offset:d}})},$j=new WeakMap,Dh=function(r,s){if(typeof s!="function")return r;$j.has(r)||$j.set(r,new WeakMap);var a=$j.get(r);if(a.has(s))return a.get(s);var n=function(){r.apply(void 0,arguments),s.apply(void 0,arguments)};return a.set(s,n),n},K$=function(r,s,a){var n=r.scale,i=r.type,o=r.layout,l=r.axisType;if(n==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Zu(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Zf(),realScaleType:"linear"}:i==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!a)?{scale:yu(),realScaleType:"point"}:i==="category"?{scale:Zu(),realScaleType:"band"}:{scale:Zf(),realScaleType:"linear"};if(vl(n)){var c="scale".concat(zx(n));return{scale:(DE[c]||yu)(),realScaleType:DE[c]?c:"point"}}return ot(n)?{scale:n}:{scale:yu(),realScaleType:"point"}},YE=1e-4,G$=function(r){var s=r.domain();if(!(!s||s.length<=2)){var a=s.length,n=r.range(),i=Math.min(n[0],n[1])-YE,o=Math.max(n[0],n[1])+YE,l=r(s[0]),c=r(s[a-1]);(l<i||l>o||c<i||c>o)&&r.domain([s[0],s[a-1]])}},Ime=function(r,s){if(!r)return null;for(var a=0,n=r.length;a<n;a++)if(r[a].item===s)return r[a].position;return null},Mme=function(r,s){if(!s||s.length!==2||!_e(s[0])||!_e(s[1]))return r;var a=Math.min(s[0],s[1]),n=Math.max(s[0],s[1]),i=[r[0],r[1]];return(!_e(r[0])||r[0]<a)&&(i[0]=a),(!_e(r[1])||r[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<a&&(i[1]=a),i},Fme=function(r){var s=r.length;if(!(s<=0))for(var a=0,n=r[0].length;a<n;++a)for(var i=0,o=0,l=0;l<s;++l){var c=Dd(r[l][a][1])?r[l][a][0]:r[l][a][1];c>=0?(r[l][a][0]=i,r[l][a][1]=i+c,i=r[l][a][1]):(r[l][a][0]=o,r[l][a][1]=o+c,o=r[l][a][1])}},Lme=function(r){var s=r.length;if(!(s<=0))for(var a=0,n=r[0].length;a<n;++a)for(var i=0,o=0;o<s;++o){var l=Dd(r[o][a][1])?r[o][a][0]:r[o][a][1];l>=0?(r[o][a][0]=i,r[o][a][1]=i+l,i=r[o][a][1]):(r[o][a][0]=0,r[o][a][1]=0)}},$me={sign:Fme,expand:Cne,none:Bc,silhouette:kne,wiggle:Ane,positive:Lme},qme=function(r,s,a){var n=s.map(function(l){return l.props.dataKey}),i=$me[a],o=Sne().keys(n).value(function(l,c){return+es(l,c,0)}).order(Aw).offset(i);return o(r)},zme=function(r,s,a,n,i,o){if(!r)return null;var l=o?s.reverse():s,c={},d=l.reduce(function(m,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Vr(Vr({},h.type.defaultProps),h.props):h.props,x=v.stackId,g=v.hide;if(g)return m;var b=v[a],y=m[b]||{hasStack:!1,stackGroups:{}};if(Ss(x)){var j=y.stackGroups[x]||{numericAxisId:a,cateAxisId:n,items:[]};j.items.push(h),y.hasStack=!0,y.stackGroups[x]=j}else y.stackGroups[Ml("_stackId_")]={numericAxisId:a,cateAxisId:n,items:[h]};return Vr(Vr({},m),{},_c({},b,y))},c),u={};return Object.keys(d).reduce(function(m,h){var p=d[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,g){var b=p.stackGroups[g];return Vr(Vr({},x),{},_c({},g,{numericAxisId:a,cateAxisId:n,items:b.items,stackedData:qme(r,b.items,i)}))},v)}return Vr(Vr({},m),{},_c({},h,p))},u)},Y$=function(r,s){var a=s.realScaleType,n=s.type,i=s.tickCount,o=s.originalDomain,l=s.allowDecimals,c=a||s.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&n==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=r.domain();if(!d.length)return null;var u=tme(d,i,l);return r.domain([rg(u),oo(u)]),{niceTicks:u}}if(i&&n==="number"){var m=r.domain(),h=rme(m,i,l);return{niceTicks:h}}return null};function ip(t){var r=t.axis,s=t.ticks,a=t.bandSize,n=t.entry,i=t.index,o=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!vt(n[r.dataKey])){var l=If(s,"value",n[r.dataKey]);if(l)return l.coordinate+a/2}return s[i]?s[i].coordinate+a/2:null}var c=es(n,vt(o)?r.dataKey:o);return vt(c)?null:r.scale(c)}var XE=function(r){var s=r.axis,a=r.ticks,n=r.offset,i=r.bandSize,o=r.entry,l=r.index;if(s.type==="category")return a[l]?a[l].coordinate+n:null;var c=es(o,s.dataKey,s.domain[l]);return vt(c)?null:s.scale(c)-i/2+n},Bme=function(r){var s=r.numericAxis,a=s.scale.domain();if(s.type==="number"){var n=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return n<=0&&i>=0?0:i<0?i:n}return a[0]},Ume=function(r,s){var a,n=(a=r.type)!==null&&a!==void 0&&a.defaultProps?Vr(Vr({},r.type.defaultProps),r.props):r.props,i=n.stackId;if(Ss(i)){var o=s[i];if(o){var l=o.items.indexOf(r);return l>=0?o.stackedData[l]:null}}return null},Vme=function(r){return r.reduce(function(s,a){return[rg(a.concat([s[0]]).filter(_e)),oo(a.concat([s[1]]).filter(_e))]},[1/0,-1/0])},X$=function(r,s,a){return Object.keys(r).reduce(function(n,i){var o=r[i],l=o.stackedData,c=l.reduce(function(d,u){var m=Vme(u.slice(s,a+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},QE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zw=function(r,s,a){if(ot(r))return r(s,a);if(!Array.isArray(r))return s;var n=[];if(_e(r[0]))n[0]=a?r[0]:Math.min(r[0],s[0]);else if(QE.test(r[0])){var i=+QE.exec(r[0])[1];n[0]=s[0]-i}else ot(r[0])?n[0]=r[0](s[0]):n[0]=s[0];if(_e(r[1]))n[1]=a?r[1]:Math.max(r[1],s[1]);else if(JE.test(r[1])){var o=+JE.exec(r[1])[1];n[1]=s[1]+o}else ot(r[1])?n[1]=r[1](s[1]):n[1]=s[1];return n},op=function(r,s,a){if(r&&r.scale&&r.scale.bandwidth){var n=r.scale.bandwidth();if(!a||n>0)return n}if(r&&s&&s.length>=2){for(var i=Q1(s,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},ZE=function(r,s,a){return!r||!r.length||jl(r,Ra(a,"type.defaultProps.domain"))?s:r},Q$=function(r,s){var a=r.type.defaultProps?Vr(Vr({},r.type.defaultProps),r.props):r.props,n=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,u=a.hide;return Vr(Vr({},tt(r,!1)),{},{dataKey:n,unit:o,formatter:l,name:i||n,color:NS(r),value:es(s,n),type:c,payload:s,chartType:d,hide:u})};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lm(t)}function eT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function wi(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?eT(Object(s),!0).forEach(function(a){J$(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):eT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function J$(t,r,s){return r=Wme(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Wme(t){var r=Hme(t,"string");return lm(r)=="symbol"?r:r+""}function Hme(t,r){if(lm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(lm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Kme(t,r){return Qme(t)||Xme(t,r)||Yme(t,r)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yme(t,r){if(t){if(typeof t=="string")return tT(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tT(t,r)}}function tT(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function Xme(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Qme(t){if(Array.isArray(t))return t}var lp=Math.PI/180,Jme=function(r){return r*180/Math.PI},kr=function(r,s,a,n){return{x:r+Math.cos(-lp*n)*a,y:s+Math.sin(-lp*n)*a}},Z$=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(s-(a.top||0)-(a.bottom||0)))/2},Zme=function(r,s,a,n,i){var o=r.width,l=r.height,c=r.startAngle,d=r.endAngle,u=aa(r.cx,o,o/2),m=aa(r.cy,l,l/2),h=Z$(o,l,a),p=aa(r.innerRadius,h,0),v=aa(r.outerRadius,h,h*.8),x=Object.keys(s);return x.reduce(function(g,b){var y=s[b],j=y.domain,S=y.reversed,w;if(vt(y.range))n==="angleAxis"?w=[c,d]:n==="radiusAxis"&&(w=[p,v]),S&&(w=[w[1],w[0]]);else{w=y.range;var _=w,N=Kme(_,2);c=N[0],d=N[1]}var k=K$(y,i),C=k.realScaleType,P=k.scale;P.domain(j).range(w),G$(P);var A=Y$(P,wi(wi({},y),{},{realScaleType:C})),O=wi(wi(wi({},y),A),{},{range:w,radius:v,realScaleType:C,scale:P,cx:u,cy:m,innerRadius:p,outerRadius:v,startAngle:c,endAngle:d});return wi(wi({},g),{},J$({},b,O))},{})},ehe=function(r,s){var a=r.x,n=r.y,i=s.x,o=s.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(n-o,2))},the=function(r,s){var a=r.x,n=r.y,i=s.cx,o=s.cy,l=ehe({x:a,y:n},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,d=Math.acos(c);return n>o&&(d=2*Math.PI-d),{radius:l,angle:Jme(d),angleInRadian:d}},rhe=function(r){var s=r.startAngle,a=r.endAngle,n=Math.floor(s/360),i=Math.floor(a/360),o=Math.min(n,i);return{startAngle:s-o*360,endAngle:a-o*360}},she=function(r,s){var a=s.startAngle,n=s.endAngle,i=Math.floor(a/360),o=Math.floor(n/360),l=Math.min(i,o);return r+l*360},rT=function(r,s){var a=r.x,n=r.y,i=the({x:a,y:n},s),o=i.radius,l=i.angle,c=s.innerRadius,d=s.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=rhe(s),m=u.startAngle,h=u.endAngle,p=l,v;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;v=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=m}return v?wi(wi({},s),{},{radius:o,angle:she(p,s)}):null},eq=function(r){return!f.isValidElement(r)&&!ot(r)&&typeof r!="boolean"?r.className:""};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cm(t)}var ahe=["offset"];function nhe(t){return che(t)||lhe(t)||ohe(t)||ihe()}function ihe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ohe(t,r){if(t){if(typeof t=="string")return eN(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eN(t,r)}}function lhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function che(t){if(Array.isArray(t))return eN(t)}function eN(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function dhe(t,r){if(t==null)return{};var s=uhe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function uhe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function sT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function vs(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?sT(Object(s),!0).forEach(function(a){mhe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):sT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function mhe(t,r,s){return r=hhe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function hhe(t){var r=fhe(t,"string");return cm(r)=="symbol"?r:r+""}function fhe(t,r){if(cm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},dm.apply(this,arguments)}var phe=function(r){var s=r.value,a=r.formatter,n=vt(r.children)?s:r.children;return ot(a)?a(n):n},xhe=function(r,s){var a=sa(s-r),n=Math.min(Math.abs(s-r),360);return a*n},ghe=function(r,s,a){var n=r.position,i=r.viewBox,o=r.offset,l=r.className,c=i,d=c.cx,u=c.cy,m=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,x=c.clockWise,g=(m+h)/2,b=xhe(p,v),y=b>=0?1:-1,j,S;n==="insideStart"?(j=p+y*o,S=x):n==="insideEnd"?(j=v-y*o,S=!x):n==="end"&&(j=v+y*o,S=x),S=b<=0?S:!S;var w=kr(d,u,g,j),_=kr(d,u,g,j+(S?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),k=vt(r.id)?Ml("recharts-radial-line-"):r.id;return L.createElement("text",dm({},a,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:k,d:N})),L.createElement("textPath",{xlinkHref:"#".concat(k)},s))},vhe=function(r){var s=r.viewBox,a=r.offset,n=r.position,i=s,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,m=i.endAngle,h=(u+m)/2;if(n==="outside"){var p=kr(o,l,d+a,h),v=p.x,x=p.y;return{x:v,y:x,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,b=kr(o,l,g,h),y=b.x,j=b.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},bhe=function(r){var s=r.viewBox,a=r.parentViewBox,n=r.offset,i=r.position,o=s,l=o.x,c=o.y,d=o.width,u=o.height,m=u>=0?1:-1,h=m*n,p=m>0?"end":"start",v=m>0?"start":"end",x=d>=0?1:-1,g=x*n,b=x>0?"end":"start",y=x>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:c-m*n,textAnchor:"middle",verticalAnchor:p};return vs(vs({},j),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:v};return vs(vs({},S),a?{height:Math.max(a.y+a.height-(c+u),0),width:d}:{})}if(i==="left"){var w={x:l-g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return vs(vs({},w),a?{width:Math.max(w.x-a.x,0),height:u}:{})}if(i==="right"){var _={x:l+d+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return vs(vs({},_),a?{width:Math.max(a.x+a.width-_.x,0),height:u}:{})}var N=a?{width:d,height:u}:{};return i==="insideLeft"?vs({x:l+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideRight"?vs({x:l+d-g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?vs({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:v},N):i==="insideBottom"?vs({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?vs({x:l+g,y:c+h,textAnchor:y,verticalAnchor:v},N):i==="insideTopRight"?vs({x:l+d-g,y:c+h,textAnchor:b,verticalAnchor:v},N):i==="insideBottomLeft"?vs({x:l+g,y:c+u-h,textAnchor:y,verticalAnchor:p},N):i==="insideBottomRight"?vs({x:l+d-g,y:c+u-h,textAnchor:b,verticalAnchor:p},N):Od(i)&&(_e(i.x)||Yo(i.x))&&(_e(i.y)||Yo(i.y))?vs({x:l+aa(i.x,d),y:c+aa(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):vs({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},yhe=function(r){return"cx"in r&&_e(r.cx)};function Ds(t){var r=t.offset,s=r===void 0?5:r,a=dhe(t,ahe),n=vs({offset:s},a),i=n.viewBox,o=n.position,l=n.value,c=n.children,d=n.content,u=n.className,m=u===void 0?"":u,h=n.textBreakAll;if(!i||vt(l)&&vt(c)&&!f.isValidElement(d)&&!ot(d))return null;if(f.isValidElement(d))return f.cloneElement(d,n);var p;if(ot(d)){if(p=f.createElement(d,n),f.isValidElement(p))return p}else p=phe(n);var v=yhe(i),x=tt(n,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ghe(n,p,x);var g=v?vhe(n):bhe(n);return L.createElement(yl,dm({className:jt("recharts-label",m)},x,g,{breakAll:h}),p)}Ds.displayName="Label";var tq=function(r){var s=r.cx,a=r.cy,n=r.angle,i=r.startAngle,o=r.endAngle,l=r.r,c=r.radius,d=r.innerRadius,u=r.outerRadius,m=r.x,h=r.y,p=r.top,v=r.left,x=r.width,g=r.height,b=r.clockWise,y=r.labelViewBox;if(y)return y;if(_e(x)&&_e(g)){if(_e(m)&&_e(h))return{x:m,y:h,width:x,height:g};if(_e(p)&&_e(v))return{x:p,y:v,width:x,height:g}}return _e(m)&&_e(h)?{x:m,y:h,width:0,height:0}:_e(s)&&_e(a)?{cx:s,cy:a,startAngle:i||n||0,endAngle:o||n||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:r.viewBox?r.viewBox:{}},jhe=function(r,s){return r?r===!0?L.createElement(Ds,{key:"label-implicit",viewBox:s}):Ss(r)?L.createElement(Ds,{key:"label-implicit",viewBox:s,value:r}):f.isValidElement(r)?r.type===Ds?f.cloneElement(r,{key:"label-implicit",viewBox:s}):L.createElement(Ds,{key:"label-implicit",content:r,viewBox:s}):ot(r)?L.createElement(Ds,{key:"label-implicit",content:r,viewBox:s}):Od(r)?L.createElement(Ds,dm({viewBox:s},r,{key:"label-implicit"})):null:null},whe=function(r,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var n=r.children,i=tq(r),o=Ia(n,Ds).map(function(c,d){return f.cloneElement(c,{viewBox:s||i,key:"label-".concat(d)})});if(!a)return o;var l=jhe(r.label,s||i);return[l].concat(nhe(o))};Ds.parseViewBox=tq;Ds.renderCallByParent=whe;var qj,aT;function Nhe(){if(aT)return qj;aT=1;function t(r){var s=r==null?0:r.length;return s?r[s-1]:void 0}return qj=t,qj}var _he=Nhe();const She=vr(_he);function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},um(t)}var Che=["valueAccessor"],khe=["data","dataKey","clockWise","id","textBreakAll"];function Ahe(t){return Ohe(t)||The(t)||Ehe(t)||Phe()}function Phe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(t,r){if(t){if(typeof t=="string")return tN(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tN(t,r)}}function The(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ohe(t){if(Array.isArray(t))return tN(t)}function tN(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},cp.apply(this,arguments)}function nT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function iT(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?nT(Object(s),!0).forEach(function(a){Dhe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):nT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Dhe(t,r,s){return r=Rhe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Rhe(t){var r=Ihe(t,"string");return um(r)=="symbol"?r:r+""}function Ihe(t,r){if(um(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(um(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function oT(t,r){if(t==null)return{};var s=Mhe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Mhe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}var Fhe=function(r){return Array.isArray(r.value)?She(r.value):r.value};function ei(t){var r=t.valueAccessor,s=r===void 0?Fhe:r,a=oT(t,Che),n=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=oT(a,khe);return!n||!n.length?null:L.createElement(Ft,{className:"recharts-label-list"},n.map(function(u,m){var h=vt(i)?s(u,m):es(u&&u.payload,i),p=vt(l)?{}:{id:"".concat(l,"-").concat(m)};return L.createElement(Ds,cp({},tt(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:Ds.parseViewBox(vt(o)?u:iT(iT({},u),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}ei.displayName="LabelList";function Lhe(t,r){return t?t===!0?L.createElement(ei,{key:"labelList-implicit",data:r}):L.isValidElement(t)||ot(t)?L.createElement(ei,{key:"labelList-implicit",data:r,content:t}):Od(t)?L.createElement(ei,cp({data:r},t,{key:"labelList-implicit"})):null:null}function $he(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,n=Ia(a,ei).map(function(o,l){return f.cloneElement(o,{data:r,key:"labelList-".concat(l)})});if(!s)return n;var i=Lhe(t.label,r);return[i].concat(Ahe(n))}ei.renderCallByParent=$he;function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mm(t)}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},rN.apply(this,arguments)}function lT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function cT(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?lT(Object(s),!0).forEach(function(a){qhe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):lT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function qhe(t,r,s){return r=zhe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function zhe(t){var r=Bhe(t,"string");return mm(r)=="symbol"?r:r+""}function Bhe(t,r){if(mm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Uhe=function(r,s){var a=sa(s-r),n=Math.min(Math.abs(s-r),359.999);return a*n},Rh=function(r){var s=r.cx,a=r.cy,n=r.radius,i=r.angle,o=r.sign,l=r.isExternal,c=r.cornerRadius,d=r.cornerIsExternal,u=c*(l?1:-1)+n,m=Math.asin(c/u)/lp,h=d?i:i+o*m,p=kr(s,a,u,h),v=kr(s,a,n,h),x=d?i-o*m:i,g=kr(s,a,u*Math.cos(m*lp),x);return{center:p,circleTangency:v,lineTangency:g,theta:m}},rq=function(r){var s=r.cx,a=r.cy,n=r.innerRadius,i=r.outerRadius,o=r.startAngle,l=r.endAngle,c=Uhe(o,l),d=o+c,u=kr(s,a,i,o),m=kr(s,a,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var p=kr(s,a,n,o),v=kr(s,a,n,d);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(s,",").concat(a," Z");return h},Vhe=function(r){var s=r.cx,a=r.cy,n=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,u=r.endAngle,m=sa(u-d),h=Rh({cx:s,cy:a,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,x=h.theta,g=Rh({cx:s,cy:a,radius:i,angle:u,sign:-m,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,y=g.lineTangency,j=g.theta,S=c?Math.abs(d-u):Math.abs(d-u)-x-j;if(S<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):rq({cx:s,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:u});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var _=Rh({cx:s,cy:a,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=_.circleTangency,k=_.lineTangency,C=_.theta,P=Rh({cx:s,cy:a,radius:n,angle:u,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=P.circleTangency,O=P.lineTangency,I=P.theta,F=c?Math.abs(d-u):Math.abs(d-u)-C-I;if(F<0&&o===0)return"".concat(w,"L").concat(s,",").concat(a,"Z");w+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(F>180),",").concat(+(m>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(s,",").concat(a,"Z");return w},Whe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sq=function(r){var s=cT(cT({},Whe),r),a=s.cx,n=s.cy,i=s.innerRadius,o=s.outerRadius,l=s.cornerRadius,c=s.forceCornerRadius,d=s.cornerIsExternal,u=s.startAngle,m=s.endAngle,h=s.className;if(o<i||u===m)return null;var p=jt("recharts-sector",h),v=o-i,x=aa(l,v,0,!0),g;return x>0&&Math.abs(u-m)<360?g=Vhe({cx:a,cy:n,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m}):g=rq({cx:a,cy:n,innerRadius:i,outerRadius:o,startAngle:u,endAngle:m}),L.createElement("path",rN({},tt(s,!0),{className:p,d:g,role:"img"}))};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hm(t)}function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},sN.apply(this,arguments)}function dT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function uT(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?dT(Object(s),!0).forEach(function(a){Hhe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):dT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Hhe(t,r,s){return r=Khe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Khe(t){var r=Ghe(t,"string");return hm(r)=="symbol"?r:r+""}function Ghe(t,r){if(hm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(hm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var mT={curveBasisClosed:fne,curveBasisOpen:pne,curveBasis:hne,curveBumpX:Zae,curveBumpY:ene,curveLinearClosed:xne,curveLinear:Ux,curveMonotoneX:gne,curveMonotoneY:vne,curveNatural:bne,curveStep:yne,curveStepAfter:wne,curveStepBefore:jne},Ih=function(r){return r.x===+r.x&&r.y===+r.y},tu=function(r){return r.x},ru=function(r){return r.y},Yhe=function(r,s){if(ot(r))return r;var a="curve".concat(zx(r));return(a==="curveMonotone"||a==="curveBump")&&s?mT["".concat(a).concat(s==="vertical"?"Y":"X")]:mT[a]||Ux},Xhe=function(r){var s=r.type,a=s===void 0?"linear":s,n=r.points,i=n===void 0?[]:n,o=r.baseLine,l=r.layout,c=r.connectNulls,d=c===void 0?!1:c,u=Yhe(a,l),m=d?i.filter(function(x){return Ih(x)}):i,h;if(Array.isArray(o)){var p=d?o.filter(function(x){return Ih(x)}):o,v=m.map(function(x,g){return uT(uT({},x),{},{base:p[g]})});return l==="vertical"?h=Ch().y(ru).x1(tu).x0(function(x){return x.base.x}):h=Ch().x(tu).y1(ru).y0(function(x){return x.base.y}),h.defined(Ih).curve(u),h(v)}return l==="vertical"&&_e(o)?h=Ch().y(ru).x1(tu).x0(o):_e(o)?h=Ch().x(tu).y1(ru).y0(o):h=t6().x(tu).y(ru),h.defined(Ih).curve(u),h(m)},sl=function(r){var s=r.className,a=r.points,n=r.path,i=r.pathRef;if((!a||!a.length)&&!n)return null;var o=a&&a.length?Xhe(r):n;return f.createElement("path",sN({},tt(r,!1),Mf(r),{className:jt("recharts-curve",s),d:o,ref:i}))},zj={exports:{}},Bj,hT;function Qhe(){if(hT)return Bj;hT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bj=t,Bj}var Uj,fT;function Jhe(){if(fT)return Uj;fT=1;var t=Qhe();function r(){}function s(){}return s.resetWarningCache=r,Uj=function(){function a(o,l,c,d,u,m){if(m!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}a.isRequired=a;function n(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:n,element:a,elementType:a,instanceOf:n,node:a,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:s,resetWarningCache:r};return i.PropTypes=i,i},Uj}var pT;function Zhe(){return pT||(pT=1,zj.exports=Jhe()()),zj.exports}var efe=Zhe();const or=vr(efe);var tfe=Object.getOwnPropertyNames,rfe=Object.getOwnPropertySymbols,sfe=Object.prototype.hasOwnProperty;function xT(t,r){return function(a,n,i){return t(a,n,i)&&r(a,n,i)}}function Mh(t){return function(s,a,n){if(!s||!a||typeof s!="object"||typeof a!="object")return t(s,a,n);var i=n.cache,o=i.get(s),l=i.get(a);if(o&&l)return o===a&&l===s;i.set(s,a),i.set(a,s);var c=t(s,a,n);return i.delete(s),i.delete(a),c}}function gT(t){return tfe(t).concat(rfe(t))}var afe=Object.hasOwn||(function(t,r){return sfe.call(t,r)});function $l(t,r){return t===r||!t&&!r&&t!==t&&r!==r}var nfe="__v",ife="__o",ofe="_owner",vT=Object.getOwnPropertyDescriptor,bT=Object.keys;function lfe(t,r,s){var a=t.length;if(r.length!==a)return!1;for(;a-- >0;)if(!s.equals(t[a],r[a],a,a,t,r,s))return!1;return!0}function cfe(t,r){return $l(t.getTime(),r.getTime())}function dfe(t,r){return t.name===r.name&&t.message===r.message&&t.cause===r.cause&&t.stack===r.stack}function ufe(t,r){return t===r}function yT(t,r,s){var a=t.size;if(a!==r.size)return!1;if(!a)return!0;for(var n=new Array(a),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=r.entries(),u=!1,m=0;(l=d.next())&&!l.done;){if(n[m]){m++;continue}var h=o.value,p=l.value;if(s.equals(h[0],p[0],c,m,t,r,s)&&s.equals(h[1],p[1],h[0],p[0],t,r,s)){u=n[m]=!0;break}m++}if(!u)return!1;c++}return!0}var mfe=$l;function hfe(t,r,s){var a=bT(t),n=a.length;if(bT(r).length!==n)return!1;for(;n-- >0;)if(!aq(t,r,s,a[n]))return!1;return!0}function su(t,r,s){var a=gT(t),n=a.length;if(gT(r).length!==n)return!1;for(var i,o,l;n-- >0;)if(i=a[n],!aq(t,r,s,i)||(o=vT(t,i),l=vT(r,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ffe(t,r){return $l(t.valueOf(),r.valueOf())}function pfe(t,r){return t.source===r.source&&t.flags===r.flags}function jT(t,r,s){var a=t.size;if(a!==r.size)return!1;if(!a)return!0;for(var n=new Array(a),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=r.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!n[u]&&s.equals(o.value,l.value,o.value,l.value,t,r,s)){d=n[u]=!0;break}u++}if(!d)return!1}return!0}function xfe(t,r){var s=t.length;if(r.length!==s)return!1;for(;s-- >0;)if(t[s]!==r[s])return!1;return!0}function gfe(t,r){return t.hostname===r.hostname&&t.pathname===r.pathname&&t.protocol===r.protocol&&t.port===r.port&&t.hash===r.hash&&t.username===r.username&&t.password===r.password}function aq(t,r,s,a){return(a===ofe||a===ife||a===nfe)&&(t.$$typeof||r.$$typeof)?!0:afe(r,a)&&s.equals(t[a],r[a],a,a,t,r,s)}var vfe="[object Arguments]",bfe="[object Boolean]",yfe="[object Date]",jfe="[object Error]",wfe="[object Map]",Nfe="[object Number]",_fe="[object Object]",Sfe="[object RegExp]",Cfe="[object Set]",kfe="[object String]",Afe="[object URL]",Pfe=Array.isArray,wT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,NT=Object.assign,Efe=Object.prototype.toString.call.bind(Object.prototype.toString);function Tfe(t){var r=t.areArraysEqual,s=t.areDatesEqual,a=t.areErrorsEqual,n=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,m=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,x,g){if(v===x)return!0;if(v==null||x==null)return!1;var b=typeof v;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?o(v,x,g):b==="function"?n(v,x,g):!1;var y=v.constructor;if(y!==x.constructor)return!1;if(y===Object)return l(v,x,g);if(Pfe(v))return r(v,x,g);if(wT!=null&&wT(v))return m(v,x,g);if(y===Date)return s(v,x,g);if(y===RegExp)return d(v,x,g);if(y===Map)return i(v,x,g);if(y===Set)return u(v,x,g);var j=Efe(v);return j===yfe?s(v,x,g):j===Sfe?d(v,x,g):j===wfe?i(v,x,g):j===Cfe?u(v,x,g):j===_fe?typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,g):j===Afe?h(v,x,g):j===jfe?a(v,x,g):j===vfe?l(v,x,g):j===bfe||j===Nfe||j===kfe?c(v,x,g):!1}}function Ofe(t){var r=t.circular,s=t.createCustomConfig,a=t.strict,n={areArraysEqual:a?su:lfe,areDatesEqual:cfe,areErrorsEqual:dfe,areFunctionsEqual:ufe,areMapsEqual:a?xT(yT,su):yT,areNumbersEqual:mfe,areObjectsEqual:a?su:hfe,arePrimitiveWrappersEqual:ffe,areRegExpsEqual:pfe,areSetsEqual:a?xT(jT,su):jT,areTypedArraysEqual:a?su:xfe,areUrlsEqual:gfe};if(s&&(n=NT({},n,s(n))),r){var i=Mh(n.areArraysEqual),o=Mh(n.areMapsEqual),l=Mh(n.areObjectsEqual),c=Mh(n.areSetsEqual);n=NT({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return n}function Dfe(t){return function(r,s,a,n,i,o,l){return t(r,s,l)}}function Rfe(t){var r=t.circular,s=t.comparator,a=t.createState,n=t.equals,i=t.strict;if(a)return function(c,d){var u=a(),m=u.cache,h=m===void 0?r?new WeakMap:void 0:m,p=u.meta;return s(c,d,{cache:h,equals:n,meta:p,strict:i})};if(r)return function(c,d){return s(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};var o={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,d){return s(c,d,o)}}var Ife=Fo();Fo({strict:!0});Fo({circular:!0});Fo({circular:!0,strict:!0});Fo({createInternalComparator:function(){return $l}});Fo({strict:!0,createInternalComparator:function(){return $l}});Fo({circular:!0,createInternalComparator:function(){return $l}});Fo({circular:!0,createInternalComparator:function(){return $l},strict:!0});function Fo(t){t===void 0&&(t={});var r=t.circular,s=r===void 0?!1:r,a=t.createInternalComparator,n=t.createState,i=t.strict,o=i===void 0?!1:i,l=Ofe(t),c=Tfe(l),d=a?a(c):Dfe(c);return Rfe({circular:s,comparator:c,createState:n,equals:d,strict:o})}function Mfe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _T(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=-1,a=function n(i){s<0&&(s=i),i-s>r?(t(i),s=-1):Mfe(n)};requestAnimationFrame(a)}function aN(t){"@babel/helpers - typeof";return aN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},aN(t)}function Ffe(t){return zfe(t)||qfe(t)||$fe(t)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $fe(t,r){if(t){if(typeof t=="string")return ST(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ST(t,r)}}function ST(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function qfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zfe(t){if(Array.isArray(t))return t}function Bfe(){var t={},r=function(){return null},s=!1,a=function n(i){if(!s){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Ffe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){_T(n.bind(null,d),c);return}n(c),_T(n.bind(null,d));return}aN(i)==="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:function(){s=!0},start:function(i){s=!1,a(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fm(t)}function CT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function kT(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?CT(Object(s),!0).forEach(function(a){nq(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):CT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function nq(t,r,s){return r=Ufe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Ufe(t){var r=Vfe(t,"string");return fm(r)==="symbol"?r:String(r)}function Vfe(t,r){if(fm(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(fm(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Wfe=function(r,s){return[Object.keys(r),Object.keys(s)].reduce(function(a,n){return a.filter(function(i){return n.includes(i)})})},Hfe=function(r){return r},Kfe=function(r){return r.replace(/([A-Z])/g,function(s){return"-".concat(s.toLowerCase())})},wu=function(r,s){return Object.keys(s).reduce(function(a,n){return kT(kT({},a),{},nq({},n,r(n,s[n])))},{})},AT=function(r,s,a){return r.map(function(n){return"".concat(Kfe(n)," ").concat(s,"ms ").concat(a)}).join(",")};function Gfe(t,r){return Qfe(t)||Xfe(t,r)||iq(t,r)||Yfe()}function Yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xfe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Qfe(t){if(Array.isArray(t))return t}function Jfe(t){return tpe(t)||epe(t)||iq(t)||Zfe()}function Zfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iq(t,r){if(t){if(typeof t=="string")return nN(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return nN(t,r)}}function epe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tpe(t){if(Array.isArray(t))return nN(t)}function nN(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}var dp=1e-4,oq=function(r,s){return[0,3*r,3*s-6*r,3*r-3*s+1]},lq=function(r,s){return r.map(function(a,n){return a*Math.pow(s,n)}).reduce(function(a,n){return a+n})},PT=function(r,s){return function(a){var n=oq(r,s);return lq(n,a)}},rpe=function(r,s){return function(a){var n=oq(r,s),i=[].concat(Jfe(n.map(function(o,l){return o*l}).slice(1)),[0]);return lq(i,a)}},ET=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s[0],i=s[1],o=s[2],l=s[3];if(s.length===1)switch(s[0]){case"linear":n=0,i=0,o=1,l=1;break;case"ease":n=.25,i=.1,o=.25,l=1;break;case"ease-in":n=.42,i=0,o=1,l=1;break;case"ease-out":n=.42,i=0,o=.58,l=1;break;case"ease-in-out":n=0,i=0,o=.58,l=1;break;default:{var c=s[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=Gfe(d,4);n=u[0],i=u[1],o=u[2],l=u[3]}}}var m=PT(n,o),h=PT(i,l),p=rpe(n,o),v=function(b){return b>1?1:b<0?0:b},x=function(b){for(var y=b>1?1:b,j=y,S=0;S<8;++S){var w=m(j)-y,_=p(j);if(Math.abs(w-y)<dp||_<dp)return h(j);j=v(j-w/_)}return h(j)};return x.isStepper=!1,x},spe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.stiff,a=s===void 0?100:s,n=r.damping,i=n===void 0?8:n,o=r.dt,l=o===void 0?17:o,c=function(u,m,h){var p=-(u-m)*a,v=h*i,x=h+(p-v)*l/1e3,g=h*l/1e3+u;return Math.abs(g-m)<dp&&Math.abs(x)<dp?[m,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},ape=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];var n=s[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ET(n);case"spring":return spe();default:if(n.split("(")[0]==="cubic-bezier")return ET(n)}return typeof n=="function"?n:null};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pm(t)}function TT(t){return ope(t)||ipe(t)||cq(t)||npe()}function npe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ope(t){if(Array.isArray(t))return oN(t)}function OT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Bs(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?OT(Object(s),!0).forEach(function(a){iN(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):OT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function iN(t,r,s){return r=lpe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function lpe(t){var r=cpe(t,"string");return pm(r)==="symbol"?r:String(r)}function cpe(t,r){if(pm(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(pm(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function dpe(t,r){return hpe(t)||mpe(t,r)||cq(t,r)||upe()}function upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cq(t,r){if(t){if(typeof t=="string")return oN(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return oN(t,r)}}function oN(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function mpe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function hpe(t){if(Array.isArray(t))return t}var up=function(r,s,a){return r+(s-r)*a},lN=function(r){var s=r.from,a=r.to;return s!==a},fpe=function t(r,s,a){var n=wu(function(i,o){if(lN(o)){var l=r(o.from,o.to,o.velocity),c=dpe(l,2),d=c[0],u=c[1];return Bs(Bs({},o),{},{from:d,velocity:u})}return o},s);return a<1?wu(function(i,o){return lN(o)?Bs(Bs({},o),{},{velocity:up(o.velocity,n[i].velocity,a),from:up(o.from,n[i].from,a)}):o},s):t(r,n,a-1)};const ppe=(function(t,r,s,a,n){var i=Wfe(t,r),o=i.reduce(function(g,b){return Bs(Bs({},g),{},iN({},b,[t[b],r[b]]))},{}),l=i.reduce(function(g,b){return Bs(Bs({},g),{},iN({},b,{from:t[b],velocity:0,to:r[b]}))},{}),c=-1,d,u,m=function(){return null},h=function(){return wu(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(lN).length},v=function(b){d||(d=b);var y=b-d,j=y/s.dt;l=fpe(s,l,j),n(Bs(Bs(Bs({},t),r),h())),d=b,p()||(c=requestAnimationFrame(m))},x=function(b){u||(u=b);var y=(b-u)/a,j=wu(function(w,_){return up.apply(void 0,TT(_).concat([s(y)]))},o);if(n(Bs(Bs(Bs({},t),r),j)),y<1)c=requestAnimationFrame(m);else{var S=wu(function(w,_){return up.apply(void 0,TT(_).concat([s(1)]))},o);n(Bs(Bs(Bs({},t),r),S))}};return m=s.isStepper?v:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qc(t)}var xpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gpe(t,r){if(t==null)return{};var s=vpe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function vpe(t,r){if(t==null)return{};var s={},a=Object.keys(t),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(s[n]=t[n]);return s}function Vj(t){return wpe(t)||jpe(t)||ype(t)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ype(t,r){if(t){if(typeof t=="string")return cN(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return cN(t,r)}}function jpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wpe(t){if(Array.isArray(t))return cN(t)}function cN(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function DT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function ln(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?DT(Object(s),!0).forEach(function(a){fu(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):DT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function fu(t,r,s){return r=dq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Npe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _pe(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,dq(a.key),a)}}function Spe(t,r,s){return r&&_pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dq(t){var r=Cpe(t,"string");return Qc(r)==="symbol"?r:String(r)}function Cpe(t,r){if(Qc(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Qc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function kpe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&dN(t,r)}function dN(t,r){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},dN(t,r)}function Ape(t){var r=Ppe();return function(){var a=mp(t),n;if(r){var i=mp(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return uN(this,n)}}function uN(t,r){if(r&&(Qc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mN(t)}function mN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ppe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},mp(t)}var wn=(function(t){kpe(s,t);var r=Ape(s);function s(a,n){var i;Npe(this,s),i=r.call(this,a,n);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,m=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(mN(i)),i.changeStyle=i.changeStyle.bind(mN(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),uN(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof h=="function")return i.state={style:d},uN(i);i.state={style:c?fu({},c,d):d}}else i.state={style:{}};return i}return Spe(s,[{key:"componentDidMount",value:function(){var n=this.props,i=n.isActive,o=n.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,m=i.from,h=this.state.style;if(l){if(!o){var p={style:c?fu({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(p);return}if(!(Ife(n.to,u)&&n.canBegin&&n.isActive)){var v=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||d?m:n.to;if(this.state&&h){var g={style:c?fu({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(g)}this.runAnimation(ln(ln({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var i=this,o=n.from,l=n.to,c=n.duration,d=n.easing,u=n.begin,m=n.onAnimationEnd,h=n.onAnimationStart,p=ppe(o,l,ape(d),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,u,v,c,m])}},{key:"runStepAnimation",value:function(n){var i=this,o=n.steps,l=n.begin,c=n.onAnimationStart,d=o[0],u=d.style,m=d.duration,h=m===void 0?0:m,p=function(x,g,b){if(b===0)return x;var y=g.duration,j=g.easing,S=j===void 0?"ease":j,w=g.style,_=g.properties,N=g.onAnimationEnd,k=b>0?o[b-1]:g,C=_||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(Vj(x),[i.runJSAnimation.bind(i,{from:k.style,to:w,duration:y,easing:S}),y]);var P=AT(C,y,S),A=ln(ln(ln({},k.style),w),{},{transition:P});return[].concat(Vj(x),[A,y,N]).filter(Hfe)};return this.manager.start([c].concat(Vj(o.reduce(p,[u,Math.max(h,l)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=Bfe());var i=n.begin,o=n.duration,l=n.attributeName,c=n.to,d=n.easing,u=n.onAnimationStart,m=n.onAnimationEnd,h=n.steps,p=n.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(n);return}if(h.length>1){this.runStepAnimation(n);return}var x=l?fu({},l,c):c,g=AT(Object.keys(x),o,d);v.start([u,i,ln(ln({},x),{},{transition:g}),o,m])}},{key:"render",value:function(){var n=this.props,i=n.children;n.begin;var o=n.duration;n.attributeName,n.easing;var l=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var c=gpe(n,xpe),d=f.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var m=function(p){var v=p.props,x=v.style,g=x===void 0?{}:x,b=v.className,y=f.cloneElement(p,ln(ln({},c),{},{style:ln(ln({},g),u),className:b}));return y};return d===1?m(f.Children.only(i)):L.createElement("div",null,f.Children.map(i,function(h){return m(h)}))}}]),s})(f.PureComponent);wn.displayName="Animate";wn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wn.propTypes={from:or.oneOfType([or.object,or.string]),to:or.oneOfType([or.object,or.string]),attributeName:or.string,duration:or.number,begin:or.number,easing:or.oneOfType([or.string,or.func]),steps:or.arrayOf(or.shape({duration:or.number.isRequired,style:or.object.isRequired,easing:or.oneOfType([or.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),or.func]),properties:or.arrayOf("string"),onAnimationEnd:or.func})),children:or.oneOfType([or.node,or.func]),isActive:or.bool,canBegin:or.bool,onAnimationEnd:or.func,shouldReAnimate:or.bool,onAnimationStart:or.func,onAnimationReStart:or.func};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xm(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},hp.apply(this,arguments)}function Epe(t,r){return Rpe(t)||Dpe(t,r)||Ope(t,r)||Tpe()}function Tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ope(t,r){if(t){if(typeof t=="string")return RT(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return RT(t,r)}}function RT(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function Dpe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Rpe(t){if(Array.isArray(t))return t}function IT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function MT(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?IT(Object(s),!0).forEach(function(a){Ipe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):IT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Ipe(t,r,s){return r=Mpe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Mpe(t){var r=Fpe(t,"string");return xm(r)=="symbol"?r:r+""}function Fpe(t,r){if(xm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var FT=function(r,s,a,n,i){var o=Math.min(Math.abs(a)/2,Math.abs(n)/2),l=n>=0?1:-1,c=a>=0?1:-1,d=n>=0&&a>=0||n<0&&a<0?1:0,u;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,p=4;h<p;h++)m[h]=i[h]>o?o:i[h];u="M".concat(r,",").concat(s+l*m[0]),m[0]>0&&(u+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(r+c*m[0],",").concat(s)),u+="L ".concat(r+a-c*m[1],",").concat(s),m[1]>0&&(u+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(r+a,",").concat(s+l*m[1])),u+="L ".concat(r+a,",").concat(s+n-l*m[2]),m[2]>0&&(u+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(r+a-c*m[2],",").concat(s+n)),u+="L ".concat(r+c*m[3],",").concat(s+n),m[3]>0&&(u+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(r,",").concat(s+n-l*m[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);u="M ".concat(r,",").concat(s+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+c*v,",").concat(s,`
            L `).concat(r+a-c*v,",").concat(s,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+a,",").concat(s+l*v,`
            L `).concat(r+a,",").concat(s+n-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+a-c*v,",").concat(s+n,`
            L `).concat(r+c*v,",").concat(s+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r,",").concat(s+n-l*v," Z")}else u="M ".concat(r,",").concat(s," h ").concat(a," v ").concat(n," h ").concat(-a," Z");return u},Lpe=function(r,s){if(!r||!s)return!1;var a=r.x,n=r.y,i=s.x,o=s.y,l=s.width,c=s.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),m=Math.min(o,o+c),h=Math.max(o,o+c);return a>=d&&a<=u&&n>=m&&n<=h}return!1},$pe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_S=function(r){var s=MT(MT({},$pe),r),a=f.useRef(),n=f.useState(-1),i=Epe(n,2),o=i[0],l=i[1];f.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&l(S)}catch{}},[]);var c=s.x,d=s.y,u=s.width,m=s.height,h=s.radius,p=s.className,v=s.animationEasing,x=s.animationDuration,g=s.animationBegin,b=s.isAnimationActive,y=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||u===0||m===0)return null;var j=jt("recharts-rectangle",p);return y?L.createElement(wn,{canBegin:o>0,from:{width:u,height:m,x:c,y:d},to:{width:u,height:m,x:c,y:d},duration:x,animationEasing:v,isActive:y},function(S){var w=S.width,_=S.height,N=S.x,k=S.y;return L.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:b,easing:v},L.createElement("path",hp({},tt(s,!0),{className:j,d:FT(N,k,w,_,h),ref:a})))}):L.createElement("path",hp({},tt(s,!0),{className:j,d:FT(c,d,u,m,h)}))},qpe=["points","className","baseLinePoints","connectNulls"];function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},oc.apply(this,arguments)}function zpe(t,r){if(t==null)return{};var s=Bpe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Bpe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function LT(t){return Hpe(t)||Wpe(t)||Vpe(t)||Upe()}function Upe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vpe(t,r){if(t){if(typeof t=="string")return hN(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return hN(t,r)}}function Wpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hpe(t){if(Array.isArray(t))return hN(t)}function hN(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}var $T=function(r){return r&&r.x===+r.x&&r.y===+r.y},Kpe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=[[]];return r.forEach(function(a){$T(a)?s[s.length-1].push(a):s[s.length-1].length>0&&s.push([])}),$T(r[0])&&s[s.length-1].push(r[0]),s[s.length-1].length<=0&&(s=s.slice(0,-1)),s},Nu=function(r,s){var a=Kpe(r);s&&(a=[a.reduce(function(i,o){return[].concat(LT(i),LT(o))},[])]);var n=a.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(n,"Z"):n},Gpe=function(r,s,a){var n=Nu(r,a);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Nu(s.reverse(),a).slice(1))},Ype=function(r){var s=r.points,a=r.className,n=r.baseLinePoints,i=r.connectNulls,o=zpe(r,qpe);if(!s||!s.length)return null;var l=jt("recharts-polygon",a);if(n&&n.length){var c=o.stroke&&o.stroke!=="none",d=Gpe(s,n,i);return L.createElement("g",{className:l},L.createElement("path",oc({},tt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?L.createElement("path",oc({},tt(o,!0),{fill:"none",d:Nu(s,i)})):null,c?L.createElement("path",oc({},tt(o,!0),{fill:"none",d:Nu(n,i)})):null)}var u=Nu(s,i);return L.createElement("path",oc({},tt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},fN.apply(this,arguments)}var rh=function(r){var s=r.cx,a=r.cy,n=r.r,i=r.className,o=jt("recharts-dot",i);return s===+s&&a===+a&&n===+n?f.createElement("circle",fN({},tt(r,!1),Mf(r),{className:o,cx:s,cy:a,r:n})):null};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gm(t)}var Xpe=["x","y","top","left","width","height","className"];function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},pN.apply(this,arguments)}function qT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Qpe(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?qT(Object(s),!0).forEach(function(a){Jpe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):qT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Jpe(t,r,s){return r=Zpe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Zpe(t){var r=exe(t,"string");return gm(r)=="symbol"?r:r+""}function exe(t,r){if(gm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function txe(t,r){if(t==null)return{};var s=rxe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function rxe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}var sxe=function(r,s,a,n,i,o){return"M".concat(r,",").concat(i,"v").concat(n,"M").concat(o,",").concat(s,"h").concat(a)},axe=function(r){var s=r.x,a=s===void 0?0:s,n=r.y,i=n===void 0?0:n,o=r.top,l=o===void 0?0:o,c=r.left,d=c===void 0?0:c,u=r.width,m=u===void 0?0:u,h=r.height,p=h===void 0?0:h,v=r.className,x=txe(r,Xpe),g=Qpe({x:a,y:i,top:l,left:d,width:m,height:p},x);return!_e(a)||!_e(i)||!_e(m)||!_e(p)||!_e(l)||!_e(d)?null:L.createElement("path",pN({},tt(g,!0),{className:jt("recharts-cross",v),d:sxe(a,i,m,p,l,d)}))},Wj,zT;function nxe(){if(zT)return Wj;zT=1;var t=tg(),r=S$(),s=pi();function a(n,i){return n&&n.length?t(n,s(i,2),r):void 0}return Wj=a,Wj}var ixe=nxe();const oxe=vr(ixe);var Hj,BT;function lxe(){if(BT)return Hj;BT=1;var t=tg(),r=pi(),s=C$();function a(n,i){return n&&n.length?t(n,r(i,2),s):void 0}return Hj=a,Hj}var cxe=lxe();const dxe=vr(cxe);var uxe=["cx","cy","angle","ticks","axisLine"],mxe=["ticks","tick","angle","tickFormatter","stroke"];function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jc(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},_u.apply(this,arguments)}function UT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Uo(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?UT(Object(s),!0).forEach(function(a){ng(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):UT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function VT(t,r){if(t==null)return{};var s=hxe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function hxe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function fxe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function WT(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,mq(a.key),a)}}function pxe(t,r,s){return r&&WT(t.prototype,r),s&&WT(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function xxe(t,r,s){return r=fp(r),gxe(t,uq()?Reflect.construct(r,s||[],fp(t).constructor):r.apply(t,s))}function gxe(t,r){if(r&&(Jc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vxe(t)}function vxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},fp(t)}function bxe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&xN(t,r)}function xN(t,r){return xN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},xN(t,r)}function ng(t,r,s){return r=mq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function mq(t){var r=yxe(t,"string");return Jc(r)=="symbol"?r:r+""}function yxe(t,r){if(Jc(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var ig=(function(t){function r(){return fxe(this,r),xxe(this,r,arguments)}return bxe(r,t),pxe(r,[{key:"getTickValueCoord",value:function(a){var n=a.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return kr(l,c,n,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,n;switch(a){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=oxe(l,function(u){return u.coordinate||0}),d=dxe(l,function(u){return u.coordinate||0});return{cx:n,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=a.axisLine,d=VT(a,uxe),u=l.reduce(function(v,x){return[Math.min(v[0],x.coordinate),Math.max(v[1],x.coordinate)]},[1/0,-1/0]),m=kr(n,i,u[0],o),h=kr(n,i,u[1],o),p=Uo(Uo(Uo({},tt(d,!1)),{},{fill:"none"},tt(c,!1)),{},{x1:m.x,y1:m.y,x2:h.x,y2:h.y});return L.createElement("line",_u({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var a=this,n=this.props,i=n.ticks,o=n.tick,l=n.angle,c=n.tickFormatter,d=n.stroke,u=VT(n,mxe),m=this.getTickTextAnchor(),h=tt(u,!1),p=tt(o,!1),v=i.map(function(x,g){var b=a.getTickValueCoord(x),y=Uo(Uo(Uo(Uo({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:d},p),{},{index:g},b),{},{payload:x});return L.createElement(Ft,_u({className:jt("recharts-polar-radius-axis-tick",eq(o)),key:"tick-".concat(x.coordinate)},bl(a.props,x,g)),r.renderTickItem(o,y,c?c(x.value,g):x.value))});return L.createElement(Ft,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,n=a.ticks,i=a.axisLine,o=a.tick;return!n||!n.length?null:L.createElement(Ft,{className:jt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ds.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,n,i){var o;return L.isValidElement(a)?o=L.cloneElement(a,n):ot(a)?o=a(n):o=L.createElement(yl,_u({},n,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(f.PureComponent);ng(ig,"displayName","PolarRadiusAxis");ng(ig,"axisType","radiusAxis");ng(ig,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zc(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Go.apply(this,arguments)}function HT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Vo(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?HT(Object(s),!0).forEach(function(a){og(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):HT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function jxe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function KT(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,fq(a.key),a)}}function wxe(t,r,s){return r&&KT(t.prototype,r),s&&KT(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nxe(t,r,s){return r=pp(r),_xe(t,hq()?Reflect.construct(r,s||[],pp(t).constructor):r.apply(t,s))}function _xe(t,r){if(r&&(Zc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sxe(t)}function Sxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hq=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},pp(t)}function Cxe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&gN(t,r)}function gN(t,r){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},gN(t,r)}function og(t,r,s){return r=fq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function fq(t){var r=kxe(t,"string");return Zc(r)=="symbol"?r:r+""}function kxe(t,r){if(Zc(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Zc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Axe=Math.PI/180,GT=1e-5,lg=(function(t){function r(){return jxe(this,r),Nxe(this,r,arguments)}return Cxe(r,t),wxe(r,[{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.cx,o=n.cy,l=n.radius,c=n.orientation,d=n.tickSize,u=d||8,m=kr(i,o,l,a.coordinate),h=kr(i,o,l+(c==="inner"?-1:1)*u,a.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(a){var n=this.props.orientation,i=Math.cos(-a.coordinate*Axe),o;return i>GT?o=n==="outer"?"start":"end":i<-GT?o=n==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.cx,i=a.cy,o=a.radius,l=a.axisLine,c=a.axisLineType,d=Vo(Vo({},tt(this.props,!1)),{},{fill:"none"},tt(l,!1));if(c==="circle")return L.createElement(rh,Go({className:"recharts-polar-angle-axis-line"},d,{cx:n,cy:i,r:o}));var u=this.props.ticks,m=u.map(function(h){return kr(n,i,o,h.coordinate)});return L.createElement(Ype,Go({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var a=this,n=this.props,i=n.ticks,o=n.tick,l=n.tickLine,c=n.tickFormatter,d=n.stroke,u=tt(this.props,!1),m=tt(o,!1),h=Vo(Vo({},u),{},{fill:"none"},tt(l,!1)),p=i.map(function(v,x){var g=a.getTickLineCoord(v),b=a.getTickTextAnchor(v),y=Vo(Vo(Vo({textAnchor:b},u),{},{stroke:"none",fill:d},m),{},{index:x,payload:v,x:g.x2,y:g.y2});return L.createElement(Ft,Go({className:jt("recharts-polar-angle-axis-tick",eq(o)),key:"tick-".concat(v.coordinate)},bl(a.props,v,x)),l&&L.createElement("line",Go({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&r.renderTickItem(o,y,c?c(v.value,x):v.value))});return L.createElement(Ft,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,n=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!n||!n.length?null:L.createElement(Ft,{className:jt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,n,i){var o;return L.isValidElement(a)?o=L.cloneElement(a,n):ot(a)?o=a(n):o=L.createElement(yl,Go({},n,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(f.PureComponent);og(lg,"displayName","PolarAngleAxis");og(lg,"axisType","angleAxis");og(lg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Kj,YT;function Pxe(){if(YT)return Kj;YT=1;var t=_6(),r=t(Object.getPrototypeOf,Object);return Kj=r,Kj}var Gj,XT;function Exe(){if(XT)return Gj;XT=1;var t=Bi(),r=Pxe(),s=Ui(),a="[object Object]",n=Function.prototype,i=Object.prototype,o=n.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!s(u)||t(u)!=a)return!1;var m=r(u);if(m===null)return!0;var h=l.call(m,"constructor")&&m.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return Gj=d,Gj}var Txe=Exe();const Oxe=vr(Txe);var Yj,QT;function Dxe(){if(QT)return Yj;QT=1;var t=Bi(),r=Ui(),s="[object Boolean]";function a(n){return n===!0||n===!1||r(n)&&t(n)==s}return Yj=a,Yj}var Rxe=Dxe();const Ixe=vr(Rxe);function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vm(t)}function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},xp.apply(this,arguments)}function Mxe(t,r){return qxe(t)||$xe(t,r)||Lxe(t,r)||Fxe()}function Fxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lxe(t,r){if(t){if(typeof t=="string")return JT(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return JT(t,r)}}function JT(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function $xe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function qxe(t){if(Array.isArray(t))return t}function ZT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function eO(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ZT(Object(s),!0).forEach(function(a){zxe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ZT(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function zxe(t,r,s){return r=Bxe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Bxe(t){var r=Uxe(t,"string");return vm(r)=="symbol"?r:r+""}function Uxe(t,r){if(vm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var tO=function(r,s,a,n,i){var o=a-n,l;return l="M ".concat(r,",").concat(s),l+="L ".concat(r+a,",").concat(s),l+="L ".concat(r+a-o/2,",").concat(s+i),l+="L ".concat(r+a-o/2-n,",").concat(s+i),l+="L ".concat(r,",").concat(s," Z"),l},Vxe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wxe=function(r){var s=eO(eO({},Vxe),r),a=f.useRef(),n=f.useState(-1),i=Mxe(n,2),o=i[0],l=i[1];f.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&l(j)}catch{}},[]);var c=s.x,d=s.y,u=s.upperWidth,m=s.lowerWidth,h=s.height,p=s.className,v=s.animationEasing,x=s.animationDuration,g=s.animationBegin,b=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||h!==+h||u===0&&m===0||h===0)return null;var y=jt("recharts-trapezoid",p);return b?L.createElement(wn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:m,height:h,x:c,y:d},duration:x,animationEasing:v,isActive:b},function(j){var S=j.upperWidth,w=j.lowerWidth,_=j.height,N=j.x,k=j.y;return L.createElement(wn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:v},L.createElement("path",xp({},tt(s,!0),{className:y,d:tO(N,k,S,w,_),ref:a})))}):L.createElement("g",null,L.createElement("path",xp({},tt(s,!0),{className:y,d:tO(c,d,u,m,h)})))},Hxe=["option","shapeType","propTransformer","activeClassName","isActive"];function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bm(t)}function Kxe(t,r){if(t==null)return{};var s=Gxe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Gxe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function rO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function gp(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?rO(Object(s),!0).forEach(function(a){Yxe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):rO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Yxe(t,r,s){return r=Xxe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Xxe(t){var r=Qxe(t,"string");return bm(r)=="symbol"?r:r+""}function Qxe(t,r){if(bm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Jxe(t,r){return gp(gp({},r),t)}function Zxe(t,r){return t==="symbols"}function sO(t){var r=t.shapeType,s=t.elementProps;switch(r){case"rectangle":return L.createElement(_S,s);case"trapezoid":return L.createElement(Wxe,s);case"sector":return L.createElement(sq,s);case"symbols":if(Zxe(r))return L.createElement(U1,s);break;default:return null}}function ege(t){return f.isValidElement(t)?t.props:t}function pq(t){var r=t.option,s=t.shapeType,a=t.propTransformer,n=a===void 0?Jxe:a,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Kxe(t,Hxe),d;if(f.isValidElement(r))d=f.cloneElement(r,gp(gp({},c),ege(r)));else if(ot(r))d=r(c);else if(Oxe(r)&&!Ixe(r)){var u=n(r,c);d=L.createElement(sO,{shapeType:s,elementProps:u})}else{var m=c;d=L.createElement(sO,{shapeType:s,elementProps:m})}return l?L.createElement(Ft,{className:o},d):d}function cg(t,r){return r!=null&&"trapezoids"in t.props}function dg(t,r){return r!=null&&"sectors"in t.props}function ym(t,r){return r!=null&&"points"in t.props}function tge(t,r){var s,a,n=t.x===(r==null||(s=r.labelViewBox)===null||s===void 0?void 0:s.x)||t.x===r.x,i=t.y===(r==null||(a=r.labelViewBox)===null||a===void 0?void 0:a.y)||t.y===r.y;return n&&i}function rge(t,r){var s=t.endAngle===r.endAngle,a=t.startAngle===r.startAngle;return s&&a}function sge(t,r){var s=t.x===r.x,a=t.y===r.y,n=t.z===r.z;return s&&a&&n}function age(t,r){var s;return cg(t,r)?s=tge:dg(t,r)?s=rge:ym(t,r)&&(s=sge),s}function nge(t,r){var s;return cg(t,r)?s="trapezoids":dg(t,r)?s="sectors":ym(t,r)&&(s="points"),s}function ige(t,r){if(cg(t,r)){var s;return(s=r.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}if(dg(t,r)){var a;return(a=r.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return ym(t,r)?r.payload:{}}function oge(t){var r=t.activeTooltipItem,s=t.graphicalItem,a=t.itemData,n=nge(s,r),i=ige(s,r),o=a.filter(function(c,d){var u=jl(i,c),m=s.props[n].filter(function(v){var x=age(s,r);return x(v,r)}),h=s.props[n].indexOf(m[m.length-1]),p=d===h;return u&&p}),l=a.indexOf(o[o.length-1]);return l}var Zh;function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ed(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},lc.apply(this,arguments)}function aO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function _r(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?aO(Object(s),!0).forEach(function(a){Va(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):aO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function lge(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function nO(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,gq(a.key),a)}}function cge(t,r,s){return r&&nO(t.prototype,r),s&&nO(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function dge(t,r,s){return r=vp(r),uge(t,xq()?Reflect.construct(r,s||[],vp(t).constructor):r.apply(t,s))}function uge(t,r){if(r&&(ed(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mge(t)}function mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xq=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},vp(t)}function hge(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&vN(t,r)}function vN(t,r){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},vN(t,r)}function Va(t,r,s){return r=gq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function gq(t){var r=fge(t,"string");return ed(r)=="symbol"?r:r+""}function fge(t,r){if(ed(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(ed(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wi=(function(t){function r(s){var a;return lge(this,r),a=dge(this,r,[s]),Va(a,"pieRef",null),Va(a,"sectorRefs",[]),Va(a,"id",Ml("recharts-pie-")),Va(a,"handleAnimationEnd",function(){var n=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),ot(n)&&n()}),Va(a,"handleAnimationStart",function(){var n=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),ot(n)&&n()}),a.state={isAnimationFinished:!s.isAnimationActive,prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,sectorToFocus:0},a}return hge(r,t),cge(r,[{key:"isActiveIndex",value:function(a){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(a)!==-1:a===n}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=tt(this.props,!1),m=tt(o,!1),h=tt(l,!1),p=o&&o.offsetRadius||20,v=a.map(function(x,g){var b=(x.startAngle+x.endAngle)/2,y=kr(x.cx,x.cy,x.outerRadius+p,b),j=_r(_r(_r(_r({},u),x),{},{stroke:"none"},m),{},{index:g,textAnchor:r.getTextAnchor(y.x,x.cx)},y),S=_r(_r(_r(_r({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:g,points:[kr(x.cx,x.cy,x.outerRadius,b),y]}),w=c;return vt(c)&&vt(d)?w="value":vt(c)&&(w=d),L.createElement(Ft,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&r.renderLabelLineItem(l,S,"line"),r.renderLabelItem(o,j,es(x,w)))});return L.createElement(Ft,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(a){var n=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return a.map(function(d,u){if(d?.startAngle===0&&d?.endAngle===0&&a.length!==1)return null;var m=n.isActiveIndex(u),h=c&&n.hasActiveIndex()?c:null,p=m?o:h,v=_r(_r({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return L.createElement(Ft,lc({ref:function(g){g&&!n.sectorRefs.includes(g)&&n.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},bl(n.props,d,u),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(u)}),L.createElement(pq,lc({option:p,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,n=this.props,i=n.sectors,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,m=this.state,h=m.prevSectors,p=m.prevIsAnimationActive;return L.createElement(wn,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var x=v.t,g=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(j,S){var w=h&&h[S],_=S>0?Ra(j,"paddingAngle",0):0;if(w){var N=_s(w.endAngle-w.startAngle,j.endAngle-j.startAngle),k=_r(_r({},j),{},{startAngle:y+_,endAngle:y+N(x)+_});g.push(k),y=k.endAngle}else{var C=j.endAngle,P=j.startAngle,A=_s(0,C-P),O=A(x),I=_r(_r({},j),{},{startAngle:y+_,endAngle:y+O+_});g.push(I),y=I.endAngle}}),L.createElement(Ft,null,a.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(a){var n=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[o].focus(),n.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[l].focus(),n.setState({sectorToFocus:l});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,n=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&n&&n.length&&(!o||!jl(o,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,n=this.props,i=n.hide,o=n.sectors,l=n.className,c=n.label,d=n.cx,u=n.cy,m=n.innerRadius,h=n.outerRadius,p=n.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!_e(d)||!_e(u)||!_e(m)||!_e(h))return null;var x=jt("recharts-pie",l);return L.createElement(Ft,{tabIndex:this.props.rootTabIndex,className:x,ref:function(b){a.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Ds.renderCallByParent(this.props,null,!1),(!p||v)&&ei.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return n.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:a.sectors!==n.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,n){return a>n?"start":a<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,n,i){if(L.isValidElement(a))return L.cloneElement(a,n);if(ot(a))return a(n);var o=jt("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return L.createElement(sl,lc({},n,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,n,i){if(L.isValidElement(a))return L.cloneElement(a,n);var o=i;if(ot(a)&&(o=a(n),L.isValidElement(o)))return o;var l=jt("recharts-pie-label-text",typeof a!="boolean"&&!ot(a)?a.className:"");return L.createElement(yl,lc({},n,{alignmentBaseline:"middle",className:l}),o)}}])})(f.PureComponent);Zh=Wi;Va(Wi,"displayName","Pie");Va(Wi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ro.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Va(Wi,"parseDeltaAngle",function(t,r){var s=sa(r-t),a=Math.min(Math.abs(r-t),360);return s*a});Va(Wi,"getRealPieData",function(t){var r=t.data,s=t.children,a=tt(t,!1),n=Ia(s,Xm);return r&&r.length?r.map(function(i,o){return _r(_r(_r({payload:i},a),i),n&&n[o]&&n[o].props)}):n&&n.length?n.map(function(i){return _r(_r({},a),i.props)}):[]});Va(Wi,"parseCoordinateOfPie",function(t,r){var s=r.top,a=r.left,n=r.width,i=r.height,o=Z$(n,i),l=a+aa(t.cx,n,n/2),c=s+aa(t.cy,i,i/2),d=aa(t.innerRadius,o,0),u=aa(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(n*n+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:m}});Va(Wi,"getComposedData",function(t){var r=t.item,s=t.offset,a=r.type.defaultProps!==void 0?_r(_r({},r.type.defaultProps),r.props):r.props,n=Zh.getRealPieData(a);if(!n||!n.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,c=a.paddingAngle,d=a.dataKey,u=a.nameKey,m=a.valueKey,h=a.tooltipType,p=Math.abs(a.minAngle),v=Zh.parseCoordinateOfPie(a,s),x=Zh.parseDeltaAngle(o,l),g=Math.abs(x),b=d;vt(d)&&vt(m)?(gn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):vt(d)&&(gn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=m);var y=n.filter(function(k){return es(k,b,0)!==0}).length,j=(g>=360?y:y-1)*c,S=g-y*p-j,w=n.reduce(function(k,C){var P=es(C,b,0);return k+(_e(P)?P:0)},0),_;if(w>0){var N;_=n.map(function(k,C){var P=es(k,b,0),A=es(k,u,C),O=(_e(P)?P:0)/w,I;C?I=N.endAngle+sa(x)*c*(P!==0?1:0):I=o;var F=I+sa(x)*((P!==0?p:0)+O*S),$=(I+F)/2,E=(v.innerRadius+v.outerRadius)/2,M=[{name:A,value:P,payload:k,dataKey:b,type:h}],z=kr(v.cx,v.cy,E,$);return N=_r(_r(_r({percent:O,cornerRadius:i,name:A,tooltipPayload:M,midAngle:$,middleRadius:E,tooltipPosition:z},k),v),{},{value:es(k,b),startAngle:I,endAngle:F,payload:k,paddingAngle:sa(x)*c}),N})}return _r(_r({},v),{},{sectors:_,data:n})});var Xj,iO;function pge(){if(iO)return Xj;iO=1;var t=Math.ceil,r=Math.max;function s(a,n,i,o){for(var l=-1,c=r(t((n-a)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=a,a+=i;return d}return Xj=s,Xj}var Qj,oO;function vq(){if(oO)return Qj;oO=1;var t=q6(),r=1/0,s=17976931348623157e292;function a(n){if(!n)return n===0?n:0;if(n=t(n),n===r||n===-r){var i=n<0?-1:1;return i*s}return n===n?n:0}return Qj=a,Qj}var Jj,lO;function xge(){if(lO)return Jj;lO=1;var t=pge(),r=Kx(),s=vq();function a(n){return function(i,o,l){return l&&typeof l!="number"&&r(i,o,l)&&(o=l=void 0),i=s(i),o===void 0?(o=i,i=0):o=s(o),l=l===void 0?i<o?1:-1:s(l),t(i,o,l,n)}}return Jj=a,Jj}var Zj,cO;function gge(){if(cO)return Zj;cO=1;var t=xge(),r=t();return Zj=r,Zj}var vge=gge();const bp=vr(vge);function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jm(t)}function dO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function uO(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?dO(Object(s),!0).forEach(function(a){bq(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):dO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function bq(t,r,s){return r=bge(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function bge(t){var r=yge(t,"string");return jm(r)=="symbol"?r:r+""}function yge(t,r){if(jm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var jge=["Webkit","Moz","O","ms"],wge=function(r,s){var a=r.replace(/(\w)/,function(i){return i.toUpperCase()}),n=jge.reduce(function(i,o){return uO(uO({},i),{},bq({},o+a,s))},{});return n[r]=s,n};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},td(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},yp.apply(this,arguments)}function mO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function e0(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?mO(Object(s),!0).forEach(function(a){ka(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):mO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Nge(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function hO(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,jq(a.key),a)}}function _ge(t,r,s){return r&&hO(t.prototype,r),s&&hO(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sge(t,r,s){return r=jp(r),Cge(t,yq()?Reflect.construct(r,s||[],jp(t).constructor):r.apply(t,s))}function Cge(t,r){if(r&&(td(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},jp(t)}function Age(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&bN(t,r)}function bN(t,r){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},bN(t,r)}function ka(t,r,s){return r=jq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function jq(t){var r=Pge(t,"string");return td(r)=="symbol"?r:r+""}function Pge(t,r){if(td(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(td(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ege=function(r){var s=r.data,a=r.startIndex,n=r.endIndex,i=r.x,o=r.width,l=r.travellerWidth;if(!s||!s.length)return{};var c=s.length,d=yu().domain(bp(0,c)).range([i,i+o-l]),u=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(n),scale:d,scaleValues:u}},fO=function(r){return r.changedTouches&&!!r.changedTouches.length},rd=(function(t){function r(s){var a;return Nge(this,r),a=Sge(this,r,[s]),ka(a,"handleDrag",function(n){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(n):a.state.isSlideMoving&&a.handleSlideDrag(n)}),ka(a,"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&a.handleDrag(n.changedTouches[0])}),ka(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=a.props,i=n.endIndex,o=n.onDragEnd,l=n.startIndex;o?.({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),ka(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),ka(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),ka(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),ka(a,"handleSlideDragStart",function(n){var i=fO(n)?n.changedTouches[0]:n;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return Age(r,t),_ge(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var n=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,m=Math.min(n,i),h=Math.max(n,i),p=r.getIndexInRange(o,m),v=r.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:v===u?u:v-v%c}}},{key:"getTextOfTick",value:function(a){var n=this.props,i=n.data,o=n.tickFormatter,l=n.dataKey,c=es(i[a],l,a);return ot(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var n=this.state,i=n.slideMoveStartX,o=n.startX,l=n.endX,c=this.props,d=c.x,u=c.width,m=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,x=a.pageX-i;x>0?x=Math.min(x,d+u-m-l,d+u-m-o):x<0&&(x=Math.max(x,d-o,d-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,n){var i=fO(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var n=this.state,i=n.brushMoveStartX,o=n.movingTravellerId,l=n.endX,c=n.startX,d=this.state[o],u=this.props,m=u.x,h=u.width,p=u.travellerWidth,v=u.onChange,x=u.gap,g=u.data,b={startX:this.state.startX,endX:this.state.endX},y=a.pageX-i;y>0?y=Math.min(y,m+h-p-d):y<0&&(y=Math.max(y,m-d)),b[o]=d+y;var j=this.getIndex(b),S=j.startIndex,w=j.endIndex,_=function(){var k=g.length-1;return o==="startX"&&(l>c?S%x===0:w%x===0)||l<c&&w===k||o==="endX"&&(l>c?w%x===0:S%x===0)||l>c&&w===k};this.setState(ka(ka({},o,d+y),"brushMoveStartX",a.pageX),function(){v&&_()&&v(j)})}},{key:"handleTravellerMoveKeyboard",value:function(a,n){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[n],m=l.indexOf(u);if(m!==-1){var h=m+a;if(!(h===-1||h>=l.length)){var p=l[h];n==="startX"&&p>=d||n==="endX"&&p<=c||this.setState(ka({},n,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return L.createElement("rect",{stroke:d,fill:c,x:n,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.data,d=a.children,u=a.padding,m=f.Children.only(d);return m?L.cloneElement(m,{x:n,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,n){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,m=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,x=c.startIndex,g=c.endIndex,b=Math.max(a,this.props.x),y=e0(e0({},tt(this.props,!1)),{},{x:b,y:d,width:u,height:m}),j=p||"Min value: ".concat((i=v[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return L.createElement(Ft,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,n))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(h,y))}},{key:"renderSlide",value:function(a,n){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(a,n)+d,m=Math.max(Math.abs(n-a)-d,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:m,height:l})}},{key:"renderText",value:function(){var a=this.props,n=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,u=this.state,m=u.startX,h=u.endX,p=5,v={pointerEvents:"none",fill:d};return L.createElement(Ft,{className:"recharts-brush-texts"},L.createElement(yl,yp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,h)-p,y:o+l/2},v),this.getTextOfTick(n)),L.createElement(yl,yp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,h)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,n=a.data,i=a.className,o=a.children,l=a.x,c=a.y,d=a.width,u=a.height,m=a.alwaysShowText,h=this.state,p=h.startX,v=h.endX,x=h.isTextActive,g=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!n||!n.length||!_e(l)||!_e(c)||!_e(d)||!_e(u)||d<=0||u<=0)return null;var j=jt("recharts-brush",i),S=L.Children.count(o)===1,w=wge("userSelect","none");return L.createElement(Ft,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(x||g||b||y||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var n=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(i+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:n,y:i,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:n+1,y1:d,x2:n+o-1,y2:d,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:n+1,y1:d+2,x2:n+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,n){var i;return L.isValidElement(a)?i=L.cloneElement(a,n):ot(a)?i=a(n):i=r.renderDefaultTraveller(n),i}},{key:"getDerivedStateFromProps",value:function(a,n){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,u=a.startIndex,m=a.endIndex;if(i!==n.prevData||d!==n.prevUpdateId)return e0({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?Ege({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:m}):{scale:null,scaleValues:null});if(n.scale&&(o!==n.prevWidth||l!==n.prevX||c!==n.prevTravellerWidth)){n.scale.range([l,l+o-c]);var h=n.scale.domain().map(function(p){return n.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:n.scale(a.startIndex),endX:n.scale(a.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(a,n){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>n?l=c:o=c}return n>=a[l]?l:o}}])})(f.PureComponent);ka(rd,"displayName","Brush");ka(rd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var t0,pO;function Tge(){if(pO)return t0;pO=1;var t=X1();function r(s,a){var n;return t(s,function(i,o,l){return n=a(i,o,l),!n}),!!n}return t0=r,t0}var r0,xO;function Oge(){if(xO)return r0;xO=1;var t=g6(),r=pi(),s=Tge(),a=Na(),n=Kx();function i(o,l,c){var d=a(o)?t:s;return c&&n(o,l,c)&&(l=void 0),d(o,r(l,3))}return r0=i,r0}var Dge=Oge();const Rge=vr(Dge);var ti=function(r,s){var a=r.alwaysShow,n=r.ifOverflow;return a&&(n="extendDomain"),n===s},s0,gO;function Ige(){if(gO)return s0;gO=1;var t=I6();function r(s,a,n){a=="__proto__"&&t?t(s,a,{configurable:!0,enumerable:!0,value:n,writable:!0}):s[a]=n}return s0=r,s0}var a0,vO;function Mge(){if(vO)return a0;vO=1;var t=Ige(),r=D6(),s=pi();function a(n,i){var o={};return i=s(i,3),r(n,function(l,c,d){t(o,c,i(l,c,d))}),o}return a0=a,a0}var Fge=Mge();const Lge=vr(Fge);var n0,bO;function $ge(){if(bO)return n0;bO=1;function t(r,s){for(var a=-1,n=r==null?0:r.length;++a<n;)if(!s(r[a],a,r))return!1;return!0}return n0=t,n0}var i0,yO;function qge(){if(yO)return i0;yO=1;var t=X1();function r(s,a){var n=!0;return t(s,function(i,o,l){return n=!!a(i,o,l),n}),n}return i0=r,i0}var o0,jO;function zge(){if(jO)return o0;jO=1;var t=$ge(),r=qge(),s=pi(),a=Na(),n=Kx();function i(o,l,c){var d=a(o)?t:r;return c&&n(o,l,c)&&(l=void 0),d(o,s(l,3))}return o0=i,o0}var Bge=zge();const wq=vr(Bge);var Uge=["x","y"];function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wm(t)}function yN(){return yN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},yN.apply(this,arguments)}function wO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function au(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?wO(Object(s),!0).forEach(function(a){Vge(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):wO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Vge(t,r,s){return r=Wge(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Wge(t){var r=Hge(t,"string");return wm(r)=="symbol"?r:r+""}function Hge(t,r){if(wm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(wm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Kge(t,r){if(t==null)return{};var s=Gge(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Gge(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function Yge(t,r){var s=t.x,a=t.y,n=Kge(t,Uge),i="".concat(s),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),d="".concat(r.height||n.height),u=parseInt(d,10),m="".concat(r.width||n.width),h=parseInt(m,10);return au(au(au(au(au({},r),n),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:r.name,radius:r.radius})}function NO(t){return L.createElement(pq,yN({shapeType:"rectangle",propTransformer:Yge,activeClassName:"recharts-active-bar"},t))}var Xge=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,n){if(typeof r=="number")return r;var i=_e(a)||jae(a);return i?r(a,n):(i||Nl(),s)}},Qge=["value","background"],Nq;function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sd(t)}function Jge(t,r){if(t==null)return{};var s=Zge(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Zge(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},wp.apply(this,arguments)}function _O(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function os(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_O(Object(s),!0).forEach(function(a){lo(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_O(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function eve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function SO(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Sq(a.key),a)}}function tve(t,r,s){return r&&SO(t.prototype,r),s&&SO(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function rve(t,r,s){return r=Np(r),sve(t,_q()?Reflect.construct(r,s||[],Np(t).constructor):r.apply(t,s))}function sve(t,r){if(r&&(sd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ave(t)}function ave(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Np(t)}function nve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&jN(t,r)}function jN(t,r){return jN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},jN(t,r)}function lo(t,r,s){return r=Sq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Sq(t){var r=ive(t,"string");return sd(r)=="symbol"?r:r+""}function ive(t,r){if(sd(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(sd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ql=(function(t){function r(){var s;eve(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=rve(this,r,[].concat(n)),lo(s,"state",{isAnimationFinished:!1}),lo(s,"id",Ml("recharts-bar-")),lo(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),o&&o()}),lo(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),o&&o()}),s}return nve(r,t),tve(r,[{key:"renderRectanglesStatically",value:function(a){var n=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=tt(this.props,!1);return a&&a.map(function(m,h){var p=h===c,v=p?d:o,x=os(os(os({},u),m),{},{isActive:p,option:v,index:h,dataKey:l,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return L.createElement(Ft,wp({className:"recharts-bar-rectangle"},bl(n.props,m,h),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(h)}),L.createElement(NO,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,n=this.props,i=n.data,o=n.layout,l=n.isAnimationActive,c=n.animationBegin,d=n.animationDuration,u=n.animationEasing,m=n.animationId,h=this.state.prevData;return L.createElement(wn,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,x=i.map(function(g,b){var y=h&&h[b];if(y){var j=_s(y.x,g.x),S=_s(y.y,g.y),w=_s(y.width,g.width),_=_s(y.height,g.height);return os(os({},g),{},{x:j(v),y:S(v),width:w(v),height:_(v)})}if(o==="horizontal"){var N=_s(0,g.height),k=N(v);return os(os({},g),{},{y:g.y+g.height-k,height:k})}var C=_s(0,g.width),P=C(v);return os(os({},g),{},{width:P})});return L.createElement(Ft,null,a.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var a=this.props,n=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&n&&n.length&&(!o||!jl(o,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var a=this,n=this.props,i=n.data,o=n.dataKey,l=n.activeIndex,c=tt(this.props.background,!1);return i.map(function(d,u){d.value;var m=d.background,h=Jge(d,Qge);if(!m)return null;var p=os(os(os(os(os({},h),{},{fill:"#eee"},m),c),bl(a.props,d,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return L.createElement(NO,wp({key:"background-bar-".concat(u),option:a.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=Ia(u,th);if(!m)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,p=function(g,b){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:es(g,b)}},v={clipPath:a?"url(#clipPath-".concat(n,")"):null};return L.createElement(Ft,v,m.map(function(x){return L.cloneElement(x,{key:"error-bar-".concat(n,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var a=this.props,n=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,u=a.top,m=a.width,h=a.height,p=a.isAnimationActive,v=a.background,x=a.id;if(n||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=jt("recharts-bar",o),y=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,S=y||j,w=vt(x)?this.id:x;return L.createElement(Ft,{className:b},y||j?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(w)},L.createElement("rect",{x:y?d:d-m/2,y:j?u:u-h/2,width:y?m:m*2,height:j?h:h*2}))):null,L.createElement(Ft,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||g)&&ei.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:n.curData}:a.data!==n.curData?{curData:a.data}:null}}])})(f.PureComponent);Nq=ql;lo(ql,"displayName","Bar");lo(ql,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ro.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});lo(ql,"getComposedData",function(t){var r=t.props,s=t.item,a=t.barPosition,n=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,m=t.displayedData,h=t.offset,p=Ime(a,s);if(!p)return null;var v=r.layout,x=s.type.defaultProps,g=x!==void 0?os(os({},x),s.props):s.props,b=g.dataKey,y=g.children,j=g.minPointSize,S=v==="horizontal"?o:i,w=d?S.scale.domain():null,_=Bme({numericAxis:S}),N=Ia(y,Xm),k=m.map(function(C,P){var A,O,I,F,$,E;d?A=Mme(d[u+P],w):(A=es(C,b),Array.isArray(A)||(A=[_,A]));var M=Xge(j,Nq.defaultProps.minPointSize)(A[1],P);if(v==="horizontal"){var z,R=[o.scale(A[0]),o.scale(A[1])],te=R[0],V=R[1];O=XE({axis:i,ticks:l,bandSize:n,offset:p.offset,entry:C,index:P}),I=(z=V??te)!==null&&z!==void 0?z:void 0,F=p.size;var D=te-V;if($=Number.isNaN(D)?0:D,E={x:O,y:o.y,width:F,height:o.height},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var H=sa($||M)*(Math.abs(M)-Math.abs($));I-=H,$+=H}}else{var ae=[i.scale(A[0]),i.scale(A[1])],U=ae[0],se=ae[1];if(O=U,I=XE({axis:o,ticks:c,bandSize:n,offset:p.offset,entry:C,index:P}),F=se-U,$=p.size,E={x:i.x,y:I,width:i.width,height:$},Math.abs(M)>0&&Math.abs(F)<Math.abs(M)){var Q=sa(F||M)*(Math.abs(M)-Math.abs(F));F+=Q}}return os(os(os({},C),{},{x:O,y:I,width:F,height:$,value:d?A:A[1],payload:C,background:E},N&&N[P]&&N[P].props),{},{tooltipPayload:[Q$(s,C)],tooltipPosition:{x:O+F/2,y:I+$/2}})});return os({data:k,layout:v},h)});function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nm(t)}function ove(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function CO(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Cq(a.key),a)}}function lve(t,r,s){return r&&CO(t.prototype,r),s&&CO(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function kO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function un(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?kO(Object(s),!0).forEach(function(a){ug(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):kO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function ug(t,r,s){return r=Cq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Cq(t){var r=cve(t,"string");return Nm(r)=="symbol"?r:r+""}function cve(t,r){if(Nm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Nm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var SS=function(r,s,a,n,i){var o=r.width,l=r.height,c=r.layout,d=r.children,u=Object.keys(s),m={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},h=!!Aa(d,ql);return u.reduce(function(p,v){var x=s[v],g=x.orientation,b=x.domain,y=x.padding,j=y===void 0?{}:y,S=x.mirror,w=x.reversed,_="".concat(g).concat(S?"Mirror":""),N,k,C,P,A;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var O=b[1]-b[0],I=1/0,F=x.categoricalDomain.sort(_ae);if(F.forEach(function(ae,U){U>0&&(I=Math.min((ae||0)-(F[U-1]||0),I))}),Number.isFinite(I)){var $=I/O,E=x.layout==="vertical"?a.height:a.width;if(x.padding==="gap"&&(N=$*E/2),x.padding==="no-gap"){var M=aa(r.barCategoryGap,$*E),z=$*E/2;N=z-M-(z-M)/E*M}}}n==="xAxis"?k=[a.left+(j.left||0)+(N||0),a.left+a.width-(j.right||0)-(N||0)]:n==="yAxis"?k=c==="horizontal"?[a.top+a.height-(j.bottom||0),a.top+(j.top||0)]:[a.top+(j.top||0)+(N||0),a.top+a.height-(j.bottom||0)-(N||0)]:k=x.range,w&&(k=[k[1],k[0]]);var R=K$(x,i,h),te=R.scale,V=R.realScaleType;te.domain(b).range(k),G$(te);var D=Y$(te,un(un({},x),{},{realScaleType:V}));n==="xAxis"?(A=g==="top"&&!S||g==="bottom"&&S,C=a.left,P=m[_]-A*x.height):n==="yAxis"&&(A=g==="left"&&!S||g==="right"&&S,C=m[_]-A*x.width,P=a.top);var H=un(un(un({},x),D),{},{realScaleType:V,x:C,y:P,scale:te,width:n==="xAxis"?a.width:x.width,height:n==="yAxis"?a.height:x.height});return H.bandSize=op(H,D),!x.hide&&n==="xAxis"?m[_]+=(A?-1:1)*H.height:x.hide||(m[_]+=(A?-1:1)*H.width),un(un({},p),{},ug({},v,H))},{})},kq=function(r,s){var a=r.x,n=r.y,i=s.x,o=s.y;return{x:Math.min(a,i),y:Math.min(n,o),width:Math.abs(i-a),height:Math.abs(o-n)}},dve=function(r){var s=r.x1,a=r.y1,n=r.x2,i=r.y2;return kq({x:s,y:a},{x:n,y:i})},Aq=(function(){function t(r){ove(this,t),this.scale=r}return lve(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.bandAware,i=a.position;if(s!==void 0){if(i)switch(i){case"start":return this.scale(s);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(s)+l}default:return this.scale(s)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+c}return this.scale(s)}}},{key:"isInRange",value:function(s){var a=this.range(),n=a[0],i=a[a.length-1];return n<=i?s>=n&&s<=i:s>=i&&s<=n}}],[{key:"create",value:function(s){return new t(s)}}])})();ug(Aq,"EPS",1e-4);var CS=function(r){var s=Object.keys(r).reduce(function(a,n){return un(un({},a),{},ug({},n,Aq.create(r[n])))},{});return un(un({},s),{},{apply:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Lge(n,function(c,d){return s[d].apply(c,{bandAware:o,position:l})})},isInRange:function(n){return wq(n,function(i,o){return s[o].isInRange(i)})}})};function uve(t){return(t%180+180)%180}var mve=function(r){var s=r.width,a=r.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=uve(n),o=i*Math.PI/180,l=Math.atan(a/s),c=o>l&&o<Math.PI-l?a/Math.sin(o):s/Math.cos(o);return Math.abs(c)},l0,AO;function hve(){if(AO)return l0;AO=1;var t=pi(),r=Ym(),s=Wx();function a(n){return function(i,o,l){var c=Object(i);if(!r(i)){var d=t(o,3);i=s(i),o=function(m){return d(c[m],m,c)}}var u=n(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return l0=a,l0}var c0,PO;function fve(){if(PO)return c0;PO=1;var t=vq();function r(s){var a=t(s),n=a%1;return a===a?n?a-n:a:0}return c0=r,c0}var d0,EO;function pve(){if(EO)return d0;EO=1;var t=A6(),r=pi(),s=fve(),a=Math.max;function n(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:s(l);return d<0&&(d=a(c+d,0)),t(i,r(o,3),d)}return d0=n,d0}var u0,TO;function xve(){if(TO)return u0;TO=1;var t=hve(),r=pve(),s=t(r);return u0=s,u0}var gve=xve();const vve=vr(gve);var bve=UL();const yve=vr(bve);var jve=yve(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),kS=f.createContext(void 0),AS=f.createContext(void 0),Pq=f.createContext(void 0),Eq=f.createContext({}),Tq=f.createContext(void 0),Oq=f.createContext(0),Dq=f.createContext(0),OO=function(r){var s=r.state,a=s.xAxisMap,n=s.yAxisMap,i=s.offset,o=r.clipPathId,l=r.children,c=r.width,d=r.height,u=jve(i);return L.createElement(kS.Provider,{value:a},L.createElement(AS.Provider,{value:n},L.createElement(Eq.Provider,{value:i},L.createElement(Pq.Provider,{value:u},L.createElement(Tq.Provider,{value:o},L.createElement(Oq.Provider,{value:d},L.createElement(Dq.Provider,{value:c},l)))))))},wve=function(){return f.useContext(Tq)},Rq=function(r){var s=f.useContext(kS);s==null&&Nl();var a=s[r];return a==null&&Nl(),a},Nve=function(){var r=f.useContext(kS);return no(r)},_ve=function(){var r=f.useContext(AS),s=vve(r,function(a){return wq(a.domain,Number.isFinite)});return s||no(r)},Iq=function(r){var s=f.useContext(AS);s==null&&Nl();var a=s[r];return a==null&&Nl(),a},Sve=function(){var r=f.useContext(Pq);return r},Cve=function(){return f.useContext(Eq)},PS=function(){return f.useContext(Dq)},ES=function(){return f.useContext(Oq)};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ad(t)}function kve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ave(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Fq(a.key),a)}}function Pve(t,r,s){return r&&Ave(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eve(t,r,s){return r=_p(r),Tve(t,Mq()?Reflect.construct(r,s||[],_p(t).constructor):r.apply(t,s))}function Tve(t,r){if(r&&(ad(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ove(t)}function Ove(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_p(t)}function Dve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&wN(t,r)}function wN(t,r){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},wN(t,r)}function DO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function RO(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?DO(Object(s),!0).forEach(function(a){TS(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):DO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function TS(t,r,s){return r=Fq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Fq(t){var r=Rve(t,"string");return ad(r)=="symbol"?r:r+""}function Rve(t,r){if(ad(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(ad(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ive(t,r){return $ve(t)||Lve(t,r)||Fve(t,r)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fve(t,r){if(t){if(typeof t=="string")return IO(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return IO(t,r)}}function IO(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function Lve(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function $ve(t){if(Array.isArray(t))return t}function NN(){return NN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},NN.apply(this,arguments)}var qve=function(r,s){var a;return L.isValidElement(r)?a=L.cloneElement(r,s):ot(r)?a=r(s):a=L.createElement("line",NN({},s,{className:"recharts-reference-line-line"})),a},zve=function(r,s,a,n,i,o,l,c,d){var u=i.x,m=i.y,h=i.width,p=i.height;if(a){var v=d.y,x=r.y.apply(v,{position:o});if(ti(d,"discard")&&!r.y.isInRange(x))return null;var g=[{x:u+h,y:x},{x:u,y:x}];return c==="left"?g.reverse():g}if(s){var b=d.x,y=r.x.apply(b,{position:o});if(ti(d,"discard")&&!r.x.isInRange(y))return null;var j=[{x:y,y:m+p},{x:y,y:m}];return l==="top"?j.reverse():j}if(n){var S=d.segment,w=S.map(function(_){return r.apply(_,{position:o})});return ti(d,"discard")&&Rge(w,function(_){return!r.isInRange(_)})?null:w}return null};function Bve(t){var r=t.x,s=t.y,a=t.segment,n=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=wve(),u=Rq(n),m=Iq(i),h=Sve();if(!d||!h)return null;gn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=CS({x:u.scale,y:m.scale}),v=Ss(r),x=Ss(s),g=a&&a.length===2,b=zve(p,v,x,g,h,t.position,u.orientation,m.orientation,t);if(!b)return null;var y=Ive(b,2),j=y[0],S=j.x,w=j.y,_=y[1],N=_.x,k=_.y,C=ti(t,"hidden")?"url(#".concat(d,")"):void 0,P=RO(RO({clipPath:C},tt(t,!0)),{},{x1:S,y1:w,x2:N,y2:k});return L.createElement(Ft,{className:jt("recharts-reference-line",l)},qve(o,P),Ds.renderCallByParent(t,dve({x1:S,y1:w,x2:N,y2:k})))}var OS=(function(t){function r(){return kve(this,r),Eve(this,r,arguments)}return Dve(r,t),Pve(r,[{key:"render",value:function(){return L.createElement(Bve,this.props)}}])})(L.Component);TS(OS,"displayName","ReferenceLine");TS(OS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},_N.apply(this,arguments)}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nd(t)}function MO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function FO(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?MO(Object(s),!0).forEach(function(a){mg(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):MO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Uve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Vve(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,$q(a.key),a)}}function Wve(t,r,s){return r&&Vve(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hve(t,r,s){return r=Sp(r),Kve(t,Lq()?Reflect.construct(r,s||[],Sp(t).constructor):r.apply(t,s))}function Kve(t,r){if(r&&(nd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gve(t)}function Gve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lq=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Sp(t)}function Yve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&SN(t,r)}function SN(t,r){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},SN(t,r)}function mg(t,r,s){return r=$q(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function $q(t){var r=Xve(t,"string");return nd(r)=="symbol"?r:r+""}function Xve(t,r){if(nd(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(nd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qve=function(r){var s=r.x,a=r.y,n=r.xAxis,i=r.yAxis,o=CS({x:n.scale,y:i.scale}),l=o.apply({x:s,y:a},{bandAware:!0});return ti(r,"discard")&&!o.isInRange(l)?null:l},hg=(function(t){function r(){return Uve(this,r),Hve(this,r,arguments)}return Yve(r,t),Wve(r,[{key:"render",value:function(){var a=this.props,n=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=Ss(n),u=Ss(i);if(gn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var m=Qve(this.props);if(!m)return null;var h=m.x,p=m.y,v=this.props,x=v.shape,g=v.className,b=ti(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=FO(FO({clipPath:b},tt(this.props,!0)),{},{cx:h,cy:p});return L.createElement(Ft,{className:jt("recharts-reference-dot",g)},r.renderDot(x,y),Ds.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])})(L.Component);mg(hg,"displayName","ReferenceDot");mg(hg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mg(hg,"renderDot",function(t,r){var s;return L.isValidElement(t)?s=L.cloneElement(t,r):ot(t)?s=t(r):s=L.createElement(rh,_N({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),s});function CN(){return CN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},CN.apply(this,arguments)}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},id(t)}function LO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function $O(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?LO(Object(s),!0).forEach(function(a){fg(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):LO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Jve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Zve(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,zq(a.key),a)}}function ebe(t,r,s){return r&&Zve(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tbe(t,r,s){return r=Cp(r),rbe(t,qq()?Reflect.construct(r,s||[],Cp(t).constructor):r.apply(t,s))}function rbe(t,r){if(r&&(id(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbe(t)}function sbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Cp(t)}function abe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&kN(t,r)}function kN(t,r){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},kN(t,r)}function fg(t,r,s){return r=zq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function zq(t){var r=nbe(t,"string");return id(r)=="symbol"?r:r+""}function nbe(t,r){if(id(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(id(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ibe=function(r,s,a,n,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,m=i.yAxis;if(!u||!m)return null;var h=CS({x:u.scale,y:m.scale}),p={x:r?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:a?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:s?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:n?h.y.apply(d,{position:"end"}):h.y.rangeMax};return ti(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:kq(p,v)},pg=(function(t){function r(){return Jve(this,r),tbe(this,r,arguments)}return abe(r,t),ebe(r,[{key:"render",value:function(){var a=this.props,n=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,u=a.clipPathId;gn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Ss(n),h=Ss(i),p=Ss(o),v=Ss(l),x=this.props.shape;if(!m&&!h&&!p&&!v&&!x)return null;var g=ibe(m,h,p,v,this.props);if(!g&&!x)return null;var b=ti(this.props,"hidden")?"url(#".concat(u,")"):void 0;return L.createElement(Ft,{className:jt("recharts-reference-area",c)},r.renderRect(x,$O($O({clipPath:b},tt(this.props,!0)),g)),Ds.renderCallByParent(this.props,g))}}])})(L.Component);fg(pg,"displayName","ReferenceArea");fg(pg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fg(pg,"renderRect",function(t,r){var s;return L.isValidElement(t)?s=L.cloneElement(t,r):ot(t)?s=t(r):s=L.createElement(_S,CN({},r,{className:"recharts-reference-area-rect"})),s});function Bq(t,r,s){if(r<1)return[];if(r===1&&s===void 0)return t;for(var a=[],n=0;n<t.length;n+=r)a.push(t[n]);return a}function obe(t,r,s){var a={width:t.width+r.width,height:t.height+r.height};return mve(a,s)}function lbe(t,r,s){var a=s==="width",n=t.x,i=t.y,o=t.width,l=t.height;return r===1?{start:a?n:i,end:a?n+o:i+l}:{start:a?n+o:i+l,end:a?n:i}}function kp(t,r,s,a,n){if(t*r<t*a||t*r>t*n)return!1;var i=s();return t*(r-t*i/2-a)>=0&&t*(r+t*i/2-n)<=0}function cbe(t,r){return Bq(t,r+1)}function dbe(t,r,s,a,n){for(var i=(a||[]).slice(),o=r.start,l=r.end,c=0,d=1,u=o,m=function(){var v=a?.[c];if(v===void 0)return{v:Bq(a,d)};var x=c,g,b=function(){return g===void 0&&(g=s(v,x)),g},y=v.coordinate,j=c===0||kp(t,y,b,u,l);j||(c=0,u=o,d+=1),j&&(u=y+t*(b()/2+n),c+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_m(t)}function qO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Gs(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?qO(Object(s),!0).forEach(function(a){ube(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):qO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function ube(t,r,s){return r=mbe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function mbe(t){var r=hbe(t,"string");return _m(r)=="symbol"?r:r+""}function hbe(t,r){if(_m(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(_m(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function fbe(t,r,s,a,n){for(var i=(a||[]).slice(),o=i.length,l=r.start,c=r.end,d=function(h){var p=i[h],v,x=function(){return v===void 0&&(v=s(p,h)),v};if(h===o-1){var g=t*(p.coordinate+t*x()/2-c);i[h]=p=Gs(Gs({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else i[h]=p=Gs(Gs({},p),{},{tickCoord:p.coordinate});var b=kp(t,p.tickCoord,x,l,c);b&&(c=p.tickCoord-t*(x()/2+n),i[h]=Gs(Gs({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function pbe(t,r,s,a,n,i){var o=(a||[]).slice(),l=o.length,c=r.start,d=r.end;if(i){var u=a[l-1],m=s(u,l-1),h=t*(u.coordinate+t*m/2-d);o[l-1]=u=Gs(Gs({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=kp(t,u.tickCoord,function(){return m},c,d);p&&(d=u.tickCoord-t*(m/2+n),o[l-1]=Gs(Gs({},u),{},{isShow:!0}))}for(var v=i?l-1:l,x=function(y){var j=o[y],S,w=function(){return S===void 0&&(S=s(j,y)),S};if(y===0){var _=t*(j.coordinate-t*w()/2-c);o[y]=j=Gs(Gs({},j),{},{tickCoord:_<0?j.coordinate-_*t:j.coordinate})}else o[y]=j=Gs(Gs({},j),{},{tickCoord:j.coordinate});var N=kp(t,j.tickCoord,w,c,d);N&&(c=j.tickCoord+t*(w()/2+n),o[y]=Gs(Gs({},j),{},{isShow:!0}))},g=0;g<v;g++)x(g);return o}function DS(t,r,s){var a=t.tick,n=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,m=t.angle;if(!n||!n.length||!a)return[];if(_e(c)||Ro.isSsr)return cbe(n,typeof c=="number"&&_e(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",v=u&&p==="width"?bu(u,{fontSize:r,letterSpacing:s}):{width:0,height:0},x=function(j,S){var w=ot(d)?d(j.value,S):j.value;return p==="width"?obe(bu(w,{fontSize:r,letterSpacing:s}),v,m):bu(w,{fontSize:r,letterSpacing:s})[p]},g=n.length>=2?sa(n[1].coordinate-n[0].coordinate):1,b=lbe(i,g,p);return c==="equidistantPreserveStart"?dbe(g,b,x,n,o):(c==="preserveStart"||c==="preserveStartEnd"?h=pbe(g,b,x,n,o,c==="preserveStartEnd"):h=fbe(g,b,x,n,o),h.filter(function(y){return y.isShow}))}var xbe=["viewBox"],gbe=["viewBox"],vbe=["ticks"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},od(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},cc.apply(this,arguments)}function zO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function xs(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?zO(Object(s),!0).forEach(function(a){RS(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):zO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function m0(t,r){if(t==null)return{};var s=bbe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function bbe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function ybe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function BO(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Vq(a.key),a)}}function jbe(t,r,s){return r&&BO(t.prototype,r),s&&BO(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function wbe(t,r,s){return r=Ap(r),Nbe(t,Uq()?Reflect.construct(r,s||[],Ap(t).constructor):r.apply(t,s))}function Nbe(t,r){if(r&&(od(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _be(t)}function _be(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Ap(t)}function Sbe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&AN(t,r)}function AN(t,r){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},AN(t,r)}function RS(t,r,s){return r=Vq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Vq(t){var r=Cbe(t,"string");return od(r)=="symbol"?r:r+""}function Cbe(t,r){if(od(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ld=(function(t){function r(s){var a;return ybe(this,r),a=wbe(this,r,[s]),a.state={fontSize:"",letterSpacing:""},a}return Sbe(r,t),jbe(r,[{key:"shouldComponentUpdate",value:function(a,n){var i=a.viewBox,o=m0(a,xbe),l=this.props,c=l.viewBox,d=m0(l,gbe);return!jc(i,c)||!jc(o,d)||!jc(n,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var n=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.x,o=n.y,l=n.width,c=n.height,d=n.orientation,u=n.tickSize,m=n.mirror,h=n.tickMargin,p,v,x,g,b,y,j=m?-1:1,S=a.tickSize||u,w=_e(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":p=v=a.coordinate,g=o+ +!m*c,x=g-j*S,y=x-j*h,b=w;break;case"left":x=g=a.coordinate,v=i+ +!m*l,p=v-j*S,b=p-j*h,y=w;break;case"right":x=g=a.coordinate,v=i+ +m*l,p=v+j*S,b=p+j*h,y=w;break;default:p=v=a.coordinate,g=o+ +m*c,x=g+j*S,y=x+j*h,b=w;break}return{line:{x1:p,y1:x,x2:v,y2:g},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,o;switch(n){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,o="end";switch(n){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,u=a.axisLine,m=xs(xs(xs({},tt(this.props,!1)),tt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);m=xs(xs({},m),{},{x1:n,y1:i+h*l,x2:n+o,y2:i+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);m=xs(xs({},m),{},{x1:n+p*o,y1:i,x2:n+p*o,y2:i+l})}return L.createElement("line",cc({},m,{className:jt("recharts-cartesian-axis-line",Ra(u,"className"))}))}},{key:"renderTicks",value:function(a,n,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,m=l.tickFormatter,h=l.unit,p=DS(xs(xs({},this.props),{},{ticks:a}),n,i),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=tt(this.props,!1),b=tt(u,!1),y=xs(xs({},g),{},{fill:"none"},tt(c,!1)),j=p.map(function(S,w){var _=o.getTickLineCoord(S),N=_.line,k=_.tick,C=xs(xs(xs(xs({textAnchor:v,verticalAnchor:x},g),{},{stroke:"none",fill:d},b),k),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:m});return L.createElement(Ft,cc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},bl(o.props,S,w)),c&&L.createElement("line",cc({},y,N,{className:jt("recharts-cartesian-axis-tick-line",Ra(c,"className"))})),u&&r.renderTickItem(u,C,"".concat(ot(m)?m(S.value,w):S.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var a=this,n=this.props,i=n.axisLine,o=n.width,l=n.height,c=n.ticksGenerator,d=n.className,u=n.hide;if(u)return null;var m=this.props,h=m.ticks,p=m0(m,vbe),v=h;return ot(c)&&(v=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:L.createElement(Ft,{className:jt("recharts-cartesian-axis",d),ref:function(g){a.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ds.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,n,i){var o,l=jt(n.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(a)?o=L.cloneElement(a,xs(xs({},n),{},{className:l})):ot(a)?o=a(xs(xs({},n),{},{className:l})):o=L.createElement(yl,cc({},n,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(f.Component);RS(Ld,"displayName","CartesianAxis");RS(Ld,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kbe=["x1","y1","x2","y2","key"],Abe=["offset"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_l(t)}function UO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Xs(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?UO(Object(s),!0).forEach(function(a){Pbe(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):UO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Pbe(t,r,s){return r=Ebe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Ebe(t){var r=Tbe(t,"string");return _l(r)=="symbol"?r:r+""}function Tbe(t,r){if(_l(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(_l(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Jo.apply(this,arguments)}function VO(t,r){if(t==null)return{};var s=Obe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Obe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}var Dbe=function(r){var s=r.fill;if(!s||s==="none")return null;var a=r.fillOpacity,n=r.x,i=r.y,o=r.width,l=r.height,c=r.ry;return L.createElement("rect",{x:n,y:i,ry:c,width:o,height:l,stroke:"none",fill:s,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function Wq(t,r){var s;if(L.isValidElement(t))s=L.cloneElement(t,r);else if(ot(t))s=t(r);else{var a=r.x1,n=r.y1,i=r.x2,o=r.y2,l=r.key,c=VO(r,kbe),d=tt(c,!1);d.offset;var u=VO(d,Abe);s=L.createElement("line",Jo({},u,{x1:a,y1:n,x2:i,y2:o,fill:"none",key:l}))}return s}function Rbe(t){var r=t.x,s=t.width,a=t.horizontal,n=a===void 0?!0:a,i=t.horizontalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,c){var d=Xs(Xs({},t),{},{x1:r,y1:l,x2:r+s,y2:l,key:"line-".concat(c),index:c});return Wq(n,d)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Ibe(t){var r=t.y,s=t.height,a=t.vertical,n=a===void 0?!0:a,i=t.verticalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,c){var d=Xs(Xs({},t),{},{x1:l,y1:r,x2:l,y2:r+s,key:"line-".concat(c),index:c});return Wq(n,d)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Mbe(t){var r=t.horizontalFill,s=t.fillOpacity,a=t.x,n=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!r||!r.length)return null;var u=l.map(function(h){return Math.round(h+n-n)}).sort(function(h,p){return h-p});n!==u[0]&&u.unshift(0);var m=u.map(function(h,p){var v=!u[p+1],x=v?n+o-h:u[p+1]-h;if(x<=0)return null;var g=p%r.length;return L.createElement("rect",{key:"react-".concat(p),y:h,x:a,height:x,width:i,stroke:"none",fill:r[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Fbe(t){var r=t.vertical,s=r===void 0?!0:r,a=t.verticalFill,n=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!s||!a||!a.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var m=u.map(function(h,p){var v=!u[p+1],x=v?i+l-h:u[p+1]-h;if(x<=0)return null;var g=p%a.length;return L.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:c,stroke:"none",fill:a[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Lbe=function(r,s){var a=r.xAxis,n=r.width,i=r.height,o=r.offset;return H$(DS(Xs(Xs(Xs({},Ld.defaultProps),a),{},{ticks:ki(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,s)},$be=function(r,s){var a=r.yAxis,n=r.width,i=r.height,o=r.offset;return H$(DS(Xs(Xs(Xs({},Ld.defaultProps),a),{},{ticks:ki(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,s)},Xl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xg(t){var r,s,a,n,i,o,l=PS(),c=ES(),d=Cve(),u=Xs(Xs({},t),{},{stroke:(r=t.stroke)!==null&&r!==void 0?r:Xl.stroke,fill:(s=t.fill)!==null&&s!==void 0?s:Xl.fill,horizontal:(a=t.horizontal)!==null&&a!==void 0?a:Xl.horizontal,horizontalFill:(n=t.horizontalFill)!==null&&n!==void 0?n:Xl.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Xl.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Xl.verticalFill,x:_e(t.x)?t.x:d.left,y:_e(t.y)?t.y:d.top,width:_e(t.width)?t.width:d.width,height:_e(t.height)?t.height:d.height}),m=u.x,h=u.y,p=u.width,v=u.height,x=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,y=Nve(),j=_ve();if(!_e(p)||p<=0||!_e(v)||v<=0||!_e(m)||m!==+m||!_e(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||Lbe,w=u.horizontalCoordinatesGenerator||$be,_=u.horizontalPoints,N=u.verticalPoints;if((!_||!_.length)&&ot(w)){var k=g&&g.length,C=w({yAxis:j?Xs(Xs({},j),{},{ticks:k?g:j.ticks}):void 0,width:l,height:c,offset:d},k?!0:x);gn(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_l(C),"]")),Array.isArray(C)&&(_=C)}if((!N||!N.length)&&ot(S)){var P=b&&b.length,A=S({xAxis:y?Xs(Xs({},y),{},{ticks:P?b:y.ticks}):void 0,width:l,height:c,offset:d},P?!0:x);gn(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_l(A),"]")),Array.isArray(A)&&(N=A)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Dbe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),L.createElement(Rbe,Jo({},u,{offset:d,horizontalPoints:_,xAxis:y,yAxis:j})),L.createElement(Ibe,Jo({},u,{offset:d,verticalPoints:N,xAxis:y,yAxis:j})),L.createElement(Mbe,Jo({},u,{horizontalPoints:_})),L.createElement(Fbe,Jo({},u,{verticalPoints:N})))}xg.displayName="CartesianGrid";var qbe=["type","layout","connectNulls","ref"],zbe=["key"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ld(t)}function WO(t,r){if(t==null)return{};var s=Bbe(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Bbe(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Su.apply(this,arguments)}function HO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Ca(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?HO(Object(s),!0).forEach(function(a){mn(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):HO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Ql(t){return Hbe(t)||Wbe(t)||Vbe(t)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vbe(t,r){if(t){if(typeof t=="string")return PN(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return PN(t,r)}}function Wbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hbe(t){if(Array.isArray(t))return PN(t)}function PN(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function Kbe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function KO(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Kq(a.key),a)}}function Gbe(t,r,s){return r&&KO(t.prototype,r),s&&KO(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ybe(t,r,s){return r=Pp(r),Xbe(t,Hq()?Reflect.construct(r,s||[],Pp(t).constructor):r.apply(t,s))}function Xbe(t,r){if(r&&(ld(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qbe(t)}function Qbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hq=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Pp(t)}function Jbe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&EN(t,r)}function EN(t,r){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},EN(t,r)}function mn(t,r,s){return r=Kq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Kq(t){var r=Zbe(t,"string");return ld(r)=="symbol"?r:r+""}function Zbe(t,r){if(ld(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(ld(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sh=(function(t){function r(){var s;Kbe(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=Ybe(this,r,[].concat(n)),mn(s,"state",{isAnimationFinished:!0,totalLength:0}),mn(s,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),mn(s,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,y){return b+y});if(!d)return s.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),m=o%d,h=l-o,p=[],v=0,x=0;v<c.length;x+=c[v],++v)if(x+c[v]>m){p=[].concat(Ql(c.slice(0,v)),[m-x]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Ql(r.repeat(c,u)),Ql(p),g).map(function(b){return"".concat(b,"px")}).join(", ")}),mn(s,"id",Ml("recharts-line-")),mn(s,"pathRef",function(o){s.mainCurve=o}),mn(s,"handleAnimationEnd",function(){s.setState({isAnimationFinished:!0}),s.props.onAnimationEnd&&s.props.onAnimationEnd()}),mn(s,"handleAnimationStart",function(){s.setState({isAnimationFinished:!1}),s.props.onAnimationStart&&s.props.onAnimationStart()}),s}return Jbe(r,t),Gbe(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=Ia(u,th);if(!m)return null;var h=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:es(x.payload,g)}},p={clipPath:a?"url(#clipPath-".concat(n,")"):null};return L.createElement(Ft,p,m.map(function(v){return L.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(a,n,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,m=tt(this.props,!1),h=tt(c,!0),p=d.map(function(x,g){var b=Ca(Ca(Ca({key:"dot-".concat(g),r:3},m),h),{},{index:g,cx:x.x,cy:x.y,value:x.value,dataKey:u,payload:x.payload,points:d});return r.renderDotItem(c,b)}),v={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return L.createElement(Ft,Su({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(a,n,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var m=WO(l,qbe),h=Ca(Ca(Ca({},tt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:c,layout:d,connectNulls:u});return L.createElement(sl,Su({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,n){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,x=o.width,g=o.height,b=this.state,y=b.prevPoints,j=b.totalLength;return L.createElement(wn,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(y){var _=y.length/l.length,N=l.map(function(O,I){var F=Math.floor(I*_);if(y[F]){var $=y[F],E=_s($.x,O.x),M=_s($.y,O.y);return Ca(Ca({},O),{},{x:E(w),y:M(w)})}if(v){var z=_s(x*2,O.x),R=_s(g/2,O.y);return Ca(Ca({},O),{},{x:z(w),y:R(w)})}return Ca(Ca({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(N,a,n)}var k=_s(0,j),C=k(w),P;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});P=i.getStrokeDasharray(C,j,A)}else P=i.generateSimpleStrokeDasharray(j,C);return i.renderCurveStatically(l,a,n,{strokeDasharray:P})})}},{key:"renderCurve",value:function(a,n){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!jl(d,o))?this.renderCurveWithAnimation(a,n):this.renderCurveStatically(o,a,n)}},{key:"render",value:function(){var a,n=this.props,i=n.hide,o=n.dot,l=n.points,c=n.className,d=n.xAxis,u=n.yAxis,m=n.top,h=n.left,p=n.width,v=n.height,x=n.isAnimationActive,g=n.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,j=jt("recharts-line",c),S=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,_=S||w,N=vt(g)?this.id:g,k=(a=tt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,A=k.strokeWidth,O=A===void 0?2:A,I=GL(o)?o:{},F=I.clipDot,$=F===void 0?!0:F,E=P*2+O;return L.createElement(Ft,{className:j},S||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(N)},L.createElement("rect",{x:S?h:h-p/2,y:w?m:m-v/2,width:S?p:p*2,height:w?v:v*2})),!$&&L.createElement("clipPath",{id:"clipPath-dots-".concat(N)},L.createElement("rect",{x:h-E/2,y:m-E/2,width:p+E,height:v+E}))):null,!y&&this.renderCurve(_,N),this.renderErrorBar(_,N),(y||o)&&this.renderDots(_,$,N),(!x||b)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:n.curPoints}:a.points!==n.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,n){for(var i=a.length%2!==0?[].concat(Ql(a),[0]):a,o=[],l=0;l<n;++l)o=[].concat(Ql(o),Ql(i));return o}},{key:"renderDotItem",value:function(a,n){var i;if(L.isValidElement(a))i=L.cloneElement(a,n);else if(ot(a))i=a(n);else{var o=n.key,l=WO(n,zbe),c=jt("recharts-line-dot",typeof a!="boolean"?a.className:"");i=L.createElement(rh,Su({key:o},l,{className:c}))}return i}}])})(f.PureComponent);mn(sh,"displayName","Line");mn(sh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ro.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});mn(sh,"getComposedData",function(t){var r=t.props,s=t.xAxis,a=t.yAxis,n=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,u=r.layout,m=c.map(function(h,p){var v=es(h,o);return u==="horizontal"?{x:ip({axis:s,ticks:n,bandSize:l,entry:h,index:p}),y:vt(v)?null:a.scale(v),value:v,payload:h}:{x:vt(v)?null:s.scale(v),y:ip({axis:a,ticks:i,bandSize:l,entry:h,index:p}),value:v,payload:h}});return Ca({points:m,layout:u},d)});var eye=["layout","type","stroke","connectNulls","isRange","ref"],tye=["key"],Gq;function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cd(t)}function Yq(t,r){if(t==null)return{};var s=rye(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function rye(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Zo.apply(this,arguments)}function GO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function to(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?GO(Object(s),!0).forEach(function(a){Yn(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):GO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function sye(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function YO(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Qq(a.key),a)}}function aye(t,r,s){return r&&YO(t.prototype,r),s&&YO(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function nye(t,r,s){return r=Ep(r),iye(t,Xq()?Reflect.construct(r,s||[],Ep(t).constructor):r.apply(t,s))}function iye(t,r){if(r&&(cd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oye(t)}function oye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xq=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Ep(t)}function lye(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&TN(t,r)}function TN(t,r){return TN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},TN(t,r)}function Yn(t,r,s){return r=Qq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Qq(t){var r=cye(t,"string");return cd(r)=="symbol"?r:r+""}function cye(t,r){if(cd(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(cd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lo=(function(t){function r(){var s;sye(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return s=nye(this,r,[].concat(n)),Yn(s,"state",{isAnimationFinished:!0}),Yn(s,"id",Ml("recharts-area-")),Yn(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ot(o)&&o()}),Yn(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ot(o)&&o()}),s}return lye(r,t),aye(r,[{key:"renderDots",value:function(a,n,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,m=c.dataKey,h=tt(this.props,!1),p=tt(d,!0),v=u.map(function(g,b){var y=to(to(to({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:g.x,cy:g.y,dataKey:m,value:g.value,payload:g.payload,points:u});return r.renderDotItem(d,y)}),x={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return L.createElement(Ft,Zo({className:"recharts-area-dots"},x),v)}},{key:"renderHorizontalRect",value:function(a){var n=this.props,i=n.baseLine,o=n.points,l=n.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=a*Math.abs(c-d),m=oo(o.map(function(h){return h.y||0}));return _e(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(oo(i.map(function(h){return h.y||0})),m)),_e(m)?L.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var n=this.props,i=n.baseLine,o=n.points,l=n.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=a*Math.abs(c-d),m=oo(o.map(function(h){return h.x||0}));return _e(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(oo(i.map(function(h){return h.x||0})),m)),_e(m)?L.createElement("rect",{x:0,y:c<d?c:c-u,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(a){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,n,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,m=l.connectNulls,h=l.isRange;l.ref;var p=Yq(l,eye);return L.createElement(Ft,{clipPath:i?"url(#clipPath-".concat(o,")"):null},L.createElement(sl,Zo({},tt(p,!0),{points:a,connectNulls:m,type:d,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&L.createElement(sl,Zo({},tt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:a})),u!=="none"&&h&&L.createElement(sl,Zo({},tt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(a,n){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,m=o.animationDuration,h=o.animationEasing,p=o.animationId,v=this.state,x=v.prevPoints,g=v.prevBaseLine;return L.createElement(wn,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(x){var j=x.length/l.length,S=l.map(function(k,C){var P=Math.floor(C*j);if(x[P]){var A=x[P],O=_s(A.x,k.x),I=_s(A.y,k.y);return to(to({},k),{},{x:O(y),y:I(y)})}return k}),w;if(_e(c)&&typeof c=="number"){var _=_s(g,c);w=_(y)}else if(vt(c)||Dd(c)){var N=_s(g,0);w=N(y)}else w=c.map(function(k,C){var P=Math.floor(C*j);if(g[P]){var A=g[P],O=_s(A.x,k.x),I=_s(A.y,k.y);return to(to({},k),{},{x:O(y),y:I(y)})}return k});return i.renderAreaStatically(S,w,a,n)}return L.createElement(Ft,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.renderClipRect(y))),L.createElement(Ft,{clipPath:"url(#animationClipPath-".concat(n,")")},i.renderAreaStatically(l,c,a,n)))})}},{key:"renderArea",value:function(a,n){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,m=d.prevBaseLine,h=d.totalLength;return c&&o&&o.length&&(!u&&h>0||!jl(u,o)||!jl(m,l))?this.renderAreaWithAnimation(a,n):this.renderAreaStatically(o,l,a,n)}},{key:"render",value:function(){var a,n=this.props,i=n.hide,o=n.dot,l=n.points,c=n.className,d=n.top,u=n.left,m=n.xAxis,h=n.yAxis,p=n.width,v=n.height,x=n.isAnimationActive,g=n.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,j=jt("recharts-area",c),S=m&&m.allowDataOverflow,w=h&&h.allowDataOverflow,_=S||w,N=vt(g)?this.id:g,k=(a=tt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},C=k.r,P=C===void 0?3:C,A=k.strokeWidth,O=A===void 0?2:A,I=GL(o)?o:{},F=I.clipDot,$=F===void 0?!0:F,E=P*2+O;return L.createElement(Ft,{className:j},S||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(N)},L.createElement("rect",{x:S?u:u-p/2,y:w?d:d-v/2,width:S?p:p*2,height:w?v:v*2})),!$&&L.createElement("clipPath",{id:"clipPath-dots-".concat(N)},L.createElement("rect",{x:u-E/2,y:d-E/2,width:p+E,height:v+E}))):null,y?null:this.renderArea(_,N),(o||y)&&this.renderDots(_,$,N),(!x||b)&&ei.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:a.points!==n.curPoints||a.baseLine!==n.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])})(f.PureComponent);Gq=Lo;Yn(Lo,"displayName","Area");Yn(Lo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ro.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Yn(Lo,"getBaseValue",function(t,r,s,a){var n=t.layout,i=t.baseValue,o=r.props.baseValue,l=o??i;if(_e(l)&&typeof l=="number")return l;var c=n==="horizontal"?a:s,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Yn(Lo,"getComposedData",function(t){var r=t.props,s=t.item,a=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,u=t.dataStartIndex,m=t.displayedData,h=t.offset,p=r.layout,v=d&&d.length,x=Gq.getBaseValue(r,s,a,n),g=p==="horizontal",b=!1,y=m.map(function(S,w){var _;v?_=d[u+w]:(_=es(S,c),Array.isArray(_)?b=!0:_=[x,_]);var N=_[1]==null||v&&es(S,c)==null;return g?{x:ip({axis:a,ticks:i,bandSize:l,entry:S,index:w}),y:N?null:n.scale(_[1]),value:_,payload:S}:{x:N?null:a.scale(_[1]),y:ip({axis:n,ticks:o,bandSize:l,entry:S,index:w}),value:_,payload:S}}),j;return v||b?j=y.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return g?{x:S.x,y:w!=null&&S.y!=null?n.scale(w):null}:{x:w!=null?a.scale(w):null,y:S.y}}):j=g?n.scale(x):a.scale(x),to({points:y,baseLine:j,layout:p,isRange:b},h)});Yn(Lo,"renderDotItem",function(t,r){var s;if(L.isValidElement(t))s=L.cloneElement(t,r);else if(ot(t))s=t(r);else{var a=jt("recharts-area-dot",typeof t!="boolean"?t.className:""),n=r.key,i=Yq(r,tye);s=L.createElement(rh,Zo({},i,{key:n,className:a}))}return s});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dd(t)}function dye(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function uye(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,e8(a.key),a)}}function mye(t,r,s){return r&&uye(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hye(t,r,s){return r=Tp(r),fye(t,Jq()?Reflect.construct(r,s||[],Tp(t).constructor):r.apply(t,s))}function fye(t,r){if(r&&(dd(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pye(t)}function pye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Tp(t)}function xye(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ON(t,r)}function ON(t,r){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},ON(t,r)}function Zq(t,r,s){return r=e8(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function e8(t){var r=gye(t,"string");return dd(r)=="symbol"?r:r+""}function gye(t,r){if(dd(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(dd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function DN(){return DN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},DN.apply(this,arguments)}function vye(t){var r=t.xAxisId,s=PS(),a=ES(),n=Rq(r);return n==null?null:f.createElement(Ld,DN({},n,{className:jt("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(o){return ki(o,!0)}}))}var $o=(function(t){function r(){return dye(this,r),hye(this,r,arguments)}return xye(r,t),mye(r,[{key:"render",value:function(){return f.createElement(vye,this.props)}}])})(f.Component);Zq($o,"displayName","XAxis");Zq($o,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ud(t)}function bye(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function yye(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,s8(a.key),a)}}function jye(t,r,s){return r&&yye(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wye(t,r,s){return r=Op(r),Nye(t,t8()?Reflect.construct(r,s||[],Op(t).constructor):r.apply(t,s))}function Nye(t,r){if(r&&(ud(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ye(t)}function _ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Op(t)}function Sye(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&RN(t,r)}function RN(t,r){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},RN(t,r)}function r8(t,r,s){return r=s8(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function s8(t){var r=Cye(t,"string");return ud(r)=="symbol"?r:r+""}function Cye(t,r){if(ud(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(ud(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IN(){return IN=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},IN.apply(this,arguments)}var kye=function(r){var s=r.yAxisId,a=PS(),n=ES(),i=Iq(s);return i==null?null:f.createElement(Ld,IN({},i,{className:jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:n},ticksGenerator:function(l){return ki(l,!0)}}))},qo=(function(t){function r(){return bye(this,r),wye(this,r,arguments)}return Sye(r,t),jye(r,[{key:"render",value:function(){return f.createElement(kye,this.props)}}])})(f.Component);r8(qo,"displayName","YAxis");r8(qo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XO(t){return Tye(t)||Eye(t)||Pye(t)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pye(t,r){if(t){if(typeof t=="string")return MN(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return MN(t,r)}}function Eye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tye(t){if(Array.isArray(t))return MN(t)}function MN(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}var FN=function(r,s,a,n,i){var o=Ia(r,OS),l=Ia(r,hg),c=[].concat(XO(o),XO(l)),d=Ia(r,pg),u="".concat(n,"Id"),m=n[0],h=s;if(c.length&&(h=c.reduce(function(x,g){if(g.props[u]===a&&ti(g.props,"extendDomain")&&_e(g.props[m])){var b=g.props[m];return[Math.min(x[0],b),Math.max(x[1],b)]}return x},h)),d.length){var p="".concat(m,"1"),v="".concat(m,"2");h=d.reduce(function(x,g){if(g.props[u]===a&&ti(g.props,"extendDomain")&&_e(g.props[p])&&_e(g.props[v])){var b=g.props[p],y=g.props[v];return[Math.min(x[0],b,y),Math.max(x[1],b,y)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,g){return _e(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},h)),h},h0={exports:{}},QO;function Oye(){return QO||(QO=1,(function(t){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function n(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new n(u,m||c,h),v=s?s+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)r.call(u,m)&&d.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=s?s+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,p=m.length,v=new Array(p);h<p;h++)v[h]=m[h].fn;return v},l.prototype.listenerCount=function(d){var u=s?s+d:d,m=this._events[u];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,u,m,h,p,v){var x=s?s+d:d;if(!this._events[x])return!1;var g=this._events[x],b=arguments.length,y,j;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,m),!0;case 4:return g.fn.call(g.context,u,m,h),!0;case 5:return g.fn.call(g.context,u,m,h,p),!0;case 6:return g.fn.call(g.context,u,m,h,p,v),!0}for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];g.fn.apply(g.context,y)}else{var S=g.length,w;for(j=0;j<S;j++)switch(g[j].once&&this.removeListener(d,g[j].fn,void 0,!0),b){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,u);break;case 3:g[j].fn.call(g[j].context,u,m);break;case 4:g[j].fn.call(g[j].context,u,m,h);break;default:if(!y)for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];g[j].fn.apply(g[j].context,y)}}return!0},l.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},l.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},l.prototype.removeListener=function(d,u,m,h){var p=s?s+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!h||v.once)&&(!m||v.context===m)&&o(this,p);else{for(var x=0,g=[],b=v.length;x<b;x++)(v[x].fn!==u||h&&!v[x].once||m&&v[x].context!==m)&&g.push(v[x]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,t.exports=l})(h0)),h0.exports}var Dye=Oye();const Rye=vr(Dye);var f0=new Rye,p0="recharts.syncMouseEvents";function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sm(t)}function Iye(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Mye(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a8(a.key),a)}}function Fye(t,r,s){return r&&Mye(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function x0(t,r,s){return r=a8(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function a8(t){var r=Lye(t,"string");return Sm(r)=="symbol"?r:r+""}function Lye(t,r){if(Sm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Sm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $ye=(function(){function t(){Iye(this,t),x0(this,"activeIndex",0),x0(this,"coordinateList",[]),x0(this,"layout","horizontal")}return Fye(t,[{key:"setDetails",value:function(s){var a,n=s.coordinateList,i=n===void 0?null:n,o=s.container,l=o===void 0?null:o,c=s.layout,d=c===void 0?null:c,u=s.offset,m=u===void 0?null:u,h=s.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(s){if(this.coordinateList.length!==0)switch(s.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(s){this.activeIndex=s}},{key:"spoofMouse",value:function(){var s,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),i=n.x,o=n.y,l=n.height,c=this.coordinateList[this.activeIndex].coordinate,d=((s=window)===null||s===void 0?void 0:s.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,m=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:m,pageY:h})}}}])})();function qye(t,r,s){if(s==="number"&&r===!0&&Array.isArray(t)){var a=t?.[0],n=t?.[1];if(a&&n&&_e(a)&&_e(n))return!0}return!1}function zye(t,r,s,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-n:s.left+.5,y:t==="horizontal"?s.top+.5:r.y-n,width:t==="horizontal"?a:s.width-1,height:t==="horizontal"?s.height-1:a}}function n8(t){var r=t.cx,s=t.cy,a=t.radius,n=t.startAngle,i=t.endAngle,o=kr(r,s,a,n),l=kr(r,s,a,i);return{points:[o,l],cx:r,cy:s,radius:a,startAngle:n,endAngle:i}}function Bye(t,r,s){var a,n,i,o;if(t==="horizontal")a=r.x,i=a,n=s.top,o=s.top+s.height;else if(t==="vertical")n=r.y,o=n,a=s.left,i=s.left+s.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var l=r.cx,c=r.cy,d=r.innerRadius,u=r.outerRadius,m=r.angle,h=kr(l,c,d,m),p=kr(l,c,u,m);a=h.x,n=h.y,i=p.x,o=p.y}else return n8(r);return[{x:a,y:n},{x:i,y:o}]}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cm(t)}function JO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function Fh(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?JO(Object(s),!0).forEach(function(a){Uye(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):JO(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function Uye(t,r,s){return r=Vye(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Vye(t){var r=Wye(t,"string");return Cm(r)=="symbol"?r:r+""}function Wye(t,r){if(Cm(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(Cm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Hye(t){var r,s,a=t.element,n=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,m=t.layout,h=t.chartName,p=(r=a.props.cursor)!==null&&r!==void 0?r:(s=a.type.defaultProps)===null||s===void 0?void 0:s.cursor;if(!a||!p||!i||!o||h!=="ScatterChart"&&n!=="axis")return null;var v,x=sl;if(h==="ScatterChart")v=o,x=axe;else if(h==="BarChart")v=zye(m,o,c,u),x=_S;else if(m==="radial"){var g=n8(o),b=g.cx,y=g.cy,j=g.radius,S=g.startAngle,w=g.endAngle;v={cx:b,cy:y,startAngle:S,endAngle:w,innerRadius:j,outerRadius:j},x=sq}else v={points:Bye(m,o,c)},x=sl;var _=Fh(Fh(Fh(Fh({stroke:"#ccc",pointerEvents:"none"},c),v),tt(p,!1)),{},{payload:l,payloadIndex:d,className:jt("recharts-tooltip-cursor",p.className)});return f.isValidElement(p)?f.cloneElement(p,_):f.createElement(x,_)}var Kye=["item"],Gye=["children","className","width","height","style","compact","title","desc"];function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},md(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},dc.apply(this,arguments)}function ZO(t,r){return Qye(t)||Xye(t,r)||o8(t,r)||Yye()}function Yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var a,n,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(a=i.call(s)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(u){d=!0,n=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw n}}return l}}function Qye(t){if(Array.isArray(t))return t}function eD(t,r){if(t==null)return{};var s=Jye(t,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function Jye(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function Zye(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function eje(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,l8(a.key),a)}}function tje(t,r,s){return r&&eje(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rje(t,r,s){return r=Dp(r),sje(t,i8()?Reflect.construct(r,s||[],Dp(t).constructor):r.apply(t,s))}function sje(t,r){if(r&&(md(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aje(t)}function aje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Dp(t)}function nje(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&LN(t,r)}function LN(t,r){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},LN(t,r)}function hd(t){return lje(t)||oje(t)||o8(t)||ije()}function ije(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8(t,r){if(t){if(typeof t=="string")return $N(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return $N(t,r)}}function oje(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lje(t){if(Array.isArray(t))return $N(t)}function $N(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,a=new Array(r);s<r;s++)a[s]=t[s];return a}function tD(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function ge(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?tD(Object(s),!0).forEach(function(a){it(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):tD(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function it(t,r,s){return r=l8(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function l8(t){var r=cje(t,"string");return md(r)=="symbol"?r:r+""}function cje(t,r){if(md(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(md(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var dje={xAxis:["bottom","top"],yAxis:["left","right"]},uje={width:"100%",height:"100%"},c8={x:0,y:0};function Lh(t){return t}var mje=function(r,s){return s==="horizontal"?r.x:s==="vertical"?r.y:s==="centric"?r.angle:r.radius},hje=function(r,s,a,n){var i=s.find(function(u){return u&&u.index===a});if(i){if(r==="horizontal")return{x:i.coordinate,y:n.y};if(r==="vertical")return{x:n.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,l=n.radius;return ge(ge(ge({},n),kr(n.cx,n.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=n.angle;return ge(ge(ge({},n),kr(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return c8},gg=function(r,s){var a=s.graphicalItems,n=s.dataStartIndex,i=s.dataEndIndex,o=(a??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(hd(l),hd(d)):l},[]);return o.length>0?o:r&&r.length&&_e(n)&&_e(i)?r.slice(n,i+1):[]};function d8(t){return t==="number"?[0,"auto"]:void 0}var qN=function(r,s,a,n){var i=r.graphicalItems,o=r.tooltipAxis,l=gg(s,r);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,d){var u,m=(u=d.props.data)!==null&&u!==void 0?u:s;m&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=a&&(m=m.slice(r.dataStartIndex,r.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;h=If(p,o.dataKey,n)}else h=m&&m[a]||l[a];return h?[].concat(hd(c),[Q$(d,h)]):c},[])},rD=function(r,s,a,n){var i=n||{x:r.chartX,y:r.chartY},o=mje(i,a),l=r.orderedTooltipTicks,c=r.tooltipAxis,d=r.tooltipTicks,u=Pme(o,l,d,c);if(u>=0&&d){var m=d[u]&&d[u].value,h=qN(r,s,u,m),p=hje(a,l,u,i);return{activeTooltipIndex:u,activeLabel:m,activePayload:h,activeCoordinate:p}}return null},fje=function(r,s){var a=s.axes,n=s.graphicalItems,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=r.layout,m=r.children,h=r.stackOffset,p=W$(u,i);return a.reduce(function(v,x){var g,b=x.type.defaultProps!==void 0?ge(ge({},x.type.defaultProps),x.props):x.props,y=b.type,j=b.dataKey,S=b.allowDataOverflow,w=b.allowDuplicatedCategory,_=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(v[C])return v;var P=gg(r.data,{graphicalItems:n.filter(function(D){var H,ae=o in D.props?D.props[o]:(H=D.type.defaultProps)===null||H===void 0?void 0:H[o];return ae===C}),dataStartIndex:c,dataEndIndex:d}),A=P.length,O,I,F;qye(b.domain,S,y)&&(O=Zw(b.domain,null,S),p&&(y==="number"||_!=="auto")&&(F=ju(P,j,"category")));var $=d8(y);if(!O||O.length===0){var E,M=(E=b.domain)!==null&&E!==void 0?E:$;if(j){if(O=ju(P,j,y),y==="category"&&p){var z=Nae(O);w&&z?(I=O,O=bp(0,A)):w||(O=ZE(M,O,x).reduce(function(D,H){return D.indexOf(H)>=0?D:[].concat(hd(D),[H])},[]))}else if(y==="category")w?O=O.filter(function(D){return D!==""&&!vt(D)}):O=ZE(M,O,x).reduce(function(D,H){return D.indexOf(H)>=0||H===""||vt(H)?D:[].concat(hd(D),[H])},[]);else if(y==="number"){var R=Rme(P,n.filter(function(D){var H,ae,U=o in D.props?D.props[o]:(H=D.type.defaultProps)===null||H===void 0?void 0:H[o],se="hide"in D.props?D.props.hide:(ae=D.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return U===C&&(k||!se)}),j,i,u);R&&(O=R)}p&&(y==="number"||_!=="auto")&&(F=ju(P,j,"category"))}else p?O=bp(0,A):l&&l[C]&&l[C].hasStack&&y==="number"?O=h==="expand"?[0,1]:X$(l[C].stackGroups,c,d):O=V$(P,n.filter(function(D){var H=o in D.props?D.props[o]:D.type.defaultProps[o],ae="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return H===C&&(k||!ae)}),y,u,!0);if(y==="number")O=FN(m,O,C,i,N),M&&(O=Zw(M,O,S));else if(y==="category"&&M){var te=M,V=O.every(function(D){return te.indexOf(D)>=0});V&&(O=te)}}return ge(ge({},v),{},it({},C,ge(ge({},b),{},{axisType:i,domain:O,categoricalDomain:F,duplicateDomain:I,originalDomain:(g=b.domain)!==null&&g!==void 0?g:$,isCategorical:p,layout:u})))},{})},pje=function(r,s){var a=s.graphicalItems,n=s.Axis,i=s.axisType,o=s.axisIdKey,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=r.layout,m=r.children,h=gg(r.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),p=h.length,v=W$(u,i),x=-1;return a.reduce(function(g,b){var y=b.type.defaultProps!==void 0?ge(ge({},b.type.defaultProps),b.props):b.props,j=y[o],S=d8("number");if(!g[j]){x++;var w;return v?w=bp(0,p):l&&l[j]&&l[j].hasStack?(w=X$(l[j].stackGroups,c,d),w=FN(m,w,j,i)):(w=Zw(S,V$(h,a.filter(function(_){var N,k,C=o in _.props?_.props[o]:(N=_.type.defaultProps)===null||N===void 0?void 0:N[o],P="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===j&&!P}),"number",u),n.defaultProps.allowDataOverflow),w=FN(m,w,j,i)),ge(ge({},g),{},it({},j,ge(ge({axisType:i},n.defaultProps),{},{hide:!0,orientation:Ra(dje,"".concat(i,".").concat(x%2),null),domain:w,originalDomain:S,isCategorical:v,layout:u})))}return g},{})},xje=function(r,s){var a=s.axisType,n=a===void 0?"xAxis":a,i=s.AxisComp,o=s.graphicalItems,l=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=r.children,m="".concat(n,"Id"),h=Ia(u,i),p={};return h&&h.length?p=fje(r,{axes:h,graphicalItems:o,axisType:n,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=pje(r,{Axis:i,graphicalItems:o,axisType:n,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},gje=function(r){var s=no(r),a=ki(s,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:Q1(a,function(n){return n.coordinate}),tooltipAxis:s,tooltipAxisBandSize:op(s,a)}},sD=function(r){var s=r.children,a=r.defaultShowTooltip,n=Aa(s,rd),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(i=n.props.startIndex),n.props.endIndex>=0&&(o=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},vje=function(r){return!r||!r.length?!1:r.some(function(s){var a=Ai(s&&s.type);return a&&a.indexOf("Bar")>=0})},aD=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bje=function(r,s){var a=r.props,n=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,l=r.yAxisMap,c=l===void 0?{}:l,d=a.width,u=a.height,m=a.children,h=a.margin||{},p=Aa(m,rd),v=Aa(m,wc),x=Object.keys(c).reduce(function(w,_){var N=c[_],k=N.orientation;return!N.mirror&&!N.hide?ge(ge({},w),{},it({},k,w[k]+N.width)):w},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(w,_){var N=o[_],k=N.orientation;return!N.mirror&&!N.hide?ge(ge({},w),{},it({},k,Ra(w,"".concat(k))+N.height)):w},{top:h.top||0,bottom:h.bottom||0}),b=ge(ge({},g),x),y=b.bottom;p&&(b.bottom+=p.props.height||rd.defaultProps.height),v&&s&&(b=Ome(b,n,a,s));var j=d-b.left-b.right,S=u-b.top-b.bottom;return ge(ge({brushBottom:y},b),{},{width:Math.max(j,0),height:Math.max(S,0)})},yje=function(r,s){if(s==="xAxis")return r[s].width;if(s==="yAxis")return r[s].height},vg=function(r){var s=r.chartName,a=r.GraphicalChild,n=r.defaultTooltipEventType,i=n===void 0?"axis":n,o=r.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=r.axisComponents,d=r.legendContent,u=r.formatAxisMap,m=r.defaultProps,h=function(b,y){var j=y.graphicalItems,S=y.stackGroups,w=y.offset,_=y.updateId,N=y.dataStartIndex,k=y.dataEndIndex,C=b.barSize,P=b.layout,A=b.barGap,O=b.barCategoryGap,I=b.maxBarSize,F=aD(P),$=F.numericAxisName,E=F.cateAxisName,M=vje(j),z=[];return j.forEach(function(R,te){var V=gg(b.data,{graphicalItems:[R],dataStartIndex:N,dataEndIndex:k}),D=R.type.defaultProps!==void 0?ge(ge({},R.type.defaultProps),R.props):R.props,H=D.dataKey,ae=D.maxBarSize,U=D["".concat($,"Id")],se=D["".concat(E,"Id")],Q={},pe=c.reduce(function(oe,me){var Pe=y["".concat(me.axisType,"Map")],ke=D["".concat(me.axisType,"Id")];Pe&&Pe[ke]||me.axisType==="zAxis"||Nl();var ce=Pe[ke];return ge(ge({},oe),{},it(it({},me.axisType,ce),"".concat(me.axisType,"Ticks"),ki(ce)))},Q),le=pe[E],ue=pe["".concat(E,"Ticks")],De=S&&S[U]&&S[U].hasStack&&Ume(R,S[U].stackGroups),he=Ai(R.type).indexOf("Bar")>=0,st=op(le,ue),Qe=[],Ct=M&&Eme({barSize:C,stackGroups:S,totalSize:yje(pe,E)});if(he){var Tt,Jt,_t=vt(ae)?I:ae,Er=(Tt=(Jt=op(le,ue,!0))!==null&&Jt!==void 0?Jt:_t)!==null&&Tt!==void 0?Tt:0;Qe=Tme({barGap:A,barCategoryGap:O,bandSize:Er!==st?Er:st,sizeList:Ct[se],maxBarSize:_t}),Er!==st&&(Qe=Qe.map(function(oe){return ge(ge({},oe),{},{position:ge(ge({},oe.position),{},{offset:oe.position.offset-Er/2})})}))}var Z=R&&R.type&&R.type.getComposedData;Z&&z.push({props:ge(ge({},Z(ge(ge({},pe),{},{displayedData:V,props:b,dataKey:H,item:R,bandSize:st,barPosition:Qe,offset:w,stackedData:De,layout:P,dataStartIndex:N,dataEndIndex:k}))),{},it(it(it({key:R.key||"item-".concat(te)},$,pe[$]),E,pe[E]),"animationId",_)),childIndex:Iae(R,b.children),item:R})}),z},p=function(b,y){var j=b.props,S=b.dataStartIndex,w=b.dataEndIndex,_=b.updateId;if(!fA({props:j}))return null;var N=j.children,k=j.layout,C=j.stackOffset,P=j.data,A=j.reverseStackOrder,O=aD(k),I=O.numericAxisName,F=O.cateAxisName,$=Ia(N,a),E=zme(P,$,"".concat(I,"Id"),"".concat(F,"Id"),C,A),M=c.reduce(function(D,H){var ae="".concat(H.axisType,"Map");return ge(ge({},D),{},it({},ae,xje(j,ge(ge({},H),{},{graphicalItems:$,stackGroups:H.axisType===I&&E,dataStartIndex:S,dataEndIndex:w}))))},{}),z=bje(ge(ge({},M),{},{props:j,graphicalItems:$}),y?.legendBBox);Object.keys(M).forEach(function(D){M[D]=u(j,M[D],z,D.replace("Map",""),s)});var R=M["".concat(F,"Map")],te=gje(R),V=h(j,ge(ge({},M),{},{dataStartIndex:S,dataEndIndex:w,updateId:_,graphicalItems:$,stackGroups:E,offset:z}));return ge(ge({formattedGraphicalItems:V,graphicalItems:$,offset:z,stackGroups:E},te),M)},v=(function(g){function b(y){var j,S,w;return Zye(this,b),w=rje(this,b,[y]),it(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),it(w,"accessibilityManager",new $ye),it(w,"handleLegendBBoxUpdate",function(_){if(_){var N=w.state,k=N.dataStartIndex,C=N.dataEndIndex,P=N.updateId;w.setState(ge({legendBBox:_},p({props:w.props,dataStartIndex:k,dataEndIndex:C,updateId:P},ge(ge({},w.state),{},{legendBBox:_}))))}}),it(w,"handleReceiveSyncEvent",function(_,N,k){if(w.props.syncId===_){if(k===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(N)}}),it(w,"handleBrushChange",function(_){var N=_.startIndex,k=_.endIndex;if(N!==w.state.dataStartIndex||k!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return ge({dataStartIndex:N,dataEndIndex:k},p({props:w.props,dataStartIndex:N,dataEndIndex:k,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),it(w,"handleMouseEnter",function(_){var N=w.getMouseInfo(_);if(N){var k=ge(ge({},N),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var C=w.props.onMouseEnter;ot(C)&&C(k,_)}}),it(w,"triggeredAfterMouseMove",function(_){var N=w.getMouseInfo(_),k=N?ge(ge({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var C=w.props.onMouseMove;ot(C)&&C(k,_)}),it(w,"handleItemMouseEnter",function(_){w.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),it(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),it(w,"handleMouseMove",function(_){_.persist(),w.throttleTriggeredAfterMouseMove(_)}),it(w,"handleMouseLeave",function(_){w.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var k=w.props.onMouseLeave;ot(k)&&k(N,_)}),it(w,"handleOuterEvent",function(_){var N=Rae(_),k=Ra(w.props,"".concat(N));if(N&&ot(k)){var C,P;/.*touch.*/i.test(N)?P=w.getMouseInfo(_.changedTouches[0]):P=w.getMouseInfo(_),k((C=P)!==null&&C!==void 0?C:{},_)}}),it(w,"handleClick",function(_){var N=w.getMouseInfo(_);if(N){var k=ge(ge({},N),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var C=w.props.onClick;ot(C)&&C(k,_)}}),it(w,"handleMouseDown",function(_){var N=w.props.onMouseDown;if(ot(N)){var k=w.getMouseInfo(_);N(k,_)}}),it(w,"handleMouseUp",function(_){var N=w.props.onMouseUp;if(ot(N)){var k=w.getMouseInfo(_);N(k,_)}}),it(w,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),it(w,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseDown(_.changedTouches[0])}),it(w,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&w.handleMouseUp(_.changedTouches[0])}),it(w,"handleDoubleClick",function(_){var N=w.props.onDoubleClick;if(ot(N)){var k=w.getMouseInfo(_);N(k,_)}}),it(w,"handleContextMenu",function(_){var N=w.props.onContextMenu;if(ot(N)){var k=w.getMouseInfo(_);N(k,_)}}),it(w,"triggerSyncEvent",function(_){w.props.syncId!==void 0&&f0.emit(p0,w.props.syncId,_,w.eventEmitterSymbol)}),it(w,"applySyncEvent",function(_){var N=w.props,k=N.layout,C=N.syncMethod,P=w.state.updateId,A=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)w.setState(ge({dataStartIndex:A,dataEndIndex:O},p({props:w.props,dataStartIndex:A,dataEndIndex:O,updateId:P},w.state)));else if(_.activeTooltipIndex!==void 0){var I=_.chartX,F=_.chartY,$=_.activeTooltipIndex,E=w.state,M=E.offset,z=E.tooltipTicks;if(!M)return;if(typeof C=="function")$=C(z,_);else if(C==="value"){$=-1;for(var R=0;R<z.length;R++)if(z[R].value===_.activeLabel){$=R;break}}var te=ge(ge({},M),{},{x:M.left,y:M.top}),V=Math.min(I,te.x+te.width),D=Math.min(F,te.y+te.height),H=z[$]&&z[$].value,ae=qN(w.state,w.props.data,$),U=z[$]?{x:k==="horizontal"?z[$].coordinate:V,y:k==="horizontal"?D:z[$].coordinate}:c8;w.setState(ge(ge({},_),{},{activeLabel:H,activeCoordinate:U,activePayload:ae,activeTooltipIndex:$}))}else w.setState(_)}),it(w,"renderCursor",function(_){var N,k=w.state,C=k.isTooltipActive,P=k.activeCoordinate,A=k.activePayload,O=k.offset,I=k.activeTooltipIndex,F=k.tooltipAxisBandSize,$=w.getTooltipEventType(),E=(N=_.props.active)!==null&&N!==void 0?N:C,M=w.props.layout,z=_.key||"_recharts-cursor";return L.createElement(Hye,{key:z,activeCoordinate:P,activePayload:A,activeTooltipIndex:I,chartName:s,element:_,isActive:E,layout:M,offset:O,tooltipAxisBandSize:F,tooltipEventType:$})}),it(w,"renderPolarAxis",function(_,N,k){var C=Ra(_,"type.axisType"),P=Ra(w.state,"".concat(C,"Map")),A=_.type.defaultProps,O=A!==void 0?ge(ge({},A),_.props):_.props,I=P&&P[O["".concat(C,"Id")]];return f.cloneElement(_,ge(ge({},I),{},{className:jt(C,I.className),key:_.key||"".concat(N,"-").concat(k),ticks:ki(I,!0)}))}),it(w,"renderPolarGrid",function(_){var N=_.props,k=N.radialLines,C=N.polarAngles,P=N.polarRadius,A=w.state,O=A.radiusAxisMap,I=A.angleAxisMap,F=no(O),$=no(I),E=$.cx,M=$.cy,z=$.innerRadius,R=$.outerRadius;return f.cloneElement(_,{polarAngles:Array.isArray(C)?C:ki($,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(P)?P:ki(F,!0).map(function(te){return te.coordinate}),cx:E,cy:M,innerRadius:z,outerRadius:R,key:_.key||"polar-grid",radialLines:k})}),it(w,"renderLegend",function(){var _=w.state.formattedGraphicalItems,N=w.props,k=N.children,C=N.width,P=N.height,A=w.props.margin||{},O=C-(A.left||0)-(A.right||0),I=B$({children:k,formattedGraphicalItems:_,legendWidth:O,legendContent:d});if(!I)return null;var F=I.item,$=eD(I,Kye);return f.cloneElement(F,ge(ge({},$),{},{chartWidth:C,chartHeight:P,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),it(w,"renderTooltip",function(){var _,N=w.props,k=N.children,C=N.accessibilityLayer,P=Aa(k,Ua);if(!P)return null;var A=w.state,O=A.isTooltipActive,I=A.activeCoordinate,F=A.activePayload,$=A.activeLabel,E=A.offset,M=(_=P.props.active)!==null&&_!==void 0?_:O;return f.cloneElement(P,{viewBox:ge(ge({},E),{},{x:E.left,y:E.top}),active:M,label:$,payload:M?F:[],coordinate:I,accessibilityLayer:C})}),it(w,"renderBrush",function(_){var N=w.props,k=N.margin,C=N.data,P=w.state,A=P.offset,O=P.dataStartIndex,I=P.dataEndIndex,F=P.updateId;return f.cloneElement(_,{key:_.key||"_recharts-brush",onChange:Dh(w.handleBrushChange,_.props.onChange),data:C,x:_e(_.props.x)?_.props.x:A.left,y:_e(_.props.y)?_.props.y:A.top+A.height+A.brushBottom-(k.bottom||0),width:_e(_.props.width)?_.props.width:A.width,startIndex:O,endIndex:I,updateId:"brush-".concat(F)})}),it(w,"renderReferenceElement",function(_,N,k){if(!_)return null;var C=w,P=C.clipPathId,A=w.state,O=A.xAxisMap,I=A.yAxisMap,F=A.offset,$=_.type.defaultProps||{},E=_.props,M=E.xAxisId,z=M===void 0?$.xAxisId:M,R=E.yAxisId,te=R===void 0?$.yAxisId:R;return f.cloneElement(_,{key:_.key||"".concat(N,"-").concat(k),xAxis:O[z],yAxis:I[te],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),it(w,"renderActivePoints",function(_){var N=_.item,k=_.activePoint,C=_.basePoint,P=_.childIndex,A=_.isRange,O=[],I=N.props.key,F=N.item.type.defaultProps!==void 0?ge(ge({},N.item.type.defaultProps),N.item.props):N.item.props,$=F.activeDot,E=F.dataKey,M=ge(ge({index:P,dataKey:E,cx:k.x,cy:k.y,r:4,fill:NS(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},tt($,!1)),Mf($));return O.push(b.renderActiveDot($,M,"".concat(I,"-activePoint-").concat(P))),C?O.push(b.renderActiveDot($,ge(ge({},M),{},{cx:C.x,cy:C.y}),"".concat(I,"-basePoint-").concat(P))):A&&O.push(null),O}),it(w,"renderGraphicChild",function(_,N,k){var C=w.filterFormatItem(_,N,k);if(!C)return null;var P=w.getTooltipEventType(),A=w.state,O=A.isTooltipActive,I=A.tooltipAxis,F=A.activeTooltipIndex,$=A.activeLabel,E=w.props.children,M=Aa(E,Ua),z=C.props,R=z.points,te=z.isRange,V=z.baseLine,D=C.item.type.defaultProps!==void 0?ge(ge({},C.item.type.defaultProps),C.item.props):C.item.props,H=D.activeDot,ae=D.hide,U=D.activeBar,se=D.activeShape,Q=!!(!ae&&O&&M&&(H||U||se)),pe={};P!=="axis"&&M&&M.props.trigger==="click"?pe={onClick:Dh(w.handleItemMouseEnter,_.props.onClick)}:P!=="axis"&&(pe={onMouseLeave:Dh(w.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:Dh(w.handleItemMouseEnter,_.props.onMouseEnter)});var le=f.cloneElement(_,ge(ge({},C.props),pe));function ue(me){return typeof I.dataKey=="function"?I.dataKey(me.payload):null}if(Q)if(F>=0){var De,he;if(I.dataKey&&!I.allowDuplicatedCategory){var st=typeof I.dataKey=="function"?ue:"payload.".concat(I.dataKey.toString());De=If(R,st,$),he=te&&V&&If(V,st,$)}else De=R?.[F],he=te&&V&&V[F];if(se||U){var Qe=_.props.activeIndex!==void 0?_.props.activeIndex:F;return[f.cloneElement(_,ge(ge(ge({},C.props),pe),{},{activeIndex:Qe})),null,null]}if(!vt(De))return[le].concat(hd(w.renderActivePoints({item:C,activePoint:De,basePoint:he,childIndex:F,isRange:te})))}else{var Ct,Tt=(Ct=w.getItemByXY(w.state.activeCoordinate))!==null&&Ct!==void 0?Ct:{graphicalItem:le},Jt=Tt.graphicalItem,_t=Jt.item,Er=_t===void 0?_:_t,Z=Jt.childIndex,oe=ge(ge(ge({},C.props),pe),{},{activeIndex:Z});return[f.cloneElement(Er,oe),null,null]}return te?[le,null,null]:[le,null]}),it(w,"renderCustomized",function(_,N,k){return f.cloneElement(_,ge(ge({key:"recharts-customized-".concat(k)},w.props),w.state))}),it(w,"renderMap",{CartesianGrid:{handler:Lh,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Lh},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Lh},YAxis:{handler:Lh},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((j=y.id)!==null&&j!==void 0?j:Ml("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=z6(w.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return nje(b,g),tje(b,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,w=j.data,_=j.height,N=j.layout,k=Aa(S,Ua);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,A=qN(this.state,w,C,P),O=this.state.tooltipTicks[C].coordinate,I=(this.state.offset.top+_)/2,F=N==="horizontal",$=F?{x:O,y:I}:{y:O,x:I},E=this.state.formattedGraphicalItems.find(function(z){var R=z.item;return R.type.name==="Scatter"});E&&($=ge(ge({},$),E.props.points[C].tooltipPosition),A=E.props.points[C].tooltipPayload);var M={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:$};this.setState(M),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var w,_;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(j){jw([Aa(j.children,Ua)],[Aa(this.props.children,Ua)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Aa(this.props.children,Ua);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),_=jle(w),N={chartX:Math.round(j.pageX-_.left),chartY:Math.round(j.pageY-_.top)},k=w.width/S.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var P=this.state,A=P.xAxisMap,O=P.yAxisMap,I=this.getTooltipEventType(),F=rD(this.state,this.props.data,this.props.layout,C);if(I!=="axis"&&A&&O){var $=no(A).scale,E=no(O).scale,M=$&&$.invert?$.invert(N.chartX):null,z=E&&E.invert?E.invert(N.chartY):null;return ge(ge({},N),{},{xValue:M,yValue:z},F)}return F?ge(ge({},N),F):null}},{key:"inRange",value:function(j,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,N=j/w,k=S/w;if(_==="horizontal"||_==="vertical"){var C=this.state.offset,P=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return P?{x:N,y:k}:null}var A=this.state,O=A.angleAxisMap,I=A.radiusAxisMap;if(O&&I){var F=no(O);return rT({x:N,y:k},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),w=Aa(j,Ua),_={};w&&S==="axis"&&(w.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Mf(this.props,this.handleOuterEvent);return ge(ge({},N),_)}},{key:"addListener",value:function(){f0.on(p0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){f0.removeListener(p0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,w){for(var _=this.state.formattedGraphicalItems,N=0,k=_.length;N<k;N++){var C=_[N];if(C.item===j||C.props.key===j.key||S===Ai(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,w=S.left,_=S.top,N=S.height,k=S.width;return L.createElement("defs",null,L.createElement("clipPath",{id:j},L.createElement("rect",{x:w,y:_,height:N,width:k})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,w){var _=ZO(w,2),N=_[0],k=_[1];return ge(ge({},S),{},it({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,w){var _=ZO(w,2),N=_[0],k=_[1];return ge(ge({},S),{},it({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,w=S.formattedGraphicalItems,_=S.activeItem;if(w&&w.length)for(var N=0,k=w.length;N<k;N++){var C=w[N],P=C.props,A=C.item,O=A.type.defaultProps!==void 0?ge(ge({},A.type.defaultProps),A.props):A.props,I=Ai(A.type);if(I==="Bar"){var F=(P.data||[]).find(function(z){return Lpe(j,z)});if(F)return{graphicalItem:C,payload:F}}else if(I==="RadialBar"){var $=(P.data||[]).find(function(z){return rT(j,z)});if($)return{graphicalItem:C,payload:$}}else if(cg(C,_)||dg(C,_)||ym(C,_)){var E=oge({graphicalItem:C,activeTooltipItem:_,itemData:O.data}),M=O.activeIndex===void 0?E:O.activeIndex;return{graphicalItem:ge(ge({},C),{},{childIndex:M}),payload:ym(C,_)?O.data[E]:C.props.data[E]}}}return null}},{key:"render",value:function(){var j=this;if(!fA(this))return null;var S=this.props,w=S.children,_=S.className,N=S.width,k=S.height,C=S.style,P=S.compact,A=S.title,O=S.desc,I=eD(S,Gye),F=tt(I,!1);if(P)return L.createElement(OO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Nw,dc({},F,{width:N,height:k,title:A,desc:O}),this.renderClipPath(),xA(w,this.renderMap)));if(this.props.accessibilityLayer){var $,E;F.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,F.role=(E=this.props.role)!==null&&E!==void 0?E:"application",F.onKeyDown=function(z){j.accessibilityManager.keyboardEvent(z)},F.onFocus=function(){j.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return L.createElement(OO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",dc({className:jt("recharts-wrapper",_),style:ge({position:"relative",cursor:"default",width:N,height:k},C)},M,{ref:function(R){j.container=R}}),L.createElement(Nw,dc({},F,{width:N,height:k,title:A,desc:O,style:uje}),this.renderClipPath(),xA(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(f.Component);it(v,"displayName",s),it(v,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),it(v,"getDerivedStateFromProps",function(g,b){var y=g.dataKey,j=g.data,S=g.children,w=g.width,_=g.height,N=g.layout,k=g.stackOffset,C=g.margin,P=b.dataStartIndex,A=b.dataEndIndex;if(b.updateId===void 0){var O=sD(g);return ge(ge(ge({},O),{},{updateId:0},p(ge(ge({props:g},O),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:j,prevWidth:w,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(y!==b.prevDataKey||j!==b.prevData||w!==b.prevWidth||_!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!jc(C,b.prevMargin)){var I=sD(g),F={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},$=ge(ge({},rD(b,j,N)),{},{updateId:b.updateId+1}),E=ge(ge(ge({},I),F),$);return ge(ge(ge({},E),p(ge({props:g},E),b)),{},{prevDataKey:y,prevData:j,prevWidth:w,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(!jw(S,b.prevChildren)){var M,z,R,te,V=Aa(S,rd),D=V&&(M=(z=V.props)===null||z===void 0?void 0:z.startIndex)!==null&&M!==void 0?M:P,H=V&&(R=(te=V.props)===null||te===void 0?void 0:te.endIndex)!==null&&R!==void 0?R:A,ae=D!==P||H!==A,U=!vt(j),se=U&&!ae?b.updateId:b.updateId+1;return ge(ge({updateId:se},p(ge(ge({props:g},b),{},{updateId:se,dataStartIndex:D,dataEndIndex:H}),b)),{},{prevChildren:S,dataStartIndex:D,dataEndIndex:H})}return null}),it(v,"renderActiveDot",function(g,b,y){var j;return f.isValidElement(g)?j=f.cloneElement(g,b):ot(g)?j=g(b):j=L.createElement(rh,b),L.createElement(Ft,{className:"recharts-active-dot",key:y},j)});var x=f.forwardRef(function(b,y){return L.createElement(v,dc({},b,{ref:y}))});return x.displayName=v.displayName,x},jje=vg({chartName:"LineChart",GraphicalChild:sh,axisComponents:[{axisType:"xAxis",AxisComp:$o},{axisType:"yAxis",AxisComp:qo}],formatAxisMap:SS}),wje=vg({chartName:"BarChart",GraphicalChild:ql,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:$o},{axisType:"yAxis",AxisComp:qo}],formatAxisMap:SS}),Nje=vg({chartName:"PieChart",GraphicalChild:Wi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lg},{axisType:"radiusAxis",AxisComp:ig}],formatAxisMap:Zme,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),_je=vg({chartName:"AreaChart",GraphicalChild:Lo,axisComponents:[{axisType:"xAxis",AxisComp:$o},{axisType:"yAxis",AxisComp:qo}],formatAxisMap:SS});function Sje(){const{user:t}=ur(),[r,s]=f.useState({totalEarnings:0,monthlyEarnings:0,productsSold:0,productViews:0}),[a,n]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!0),[m,h]=f.useState(null);return f.useEffect(()=>{if(!t){u(!1);return}(async()=>{try{u(!0),h(null);const{data:v,error:x}=await J.rpc("get_designer_stats",{designer_uuid:t.id});if(x)throw x;const g=v;s({totalEarnings:Number(g.total_earnings)||0,monthlyEarnings:Number(g.monthly_earnings)||0,productsSold:Number(g.products_sold)||0,productViews:Number(g.product_views)||0});const{data:b,error:y}=await J.from("earnings").select("amount, created_at").eq("designer_id",t.id);if(y)throw y;const{data:j,error:S}=await J.from("marketplace_products").select("id, title").eq("designer_id",t.id);if(S)throw S;const w=j?.map(A=>A.id)||[];let _=[];if(w.length>0){const{data:A,error:O}=await J.from("product_sales").select("product_id, quantity_sold, total_revenue, designer_share, sale_date").in("product_id",w).order("sale_date",{ascending:!1});!O&&A&&(_=A)}const N={};for(let A=5;A>=0;A--){const O=ZZ(new Date,A),I=xt(O,"MMM");N[I]=0}b?.forEach(A=>{const O=xt(new Date(A.created_at),"MMM");N[O]!==void 0&&(N[O]+=Number(A.amount))}),n(Object.entries(N).map(([A,O])=>({month:A,earnings:O})));const k={};_.forEach(A=>{const O=A.product_id;k[O]||(k[O]={sales:0,revenue:0}),k[O].sales+=A.quantity_sold,k[O].revenue+=Number(A.designer_share)});const C=j?.map(A=>({name:A.title,sales:k[A.id]?.sales||0,revenue:k[A.id]?.revenue||0})).filter(A=>A.sales>0).sort((A,O)=>O.revenue-A.revenue).slice(0,4)||[];o(C);const P=_.slice(0,5).map((A,O)=>{const I=j?.find(F=>F.id===A.product_id);return{id:`TXN${String(O+1).padStart(3,"0")}`,product:I?.title||"Unknown Product",amount:Number(A.designer_share),date:xt(new Date(A.sale_date),"MMM d, yyyy"),status:"completed"}});c(P)}catch(v){console.error("Error fetching analytics data:",v),h(v instanceof Error?v.message:"Failed to fetch analytics data")}finally{u(!1)}})()},[t]),{stats:r,revenueData:a,topProducts:i,transactions:l,loading:d,error:m}}const Cje=()=>{const{stats:t,revenueData:r,topProducts:s,transactions:a,loading:n}=Sje(),i=t.totalEarnings>0||t.productsSold>0||t.productViews>0;return n?e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx(rt,{className:"h-10 w-64"}),e.jsx(rt,{className:"h-5 w-48 mt-2"})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(o=>e.jsx(rt,{className:"h-32 rounded-xl"},o))}),e.jsx(rt,{className:"h-[400px] rounded-xl"})]})}):i?e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"Earnings & Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your marketplace performance and revenue"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(qe,{defaultValue:"6months",children:[e.jsxs(Fe,{className:"w-[140px]",children:[e.jsx(Wr,{className:"h-4 w-4 mr-2"}),e.jsx(Me,{})]}),e.jsxs(Le,{children:[e.jsx(X,{value:"30days",children:"Last 30 days"}),e.jsx(X,{value:"3months",children:"Last 3 months"}),e.jsx(X,{value:"6months",children:"Last 6 months"}),e.jsx(X,{value:"1year",children:"Last year"})]})]}),e.jsxs(T,{variant:"outline",className:"gap-2",children:[e.jsx(vn,{className:"h-4 w-4"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-accent/10 flex items-center justify-center",children:e.jsx(Rs,{className:"h-5 w-5 text-accent"})}),t.totalEarnings>0&&e.jsxs("div",{className:"flex items-center gap-1 text-success text-sm",children:[e.jsx(ra,{className:"h-4 w-4"}),"--"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),e.jsxs("p",{className:"font-display text-3xl font-bold",children:["$",t.totalEarnings.toLocaleString()]})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-success/10 flex items-center justify-center",children:e.jsx(ks,{className:"h-5 w-5 text-success"})}),t.monthlyEarnings>0&&e.jsxs("div",{className:"flex items-center gap-1 text-success text-sm",children:[e.jsx(ra,{className:"h-4 w-4"}),"--"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),e.jsxs("p",{className:"font-display text-3xl font-bold",children:["$",t.monthlyEarnings.toLocaleString()]})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-secondary flex items-center justify-center",children:e.jsx(Ot,{className:"h-5 w-5 text-muted-foreground"})})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Products Sold"}),e.jsx("p",{className:"font-display text-3xl font-bold",children:t.productsSold})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-warning/10 flex items-center justify-center",children:e.jsx(Bt,{className:"h-5 w-5 text-warning"})})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Views"}),e.jsx("p",{className:"font-display text-3xl font-bold",children:t.productViews.toLocaleString()})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(G,{className:"lg:col-span-2",children:[e.jsx(je,{children:e.jsx(Ne,{children:"Revenue Over Time"})}),e.jsx(Y,{children:e.jsx("div",{className:"h-[300px]",children:r.some(o=>o.earnings>0)?e.jsx(Gx,{width:"100%",height:"100%",children:e.jsxs(jje,{data:r,children:[e.jsx(xg,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),e.jsx($o,{dataKey:"month",stroke:"hsl(var(--muted-foreground))",fontSize:12}),e.jsx(qo,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickFormatter:o=>`$${o}`}),e.jsx(Ua,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:o=>[`$${o}`,"Earnings"]}),e.jsx(sh,{type:"monotone",dataKey:"earnings",stroke:"hsl(var(--accent))",strokeWidth:3,dot:{fill:"hsl(var(--accent))",strokeWidth:2,r:4},activeDot:{r:6}})]})}):e.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No revenue data yet"})})})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Top Products"})}),e.jsx(Y,{children:s.length>0?e.jsx("div",{className:"space-y-4",children:s.map((o,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-secondary/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:o.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.sales," sales"]})]}),e.jsxs("p",{className:"font-display font-semibold text-accent",children:["$",o.revenue]})]},l))}):e.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No products sold yet"})})]})]}),e.jsxs(G,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between",children:[e.jsx(Ne,{children:"Recent Transactions"}),a.length>0&&e.jsx(T,{variant:"ghost",size:"sm",children:"View All"})]}),e.jsx(Y,{children:a.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border",children:[e.jsx("th",{className:"text-left text-sm font-medium text-muted-foreground py-3 px-4",children:"Transaction ID"}),e.jsx("th",{className:"text-left text-sm font-medium text-muted-foreground py-3 px-4",children:"Product"}),e.jsx("th",{className:"text-left text-sm font-medium text-muted-foreground py-3 px-4",children:"Amount"}),e.jsx("th",{className:"text-left text-sm font-medium text-muted-foreground py-3 px-4",children:"Date"}),e.jsx("th",{className:"text-left text-sm font-medium text-muted-foreground py-3 px-4",children:"Status"})]})}),e.jsx("tbody",{children:a.map(o=>e.jsxs("tr",{className:"border-b border-border last:border-0",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-mono",children:o.id}),e.jsx("td",{className:"py-3 px-4 text-sm",children:o.product}),e.jsxs("td",{className:"py-3 px-4 text-sm font-medium",children:["$",o.amount.toFixed(2)]}),e.jsx("td",{className:"py-3 px-4 text-sm text-muted-foreground",children:o.date}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(B,{variant:o.status==="completed"?"success":"warning",children:o.status})})]},o.id))})]})}):e.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No transactions yet"})})]})]})}):e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"Earnings & Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your marketplace performance and revenue"})]})}),e.jsx(Rse,{})]})})},kje=an({name:It().min(2,"Name must be at least 2 characters").max(100),email:It().email("Invalid email address"),category:hw(["fashion","textile","jewelry"])}),Aje=an({currentPassword:It().min(8,"Password must be at least 8 characters"),newPassword:It().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^a-zA-Z0-9]/,"Password must contain at least one special character"),confirmPassword:It()}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Pje=()=>{const t=wr(),{user:r,signOut:s}=ur(),{toast:a}=Ge(),[n,i]=f.useState(!1),[o,l]=f.useState({name:"",email:"",brand_name:"",category:"fashion",avatar_url:"",logo_url:"",banner_image:"",location:"",education:"",awards:"",website_url:"",instagram_handle:"",twitter_handle:"",linkedin_url:"",facebook_url:"",tiktok_handle:"",youtube_channel:"",dribbble_url:"",behance_url:"",etsy_shop_url:"",shopify_store_url:""}),[c,d]=f.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[u,m]=f.useState({styleboxes:!0,earnings:!0,portfolio:!0,team:!0,marketing:!1}),[h,p]=f.useState({role:"",category:"",message:""}),[v,x]=f.useState(!1),[g,b]=f.useState({}),[y,j]=f.useState(!1),[S,w]=f.useState(""),[_,N]=f.useState(!1);f.useEffect(()=>{r&&k()},[r]);const k=async()=>{if(!r)return;const{data:E,error:M}=await J.from("profiles").select("*").eq("user_id",r.id).maybeSingle();E?l({name:E.name||"",email:E.email||r.email||"",brand_name:E.brand_name||"",category:E.category||"fashion",avatar_url:E.avatar_url||"",logo_url:E.logo_url||"",banner_image:E.banner_image||"",location:E.location||"",education:Array.isArray(E.education)?E.education.join(`
`):"",awards:Array.isArray(E.awards)?E.awards.join(`
`):"",website_url:E.website_url||"",instagram_handle:E.instagram_handle||"",twitter_handle:E.twitter_handle||"",linkedin_url:E.linkedin_url||"",facebook_url:E.facebook_url||"",tiktok_handle:E.tiktok_handle||"",youtube_channel:E.youtube_channel||"",dribbble_url:E.dribbble_url||"",behance_url:E.behance_url||"",etsy_shop_url:E.etsy_shop_url||"",shopify_store_url:E.shopify_store_url||""}):M||l({name:r.user_metadata?.name||"",email:r.email||"",brand_name:"",category:r.user_metadata?.category||"fashion",avatar_url:"",logo_url:"",banner_image:"",location:"",education:"",awards:"",website_url:"",instagram_handle:"",twitter_handle:"",linkedin_url:"",facebook_url:"",tiktok_handle:"",youtube_channel:"",dribbble_url:"",behance_url:"",etsy_shop_url:"",shopify_store_url:""})},C=()=>{const E={};return o.name.trim()||(E.name="Name is required"),o.website_url&&!o.website_url.match(/^https?:\/\//)&&(E.website_url="Please enter a valid URL starting with http:// or https://"),o.instagram_handle&&!o.instagram_handle.startsWith("@")&&(E.instagram_handle="Instagram handle should start with @"),o.twitter_handle&&!o.twitter_handle.startsWith("@")&&(E.twitter_handle="Twitter handle should start with @"),o.tiktok_handle&&!o.tiktok_handle.startsWith("@")&&(E.tiktok_handle="TikTok handle should start with @"),b(E),Object.keys(E).length===0},P=async()=>{if(r){i(!0);try{if(!C()){a({title:"Validation Error",description:"Please fix the validation errors in the form.",variant:"destructive"}),i(!1);return}const E=kje.parse({name:o.name,email:o.email,category:o.category}),M=typeof o.education=="string"?o.education.split(`
`).map(D=>D.trim()).filter(D=>D):o.education,z=typeof o.awards=="string"?o.awards.split(`
`).map(D=>D.trim()).filter(D=>D):o.awards,R={user_id:r.id,name:E.name,email:E.email,category:E.category,avatar_url:o.avatar_url||null,updated_at:new Date().toISOString()};!0&&(R.brand_name=o.brand_name||null,R.logo_url=o.logo_url||null,R.banner_image=o.banner_image||null,R.location=o.location||null,R.education=M.length>0?M:null,R.awards=z.length>0?z:null,R.website_url=o.website_url||null,R.instagram_handle=o.instagram_handle||null,R.twitter_handle=o.twitter_handle||null,R.linkedin_url=o.linkedin_url||null,R.facebook_url=o.facebook_url||null,R.tiktok_handle=o.tiktok_handle||null,R.youtube_channel=o.youtube_channel||null,R.dribbble_url=o.dribbble_url||null,R.behance_url=o.behance_url||null,R.etsy_shop_url=o.etsy_shop_url||null,R.shopify_store_url=o.shopify_store_url||null),console.log("Settings profile updates being sent:",R);const{error:V}=await J.from("profiles").upsert(R,{onConflict:"user_id"});if(console.log("Settings update result:",{error:V,data:R}),V)throw V;a({title:"Profile updated",description:"Your changes have been saved."})}catch(E){E instanceof Ms?a({title:"Validation error",description:E.errors[0].message,variant:"destructive"}):a({title:"Error",description:"Failed to update profile.",variant:"destructive"})}finally{i(!1)}}},A=async()=>{i(!0);try{const E=Aje.parse(c),{error:M}=await J.auth.updateUser({password:E.newPassword});if(M)throw M;d({currentPassword:"",newPassword:"",confirmPassword:""}),a({title:"Password updated",description:"Your password has been changed successfully."})}catch(E){if(E instanceof Ms)a({title:"Validation error",description:E.errors[0].message,variant:"destructive"});else{const M=E?.message||E?.error_description||E?.error||"Failed to update password.";M.includes("WeakPassword")||M.toLowerCase().includes("password")&&(M.toLowerCase().includes("weak")||M.toLowerCase().includes("compromised"))?a({title:"Password Rejected",description:"The password you chose has been identified as potentially compromised. Please select a stronger, unique password that hasn't been used in data breaches.",variant:"destructive"}):a({title:"Error",description:M,variant:"destructive"})}}finally{i(!1)}},O=async()=>{await s(),t("/")},I=async()=>{if(S!=="DELETE"){a({title:"Confirmation required",description:'Please type "DELETE" to confirm account deletion.',variant:"destructive"});return}N(!0);try{const{error:E}=await J.rpc("delete_user_account");if(E)throw E;a({title:"Account deleted",description:"Your account has been permanently deleted."}),await s(),t("/")}catch(E){console.error("Account deletion error:",E),a({title:"Error",description:"Failed to delete account. Please contact support.",variant:"destructive"})}finally{N(!1),j(!1),w("")}},F=async()=>{if(r){if(!h.role||!h.category||!h.message.trim()){a({title:"Missing fields",description:"Please fill in all required fields.",variant:"destructive"});return}if(h.message.length>2e3){a({title:"Message too long",description:"Please keep your message under 2000 characters.",variant:"destructive"});return}x(!0);try{const{data:E,error:M}=await J.functions.invoke("submit-feedback",{body:{user_name:o.name||"Anonymous User",user_role:h.role,category:h.category,message:h.message.trim()}});if(M)throw console.error("Edge function error:",M),M;if(E?.error)throw console.error("Function returned error:",E.error),new Error(E.error);a({title:"Thank you for your feedback!",description:"We've received your submission and will review it shortly."}),p({role:"",category:"",message:""})}catch(E){console.error("Feedback submission error:",E);const M=E?.message||E?.error||"Something went wrong. Please try again.";a({title:"Submission failed",description:M,variant:"destructive"})}finally{x(!1)}}},$=E=>E.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2);return e.jsx(cs,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:e.jsxs("div",{className:"max-w-6xl mx-auto p-6 lg:p-8 space-y-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-accent opacity-5 rounded-2xl blur-3xl"}),e.jsx(G,{className:"relative border-accent/20 bg-card/50 backdrop-blur-sm",children:e.jsx(Y,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(rr,{className:"h-16 w-16 border-2 border-accent/20",children:[e.jsx(sr,{src:o.avatar_url}),e.jsx(ar,{className:"text-lg bg-gradient-accent text-white",children:$(o.name||"U")})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-2xl font-bold tracking-tight",children:o.name||"Your Profile"}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"capitalize",children:o.category||"Designer"}),o.location&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-accent",children:""}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ha,{className:"h-3 w-3"}),o.location]})]})]})]})]}),e.jsxs(T,{variant:"outline",className:"gap-2 hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50 transition-colors",onClick:O,children:[e.jsx(Ei,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})})})]}),e.jsxs(Nr,{defaultValue:"profile",className:"space-y-6",children:[e.jsx("div",{className:"sticky top-6 z-10 bg-background/80 backdrop-blur-md rounded-xl border border-border/50 p-1",children:e.jsxs(br,{className:"grid w-full grid-cols-5 bg-transparent",children:[e.jsxs(Ee,{value:"profile",className:"gap-2 data-[state=active]:bg-gradient-accent data-[state=active]:text-white transition-all",children:[e.jsx(Oa,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),e.jsxs(Ee,{value:"notifications",className:"gap-2 data-[state=active]:bg-gradient-accent data-[state=active]:text-white transition-all",children:[e.jsx(fo,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Notifications"})]}),e.jsxs(Ee,{value:"security",className:"gap-2 data-[state=active]:bg-gradient-accent data-[state=active]:text-white transition-all",children:[e.jsx(us,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Security"})]}),e.jsxs(Ee,{value:"billing",className:"gap-2 data-[state=active]:bg-gradient-accent data-[state=active]:text-white transition-all",children:[e.jsx(Hp,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Billing"})]}),e.jsxs(Ee,{value:"feedback",className:"gap-2 data-[state=active]:bg-gradient-accent data-[state=active]:text-white transition-all",children:[e.jsx(Eg,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Feedback"})]})]})}),e.jsxs(Te,{value:"profile",className:"space-y-6 animate-in fade-in-50 duration-300",children:[e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsx(Ne,{children:"Profile Photos"}),e.jsx(er,{children:"Update your profile pictures"})]}),e.jsxs(Y,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(rr,{className:"h-20 w-20 border-2 border-border",children:[e.jsx(sr,{src:o.avatar_url}),e.jsx(ar,{className:"text-xl bg-accent/10 text-accent",children:$(o.name||"U")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsx(T,{variant:"outline",className:"gap-2",asChild:!0,children:e.jsxs("span",{children:[e.jsx(zr,{className:"h-4 w-4"}),"Upload New Photo"]})}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async E=>{const M=E.target.files?.[0];if(M){if(!M.type.startsWith("image/")){a({title:"Invalid file type",description:"Please upload an image file",variant:"destructive"});return}if(M.size>2*1024*1024){a({title:"File too large",description:"Image must be less than 2MB",variant:"destructive"});return}try{const z=M.name.split(".").pop(),R=`${r?.id}/avatar-${Date.now()}.${z}`,{error:te}=await J.storage.from("avatars").upload(R,M,{upsert:!0});if(te)throw te;const{data:{publicUrl:V}}=J.storage.from("avatars").getPublicUrl(R);l(D=>({...D,avatar_url:V})),a({title:"Success",description:"Avatar uploaded successfully!"})}catch(z){a({title:"Upload failed",description:z.message,variant:"destructive"})}}}})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG or GIF. Max size 2MB."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Banner Image"}),e.jsx("div",{className:"relative h-32 bg-muted rounded-lg overflow-hidden border-2 border-dashed border-border flex items-center justify-center",children:o.banner_image?e.jsx("img",{src:o.banner_image,alt:"Banner preview",className:"w-full h-full object-cover"}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No banner uploaded"})}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx(T,{variant:"outline",className:"w-full gap-2",asChild:!0,children:e.jsxs("span",{children:[e.jsx(zr,{className:"h-4 w-4"}),"Upload Banner"]})}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async E=>{const M=E.target.files?.[0];if(M){if(!M.type.startsWith("image/")){a({title:"Invalid file type",description:"Please upload an image file",variant:"destructive"});return}if(M.size>5*1024*1024){a({title:"File too large",description:"Image must be less than 5MB",variant:"destructive"});return}try{const z=M.name.split(".").pop(),R=`${r?.id}/banner-${Date.now()}.${z}`,{error:te}=await J.storage.from("banners").upload(R,M,{upsert:!0});if(te)throw te;const{data:{publicUrl:V}}=J.storage.from("banners").getPublicUrl(R);l(D=>({...D,banner_image:V})),a({title:"Success",description:"Banner uploaded successfully!"})}catch(z){a({title:"Upload failed",description:z.message,variant:"destructive"})}}}})]})]})]})]}),e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(Oa,{className:"h-5 w-5 text-accent"}),"Personal Information"]}),e.jsx(er,{children:"Update your personal details"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"name",children:"Full Name *"}),e.jsx(ie,{id:"name",value:o.name,onChange:E=>{l(M=>({...M,name:E.target.value})),g.name&&b(M=>({...M,name:""}))},placeholder:"Your name",className:g.name?"border-red-500":""}),g.name&&e.jsx("p",{className:"text-sm text-red-500",children:g.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"email",children:"Email"}),e.jsx(ie,{id:"email",type:"email",value:o.email,onChange:E=>l(M=>({...M,email:E.target.value})),placeholder:"your@email.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"brand-name",children:"Brand Name"}),e.jsx(ie,{id:"brand-name",value:o.brand_name,onChange:E=>l(M=>({...M,brand_name:E.target.value})),placeholder:"Your design brand/studio name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Specialty Category"}),e.jsxs(qe,{value:o.category,onValueChange:E=>l(M=>({...M,category:E})),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"fashion",children:"Fashion Design"}),e.jsx(X,{value:"textile",children:"Textile Design"}),e.jsx(X,{value:"jewelry",children:"Jewelry Design"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"location",className:"flex items-center gap-2",children:[e.jsx(Ha,{className:"h-4 w-4"}),"Location"]}),e.jsx(ie,{id:"location",value:o.location,onChange:E=>l(M=>({...M,location:E.target.value})),placeholder:"City, Country"})]}),e.jsxs(T,{className:"gap-2 bg-gradient-accent hover:opacity-90 transition-opacity shadow-sm",onClick:P,disabled:n,children:[n?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(Ka,{className:"h-4 w-4"}),"Save Changes"]})]})]}),e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(Up,{className:"h-5 w-5 text-accent"}),"Education & Awards"]}),e.jsx(er,{children:"Highlight your academic background and achievements"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"education",children:"Education"}),e.jsx(nt,{id:"education",value:typeof o.education=="string"?o.education:o.education.join(`
`),onChange:E=>l(M=>({...M,education:E.target.value})),placeholder:"List your educational qualifications, one per line",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"awards",className:"flex items-center gap-2",children:[e.jsx(Ya,{className:"h-4 w-4"}),"Awards & Recognition"]}),e.jsx(nt,{id:"awards",value:typeof o.awards=="string"?o.awards:o.awards.join(`
`),onChange:E=>l(M=>({...M,awards:E.target.value})),placeholder:"List your awards, grants, and recognitions",rows:4})]}),e.jsxs(T,{className:"gap-2 bg-gradient-accent hover:opacity-90 transition-opacity shadow-sm",onClick:P,disabled:n,children:[n?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(Ka,{className:"h-4 w-4"}),"Save Changes"]})]})]}),e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx($i,{className:"h-5 w-5 text-accent"}),"Social & Business Presence"]}),e.jsx(er,{children:"Connect your online profiles and business links"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"website",children:"Website"}),e.jsx(ie,{id:"website",value:o.website_url,onChange:E=>{l(M=>({...M,website_url:E.target.value})),g.website_url&&b(M=>({...M,website_url:""}))},placeholder:"https://yourwebsite.com",className:g.website_url?"border-red-500":""}),g.website_url&&e.jsx("p",{className:"text-sm text-red-500",children:g.website_url})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"logo-url",className:"flex items-center gap-2",children:[e.jsx(al,{className:"h-4 w-4"}),"Brand Logo URL"]}),e.jsx(ie,{id:"logo-url",value:o.logo_url,onChange:E=>l(M=>({...M,logo_url:E.target.value})),placeholder:"https://yourwebsite.com/logo.png"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"instagram",className:"flex items-center gap-2",children:[e.jsx(jo,{className:"h-4 w-4"}),"Instagram"]}),e.jsx(ie,{id:"instagram",value:o.instagram_handle,onChange:E=>{l(M=>({...M,instagram_handle:E.target.value})),g.instagram_handle&&b(M=>({...M,instagram_handle:""}))},placeholder:"@username",className:g.instagram_handle?"border-red-500":""}),g.instagram_handle&&e.jsx("p",{className:"text-sm text-red-500",children:g.instagram_handle})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"twitter",className:"flex items-center gap-2",children:[e.jsx(Cl,{className:"h-4 w-4"}),"Twitter/X"]}),e.jsx(ie,{id:"twitter",value:o.twitter_handle,onChange:E=>{l(M=>({...M,twitter_handle:E.target.value})),g.twitter_handle&&b(M=>({...M,twitter_handle:""}))},placeholder:"@username",className:g.twitter_handle?"border-red-500":""}),g.twitter_handle&&e.jsx("p",{className:"text-sm text-red-500",children:g.twitter_handle})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"linkedin",className:"flex items-center gap-2",children:[e.jsx(zp,{className:"h-4 w-4"}),"LinkedIn"]}),e.jsx(ie,{id:"linkedin",value:o.linkedin_url,onChange:E=>l(M=>({...M,linkedin_url:E.target.value})),placeholder:"https://linkedin.com/in/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"facebook",className:"flex items-center gap-2",children:[e.jsx(ZN,{className:"h-4 w-4"}),"Facebook"]}),e.jsx(ie,{id:"facebook",value:o.facebook_url,onChange:E=>l(M=>({...M,facebook_url:E.target.value})),placeholder:"https://facebook.com/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"tiktok",children:"TikTok"}),e.jsx(ie,{id:"tiktok",value:o.tiktok_handle,onChange:E=>{l(M=>({...M,tiktok_handle:E.target.value})),g.tiktok_handle&&b(M=>({...M,tiktok_handle:""}))},placeholder:"@username",className:g.tiktok_handle?"border-red-500":""}),g.tiktok_handle&&e.jsx("p",{className:"text-sm text-red-500",children:g.tiktok_handle})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"youtube",className:"flex items-center gap-2",children:[e.jsx(YN,{className:"h-4 w-4"}),"YouTube"]}),e.jsx(ie,{id:"youtube",value:o.youtube_channel,onChange:E=>l(M=>({...M,youtube_channel:E.target.value})),placeholder:"Channel URL or username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"dribbble",children:"Dribbble"}),e.jsx(ie,{id:"dribbble",value:o.dribbble_url,onChange:E=>l(M=>({...M,dribbble_url:E.target.value})),placeholder:"https://dribbble.com/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"behance",children:"Behance"}),e.jsx(ie,{id:"behance",value:o.behance_url,onChange:E=>l(M=>({...M,behance_url:E.target.value})),placeholder:"https://behance.net/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"etsy",className:"flex items-center gap-2",children:[e.jsx(kc,{className:"h-4 w-4"}),"Etsy Shop"]}),e.jsx(ie,{id:"etsy",value:o.etsy_shop_url,onChange:E=>l(M=>({...M,etsy_shop_url:E.target.value})),placeholder:"https://etsy.com/shop/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"shopify",children:"Shopify Store"}),e.jsx(ie,{id:"shopify",value:o.shopify_store_url,onChange:E=>l(M=>({...M,shopify_store_url:E.target.value})),placeholder:"https://store.myshopify.com"})]})]}),e.jsxs(T,{className:"gap-2 bg-gradient-accent hover:opacity-90 mt-4",onClick:P,disabled:n,children:[n?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(Ka,{className:"h-4 w-4"}),"Save Changes"]})]})]})]}),e.jsx(Te,{value:"notifications",className:"space-y-6 animate-in fade-in-50 duration-300",children:e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsx(Ne,{children:"Notification Preferences"}),e.jsx(er,{children:"Choose what notifications you want to receive"})]}),e.jsx(Y,{className:"space-y-6",children:[{id:"styleboxes",label:"New Stylebox Releases",description:"Get notified when new challenges are available"},{id:"earnings",label:"Earnings Updates",description:"Receive notifications about sales and payouts"},{id:"portfolio",label:"Portfolio Approvals",description:"Get updates on your portfolio submission status"},{id:"team",label:"Team Activity",description:"Notifications about team messages and updates"},{id:"marketing",label:"Marketing & Tips",description:"Tips, trends, and promotional content"}].map(E=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(K,{htmlFor:E.id,children:E.label}),e.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]}),e.jsx(Ws,{id:E.id,checked:u[E.id],onCheckedChange:M=>m(z=>({...z,[E.id]:M}))})]},E.id))})]})}),e.jsxs(Te,{value:"security",className:"space-y-6 animate-in fade-in-50 duration-300",children:[e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsx(Ne,{children:"Change Password"}),e.jsx(er,{children:"Update your password to keep your account secure"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"currentPassword",children:"Current Password"}),e.jsx(ie,{id:"currentPassword",type:"password",value:c.currentPassword,onChange:E=>d(M=>({...M,currentPassword:E.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"newPassword",children:"New Password"}),e.jsx(ie,{id:"newPassword",type:"password",value:c.newPassword,onChange:E=>d(M=>({...M,newPassword:E.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(ie,{id:"confirmPassword",type:"password",value:c.confirmPassword,onChange:E=>d(M=>({...M,confirmPassword:E.target.value}))})]}),e.jsxs(T,{className:"bg-gradient-accent hover:opacity-90",onClick:A,disabled:n,children:[n&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Update Password"]})]})]}),e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsx(Ne,{children:"Two-Factor Authentication"}),e.jsx(er,{children:"Add an extra layer of security to your account"})]}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"font-medium",children:"Enable 2FA"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Protect your account with two-factor authentication"})]}),e.jsx(Ws,{})]})})]}),e.jsxs(G,{className:"border-destructive/50",children:[e.jsxs(je,{children:[e.jsxs(Ne,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Ti,{className:"h-5 w-5"}),"Danger Zone"]}),e.jsx(er,{children:"Irreversible actions that will permanently affect your account"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/5 p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-destructive",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),e.jsxs(T,{variant:"destructive",className:"gap-2",onClick:()=>j(!0),children:[e.jsx(Hr,{className:"h-4 w-4"}),"Delete My Account"]})]})})})]})]}),e.jsxs(Te,{value:"billing",className:"space-y-6 animate-in fade-in-50 duration-300",children:[e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsx(Ne,{children:"Subscription"}),e.jsx(er,{children:"Manage your subscription tier"})]}),e.jsx(Y,{className:"space-y-4",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{tier:"basic",name:"Basic",price:"$15",features:["Limited StyleBoxes","Basic Studio","Community Access"]},{tier:"pro",name:"Pro Creator",price:"$49",features:["Unlimited StyleBoxes","Full Studio","Request Publish","Revenue Dashboard"],popular:!0},{tier:"elite",name:"Elite",price:"$99",features:["Priority Publishing","Mentorship Calls","Early Access","Higher Revenue Share"]}].map(E=>e.jsxs("div",{className:`relative rounded-xl border p-4 ${E.popular?"border-accent bg-accent/5":"border-border bg-card"}`,children:[E.popular&&e.jsx(B,{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-gradient-accent",children:"Popular"}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E.tier==="elite"&&e.jsx(zt,{className:"h-4 w-4 text-accent"}),E.tier==="pro"&&e.jsx(ct,{className:"h-4 w-4 text-accent"}),e.jsx("h3",{className:"font-semibold",children:E.name})]}),e.jsxs("p",{className:"text-2xl font-bold mb-4",children:[E.price,e.jsx("span",{className:"text-sm text-muted-foreground font-normal",children:"/mo"})]}),e.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:E.features.map((M,z)=>e.jsxs("li",{children:[" ",M]},z))}),e.jsx(T,{variant:E.popular?"default":"outline",className:`w-full mt-4 ${E.popular?"bg-gradient-accent hover:opacity-90":""}`,size:"sm",children:E.tier==="basic"?"Current Plan":"Upgrade"})]},E.tier))})})]}),e.jsxs(G,{children:[e.jsxs(je,{children:[e.jsx(Ne,{children:"Payout Settings"}),e.jsx(er,{children:"Configure how you receive your earnings"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"paypal",children:"PayPal Email"}),e.jsx(ie,{id:"paypal",type:"email",placeholder:"your@email.com"})]}),e.jsx(T,{className:"bg-gradient-accent hover:opacity-90",children:"Save Payout Settings"})]})]})]}),e.jsxs(Te,{value:"feedback",className:"space-y-6 animate-in fade-in-50 duration-300",children:[e.jsxs(G,{className:"border-accent/10 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs(je,{children:[e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(Eg,{className:"h-5 w-5 text-accent"}),"Share Your Feedback"]}),e.jsx(er,{children:"Help us improve Adorzia! Report bugs, suggest features, or share your thoughts."})]}),e.jsxs(Y,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Your Role *"}),e.jsxs(qe,{value:h.role,onValueChange:E=>p(M=>({...M,role:E})),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select your role"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"designer",children:"Designer"}),e.jsx(X,{value:"founder",children:"Founder"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Category *"}),e.jsxs(qe,{value:h.category,onValueChange:E=>p(M=>({...M,category:E})),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select category"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"bug",children:" Bug Report"}),e.jsx(X,{value:"ux",children:" UX Issue"}),e.jsx(X,{value:"feature",children:" Feature Request"}),e.jsx(X,{value:"other",children:" Other"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{children:"Your Message *"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[h.message.length,"/2000"]})]}),e.jsx(nt,{value:h.message,onChange:E=>p(M=>({...M,message:E.target.value})),placeholder:"Describe your feedback in detail. What happened? What did you expect? How can we improve?",rows:6,maxLength:2e3,className:"resize-none"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitting as: ",e.jsx("span",{className:"font-medium text-foreground",children:o.name||"Anonymous"})]}),e.jsxs(T,{onClick:F,disabled:v||!h.role||!h.category||!h.message.trim(),className:"gap-2 bg-gradient-accent hover:opacity-90",children:[v?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(ai,{className:"h-4 w-4"}),"Submit Feedback"]})]})]})]}),e.jsx(G,{className:"border-accent/20 bg-accent/5",children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"rounded-full bg-accent/10 p-3",children:e.jsx(Eg,{className:"h-6 w-6 text-accent"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Direct Contact"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["For urgent issues or detailed discussions, email us at"," ",e.jsx("a",{href:"mailto:hello@adorzia.com",className:"text-accent hover:underline font-medium",children:"hello@adorzia.com"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"We typically respond within 24 hours."})]})]})})})]})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(G,{className:"w-full max-w-md border-destructive",children:[e.jsxs(je,{children:[e.jsxs(Ne,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Ti,{className:"h-5 w-5"}),"Delete Account?"]}),e.jsx(er,{children:"This action cannot be undone. All your data will be permanently deleted."})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"delete-confirm",children:["Type ",e.jsx("span",{className:"font-mono font-bold",children:"DELETE"})," to confirm"]}),e.jsx(ie,{id:"delete-confirm",value:S,onChange:E=>w(E.target.value),placeholder:"DELETE",className:"font-mono"})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(T,{variant:"outline",onClick:()=>{j(!1),w("")},disabled:_,children:"Cancel"}),e.jsx(T,{variant:"destructive",onClick:I,disabled:_||S!=="DELETE",children:_?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Delete Account"]})})]})]})]})})]})})})},Eje=()=>{const[t,r]=f.useState(!1),[s,a]=f.useState(null);return{purchaseFounderTier:async i=>{r(!0),a(null);try{const{data:{session:o}}=await J.auth.getSession();if(!o)throw new Error("User not authenticated. Please sign in first.");const{data:l,error:c}=await J.functions.invoke("purchase-foundation-rank",{body:{tierId:i}});if(c)throw new Error(c.message||"Failed to initiate purchase");if(l?.url)return window.location.href=l.url,{success:!0,redirectUrl:l.url};throw new Error("No redirect URL received from server")}catch(o){return console.error("Purchase error:",o),a(o.message||"An error occurred during purchase"),{success:!1,error:o.message||"An error occurred during purchase"}}finally{r(!1)}},loading:t,error:s}};function Tje(){const[t]=KN(),{user:r}=ur(),{tier:s,isSubscribed:a,subscriptionEnd:n,loading:i,startCheckout:o,openCustomerPortal:l,refreshSubscription:c}=j_(),{purchaseFounderTier:d,loading:u}=Eje(),{toast:m}=Ge(),[h,p]=f.useState({});f.useEffect(()=>{t.get("success")==="true"?(m({title:"Subscription successful!",description:"Welcome to your new plan. Enjoy the features!"}),c()):t.get("canceled")==="true"&&m({title:"Subscription canceled",description:"You can subscribe anytime.",variant:"destructive"})},[t,m,c]);const v=async b=>{if(!r){m({title:"Login required",description:"Please log in to purchase a founder tier.",variant:"destructive"});return}p(y=>({...y,[b]:!0}));try{const y=await d(b);if(!y.success)throw new Error(y.error||"Failed to initiate purchase")}catch(y){m({title:"Error",description:y instanceof Error?y.message:"Failed to start checkout",variant:"destructive"})}finally{p(y=>({...y,[b]:!1}))}},[x,g]=f.useState(null);return f.useEffect(()=>{g(null)},[]),e.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(B,{variant:"secondary",className:"mb-4",children:"One-Time Payment"}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-4",children:"Founder Tiers"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Secure your lifetime profit bonuses with a one-time payment. Founder tiers offer permanent benefits and exclusive access to the platform."})]}),e.jsxs("section",{className:"mb-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Lifetime Access Tiers"}),e.jsx("p",{className:"text-muted-foreground",children:"One-time payment, lifetime benefits"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:Object.keys(Or).map(b=>{const y=Or[b],j=y.highlighted,S=h[b];return e.jsxs(G,{className:q("relative flex flex-col transition-all duration-300 hover:shadow-lg",j&&"border-2 border-primary ring-2 ring-primary/20 transform scale-105",x===b&&"ring-2 ring-primary"),children:[j&&y.highlightLabel&&e.jsx(B,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-primary",children:y.highlightLabel}),x===b&&e.jsx(B,{variant:"secondary",className:"absolute -top-3 right-4",children:"Your Tier"}),e.jsxs(je,{className:"text-center pb-4",children:[e.jsx("div",{className:q("mx-auto mb-4 p-3 rounded-full",y.badgeColor==="gold"?"bg-amber-100 text-amber-600":y.badgeColor==="silver"?"bg-gray-200 text-gray-600":"bg-secondary"),children:y.badgeColor==="gold"?e.jsx(Xz,{className:"h-6 w-6"}):y.badgeColor==="silver"?e.jsx(ri,{className:"h-6 w-6"}):e.jsx(Ya,{className:"h-6 w-6"})}),e.jsx(Ne,{className:"text-xl",children:y.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:y.subtitle}),e.jsxs(er,{children:[e.jsx("span",{className:"text-3xl font-bold text-foreground",children:y.priceFormatted}),y.isOneTime&&e.jsx("span",{className:"text-muted-foreground text-sm ml-1",children:"one-time"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.targetAudience})]}),e.jsxs(Y,{className:"flex-1",children:[e.jsx("ul",{className:"space-y-3",children:y.features.map((w,_)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(gr,{className:"h-4 w-4 text-primary shrink-0 mt-0.5"}),e.jsx("span",{children:w})]},_))}),y.perks.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Perks:"}),e.jsx("ul",{className:"text-xs space-y-1",children:y.perks.map((w,_)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(At,{className:"h-3 w-3 text-yellow-500 mr-1 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:w})]},_))})]})]}),e.jsx(Tc,{children:e.jsx(T,{className:"w-full",variant:j?"default":"outline",disabled:S||u,onClick:()=>v(b),children:S||u&&h[b]!==!1?"Processing...":y.ctaText})})]},b)})})]}),e.jsxs("div",{className:"mt-12 text-center text-sm text-muted-foreground",children:[e.jsx("p",{children:"All founder tiers offer lifetime profit bonuses and are limited edition. Secure your spot before slots run out!"}),e.jsxs("p",{className:"mt-1",children:["Need help choosing? Contact us at ",e.jsx("a",{href:"mailto:hello@adorzia.com",className:"text-primary hover:underline",children:"hello@adorzia.com"})]})]})]})})}const Oje={f1:{bg:"bg-gradient-to-br from-rank-f1/15 to-rank-f1/5",border:"border-rank-f1/30",text:"text-rank-f1",iconBg:"bg-rank-f1/20"},f2:{bg:"bg-gradient-to-br from-rank-f2/15 to-rank-f2/5",border:"border-rank-f2/30",text:"text-rank-f2",iconBg:"bg-rank-f2/20"},apprentice:{bg:"bg-gradient-to-br from-rank-apprentice/15 to-rank-apprentice/5",border:"border-rank-apprentice/30",text:"text-rank-apprentice",iconBg:"bg-rank-apprentice/20"},patternist:{bg:"bg-gradient-to-br from-rank-patternist/15 to-rank-patternist/5",border:"border-rank-patternist/30",text:"text-rank-patternist",iconBg:"bg-rank-patternist/20"},stylist:{bg:"bg-gradient-to-br from-rank-stylist/15 to-rank-stylist/5",border:"border-rank-stylist/30",text:"text-rank-stylist",iconBg:"bg-rank-stylist/20"},couturier:{bg:"bg-gradient-to-br from-rank-couturier/15 to-rank-couturier/5",border:"border-rank-couturier/30",text:"text-rank-couturier",iconBg:"bg-rank-couturier/20"},visionary:{bg:"bg-gradient-to-br from-rank-visionary/15 to-rank-visionary/5",border:"border-rank-visionary/30",text:"text-rank-visionary",iconBg:"bg-rank-visionary/20"},creative_director:{bg:"bg-gradient-to-br from-rank-creative_director/15 to-rank-creative_director/5",border:"border-rank-creative_director/30",text:"text-rank-creative_director",iconBg:"bg-rank-creative_director/20"}},Dje=({rank:t})=>{const r=Ir[t].isFoundation,s=t==="creative_director";return r?e.jsx(ct,{className:"h-5 w-5"}):s?e.jsx(zt,{className:"h-5 w-5"}):e.jsx(At,{className:"h-5 w-5"})};function nD({rank:t,isCurrentRank:r=!1,isUnlocked:s=!1,foundationRank:a,showEffectiveShare:n=!1}){const i=Ir[t],o=Oje[t],l=!i.isFoundation&&a?Yte(t,a):i.revenueShare;return e.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:i.order*.05},className:q("relative p-4 rounded-xl border transition-all duration-300",o.bg,o.border,r&&"ring-2 ring-offset-2 ring-offset-background",r&&t==="f1"&&"ring-rank-f1",r&&t==="f2"&&"ring-rank-f2",r&&t==="creative_director"&&"ring-rank-creative_director",r&&!["f1","f2","creative_director"].includes(t)&&"ring-accent",!s&&!r&&"opacity-50"),children:[e.jsx("div",{className:"absolute top-3 right-3",children:r?e.jsx("span",{className:q("flex h-6 w-6 items-center justify-center rounded-full",o.iconBg),children:e.jsx(gr,{className:q("h-3.5 w-3.5",o.text)})}):s?null:e.jsx(us,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:q("flex h-10 w-10 items-center justify-center rounded-xl",o.iconBg),children:e.jsx("span",{className:o.text,children:e.jsx(Dje,{rank:t})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:q("font-display font-semibold",o.text),children:i.name}),i.isFoundation&&e.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-bold rounded bg-rank-f1/20 text-rank-f1",children:"FOUNDER"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:i.title}),!i.isFoundation&&i.minSC>0&&e.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:["Min SC: ",i.minSC.toLocaleString()]}),i.isFoundation&&i.priceUsd&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Rs,{className:"h-3 w-3 text-muted-foreground"}),e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["$",i.priceUsd," one-time"]})]})]}),e.jsx("div",{className:"text-right",children:n&&!i.isFoundation&&a?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:q("text-xl font-display font-bold",o.text),children:[l,"%"]}),e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[i.revenueShare,"% + ",Ir[a].bonusPercentage,"%"]})]}):i.isFoundation?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:q("text-xl font-display font-bold",o.text),children:["+",i.bonusPercentage,"%"]}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"bonus"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:q("text-xl font-display font-bold",o.text),children:[i.revenueShare,"%"]}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"share"})]})})]}),r&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Requirements:"}),e.jsx("ul",{className:"space-y-1",children:i.requirements.map((c,d)=>e.jsxs("li",{className:"text-xs flex items-start gap-1.5",children:[e.jsx(gr,{className:"h-3 w-3 mt-0.5 text-success shrink-0"}),e.jsx("span",{children:c})]},d))})]})]})}function Rje({currentRank:t,foundationRank:r}){const s=gw.indexOf(t),a=n=>gw.indexOf(n)<=s;return e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"h-5 w-5 text-accent"}),"Rank Progression"]})}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-3",children:"Foundation Ranks (Limited Time)"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"One-time payment for lifetime bonus on all revenue share"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Hte.map(n=>e.jsx(nD,{rank:n,isCurrentRank:r===n,isUnlocked:r===n},n))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-3",children:"Standard Ranks (Merit-Based Progression)"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Progress through ranks by improving your weighted score"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:yc.map(n=>e.jsx(nD,{rank:n,isCurrentRank:!["f1","f2"].includes(t)&&n===t,isUnlocked:a(n),foundationRank:r,showEffectiveShare:!!r},n))})]})]})})]})}function Ije(t){return Oe({queryKey:["designer-products",t],queryFn:async({signal:r})=>{if(!t)return[];const s=new AbortController,a=setTimeout(()=>s.abort(),1e4);r&&r.addEventListener("abort",()=>{s.abort(),clearTimeout(a)});try{const{data:n,error:i}=await J.from("marketplace_products").select(`
            *,
            category:category_id (
              id,
              name,
              slug
            )
          `).eq("designer_id",t).eq("status","live").order("created_at",{ascending:!1});if(clearTimeout(a),i)throw new Error(`Failed to fetch designer products: ${i.message}`);return n||[]}catch(n){throw clearTimeout(a),n instanceof Error&&n.name==="AbortError"?new Error("Request timeout - please try again"):n}},enabled:!!t,retry:2,retryDelay:r=>Math.min(1e3*2**r,3e4),staleTime:300*1e3,gcTime:600*1e3})}const Mje=[{value:"fashion",label:"Fashion Design"},{value:"jewelry",label:"Jewelry Design"},{value:"textile",label:"Textile Design"},{value:"accessory",label:"Accessory Design"}];function Fje({open:t,onOpenChange:r}){const{profile:s,updateProfile:a}=Um(),[n,i]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,m]=f.useState(""),[h,p]=f.useState(""),[v,x]=f.useState(""),[g,b]=f.useState(""),[y,j]=f.useState(""),[S,w]=f.useState(""),[_,N]=f.useState(""),[k,C]=f.useState(""),[P,A]=f.useState(""),[O,I]=f.useState(""),[F,$]=f.useState(""),[E,M]=f.useState(""),[z,R]=f.useState(""),[te,V]=f.useState(""),[D,H]=f.useState(""),[ae,U]=f.useState(""),[se,Q]=f.useState(""),[pe,le]=f.useState(""),[ue,De]=f.useState(""),[he,st]=f.useState(!1),[Qe,Ct]=f.useState(!1),[Tt,Jt]=f.useState(!1),[_t,Er]=f.useState({});f.useEffect(()=>{s&&(i(s.name||""),l(s.bio||""),d(s.brand_name||""),m(s.category||"fashion"),p(s.skills?.join(", ")||""),x(s.avatar_url||""),b(s.logo_url||""),j(s.banner_image||""),w(s.location||""),N(s.education?.join(`
`)||""),C(s.awards?.join(`
`)||""),A(s.website_url||""),I(s.instagram_handle||""),$(s.twitter_handle||""),M(s.linkedin_url||""),R(s.facebook_url||""),V(s.tiktok_handle||""),H(s.youtube_channel||""),U(s.dribbble_url||""),Q(s.behance_url||""),le(s.etsy_shop_url||""),De(s.shopify_store_url||""))},[s]);const Z=()=>{const ce={};return n.trim()||(ce.name="Display name is required"),P&&!P.match(/^https?:\/\//)&&(ce.websiteUrl="Please enter a valid URL starting with http:// or https://"),O&&!O.startsWith("@")&&(ce.instagramHandle="Instagram handle should start with @"),F&&!F.startsWith("@")&&(ce.twitterHandle="Twitter handle should start with @"),te&&!te.startsWith("@")&&(ce.tiktokHandle="TikTok handle should start with @"),Er(ce),Object.keys(ce).length===0},oe=ze({mutationFn:async()=>{if(!Z())throw new Error("Please fix validation errors");const be=yr(h).split(",").map(nr=>nr.trim()).filter(nr=>nr.length>0),pt=yr(_).split(`
`).map(nr=>nr.trim()).filter(nr=>nr.length>0),Kt=yr(k).split(`
`).map(nr=>nr.trim()).filter(nr=>nr.length>0),Es=yr(o),qt={name:yr(n)||null,bio:Es||null,category:u,skills:be.length>0?be:null,avatar_url:v||null};qt.brand_name=yr(c)||null,qt.logo_url=g||null,qt.banner_image=y||null,qt.location=yr(S)||null,qt.education=pt.length>0?oC(pt):null,qt.awards=Kt.length>0?oC(Kt):null,qt.website_url=yr(P)||null,qt.instagram_handle=yr(O)||null,qt.twitter_handle=yr(F)||null,qt.linkedin_url=yr(E)||null,qt.facebook_url=yr(z)||null,qt.tiktok_handle=yr(te)||null,qt.youtube_channel=yr(D)||null,qt.dribbble_url=yr(ae)||null,qt.behance_url=yr(se)||null,qt.etsy_shop_url=yr(pe)||null,qt.shopify_store_url=yr(ue)||null,console.log("Profile updates being sent:",qt);const{error:Qr}=await a(qt);if(Qr)throw Qr},onSuccess:()=>{Re.success("Profile updated successfully!"),r(!1)},onError:ce=>{ce.message==="Please fix validation errors"?Re.error("Please check the form for validation errors"):Re.error("Failed to update profile: "+ce.message)}}),me=async ce=>{const be=ce.target.files?.[0];if(be){if(!be.type.startsWith("image/")){Re.error("Please upload an image file");return}if(be.size>2*1024*1024){Re.error("Image must be less than 2MB");return}st(!0);try{const He=be.name.split(".").pop(),pt=`${s?.user_id}/avatar-${Date.now()}.${He}`,{error:mr}=await J.storage.from("avatars").upload(pt,be);if(mr)throw mr;const{data:{publicUrl:Kt}}=J.storage.from("avatars").getPublicUrl(pt);x(Kt),Re.success("Avatar uploaded!")}catch(He){Re.error("Upload failed: "+He.message)}finally{st(!1)}}},Pe=async ce=>{const be=ce.target.files?.[0];if(be){if(!be.type.startsWith("image/")){Re.error("Please upload an image file");return}if(be.size>5*1024*1024){Re.error("Image must be less than 5MB");return}Jt(!0);try{const He=be.name.split(".").pop(),pt=`${s?.user_id}/banner-${Date.now()}.${He}`,{error:mr}=await J.storage.from("banners").upload(pt,be);if(mr)throw mr;const{data:{publicUrl:Kt}}=J.storage.from("banners").getPublicUrl(pt);j(Kt),Re.success("Banner uploaded!")}catch(He){Re.error("Upload failed: "+He.message)}finally{Jt(!1)}}},ke=ce=>ce?ce.split(" ").map(be=>be[0]).join("").toUpperCase().slice(0,2):"U";return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"sm:max-w-lg",children:[e.jsx(Lt,{children:e.jsx($t,{children:"Edit Profile"})}),e.jsxs("div",{className:"space-y-6 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx(al,{className:"h-5 w-5 text-accent"}),"Profile"]}),e.jsxs("div",{className:"w-full space-y-2",children:[e.jsx(K,{children:"Banner Image"}),e.jsx("div",{className:"relative h-32 bg-muted rounded-lg overflow-hidden border-2 border-dashed border-border flex items-center justify-center",children:y?e.jsx("img",{src:y,alt:"Banner preview",className:"w-full h-full object-cover"}):e.jsx("p",{className:"text-muted-foreground text-sm",children:"No banner uploaded"})}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsxs(T,{variant:"outline",className:"w-full gap-2",disabled:Tt,children:[Tt?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(zr,{className:"h-4 w-4"}),Tt?"Uploading...":"Upload Banner"]}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Pe,disabled:Tt})]})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(rr,{className:"h-24 w-24 border-4 border-background shadow-lg",children:[e.jsx(sr,{src:v||void 0}),e.jsx(ar,{className:"text-2xl bg-accent text-accent-foreground",children:ke(n||s?.name)})]}),e.jsx("label",{htmlFor:"avatar-upload",className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center cursor-pointer hover:bg-primary/90 transition-colors",children:he?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(JD,{className:"h-4 w-4"})}),e.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:me,disabled:he})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Click camera to upload avatar"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"name",children:"Display Name *"}),e.jsx(ie,{id:"name",value:n,onChange:ce=>{i(ce.target.value),_t.name&&Er(be=>({...be,name:""}))},placeholder:"Your display name",className:_t.name?"border-red-500":""}),_t.name&&e.jsx("p",{className:"text-sm text-red-500",children:_t.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"brand-name",children:"Brand Name"}),e.jsx(ie,{id:"brand-name",value:c,onChange:ce=>d(ce.target.value),placeholder:"Your design brand/studio name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"bio",children:"Bio"}),e.jsx(nt,{id:"bio",value:o,onChange:ce=>l(ce.target.value),placeholder:"Tell us about yourself and your design philosophy...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Design Category"}),e.jsxs(qe,{value:u,onValueChange:m,children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select category"})}),e.jsx(Le,{children:Mje.map(ce=>e.jsx(X,{value:ce.value,children:ce.label},ce.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"location",className:"flex items-center gap-2",children:[e.jsx(Ha,{className:"h-4 w-4"}),"Location"]}),e.jsx(ie,{id:"location",value:S,onChange:ce=>w(ce.target.value),placeholder:"City, Country"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"skills",children:"Skills (comma-separated)"}),e.jsx(ie,{id:"skills",value:h,onChange:ce=>p(ce.target.value),placeholder:"e.g., Fashion Design, Textile Art, Pattern Making"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Separate skills with commas"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx(Up,{className:"h-5 w-5 text-accent"}),"Expertise"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"education",children:"Education"}),e.jsx(nt,{id:"education",value:_,onChange:ce=>N(ce.target.value),placeholder:`List your educational qualifications, one per line
e.g.:
BFA in Fashion Design - XYZ University
Advanced Textile Workshop - ABC Institute`,rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter one qualification per line"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"awards",className:"flex items-center gap-2",children:[e.jsx(Ya,{className:"h-4 w-4"}),"Awards & Recognition"]}),e.jsx(nt,{id:"awards",value:k,onChange:ce=>C(ce.target.value),placeholder:`List your awards, grants, and recognitions
e.g.:
2023 Emerging Designer Award
National Fashion Council Grant Winner 2022`,rows:4}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter one award per line"})]})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx($i,{className:"h-5 w-5 text-accent"}),"Social & Business Presence"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"website",children:"Website"}),e.jsx(ie,{id:"website",value:P,onChange:ce=>{A(ce.target.value),_t.websiteUrl&&Er(be=>({...be,websiteUrl:""}))},placeholder:"https://yourwebsite.com",className:_t.websiteUrl?"border-red-500":""}),_t.websiteUrl&&e.jsx("p",{className:"text-sm text-red-500",children:_t.websiteUrl})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(al,{className:"h-4 w-4"}),"Brand Logo"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[g&&e.jsx("img",{src:g,alt:"Logo preview",className:"h-12 w-12 object-contain border rounded"}),e.jsx("div",{className:"flex-1",children:e.jsx(ie,{value:g,onChange:ce=>b(ce.target.value),placeholder:"Logo URL or upload below"})}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx(T,{variant:"outline",size:"sm",disabled:Qe,asChild:!0,children:e.jsx("span",{children:Qe?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):"Upload"})}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async ce=>{const be=ce.target.files?.[0];if(be){if(!be.type.startsWith("image/")){Re.error("Please upload an image file");return}if(be.size>2*1024*1024){Re.error("Image must be less than 2MB");return}Ct(!0);try{const He=be.name.split(".").pop(),pt=`${s?.user_id}/logo-${Date.now()}.${He}`,{error:mr}=await J.storage.from("logos").upload(pt,be);if(mr)throw mr;const{data:{publicUrl:Kt}}=J.storage.from("logos").getPublicUrl(pt);b(Kt),Re.success("Logo uploaded!")}catch(He){Re.error("Upload failed: "+He.message)}finally{Ct(!1)}}}})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"instagram",className:"flex items-center gap-2",children:[e.jsx(jo,{className:"h-4 w-4"}),"Instagram"]}),e.jsx(ie,{id:"instagram",value:O,onChange:ce=>{I(ce.target.value),_t.instagramHandle&&Er(be=>({...be,instagramHandle:""}))},placeholder:"@username",className:_t.instagramHandle?"border-red-500":""}),_t.instagramHandle&&e.jsx("p",{className:"text-sm text-red-500",children:_t.instagramHandle})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"twitter",className:"flex items-center gap-2",children:[e.jsx(Cl,{className:"h-4 w-4"}),"Twitter/X"]}),e.jsx(ie,{id:"twitter",value:F,onChange:ce=>{$(ce.target.value),_t.twitterHandle&&Er(be=>({...be,twitterHandle:""}))},placeholder:"@username",className:_t.twitterHandle?"border-red-500":""}),_t.twitterHandle&&e.jsx("p",{className:"text-sm text-red-500",children:_t.twitterHandle})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"linkedin",className:"flex items-center gap-2",children:[e.jsx(zp,{className:"h-4 w-4"}),"LinkedIn"]}),e.jsx(ie,{id:"linkedin",value:E,onChange:ce=>M(ce.target.value),placeholder:"https://linkedin.com/in/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"facebook",className:"flex items-center gap-2",children:[e.jsx(ZN,{className:"h-4 w-4"}),"Facebook"]}),e.jsx(ie,{id:"facebook",value:z,onChange:ce=>R(ce.target.value),placeholder:"https://facebook.com/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"tiktok",children:"TikTok"}),e.jsx(ie,{id:"tiktok",value:te,onChange:ce=>{V(ce.target.value),_t.tiktokHandle&&Er(be=>({...be,tiktokHandle:""}))},placeholder:"@username",className:_t.tiktokHandle?"border-red-500":""}),_t.tiktokHandle&&e.jsx("p",{className:"text-sm text-red-500",children:_t.tiktokHandle})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"youtube",className:"flex items-center gap-2",children:[e.jsx(YN,{className:"h-4 w-4"}),"YouTube"]}),e.jsx(ie,{id:"youtube",value:D,onChange:ce=>H(ce.target.value),placeholder:"Channel URL or username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"dribbble",children:"Dribbble"}),e.jsx(ie,{id:"dribbble",value:ae,onChange:ce=>U(ce.target.value),placeholder:"https://dribbble.com/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"behance",children:"Behance"}),e.jsx(ie,{id:"behance",value:se,onChange:ce=>Q(ce.target.value),placeholder:"https://behance.net/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"etsy",className:"flex items-center gap-2",children:[e.jsx(kc,{className:"h-4 w-4"}),"Etsy Shop"]}),e.jsx(ie,{id:"etsy",value:pe,onChange:ce=>le(ce.target.value),placeholder:"https://etsy.com/shop/username"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"shopify",children:"Shopify Store"}),e.jsx(ie,{id:"shopify",value:ue,onChange:ce=>De(ce.target.value),placeholder:"https://store.myshopify.com"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs(T,{variant:"outline",onClick:()=>r(!1),children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(T,{onClick:()=>oe.mutate(),disabled:oe.isPending,children:[oe.isPending?e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})})}const Lje=()=>{const{user:t}=ur(),{profile:r,loading:s}=Um(),a=wr(),{data:n=[],isLoading:i}=Ije(t?.id),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,m]=f.useState(!1),[h,p]=f.useState({styleboxes:0,xpPoints:0,dayStreak:0,achievementsCount:"0/0",productsSold:0}),v=r?.rank?.name?.toLowerCase()||"apprentice";f.useEffect(()=>{if(!t)return;(async()=>{const{data:j}=await J.from("user_achievement_badges").select("*, achievement_badges(*)").eq("user_id",t.id),{data:S}=await J.from("achievement_badges").select("*");if(S){const A=S.map(O=>({name:O.name,icon:O.icon||"",description:O.description||"",unlocked:j?.some(I=>I.badge_id===O.id)||!1}));l(A)}const{data:w}=await J.from("portfolios").select("*").eq("designer_id",t.id).limit(4);w&&d(w.map(A=>({title:A.title,image:A.cover_image||"https://images.unsplash.com/photo-1509631179647-0177331693ae?w=400",category:A.category||"Design"})));const{count:_}=await J.from("stylebox_submissions").select("*",{count:"exact",head:!0}).eq("designer_id",t.id).eq("status","approved"),{data:N}=await J.from("marketplace_products").select("id").eq("designer_id",t.id).eq("status","live");let k=0;if(N&&N.length>0){const{data:A}=await J.from("product_sales").select("quantity_sold").in("product_id",N.map(O=>O.id));k=A?.reduce((O,I)=>O+I.quantity_sold,0)||0}const C=j?.length||0,P=S?.length||0;p({styleboxes:_||0,xpPoints:r?.xp||0,dayStreak:0,achievementsCount:`${C}/${P}`,productsSold:k})})()},[t,r]);const x=r?.skills?.map((y,j)=>({name:y,level:Math.max(50,100-j*10)}))||[{name:"Fashion Design",level:85},{name:"Textile Art",level:72},{name:"Jewelry Design",level:68}],g=y=>y?y.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2):t?.email?.charAt(0).toUpperCase()||"U",b=r?.created_at?jn(new Date(r.created_at),{addSuffix:!1}):"Recently";return s?e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs(G,{children:[e.jsx(rt,{className:"h-32 w-full"}),e.jsx(Y,{className:"relative px-6 pb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4 -mt-12",children:[e.jsx(rt,{className:"h-24 w-24 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(rt,{className:"h-8 w-48"}),e.jsx(rt,{className:"h-5 w-64"})]})]})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(y=>e.jsx(rt,{className:"h-24 rounded-xl"},y))})]})}):e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs(G,{className:"overflow-hidden",children:[r?.banner_image?e.jsx("div",{className:"h-32 relative overflow-hidden",children:e.jsx("img",{src:r.banner_image,alt:"Profile banner",className:"w-full h-full object-cover"})}):e.jsx("div",{className:"h-32 bg-gradient-accent"}),e.jsxs(Y,{className:"relative px-6 pb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-4 -mt-12",children:[e.jsxs(rr,{className:"h-24 w-24 border-4 border-background shadow-lg",children:[e.jsx(sr,{src:r?.avatar_url||void 0}),e.jsx(ar,{className:"text-2xl bg-accent text-accent-foreground",children:g(r?.name)})]}),e.jsxs("div",{className:"flex-1 md:pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h1",{className:"font-display text-2xl font-bold",children:r?.name||t?.email?.split("@")[0]||"Designer"}),e.jsxs(B,{className:q("gap-1 border",`bg-rank-${v}/20 text-rank-${v} border-rank-${v}/30`),children:[e.jsx(zt,{className:"h-3 w-3"}),Ir[v]?.name||"Apprentice"]}),e.jsxs(B,{variant:"accent",className:"gap-1",children:[e.jsx(pu,{className:"h-3 w-3"}),Ir[v]?.revenueShare||10,"% Share"]})]}),r?.bio?e.jsx(xx,{html:r.bio,className:"text-muted-foreground mt-1",tagName:"p"}):e.jsx("p",{className:"text-muted-foreground mt-1",children:`${r?.category||"Fashion"} Designer`})]}),e.jsxs(T,{variant:"outline",className:"gap-2 shrink-0",onClick:()=>m(!0),children:[e.jsx(ol,{className:"h-4 w-4"}),"Edit Profile"]})]}),e.jsx(Fje,{open:u,onOpenChange:m}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-6 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Wr,{className:"h-4 w-4"}),"Joined ",b," ago"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ha,{className:"h-4 w-4"}),r?.category||"Fashion"," Designer"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[{label:"Styleboxes",value:h.styleboxes.toString(),icon:Mr},{label:"XP Points",value:h.xpPoints.toLocaleString(),icon:At},{label:"Day Streak",value:h.dayStreak.toString(),icon:Qz},{label:"Achievements",value:h.achievementsCount,icon:ri},{label:"Published",value:n.length.toString(),icon:Au},{label:"Products Sold",value:h.productsSold.toString(),icon:Ya}].map((y,j)=>e.jsx(G,{children:e.jsxs(Y,{className:"p-4 text-center",children:[e.jsx(y.icon,{className:"h-5 w-5 mx-auto text-accent mb-2"}),e.jsx("p",{className:"font-display text-2xl font-bold",children:y.value}),e.jsx("p",{className:"text-xs text-muted-foreground",children:y.label})]})},j))}),e.jsxs(Nr,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(br,{children:[e.jsx(Ee,{value:"overview",children:"Overview"}),e.jsx(Ee,{value:"achievements",children:"Achievements"}),e.jsx(Ee,{value:"skills",children:"Skills"}),e.jsx(Ee,{value:"marketplace",children:"Marketplace"})]}),e.jsxs(Te,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(G,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between",children:[e.jsx(Ne,{children:"Recent Work"}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>a("/portfolio"),children:"View All"})]}),e.jsx(Y,{children:c.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(As,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No portfolio projects yet"}),e.jsx(T,{variant:"outline",className:"mt-4",onClick:()=>a("/portfolio"),children:"Create Your First Project"})]}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map((y,j)=>e.jsxs("div",{className:"group cursor-pointer",children:[e.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2",children:e.jsx("img",{src:y.image,alt:y.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),e.jsx("p",{className:"text-sm font-medium truncate",children:y.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:y.category})]},j))})})]})}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(zt,{className:`h-5 w-5 text-rank-${v}`}),"Rank Status"]})}),e.jsxs(Y,{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:q("inline-flex h-20 w-20 items-center justify-center rounded-2xl border-2 mb-3",`bg-gradient-to-br from-rank-${v}/20 to-rank-${v}/5 border-rank-${v}/30`),children:e.jsx(zt,{className:`h-10 w-10 text-rank-${v}`})}),e.jsx("h3",{className:`font-display text-xl font-semibold text-rank-${v}`,children:Ir[v]?.name||"Apprentice"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Ir[v]?.title||"Rising Designer"})]}),e.jsxs("div",{className:q("p-3 rounded-xl text-center border",`bg-rank-${v}/10 border-rank-${v}/20`),children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenue Share"}),e.jsxs("p",{className:`font-display text-3xl font-bold text-rank-${v}`,children:[Ir[v]?.revenueShare||10,"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"XP Progress"}),e.jsxs("span",{className:"text-muted-foreground",children:[r?.xp||0," XP"]})]}),e.jsx(la,{value:Math.min((r?.xp||0)/100,100),className:"h-2"})]})]})]})]}),e.jsx(Rje,{currentRank:v})]}),e.jsx(Te,{value:"achievements",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:o.length===0?e.jsx(G,{className:"col-span-full",children:e.jsxs(Y,{className:"text-center py-12",children:[e.jsx(ri,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No achievements yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Complete styleboxes and challenges to earn badges!"})]})}):o.map((y,j)=>e.jsx(G,{className:q("transition-all",!y.unlocked&&"opacity-50"),children:e.jsxs(Y,{className:"p-4 text-center",children:[e.jsx("div",{className:q("h-16 w-16 mx-auto rounded-2xl flex items-center justify-center text-3xl mb-3",y.unlocked?"bg-accent/10 border-2 border-accent/30":"bg-muted border-2 border-border"),children:y.icon}),e.jsx("h3",{className:"font-medium",children:y.name}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:y.description}),y.unlocked&&e.jsx(B,{variant:"success",className:"mt-3",children:"Unlocked"})]})},j))})}),e.jsx(Te,{value:"skills",children:e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Design Skills"})}),e.jsx(Y,{className:"space-y-6",children:x.map((y,j)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:y.name}),e.jsxs("span",{className:"text-muted-foreground",children:[y.level,"%"]})]}),e.jsx(la,{value:y.level,className:"h-2"})]},j))})]})}),e.jsx(Te,{value:"marketplace",children:e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Published Products"})}),e.jsx(Y,{children:i?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"})}):n.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Au,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No published products yet"}),e.jsx("p",{className:"text-sm mt-1",children:"Complete styleboxes and submit your work to get featured!"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(y=>{const S=(Array.isArray(y.images)?y.images:[])[0]||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400",w=y.sale_price||y.price,_=y.sale_price&&y.sale_price<y.price;return e.jsx(fe,{to:`/shop/products/${y.slug||y.id}`,className:"group cursor-pointer",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-muted relative",children:[e.jsx("img",{src:S,alt:y.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[y.is_bestseller&&e.jsx(B,{variant:"default",className:"bg-accent text-accent-foreground",children:"Bestseller"}),y.is_limited_edition&&e.jsx(B,{variant:"secondary",children:"Limited Edition"}),y.is_made_to_order&&e.jsx(B,{variant:"outline",className:"bg-background/80",children:"Made to Order"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-medium text-sm line-clamp-2 group-hover:text-accent transition-colors",children:y.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-base",children:["$",w.toFixed(2)]}),_&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",y.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[y.average_rating&&y.review_count?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(At,{className:"h-3 w-3 fill-accent text-accent"}),e.jsx("span",{children:y.average_rating.toFixed(1)}),e.jsxs("span",{children:["(",y.review_count,")"]})]}):null,y.sold_count?e.jsxs("span",{children:[y.sold_count," sold"]}):null]})]})]})},y.id)})})})]})})]})]})})},$je=()=>{const{notifications:t,loading:r,unreadCount:s,markAsRead:a,markAllAsRead:n}=m1(),i={stylebox:Mr,earnings:Rs,portfolio:tr,team:mt,achievement:ct,deadline:Ze},o={stylebox:"bg-accent/10 text-accent",earnings:"bg-success/10 text-success",portfolio:"bg-success/10 text-success",team:"bg-secondary text-muted-foreground",achievement:"bg-warning/10 text-warning",deadline:"bg-warning/10 text-warning"},l=u=>{const m=i[u.type]||fo,h=u.status==="unread",p=jn(new Date(u.created_at),{addSuffix:!0});return e.jsx(G,{className:q("transition-all cursor-pointer hover:shadow-card-hover",h&&"bg-accent/5 border-accent/20"),onClick:()=>h&&a(u.id),children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:q("h-10 w-10 rounded-lg flex items-center justify-center shrink-0",o[u.type]||"bg-secondary text-muted-foreground"),children:e.jsx(m,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:q("font-medium",h&&"font-semibold"),children:qje(u.type)}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.message})]}),h&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-accent shrink-0 mt-2"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:p})]})]})})},u.id)},c=u=>!u||u==="all"?t:u==="unread"?t.filter(m=>m.status==="unread"):t.filter(m=>m.type===u),d=({message:u})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-secondary flex items-center justify-center mb-4",children:e.jsx(Jz,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"font-medium mb-1",children:"No notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:u})]});return r?e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx(rt,{className:"h-8 w-48 mb-2"}),e.jsx(rt,{className:"h-5 w-64"})]})}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(u=>e.jsx(rt,{className:"h-24 w-full rounded-xl"},u))})]})}):e.jsx(cs,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"Notifications"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Stay updated on your design journey"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{variant:"outline",className:"gap-2",onClick:n,disabled:s===0,children:[e.jsx(gr,{className:"h-4 w-4"}),"Mark All Read"]}),e.jsx(T,{variant:"ghost",size:"icon",children:e.jsx(Kp,{className:"h-5 w-5"})})]})]}),e.jsxs(Nr,{defaultValue:"all",className:"space-y-6",children:[e.jsxs(br,{children:[e.jsxs(Ee,{value:"all",className:"gap-2",children:["All",e.jsx(B,{variant:"secondary",className:"ml-1",children:t.length})]}),e.jsxs(Ee,{value:"unread",className:"gap-2",children:["Unread",e.jsx(B,{variant:"accent",className:"ml-1",children:s})]}),e.jsx(Ee,{value:"stylebox",children:"Styleboxes"}),e.jsx(Ee,{value:"earnings",children:"Earnings"})]}),e.jsx(Te,{value:"all",className:"space-y-4",children:t.length===0?e.jsx(d,{message:"You're all caught up! New notifications will appear here."}):t.map(l)}),e.jsx(Te,{value:"unread",className:"space-y-4",children:s===0?e.jsx(d,{message:"No unread notifications. Great job staying on top of things!"}):c("unread").map(l)}),e.jsx(Te,{value:"stylebox",className:"space-y-4",children:c("stylebox").length===0?e.jsx(d,{message:"No stylebox notifications yet."}):c("stylebox").map(l)}),e.jsx(Te,{value:"earnings",className:"space-y-4",children:c("earnings").length===0?e.jsx(d,{message:"No earnings notifications yet. Start selling to receive updates!"}):c("earnings").map(l)})]})]})})};function qje(t){return{stylebox:"Stylebox Update",earnings:"Earnings Update",portfolio:"Portfolio Update",team:"Team Activity",achievement:"Achievement Unlocked!",deadline:"Deadline Reminder"}[t]||"Notification"}function zje(){return Oe({queryKey:["founding-submissions"],queryFn:async()=>{const{data:t,error:r}=await J.from("founding_designers_submissions").select("*").order("submitted_at",{ascending:!1});if(r)throw r;return t}})}function Bje(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async s=>{const{data:{user:a}}=await J.auth.getUser();if(!a)throw new Error("Must be logged in");const{data:n,error:i}=await J.from("founding_designers_submissions").insert({designer_id:a.id,...s,submitted_at:s.is_draft?null:new Date().toISOString()}).select().single();if(i)throw i;return n},onSuccess:(s,a)=>{t.invalidateQueries({queryKey:["founding-submissions"]}),a.is_draft?r({title:"Draft Saved",description:"You can return and complete your submission anytime."}):r({title:"Submission Received!",description:"Our creative directors are reviewing your vision. You will receive a status update within 7 working days."})},onError:s=>{r({title:"Submission Failed",description:s.message,variant:"destructive"})}})}function Uje(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({id:s,input:a})=>{const n={...a};a.is_draft===!1&&(n.submitted_at=new Date().toISOString(),n.status="pending");const{data:i,error:o}=await J.from("founding_designers_submissions").update(n).eq("id",s).select().single();if(o)throw o;return i},onSuccess:(s,a)=>{t.invalidateQueries({queryKey:["founding-submissions"]}),a.input.is_draft===!1?r({title:"Submission Updated!",description:"Your revised vision has been received."}):r({title:"Changes Saved",description:"Draft updated successfully."})},onError:s=>{r({title:"Update Failed",description:s.message,variant:"destructive"})}})}async function Vje(t,r){const{data:{user:s}}=await J.auth.getUser();if(!s)throw new Error("Must be logged in");const a=t.name.split(".").pop(),n=`${s.id}/${r}-${Date.now()}.${a}`,{error:i}=await J.storage.from("founding-submissions").upload(n,t,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:o}}=J.storage.from("founding-submissions").getPublicUrl(n);return o}const Wje={name:"",category:"womenswear",fabric_material:"",colors:"",size_range:"",estimated_price:0,timeline:"4-6 weeks",description:"",images:[]},Hje={collection_name:"",design_philosophy:"",designer_vision_statement:"",primary_category:"womenswear",moodboard_files:[],tech_pack_files:[],articles:[],estimated_articles:2,proposed_materials:"",target_seasonal_launch:"spring_summer",originality_certified:!0,program_terms_accepted:!0,is_draft:!0},iD={pending:{label:"Submitted",color:"bg-blue-500/10 text-blue-500 border-blue-500/20",icon:Wt},under_review:{label:"Under Review",color:"bg-amber-500/10 text-amber-500 border-amber-500/20",icon:Ze},approved:{label:"Approved",color:"bg-emerald-500/10 text-emerald-500 border-emerald-500/20",icon:Mt},rejected:{label:"Rejected",color:"bg-destructive/10 text-destructive border-destructive/20",icon:ht},revisions_required:{label:"Feedback Received",color:"bg-orange-500/10 text-orange-500 border-orange-500/20",icon:xd}};function Kje(){const{user:t}=ur();wr();const{toast:r}=Ge(),{data:s,isLoading:a}=zje(),n=Bje(),i=Uje(),o=s?.find(N=>N.status!=="rejected")||s?.[0],[l,c]=f.useState(Hje),[d,u]=f.useState(!0),[m,h]=f.useState(!1),[p,v]=f.useState(null);f.useEffect(()=>{o&&(c({collection_name:o.collection_name,design_philosophy:o.design_philosophy,designer_vision_statement:o.designer_vision_statement||"",primary_category:o.primary_category,moodboard_files:o.moodboard_files,tech_pack_files:o.tech_pack_files,articles:o.articles||[],estimated_articles:o.estimated_articles,proposed_materials:o.proposed_materials,target_seasonal_launch:o.target_seasonal_launch,originality_certified:o.originality_certified,program_terms_accepted:o.program_terms_accepted,is_draft:o.is_draft}),!o.is_draft&&o.status!=="revisions_required"?u(!1):u(!0))},[o]);const x=()=>{if(l.articles.length>=3){r({title:"Limit Reached",description:"You can add maximum 3 articles for your founding collection.",variant:"destructive"});return}c(N=>({...N,articles:[...N.articles,{...Wje}]})),v(l.articles.length)},g=N=>{c(k=>({...k,articles:k.articles.filter((C,P)=>P!==N)})),p===N&&v(null)},b=(N,k)=>{c(C=>({...C,articles:C.articles.map((P,A)=>A===N?{...P,...k}:P)}))},y=f.useCallback(async(N,k)=>{const C=Array.from(k.target.files||[]);if(C.length!==0){h(!0);try{const P=[];for(const O of C){const I=await Vje(O,"moodboard");P.push(I)}const A=l.articles[N].images;b(N,{images:[...A,...P]}),r({title:"Images Uploaded"})}catch(P){r({title:"Upload Failed",description:P.message,variant:"destructive"})}finally{h(!1)}}},[l.articles,r]),j={details:!!l.collection_name&&!!l.design_philosophy&&!!l.designer_vision_statement,count:l.articles.length>=2&&l.articles.length<=3,complete:l.articles.every(N=>!!N.name&&!!N.category&&N.images.length>0)},S=j.details&&j.count&&j.complete,w=async()=>{o?await i.mutateAsync({id:o.id,input:{...l,is_draft:!0}}):await n.mutateAsync({...l,is_draft:!0})},_=async()=>{S&&(o?await i.mutateAsync({id:o.id,input:{...l,is_draft:!1}}):await n.mutateAsync({...l,is_draft:!1}))};return a?e.jsx(cs,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e.jsx(cs,{children:e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-5xl mx-auto space-y-8",children:[e.jsxs("header",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight",children:d?"Submit Your First Collection":"Collection Summary"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"This collection represents your design vision on Adorzia. All designers can submit one founding collection consisting of 23 articles."})]}),o&&e.jsx(B,{className:q("px-3 py-1 text-sm border",iD[o.status]?.color),children:iD[o.status]?.label})]}),o?.status==="revisions_required"&&o.admin_feedback&&e.jsx(G,{className:"bg-orange-50 border-orange-200",children:e.jsxs(Y,{className:"p-4 flex gap-3",children:[e.jsx(Vs,{className:"h-5 w-5 text-orange-500 shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold text-orange-800",children:"Feedback from Adorzia Team"}),e.jsx("p",{className:"text-sm text-orange-700",children:o.admin_feedback}),e.jsx(T,{variant:"link",className:"p-0 h-auto text-orange-800 font-bold",onClick:()=>u(!0),children:"Edit & Resubmit"})]})]})})]}),d?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Collection Details"})}),e.jsxs(Y,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"collection_name",children:"Collection Name"}),e.jsx(ie,{id:"collection_name",placeholder:"e.g. Summer Solstice 2026",value:l.collection_name,onChange:N=>c({...l,collection_name:N.target.value})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Give your collection a clear, memorable name."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"design_philosophy",children:"Collection Description"}),e.jsx(nt,{id:"design_philosophy",placeholder:"Briefly describe the theme, mood, and inspiration...",value:l.design_philosophy,onChange:N=>c({...l,design_philosophy:N.target.value}),rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"vision_statement",children:"Designer Vision Statement"}),e.jsx(nt,{id:"vision_statement",placeholder:"Explain what defines you as a designer...",value:l.designer_vision_statement,onChange:N=>c({...l,designer_vision_statement:N.target.value}),rows:4})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Articles (23 Required)"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Articles Added: ",l.articles.length," / 3"]})]}),l.articles.length<3&&e.jsxs(T,{variant:"outline",size:"sm",onClick:x,className:"gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"})," Add Article"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(si,{children:l.articles.map((N,k)=>e.jsxs(G,{className:"overflow-hidden border-muted-foreground/20",children:[e.jsxs("div",{className:"p-4 bg-muted/30 flex items-center justify-between cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>v(p===k?null:k),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded bg-primary/10 text-primary flex items-center justify-center font-bold text-xs",children:k+1}),e.jsx("span",{className:"font-semibold",children:N.name||"Untitled Article"}),!N.name&&e.jsx(B,{variant:"secondary",className:"text-[10px] h-4",children:"Incomplete"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:C=>{C.stopPropagation(),g(k)},children:e.jsx(Hr,{className:"h-4 w-4"})}),p===k?e.jsx(di,{className:"h-4 w-4"}):e.jsx(lr,{className:"h-4 w-4"})]})]}),p===k&&e.jsx(W.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden",children:e.jsxs(Y,{className:"p-6 space-y-6 bg-card",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Article Name"}),e.jsx(ie,{value:N.name,onChange:C=>b(k,{name:C.target.value}),placeholder:"Silk Embroidered Kaftan"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Category"}),e.jsxs(qe,{value:N.category,onValueChange:C=>b(k,{category:C}),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"womenswear",children:"Womenswear"}),e.jsx(X,{value:"menswear",children:"Menswear"}),e.jsx(X,{value:"unisex",children:"Unisex"}),e.jsx(X,{value:"accessories",children:"Accessories"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Fabric / Material"}),e.jsx(ie,{value:N.fabric_material,onChange:C=>b(k,{fabric_material:C.target.value}),placeholder:"100% Raw Silk"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Color(s)"}),e.jsx(ie,{value:N.colors,onChange:C=>b(k,{colors:C.target.value}),placeholder:"Indigo, Ivory"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Size Range"}),e.jsx(ie,{value:N.size_range,onChange:C=>b(k,{size_range:C.target.value}),placeholder:"XS - XL"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Estimated Price ($)"}),e.jsx(ie,{type:"number",value:N.estimated_price,onChange:C=>b(k,{estimated_price:Number(C.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Made-to-Order Timeline"}),e.jsx(ie,{value:N.timeline,onChange:C=>b(k,{timeline:C.target.value}),placeholder:"4-6 weeks"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Article Description"}),e.jsx(nt,{value:N.description,onChange:C=>b(k,{description:C.target.value}),placeholder:"Describe the design, silhouette, and key details...",rows:3})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(K,{children:"Images (Min 1 required)"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[N.images.map((C,P)=>e.jsxs("div",{className:"group relative aspect-square rounded-lg overflow-hidden border",children:[e.jsx("img",{src:C,alt:"Article",className:"w-full h-full object-cover"}),e.jsx("button",{className:"absolute top-1 right-1 p-1 bg-destructive text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>b(k,{images:N.images.filter((A,O)=>O!==P)}),children:e.jsx(ht,{className:"h-3 w-3"})})]},P)),e.jsxs("label",{className:"flex flex-col items-center justify-center aspect-square rounded-lg border-2 border-dashed border-muted-foreground/30 hover:border-primary hover:bg-primary/5 cursor-pointer transition-all",children:[e.jsx(zr,{className:"h-6 w-6 text-muted-foreground mb-1"}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:"Upload"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:C=>y(k,C)})]})]})]})]})})]},k))}),l.articles.length===0&&e.jsxs("div",{className:"text-center p-12 border-2 border-dashed rounded-xl bg-muted/20",children:[e.jsx(Wt,{className:"h-10 w-10 mx-auto text-muted-foreground/50 mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Add minimum 2 and maximum 3 articles to begin."}),e.jsxs(T,{variant:"outline",className:"mt-4 gap-2",onClick:x,children:[e.jsx(Xt,{className:"h-4 w-4"})," Add First Article"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6 lg:sticky lg:top-24 h-fit",children:[e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{className:"text-lg",children:"Submission Checklist"})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[j.details?e.jsx(Mt,{className:"h-5 w-5 text-emerald-500 shrink-0"}):e.jsx(Ze,{className:"h-5 w-5 text-muted-foreground shrink-0"}),e.jsx("span",{className:q("text-sm",j.details?"text-emerald-700 font-medium":"text-muted-foreground"),children:"Collection identity completed"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[j.count?e.jsx(Mt,{className:"h-5 w-5 text-emerald-500 shrink-0"}):e.jsx(Ze,{className:"h-5 w-5 text-muted-foreground shrink-0"}),e.jsx("span",{className:q("text-sm",j.count?"text-emerald-700 font-medium":"text-muted-foreground"),children:"23 articles added"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[j.complete?e.jsx(Mt,{className:"h-5 w-5 text-emerald-500 shrink-0"}):e.jsx(Ze,{className:"h-5 w-5 text-muted-foreground shrink-0"}),e.jsx("span",{className:q("text-sm",j.complete?"text-emerald-700 font-medium":"text-muted-foreground"),children:"All articles have required details"})]})]}),e.jsxs(Tc,{className:"flex flex-col gap-3",children:[e.jsx(T,{className:"w-full bg-emerald-600 hover:bg-emerald-700",disabled:!S||n.isPending,onClick:_,children:n.isPending?"Submitting...":"Submit Collection"}),e.jsx(T,{variant:"outline",className:"w-full",onClick:w,disabled:n.isPending,children:"Save as Draft"})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-blue-50 border border-blue-100 text-blue-800 text-xs flex gap-3",children:[e.jsx(xd,{className:"h-4 w-4 shrink-0"}),e.jsx("p",{children:"Once submitted, our curation team will review your collection. Editing will be locked until review is complete."})]})]})]}):e.jsx("div",{className:"space-y-8",children:e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(Ne,{children:"Collection Summary"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Submitted: ",o?.submitted_at?xt(new Date(o.submitted_at),"MMM d, yyyy"):"N/A"]})]})}),e.jsxs(Y,{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-muted-foreground",children:"Collection Name"}),e.jsx("p",{className:"font-semibold text-lg",children:l.collection_name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-muted-foreground",children:"Description"}),e.jsx("p",{className:"text-sm leading-relaxed",children:l.design_philosophy})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-muted-foreground",children:"Vision Statement"}),e.jsxs("p",{className:"text-sm italic leading-relaxed bg-muted/30 p-4 rounded-lg",children:['"',l.designer_vision_statement,'"']})]})]}),e.jsx(Ut,{}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"font-bold text-xl",children:"Included Articles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.articles.map((N,k)=>e.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border bg-muted/10 group hover:bg-muted/20 transition-all",children:[e.jsx("div",{className:"h-24 w-24 rounded-lg overflow-hidden shrink-0 border bg-white",children:e.jsx("img",{src:N.images[0],alt:N.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"font-bold",children:N.name}),e.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[N.category,"  ",N.fabric_material]}),e.jsxs("p",{className:"text-xs font-medium text-emerald-600 mt-2",children:["$",N.estimated_price]})]}),e.jsx(T,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Bt,{className:"h-4 w-4"})})]},k))})]})]}),e.jsxs(Tc,{className:"bg-muted/20 p-6 flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",e.jsx("span",{className:"font-bold uppercase tracking-wider",children:o?.status.replace("_"," ")})]}),o?.status==="revisions_required"&&e.jsx(T,{onClick:()=>u(!0),children:"Edit & Resubmit"})]})]})})]})})}const Gje=()=>{const t=Li();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),e.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Yje=({designerId:t})=>{const[r,s]=f.useState([]),[a,n]=f.useState(null),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!0),[m,h]=f.useState({title:"",description:"",category:"",tags:[],thumbnail_url:"",project_type:"design",visibility:"private"});f.useEffect(()=>{(async()=>{try{const{data:g,error:b}=await J.from("projects").select("*").eq("designer_id",t).order("created_at",{ascending:!1});if(b)throw b;s(g||[]);const{data:y,error:j}=await J.from("publication_requests").select("*").eq("designer_id",t).order("submitted_at",{ascending:!1});if(j)throw j;c(y||[]),u(!1)}catch(g){console.error("Error fetching data:",g),u(!1)}})()},[t]),f.useEffect(()=>{if(!a){o([]);return}(async()=>{const{data:g,error:b}=await J.from("project_assets").select("*").eq("project_id",a.id).order("display_order");b?console.error("Error fetching assets:",b):o(g||[])})()},[a]);const p=async()=>{try{const{data:x,error:g}=await J.from("projects").insert([{...m,designer_id:t,status:"draft"}]).select().single();if(g)throw g;s(b=>[x,...b]),h({title:"",description:"",category:"",tags:[],thumbnail_url:"",project_type:"design",visibility:"private"})}catch(x){console.error("Error creating project:",x)}},v=async x=>{const g=r.find(b=>b.id===x);if(g)try{const{data:b,error:y}=await J.from("publication_requests").insert([{project_id:x,designer_id:t,request_title:`${g.title} Publication Request`,request_description:`Request to publish project "${g.title}" to marketplace`,status:"pending"}]).select().single();if(y)throw y;c(j=>[b,...j]),s(j=>j.map(S=>S.id===x?{...S,status:"submitted"}:S))}catch(b){console.error("Error submitting for publication:",b)}};return d?e.jsx("div",{className:"p-6",children:"Loading projects..."}):e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Project Manager"}),e.jsxs("div",{className:"mb-8 p-4 border rounded-lg bg-gray-50",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Project"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx("input",{type:"text",value:m.title,onChange:x=>h({...m,title:x.target.value}),className:"w-full p-2 border rounded",placeholder:"Project title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),e.jsx("input",{type:"text",value:m.category,onChange:x=>h({...m,category:x.target.value}),className:"w-full p-2 border rounded",placeholder:"Project category"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{value:m.description,onChange:x=>h({...m,description:x.target.value}),className:"w-full p-2 border rounded",placeholder:"Project description",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),e.jsxs("select",{value:m.project_type,onChange:x=>h({...m,project_type:x.target.value}),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"design",children:"Design"}),e.jsx("option",{value:"article",children:"Article"}),e.jsx("option",{value:"concept",children:"Concept"}),e.jsx("option",{value:"portfolio",children:"Portfolio"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Visibility"}),e.jsxs("select",{value:m.visibility,onChange:x=>h({...m,visibility:x.target.value}),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"portfolio",children:"Portfolio"}),e.jsx("option",{value:"public",children:"Public"})]})]})]}),e.jsx("button",{onClick:p,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Create Project"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Projects"}),r.length===0?e.jsx("p",{children:"No projects yet. Create your first project!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(x=>e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer ${a?.id===x.id?"ring-2 ring-blue-500":""}`,onClick:()=>n(x),children:[e.jsx("h3",{className:"font-semibold",children:x.title}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:x.description}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 rounded",children:x.status}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(x.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"mt-3",children:[x.status==="draft"&&e.jsx("button",{onClick:g=>{g.stopPropagation(),v(x.id)},className:"text-sm px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700",children:"Submit for Publication"}),x.status==="submitted"&&e.jsx("span",{className:"text-sm text-yellow-600",children:"Submitted"})]})]},x.id))})]}),a&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Project Details: ",a.title]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Category:"})," ",a.category||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",a.project_type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",a.status]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Visibility:"})," ",a.visibility]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("strong",{children:"Description:"}),e.jsx("p",{children:a.description})]}),a.thumbnail_url&&e.jsxs("div",{className:"mb-4",children:[e.jsx("strong",{children:"Thumbnail:"}),e.jsx("img",{src:a.thumbnail_url,alt:a.title,className:"mt-2 h-32 object-contain"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Project Assets"}),i.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.map(x=>e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"text-sm truncate",children:x.file_name}),e.jsx("div",{className:"text-xs text-gray-500",children:x.asset_category||"N/A"}),e.jsx("a",{href:x.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"View"})]},x.id))}):e.jsx("p",{children:"No assets uploaded for this project."})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Publication Requests"}),l.length===0?e.jsx("p",{children:"No publication requests submitted yet."}):e.jsx("div",{className:"space-y-4",children:l.map(x=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"font-semibold",children:x.request_title}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${x.status==="approved"?"bg-green-200 text-green-800":x.status==="rejected"?"bg-red-200 text-red-800":x.status==="under_review"?"bg-yellow-200 text-yellow-800":"bg-gray-200 text-gray-800"}`,children:x.status})]}),e.jsx("p",{className:"text-sm text-gray-600",children:x.request_description}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Submitted: ",new Date(x.submitted_at).toLocaleDateString(),x.reviewed_at&&` | Reviewed: ${new Date(x.reviewed_at).toLocaleDateString()}`]}),x.admin_notes&&e.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded",children:[e.jsx("strong",{children:"Admin Notes:"})," ",x.admin_notes]})]},x.id))})]})]})},Xje=()=>{const{user:t,userProfile:r}=ur(),{loadDesignerProjects:s,loadDesignerPublicationRequests:a}=B9();return L.useEffect(()=>{t?.id&&(s(t.id),a(t.id))},[t?.id,s,a]),t?e.jsxs("div",{children:[e.jsx("div",{className:"bg-white shadow",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Creative Projects"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your design projects and submit them for marketplace consideration"})]})}),e.jsx("main",{children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx(Yje,{designerId:t.id})})})]}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),e.jsx("p",{children:"Please log in to access your projects."})]})},Qje=an({email:It().email("Invalid email address"),password:It().min(8,"Password must be at least 8 characters")});function Jje(){const t=wr(),{signIn:r,user:s,isAdmin:a,loading:n}=ja(),{toast:i}=Ge(),[o,l]=f.useState(!1),[c,d]=f.useState({email:"",password:""});f.useEffect(()=>{!n&&s&&(a?t("/admin"):i({title:"Access denied",description:"You don't have superadmin access.",variant:"destructive"}))},[n,s,a,t,i]);const u=async m=>{m.preventDefault(),l(!0);try{const h=Qje.parse(c),{error:p}=await r(h.email,h.password);i(p?{title:"Login failed",description:p.message==="Invalid login credentials"?"Invalid email or password.":p.message,variant:"destructive"}:{title:"Login successful",description:"Checking admin access..."})}catch(h){h instanceof Ms&&i({title:"Validation error",description:h.errors[0].message,variant:"destructive"})}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-[hsl(var(--admin-login-background))] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-[hsl(var(--admin-login-button))] flex items-center justify-center shadow-lg",children:e.jsx(qi,{className:"h-6 w-6 text-[hsl(var(--admin-login-button-foreground))]"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-display text-2xl font-bold text-[hsl(var(--admin-login-text))] block",children:"Adorzia"}),e.jsx("span",{className:"text-[hsl(var(--admin-login-text-muted))] text-sm",children:"Admin Portal"})]})]})}),e.jsxs(G,{className:"bg-[hsl(var(--admin-login-card))] border-[hsl(var(--admin-login-card-border))] shadow-xl",children:[e.jsxs(je,{children:[e.jsx(Ne,{className:"text-xl text-[hsl(var(--admin-login-text))]",children:"Admin Login"}),e.jsx(er,{className:"text-[hsl(var(--admin-login-text-muted))]",children:"Sign in with your admin credentials"})]}),e.jsxs(Y,{children:[e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"email",className:"text-[hsl(var(--admin-login-text))]",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[hsl(var(--admin-login-text-muted))]"}),e.jsx(ie,{id:"email",type:"email",placeholder:"admin@adorzia.com",value:c.email,onChange:m=>d(h=>({...h,email:m.target.value})),className:"pl-10 bg-[hsl(var(--admin-login-input-bg))] border-[hsl(var(--admin-login-input-border))] text-[hsl(var(--admin-login-text))] placeholder:text-[hsl(var(--admin-login-text-muted))]/60",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"password",className:"text-[hsl(var(--admin-login-text))]",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(us,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[hsl(var(--admin-login-text-muted))]"}),e.jsx(ie,{id:"password",type:"password",placeholder:"",value:c.password,onChange:m=>d(h=>({...h,password:m.target.value})),className:"pl-10 bg-[hsl(var(--admin-login-input-bg))] border-[hsl(var(--admin-login-input-border))] text-[hsl(var(--admin-login-text))] placeholder:text-[hsl(var(--admin-login-text-muted))]/60",required:!0})]})]}),e.jsxs(T,{type:"submit",className:"w-full bg-[hsl(var(--admin-login-button))] hover:bg-[hsl(var(--admin-login-button))]/90 text-[hsl(var(--admin-login-button-foreground))]",disabled:o,children:[o&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Sign In"]})]}),e.jsx("div",{className:"text-center pt-6",children:e.jsx(fe,{to:"/auth",className:"text-sm text-[hsl(var(--admin-login-text-muted))] hover:text-[hsl(var(--admin-login-text))] transition-colors",children:" Designer Login"})})]})]}),e.jsx("p",{className:"text-center text-xs text-[hsl(var(--admin-login-text-muted))]/70",children:"Contact your administrator if you need access."})]})})}const u8=f.forwardRef(({className:t,activeClassName:r,pendingClassName:s,to:a,...n},i)=>e.jsx(LD,{ref:i,to:a,className:({isActive:o,isPending:l})=>q(t,o&&r,l&&s),...n}));u8.displayName="NavLink";const Zje=[{title:"Dashboard",url:"/admin",icon:WD},{title:"Designers",url:"/admin/designers",icon:mt},{title:"Founding Program",url:"/admin/founding-submissions",icon:At,badge:"Founders"},{title:"StyleBoxes",url:"/admin/styleboxes",icon:Mr},{title:"Submissions",url:"/admin/stylebox-submissions",icon:Wt},{title:"Walkthroughs",url:"/admin/walkthroughs",icon:ws},{title:"Publications",url:"/admin/publications",icon:As},{title:"Production Queues",url:"/admin/queues",icon:Zz},{title:"Marketplace",url:"/admin/marketplace",icon:ui},{title:"Articles",url:"/admin/articles",icon:Wt}],e0e=[{title:"Rankings & Revenue",url:"/admin/rankings",icon:zt},{title:"Payouts",url:"/admin/payouts",icon:Rs},{title:"Teams",url:"/admin/teams",icon:eB},{title:"Job Portal",url:"/admin/jobs",icon:Tn}],t0e=[{title:"Notifications",url:"/admin/notifications",icon:fo},{title:"Analytics",url:"/admin/analytics",icon:Eu},{title:"Security",url:"/admin/security",icon:qi},{title:"Settings",url:"/admin/settings",icon:Kp}];function r0e({userRole:t="admin"}){const{state:r}=Pd(),{signOut:s,isSigningOut:a}=ja(),n=r==="collapsed",i=t0e.filter(c=>!(c.url==="/admin/security"&&t!=="superadmin")),o=async()=>{await s()},l=({item:c})=>e.jsx(Pf,{children:e.jsx(Ef,{asChild:!0,tooltip:c.title,children:e.jsx(u8,{to:c.url,end:c.url==="/admin",className:q("flex items-center gap-3 rounded-xl px-3 py-2.5 transition-all duration-200","text-[hsl(var(--admin-sidebar-foreground))] font-medium","hover:bg-[hsl(var(--admin-sidebar-accent))] hover:text-[hsl(var(--admin-sidebar-accent-foreground))] hover:font-semibold","group relative overflow-hidden"),activeClassName:"bg-[hsl(var(--admin-sidebar-accent))] text-[hsl(var(--admin-sidebar-accent-foreground))] font-semibold",children:e.jsxs("div",{className:"relative flex items-center gap-3 w-full",children:[e.jsx(c.icon,{className:"h-[18px] w-[18px] shrink-0 transition-transform duration-200 group-hover:scale-105"}),!n&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm flex-1 font-medium",children:c.title}),c.badge&&e.jsx(B,{className:"h-5 px-2 text-[10px] bg-success/90 text-white border-0 font-semibold shadow-sm",children:c.badge})]})]})})})});return e.jsxs(n1,{collapsible:"icon",className:"border-r border-[hsl(var(--admin-sidebar-border))] bg-[hsl(var(--admin-sidebar))] text-[hsl(var(--admin-sidebar-foreground))]",children:[e.jsx(l1,{className:"border-b border-[hsl(var(--admin-sidebar-border))] p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-[hsl(var(--admin-sidebar-foreground))] to-[hsl(var(--admin-sidebar-foreground)/0.8)] shadow-lg shadow-black/20",children:e.jsx(qi,{className:"h-5 w-5 text-[hsl(var(--admin-sidebar))]"})}),!n&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-display text-lg font-bold text-[hsl(var(--admin-sidebar-foreground))] tracking-tight",children:"Adorzia"}),e.jsx("span",{className:"text-[11px] text-[hsl(var(--admin-sidebar-foreground)/0.5)] font-medium tracking-wide uppercase",children:"Admin Portal"})]})]})}),e.jsxs(d1,{className:"px-3 py-4",children:[e.jsxs(xc,{children:[e.jsx(gc,{className:"text-[10px] font-bold text-[hsl(var(--admin-sidebar-foreground)/0.7)] uppercase tracking-widest px-3 mb-2 flex items-center gap-2",children:!n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-px w-3 bg-[hsl(var(--admin-sidebar-foreground)/0.3)]"}),"Overview"]})}),e.jsx(vc,{children:e.jsx(bc,{className:"space-y-0.5",children:Zje.map(c=>e.jsx(l,{item:c},c.title))})})]}),e.jsx("div",{className:"mx-3 my-4 border-t border-[hsl(var(--admin-sidebar-border))]/70"}),e.jsxs(xc,{children:[e.jsx(gc,{className:"text-[10px] font-bold text-[hsl(var(--admin-sidebar-foreground)/0.7)] uppercase tracking-widest px-3 mb-2 flex items-center gap-2",children:!n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-px w-3 bg-[hsl(var(--admin-sidebar-foreground)/0.3)]"}),"Management"]})}),e.jsx(vc,{children:e.jsx(bc,{className:"space-y-0.5",children:e0e.map(c=>e.jsx(l,{item:c},c.title))})})]}),e.jsx("div",{className:"mx-3 my-4 border-t border-[hsl(var(--admin-sidebar-border))]/70"}),e.jsxs(xc,{children:[e.jsx(gc,{className:"text-[10px] font-bold text-[hsl(var(--admin-sidebar-foreground)/0.7)] uppercase tracking-widest px-3 mb-2 flex items-center gap-2",children:!n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-px w-3 bg-[hsl(var(--admin-sidebar-foreground)/0.3)]"}),"System"]})}),e.jsx(vc,{children:e.jsx(bc,{className:"space-y-0.5",children:i.map(c=>e.jsx(l,{item:c},c.title))})})]})]}),e.jsxs(c1,{className:"border-t border-[hsl(var(--admin-sidebar-border))] p-4 space-y-3",children:[e.jsxs("div",{className:q("flex items-center gap-3 p-2.5 rounded-xl bg-[hsl(var(--admin-sidebar-muted)/0.4)] border border-[hsl(var(--admin-sidebar-border))]/30",n&&"justify-center p-2"),children:[e.jsxs(rr,{className:"h-9 w-9 ring-2 ring-[hsl(var(--admin-sidebar-foreground)/0.15)]",children:[e.jsx(sr,{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100"}),e.jsx(ar,{className:"bg-gradient-to-br from-[hsl(var(--admin-sidebar-foreground))] to-[hsl(var(--admin-sidebar-foreground)/0.8)] text-[hsl(var(--admin-sidebar))] text-xs font-semibold",children:"AD"})]}),!n&&e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm font-semibold text-[hsl(var(--admin-sidebar-foreground))] truncate",children:"Admin User"}),e.jsx(B,{variant:"secondary",className:"text-[10px] px-2 py-0.5 w-fit font-semibold mt-0.5 rounded-full bg-[hsl(var(--admin-sidebar-foreground))] text-[hsl(var(--admin-sidebar))]",children:"Super Admin"})]})]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:o,disabled:a,className:q("w-full gap-2 h-10 rounded-xl border-[hsl(var(--admin-sidebar-foreground)/0.2)] text-[hsl(var(--admin-sidebar-foreground)/0.9)] bg-transparent hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50 transition-all duration-200",n&&"px-2"),children:[e.jsx(Ei,{className:"h-4 w-4"}),!n&&(a?"Signing out...":"Sign Out")]})]})]})}var oD=1,s0e=.9,a0e=.8,n0e=.17,g0=.1,v0=.999,i0e=.9999,o0e=.99,l0e=/[\\\/_+.#"@\[\(\{&]/,c0e=/[\\\/_+.#"@\[\(\{&]/g,d0e=/[\s-]/,m8=/[\s-]/g;function zN(t,r,s,a,n,i,o){if(i===r.length)return n===t.length?oD:o0e;var l=`${n},${i}`;if(o[l]!==void 0)return o[l];for(var c=a.charAt(i),d=s.indexOf(c,n),u=0,m,h,p,v;d>=0;)m=zN(t,r,s,a,d+1,i+1,o),m>u&&(d===n?m*=oD:l0e.test(t.charAt(d-1))?(m*=a0e,p=t.slice(n,d-1).match(c0e),p&&n>0&&(m*=Math.pow(v0,p.length))):d0e.test(t.charAt(d-1))?(m*=s0e,v=t.slice(n,d-1).match(m8),v&&n>0&&(m*=Math.pow(v0,v.length))):(m*=n0e,n>0&&(m*=Math.pow(v0,d-n))),t.charAt(d)!==r.charAt(i)&&(m*=i0e)),(m<g0&&s.charAt(d-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&s.charAt(d-1)!==a.charAt(i))&&(h=zN(t,r,s,a,d+1,i+2,o),h*g0>m&&(m=h*g0)),m>u&&(u=m),d=s.indexOf(c,d+1);return o[l]=u,u}function lD(t){return t.toLowerCase().replace(m8," ")}function u0e(t,r,s){return t=s&&s.length>0?`${t+" "+s.join(" ")}`:t,zN(t,r,lD(t),lD(r),0,0,{})}var nu='[cmdk-group=""]',b0='[cmdk-group-items=""]',m0e='[cmdk-group-heading=""]',h8='[cmdk-item=""]',cD=`${h8}:not([aria-disabled="true"])`,BN="cmdk-item-select",tc="data-value",h0e=(t,r,s)=>u0e(t,r,s),f8=f.createContext(void 0),ah=()=>f.useContext(f8),p8=f.createContext(void 0),IS=()=>f.useContext(p8),x8=f.createContext(void 0),g8=f.forwardRef((t,r)=>{let s=rc(()=>{var D,H;return{search:"",value:(H=(D=t.value)!=null?D:t.defaultValue)!=null?H:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=rc(()=>new Set),n=rc(()=>new Map),i=rc(()=>new Map),o=rc(()=>new Set),l=v8(t),{label:c,children:d,value:u,onValueChange:m,filter:h,shouldFilter:p,loop:v,disablePointerSelection:x=!1,vimBindings:g=!0,...b}=t,y=Kr(),j=Kr(),S=Kr(),w=f.useRef(null),_=_0e();Sl(()=>{if(u!==void 0){let D=u.trim();s.current.value=D,N.emit()}},[u]),Sl(()=>{_(6,I)},[]);let N=f.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>s.current,setState:(D,H,ae)=>{var U,se,Q,pe;if(!Object.is(s.current[D],H)){if(s.current[D]=H,D==="search")O(),P(),_(1,A);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let le=document.getElementById(S);le?le.focus():(U=document.getElementById(y))==null||U.focus()}if(_(7,()=>{var le;s.current.selectedItemId=(le=F())==null?void 0:le.id,N.emit()}),ae||_(5,I),((se=l.current)==null?void 0:se.value)!==void 0){let le=H??"";(pe=(Q=l.current).onValueChange)==null||pe.call(Q,le);return}}N.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),k=f.useMemo(()=>({value:(D,H,ae)=>{var U;H!==((U=i.current.get(D))==null?void 0:U.value)&&(i.current.set(D,{value:H,keywords:ae}),s.current.filtered.items.set(D,C(H,ae)),_(2,()=>{P(),N.emit()}))},item:(D,H)=>(a.current.add(D),H&&(n.current.has(H)?n.current.get(H).add(D):n.current.set(H,new Set([D]))),_(3,()=>{O(),P(),s.current.value||A(),N.emit()}),()=>{i.current.delete(D),a.current.delete(D),s.current.filtered.items.delete(D);let ae=F();_(4,()=>{O(),ae?.getAttribute("id")===D&&A(),N.emit()})}),group:D=>(n.current.has(D)||n.current.set(D,new Set),()=>{i.current.delete(D),n.current.delete(D)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:y,inputId:S,labelId:j,listInnerRef:w}),[]);function C(D,H){var ae,U;let se=(U=(ae=l.current)==null?void 0:ae.filter)!=null?U:h0e;return D?se(D,s.current.search,H):0}function P(){if(!s.current.search||l.current.shouldFilter===!1)return;let D=s.current.filtered.items,H=[];s.current.filtered.groups.forEach(U=>{let se=n.current.get(U),Q=0;se.forEach(pe=>{let le=D.get(pe);Q=Math.max(le,Q)}),H.push([U,Q])});let ae=w.current;$().sort((U,se)=>{var Q,pe;let le=U.getAttribute("id"),ue=se.getAttribute("id");return((Q=D.get(ue))!=null?Q:0)-((pe=D.get(le))!=null?pe:0)}).forEach(U=>{let se=U.closest(b0);se?se.appendChild(U.parentElement===se?U:U.closest(`${b0} > *`)):ae.appendChild(U.parentElement===ae?U:U.closest(`${b0} > *`))}),H.sort((U,se)=>se[1]-U[1]).forEach(U=>{var se;let Q=(se=w.current)==null?void 0:se.querySelector(`${nu}[${tc}="${encodeURIComponent(U[0])}"]`);Q?.parentElement.appendChild(Q)})}function A(){let D=$().find(ae=>ae.getAttribute("aria-disabled")!=="true"),H=D?.getAttribute(tc);N.setState("value",H||void 0)}function O(){var D,H,ae,U;if(!s.current.search||l.current.shouldFilter===!1){s.current.filtered.count=a.current.size;return}s.current.filtered.groups=new Set;let se=0;for(let Q of a.current){let pe=(H=(D=i.current.get(Q))==null?void 0:D.value)!=null?H:"",le=(U=(ae=i.current.get(Q))==null?void 0:ae.keywords)!=null?U:[],ue=C(pe,le);s.current.filtered.items.set(Q,ue),ue>0&&se++}for(let[Q,pe]of n.current)for(let le of pe)if(s.current.filtered.items.get(le)>0){s.current.filtered.groups.add(Q);break}s.current.filtered.count=se}function I(){var D,H,ae;let U=F();U&&(((D=U.parentElement)==null?void 0:D.firstChild)===U&&((ae=(H=U.closest(nu))==null?void 0:H.querySelector(m0e))==null||ae.scrollIntoView({block:"nearest"})),U.scrollIntoView({block:"nearest"}))}function F(){var D;return(D=w.current)==null?void 0:D.querySelector(`${h8}[aria-selected="true"]`)}function $(){var D;return Array.from(((D=w.current)==null?void 0:D.querySelectorAll(cD))||[])}function E(D){let H=$()[D];H&&N.setState("value",H.getAttribute(tc))}function M(D){var H;let ae=F(),U=$(),se=U.findIndex(pe=>pe===ae),Q=U[se+D];(H=l.current)!=null&&H.loop&&(Q=se+D<0?U[U.length-1]:se+D===U.length?U[0]:U[se+D]),Q&&N.setState("value",Q.getAttribute(tc))}function z(D){let H=F(),ae=H?.closest(nu),U;for(;ae&&!U;)ae=D>0?w0e(ae,nu):N0e(ae,nu),U=ae?.querySelector(cD);U?N.setState("value",U.getAttribute(tc)):M(D)}let R=()=>E($().length-1),te=D=>{D.preventDefault(),D.metaKey?R():D.altKey?z(1):M(1)},V=D=>{D.preventDefault(),D.metaKey?E(0):D.altKey?z(-1):M(-1)};return f.createElement(we.div,{ref:r,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:D=>{var H;(H=b.onKeyDown)==null||H.call(b,D);let ae=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||ae))switch(D.key){case"n":case"j":{g&&D.ctrlKey&&te(D);break}case"ArrowDown":{te(D);break}case"p":case"k":{g&&D.ctrlKey&&V(D);break}case"ArrowUp":{V(D);break}case"Home":{D.preventDefault(),E(0);break}case"End":{D.preventDefault(),R();break}case"Enter":{D.preventDefault();let U=F();if(U){let se=new Event(BN);U.dispatchEvent(se)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:C0e},c),bg(t,D=>f.createElement(p8.Provider,{value:N},f.createElement(f8.Provider,{value:k},D))))}),f0e=f.forwardRef((t,r)=>{var s,a;let n=Kr(),i=f.useRef(null),o=f.useContext(x8),l=ah(),c=v8(t),d=(a=(s=c.current)==null?void 0:s.forceMount)!=null?a:o?.forceMount;Sl(()=>{if(!d)return l.item(n,o?.id)},[d]);let u=b8(n,i,[t.value,t.children,i],t.keywords),m=IS(),h=yo(_=>_.value&&_.value===u.current),p=yo(_=>d||l.filter()===!1?!0:_.search?_.filtered.items.get(n)>0:!0);f.useEffect(()=>{let _=i.current;if(!(!_||t.disabled))return _.addEventListener(BN,v),()=>_.removeEventListener(BN,v)},[p,t.onSelect,t.disabled]);function v(){var _,N;x(),(N=(_=c.current).onSelect)==null||N.call(_,u.current)}function x(){m.setState("value",u.current,!0)}if(!p)return null;let{disabled:g,value:b,onSelect:y,forceMount:j,keywords:S,...w}=t;return f.createElement(we.div,{ref:Js(i,r),...w,id:n,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||l.getDisablePointerSelection()?void 0:x,onClick:g?void 0:v},t.children)}),p0e=f.forwardRef((t,r)=>{let{heading:s,children:a,forceMount:n,...i}=t,o=Kr(),l=f.useRef(null),c=f.useRef(null),d=Kr(),u=ah(),m=yo(p=>n||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Sl(()=>u.group(o),[]),b8(o,l,[t.value,t.heading,c]);let h=f.useMemo(()=>({id:o,forceMount:n}),[n]);return f.createElement(we.div,{ref:Js(l,r),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},s&&f.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},s),bg(t,p=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":s?d:void 0},f.createElement(x8.Provider,{value:h},p))))}),x0e=f.forwardRef((t,r)=>{let{alwaysRender:s,...a}=t,n=f.useRef(null),i=yo(o=>!o.search);return!s&&!i?null:f.createElement(we.div,{ref:Js(n,r),...a,"cmdk-separator":"",role:"separator"})}),g0e=f.forwardRef((t,r)=>{let{onValueChange:s,...a}=t,n=t.value!=null,i=IS(),o=yo(d=>d.search),l=yo(d=>d.selectedItemId),c=ah();return f.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),f.createElement(we.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:n?t.value:o,onChange:d=>{n||i.setState("search",d.target.value),s?.(d.target.value)}})}),v0e=f.forwardRef((t,r)=>{let{children:s,label:a="Suggestions",...n}=t,i=f.useRef(null),o=f.useRef(null),l=yo(d=>d.selectedItemId),c=ah();return f.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,m,h=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(m),h.unobserve(d)}}},[]),f.createElement(we.div,{ref:Js(i,r),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":a,id:c.listId},bg(t,d=>f.createElement("div",{ref:Js(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),b0e=f.forwardRef((t,r)=>{let{open:s,onOpenChange:a,overlayClassName:n,contentClassName:i,container:o,...l}=t;return f.createElement(dx,{open:s,onOpenChange:a},f.createElement(ux,{container:o},f.createElement(Nd,{"cmdk-overlay":"",className:n}),f.createElement(_d,{"aria-label":t.label,"cmdk-dialog":"",className:i},f.createElement(g8,{ref:r,...l}))))}),y0e=f.forwardRef((t,r)=>yo(s=>s.filtered.count===0)?f.createElement(we.div,{ref:r,...t,"cmdk-empty":"",role:"presentation"}):null),j0e=f.forwardRef((t,r)=>{let{progress:s,children:a,label:n="Loading...",...i}=t;return f.createElement(we.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},bg(t,o=>f.createElement("div",{"aria-hidden":!0},o)))}),_a=Object.assign(g8,{List:v0e,Item:f0e,Input:g0e,Group:p0e,Separator:x0e,Dialog:b0e,Empty:y0e,Loading:j0e});function w0e(t,r){let s=t.nextElementSibling;for(;s;){if(s.matches(r))return s;s=s.nextElementSibling}}function N0e(t,r){let s=t.previousElementSibling;for(;s;){if(s.matches(r))return s;s=s.previousElementSibling}}function v8(t){let r=f.useRef(t);return Sl(()=>{r.current=t}),r}var Sl=typeof window>"u"?f.useEffect:f.useLayoutEffect;function rc(t){let r=f.useRef();return r.current===void 0&&(r.current=t()),r}function yo(t){let r=IS(),s=()=>t(r.snapshot());return f.useSyncExternalStore(r.subscribe,s,s)}function b8(t,r,s,a=[]){let n=f.useRef(),i=ah();return Sl(()=>{var o;let l=(()=>{var d;for(let u of s){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():n.current}})(),c=a.map(d=>d.trim());i.value(t,l,c),(o=r.current)==null||o.setAttribute(tc,l),n.current=l}),n}var _0e=()=>{let[t,r]=f.useState(),s=rc(()=>new Map);return Sl(()=>{s.current.forEach(a=>a()),s.current=new Map},[t]),(a,n)=>{s.current.set(a,n),r({})}};function S0e(t){let r=t.type;return typeof r=="function"?r(t.props):"render"in r?r.render(t.props):t}function bg({asChild:t,children:r},s){return t&&f.isValidElement(r)?f.cloneElement(S0e(r),{ref:r.ref},s(r.props.children)):s(r)}var C0e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const y8=f.forwardRef(({className:t,...r},s)=>e.jsx(_a,{ref:s,className:q("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...r}));y8.displayName=_a.displayName;const k0e=({children:t,...r})=>e.jsx(Et,{...r,children:e.jsx(Pt,{className:"overflow-hidden p-0 shadow-lg",children:e.jsx(y8,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),j8=f.forwardRef(({className:t,...r},s)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(dr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(_a.Input,{ref:s,className:q("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...r})]}));j8.displayName=_a.Input.displayName;const w8=f.forwardRef(({className:t,...r},s)=>e.jsx(_a.List,{ref:s,className:q("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...r}));w8.displayName=_a.List.displayName;const N8=f.forwardRef((t,r)=>e.jsx(_a.Empty,{ref:r,className:"py-6 text-center text-sm",...t}));N8.displayName=_a.Empty.displayName;const _8=f.forwardRef(({className:t,...r},s)=>e.jsx(_a.Group,{ref:s,className:q("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...r}));_8.displayName=_a.Group.displayName;const A0e=f.forwardRef(({className:t,...r},s)=>e.jsx(_a.Separator,{ref:s,className:q("-mx-1 h-px bg-border",t),...r}));A0e.displayName=_a.Separator.displayName;const sc=f.forwardRef(({className:t,...r},s)=>e.jsx(_a.Item,{ref:s,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...r}));sc.displayName=_a.Item.displayName;function Br({children:t}){const r=wr(),{user:s,signOut:a,adminRole:n,loading:i,isAdmin:o}=ja(),{theme:l,toggleTheme:c}=_9(),[d,u]=f.useState(!1);f.useEffect(()=>{!i&&!o&&r("/admin/login")},[i,o,r]),f.useEffect(()=>{const v=x=>{x.key==="k"&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),u(!0))};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]);const m=n==="superadmin"?"superadmin":null;if(i||!o)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-admin-background",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-admin-foreground"})});const h=async()=>{s&&await ee.from("admin_logs").insert({admin_id:s.id,action:"admin_logout",target_type:"session"}),await a(),r("/admin/login")},p=()=>s?.user_metadata?.name?s.user_metadata.name.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):"AD";return e.jsx(a1,{children:e.jsxs("div",{className:"min-h-screen flex w-full bg-admin-background",children:[e.jsx(r0e,{userRole:m}),e.jsxs(o1,{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-40 flex h-16 items-center gap-4 border-b border-admin-border bg-admin-card/95 backdrop-blur-xl px-6 shadow-sm",children:[e.jsx(i1,{className:"-ml-1 h-10 w-10 hover:bg-admin-muted transition-all duration-200 rounded-xl flex items-center justify-center"}),e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(dr,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-admin-muted-foreground/70"}),e.jsx(ie,{placeholder:"Search designers, styleboxes, publications...",className:"pl-11 pr-16 h-11 bg-admin-muted/50 border-admin-border/60 hover:bg-admin-muted/70 hover:border-admin-border focus:bg-admin-card focus:ring-2 focus:ring-admin-foreground/10 focus:border-admin-foreground/30 transition-all duration-200 text-admin-foreground placeholder:text-admin-muted-foreground/60 rounded-xl cursor-pointer shadow-sm",onClick:()=>u(!0),readOnly:!0}),e.jsxs("kbd",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none inline-flex h-6 select-none items-center gap-1 rounded-lg border border-admin-border/60 bg-admin-card/80 px-2 font-mono text-[10px] font-medium text-admin-muted-foreground/70 shadow-sm",children:[e.jsx(tB,{className:"h-3 w-3"}),"K"]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsxs(T,{variant:"ghost",size:"icon",className:"h-10 w-10 hover:bg-admin-muted text-admin-muted-foreground hover:text-admin-foreground transition-all duration-200 rounded-xl",onClick:c,children:[l==="dark"?e.jsx(e_,{className:"h-[18px] w-[18px]"}):e.jsx(t_,{className:"h-[18px] w-[18px]"}),e.jsx("span",{className:"sr-only",children:"Toggle admin theme"})]}),e.jsxs(T,{variant:"ghost",size:"icon",className:"relative h-10 w-10 hover:bg-admin-muted text-admin-muted-foreground hover:text-admin-foreground transition-all duration-200 rounded-xl",children:[e.jsx(fo,{className:"h-[18px] w-[18px]"}),e.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-success ring-2 ring-admin-card animate-pulse"})]}),e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsxs(T,{variant:"ghost",className:"gap-3 px-2.5 h-11 hover:bg-admin-muted text-admin-foreground transition-all duration-200 rounded-xl border border-transparent hover:border-admin-border/50",children:[e.jsxs(rr,{className:"h-8 w-8 ring-2 ring-admin-border/50",children:[e.jsx(sr,{src:""}),e.jsx(ar,{className:"bg-admin-foreground text-admin-background text-xs font-semibold",children:p()})]}),e.jsxs("div",{className:"hidden md:flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-semibold leading-tight text-admin-foreground",children:s?.user_metadata?.name||"Admin"}),e.jsx("span",{className:"text-xs text-admin-muted-foreground/80 leading-tight",children:"Super Admin"})]}),e.jsx(di,{className:"h-4 w-4 text-admin-muted-foreground/70"})]})}),e.jsxs(rs,{align:"end",className:"w-64 bg-admin-card border-admin-border shadow-xl rounded-xl p-2",sideOffset:8,children:[e.jsx(Hm,{className:"pb-3 px-2",children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("span",{className:"font-semibold text-admin-foreground text-sm",children:s?.user_metadata?.name||"Admin User"}),e.jsx("span",{className:"text-xs font-normal text-admin-muted-foreground/80",children:s?.email}),e.jsx(B,{variant:"secondary",className:"w-fit text-[10px] mt-1.5 bg-admin-muted text-admin-foreground font-semibold px-2 py-0.5 rounded-full",children:"Super Admin"})]})}),e.jsx(Ar,{className:"bg-admin-border/60 my-2"}),e.jsx(Se,{asChild:!0,className:"focus:bg-admin-muted rounded-lg cursor-pointer py-2.5 px-2 text-admin-foreground",children:e.jsxs(fe,{to:"/admin/settings",className:"flex items-center gap-3 text-sm",children:[e.jsx(Kp,{className:"h-4 w-4 text-admin-muted-foreground"}),"Account Settings"]})}),e.jsx(Ar,{className:"bg-admin-border/60 my-2"}),e.jsxs(Se,{className:"text-destructive focus:text-destructive focus:bg-destructive/10 rounded-lg cursor-pointer py-2.5 px-2 text-sm",onClick:h,children:[e.jsx(Ei,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})]})]})]}),e.jsx("main",{className:"flex-1 overflow-auto bg-admin-background",children:t}),e.jsxs(k0e,{open:d,onOpenChange:u,children:[e.jsx(j8,{placeholder:"Search designers, styleboxes, publications..."}),e.jsxs(w8,{children:[e.jsx(N8,{children:"No results found."}),e.jsxs(_8,{heading:"Quick Actions",children:[e.jsxs(sc,{onSelect:()=>{r("/admin/designers"),u(!1)},children:[e.jsx(mt,{className:"mr-2 h-4 w-4"}),"View All Designers"]}),e.jsxs(sc,{onSelect:()=>{r("/admin/styleboxes"),u(!1)},children:[e.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Manage StyleBoxes"]}),e.jsxs(sc,{onSelect:()=>{r("/admin/publications"),u(!1)},children:[e.jsx(As,{className:"mr-2 h-4 w-4"}),"Review Publications"]}),e.jsxs(sc,{onSelect:()=>{r("/admin/marketplace"),u(!1)},children:[e.jsx(ui,{className:"mr-2 h-4 w-4"}),"Marketplace Products"]}),e.jsxs(sc,{onSelect:()=>{r("/admin/jobs"),u(!1)},children:[e.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Job Portal"]})]})]})]})]})]})})}const P0e={default:"bg-admin-muted/60 text-admin-muted-foreground",wine:"bg-admin-foreground/10 text-admin-foreground",camel:"bg-admin-muted/60 text-admin-muted-foreground",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning"},E0e={default:"bg-admin-muted border-admin-border/50",wine:"bg-admin-foreground/10 border-admin-foreground/20",camel:"bg-admin-muted border-admin-border/50",success:"bg-success/10 border-success/30",warning:"bg-warning/10 border-warning/30"};function $h({title:t,value:r,subtitle:s,icon:a,trend:n,variant:i="default"}){return e.jsxs(G,{className:"group relative overflow-hidden bg-admin-card border-admin-border/60 rounded-xl shadow-sm hover:shadow-md hover:border-admin-border transition-all duration-300 hover:-translate-y-0.5",tabIndex:0,role:"article","aria-label":`${t}: ${r}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-admin-foreground/[0.02] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),e.jsx(Y,{className:"relative p-5 sm:p-6",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2 flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground",children:t}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-admin-foreground",children:r}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s&&e.jsx("span",{className:"text-xs text-admin-muted-foreground/80",children:s}),n&&e.jsxs("span",{className:q("inline-flex items-center gap-1 text-[11px] font-semibold px-2 py-0.5 rounded-full",n.isPositive?"text-success bg-success/10":"text-destructive bg-destructive/10"),children:[n.isPositive?e.jsx(ks,{className:"h-3 w-3"}):e.jsx(KD,{className:"h-3 w-3"}),n.isPositive?"+":"",n.value,"%"]})]})]}),e.jsx("div",{className:q("h-11 w-11 sm:h-12 sm:w-12 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:scale-110 border",E0e[i]),children:e.jsx(a,{className:q("h-5 w-5",P0e[i])})})]})})]})}function T0e({items:t,title:r,viewAllLink:s}){return e.jsxs(G,{className:"overflow-hidden bg-admin-card border-admin-border",role:"region","aria-labelledby":"queue-title",children:[e.jsxs(je,{className:"flex flex-row items-center justify-between pb-4 border-b border-admin-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-warning/10 flex items-center justify-center",children:e.jsx(il,{className:"h-5 w-5 text-warning"})}),e.jsxs("div",{children:[e.jsx(Ne,{id:"queue-title",className:"text-lg font-semibold text-admin-foreground",children:r}),e.jsxs("p",{className:"text-caption text-xs text-admin-muted-foreground",children:[t.length," items awaiting action"]})]})]}),e.jsx(fe,{to:s,children:e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2 btn-press border-admin-border text-admin-foreground hover:bg-admin-foreground hover:text-admin-background hover:border-admin-foreground transition-colors",children:["View All",e.jsx(St,{className:"h-4 w-4"})]})})]}),e.jsx(Y,{className:"p-0",children:e.jsxs("div",{className:"divide-y divide-admin-border",role:"list",children:[t.slice(0,5).map(a=>e.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-admin-muted/50 transition-all cursor-pointer group",role:"listitem",tabIndex:0,children:[e.jsxs(rr,{className:"h-10 w-10 sm:h-11 sm:w-11 ring-2 ring-admin-border",children:[e.jsx(sr,{src:a.designer.avatar,alt:a.designer.name}),e.jsx(ar,{className:"text-sm font-medium bg-admin-muted text-admin-foreground",children:a.designer.name.slice(0,2)})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx("p",{className:"font-medium truncate text-admin-foreground group-hover:text-admin-foreground/80 transition-colors",children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-admin-muted-foreground flex-wrap",children:[e.jsx("span",{className:"font-medium text-admin-foreground/70",children:a.designer.name}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-admin-border hidden sm:block"}),e.jsx("span",{className:"hidden sm:inline",children:a.category}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-admin-border hidden sm:block"}),e.jsx("span",{children:a.submittedAt})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(B,{variant:a.status==="pending_review"?"warning":"secondary",className:q("text-xs font-medium px-2 py-0.5 hidden sm:flex",a.status==="pending_review"&&"bg-warning/10 text-warning border-warning/20"),children:a.status==="pending_review"?"Pending":"Revision"}),e.jsxs("div",{className:"hidden sm:flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(T,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg text-success hover:text-success hover:bg-success/10 transition-colors","aria-label":"Approve",children:e.jsx(gr,{className:"h-4 w-4"})}),e.jsx(T,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg text-warning hover:text-warning hover:bg-warning/10 transition-colors","aria-label":"Request revision",children:e.jsx(Vs,{className:"h-4 w-4"})}),e.jsx(T,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-lg text-destructive hover:text-destructive hover:bg-destructive/10 transition-colors","aria-label":"Reject",children:e.jsx(ht,{className:"h-4 w-4"})})]}),e.jsx(lr,{className:"h-5 w-5 text-admin-muted-foreground/50 group-hover:text-admin-foreground/50 group-hover:translate-x-0.5 transition-all"})]})]},a.id)),t.length===0&&e.jsxs("div",{className:"text-center py-12 text-admin-muted-foreground",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-admin-muted flex items-center justify-center mx-auto mb-4",children:e.jsx(Ze,{className:"h-8 w-8 opacity-50"})}),e.jsx("p",{className:"font-medium",children:"No pending items"}),e.jsx("p",{className:"text-sm mt-1",children:"All caught up!"})]})]})})]})}const O0e={elite:"text-admin-foreground bg-admin-foreground/10 border-admin-foreground/20",lead:"text-admin-foreground/80 bg-admin-foreground/5 border-admin-foreground/10",senior:"text-admin-foreground/70 bg-admin-muted border-admin-border",designer:"text-admin-muted-foreground bg-admin-muted border-admin-border",f1:"text-admin-foreground bg-admin-foreground/10 border-admin-foreground/30",f2:"text-admin-foreground/90 bg-admin-foreground/5 border-admin-foreground/20"};function D0e({designers:t}){return e.jsxs(G,{className:"overflow-hidden bg-admin-card border-admin-border",role:"region","aria-labelledby":"designers-title",children:[e.jsx(je,{className:"pb-4 border-b border-admin-border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-admin-muted flex items-center justify-center",children:e.jsx(zt,{className:"h-5 w-5 text-admin-foreground/70"})}),e.jsxs("div",{children:[e.jsx(Ne,{id:"designers-title",className:"text-lg font-semibold text-admin-foreground",children:"Top Designers"}),e.jsx("p",{className:"text-caption text-xs text-admin-muted-foreground",children:"By revenue this month"})]})]})}),e.jsx(Y,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-admin-border",role:"list",children:t.map((r,s)=>e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-4 hover:bg-admin-muted/50 transition-all cursor-pointer group",role:"listitem",tabIndex:0,children:[e.jsx("div",{className:q("h-9 w-9 sm:h-10 sm:w-10 rounded-xl flex items-center justify-center text-sm font-bold transition-transform duration-300 group-hover:scale-105",s===0&&"bg-admin-foreground text-admin-background",s===1&&"bg-admin-foreground/20 text-admin-foreground",s===2&&"bg-admin-foreground/10 text-admin-foreground/80",s>2&&"bg-admin-muted text-admin-muted-foreground"),children:s+1}),e.jsxs(rr,{className:"h-10 w-10 sm:h-11 sm:w-11 ring-2 ring-admin-border",children:[e.jsx(sr,{src:r.avatar,alt:r.name}),e.jsx(ar,{className:"text-sm font-medium bg-admin-muted text-admin-foreground",children:r.name.slice(0,2)})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx("p",{className:"font-medium truncate text-admin-foreground",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{variant:"outline",className:q("text-[10px] sm:text-xs capitalize font-medium",O0e[r.rank.toLowerCase()]||"text-admin-muted-foreground"),children:r.rank}),e.jsxs("span",{className:"text-xs text-admin-muted-foreground hidden sm:inline",children:[r.publishedItems," published"]})]})]}),e.jsxs("div",{className:"text-right flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-display font-bold text-base sm:text-lg text-success tabular-nums",children:["$",r.revenue.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-admin-muted-foreground hidden sm:block",children:[r.completedStyleboxes," completed"]})]}),e.jsx(lr,{className:"h-5 w-5 text-admin-muted-foreground/50 group-hover:text-admin-foreground/50 group-hover:translate-x-0.5 transition-all"})]})]},r.id))})})]})}const dD={registration:{icon:Ac,color:"text-success",bgColor:"bg-success/10",label:"New"},stylebox_completion:{icon:Mr,color:"text-admin-foreground",bgColor:"bg-admin-muted",label:"Complete"},publish_request:{icon:zr,color:"text-warning",bgColor:"bg-warning/10",label:"Request"},revision_needed:{icon:Vs,color:"text-orange-500",bgColor:"bg-orange-500/10",label:"Action"}};function R0e({activities:t}){return e.jsxs(G,{className:"overflow-hidden bg-admin-card border-admin-border",role:"region","aria-labelledby":"activity-title",children:[e.jsx(je,{className:"pb-4 border-b border-admin-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-admin-muted flex items-center justify-center",children:e.jsx(Cc,{className:"h-5 w-5 text-admin-foreground/70"})}),e.jsxs("div",{children:[e.jsx(Ne,{id:"activity-title",className:"text-lg font-semibold text-admin-foreground",children:"Recent Activity"}),e.jsx("p",{className:"text-caption text-xs text-admin-muted-foreground",children:"Latest platform events"})]})]}),e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-2 text-admin-muted-foreground hover:text-admin-foreground btn-press",children:["View All",e.jsx(St,{className:"h-4 w-4"})]})]})}),e.jsx(Y,{className:"p-0",children:e.jsxs("div",{className:"divide-y divide-admin-border",role:"list",children:[t.map(r=>{const s=dD[r.type]??dD.registration,a=s.icon;return e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 p-4 hover:bg-admin-muted/50 transition-all cursor-pointer group",role:"listitem",tabIndex:0,children:[e.jsx("div",{className:q("h-9 w-9 sm:h-10 sm:w-10 rounded-xl flex items-center justify-center shrink-0 transition-transform duration-300 group-hover:scale-105",s.bgColor),children:e.jsx(a,{className:q("h-4 w-4 sm:h-5 sm:w-5",s.color)})}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("p",{className:"text-sm font-semibold text-admin-foreground",children:r.title}),e.jsx("span",{className:q("text-[10px] font-medium uppercase tracking-wide px-1.5 py-0.5 rounded",s.bgColor,s.color),children:s.label})]}),e.jsx("p",{className:"text-sm text-admin-muted-foreground line-clamp-1",children:r.description}),e.jsx("p",{className:"text-xs text-admin-muted-foreground/70",children:jn(r.timestamp,{addSuffix:!0})})]}),r.actionUrl&&e.jsx(lr,{className:"h-5 w-5 text-admin-muted-foreground/50 group-hover:text-admin-foreground/50 group-hover:translate-x-0.5 transition-all shrink-0 mt-2"})]},r.id)}),t.length===0&&e.jsxs("div",{className:"text-center py-12 text-admin-muted-foreground",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-admin-muted flex items-center justify-center mx-auto mb-4",children:e.jsx(Cc,{className:"h-8 w-8 opacity-50"})}),e.jsx("p",{className:"font-medium",children:"No recent activity"}),e.jsx("p",{className:"text-sm mt-1",children:"Activity will appear here"})]})]})})]})}const I0e=()=>{const{toast:t}=Ge(),{user:r,isSuperadmin:s}=ja(),[a,n]=f.useState(!0),[i,o]=f.useState({totalDesigners:0,activeStyleboxes:0,pendingPublications:0,monthlyRevenue:0,founderCount:0,liveProducts:0,styleboxCompletions:0,approvalRate:0,pendingSubmissions:0,avgCompletionTime:0,topPerformingStylebox:"",submissionTrend:[]}),[l,c]=f.useState([]),[d,u]=f.useState([]),[m,h]=f.useState([]),p=f.useCallback(async()=>{try{const{count:j}=await ee.from("profiles").select("*",{count:"exact",head:!0}),{count:S}=await ee.from("styleboxes").select("*",{count:"exact",head:!0}).eq("status","active"),{count:w,data:_}=await ee.from("portfolio_publications").select("*, portfolios(designer_id, title, category)").eq("status","pending").limit(5),{count:N}=await ee.from("stylebox_submissions").select("*",{count:"exact",head:!0}).eq("status","submitted"),k=new Date;k.setDate(k.getDate()-30);const{data:C}=await ee.from("stylebox_submissions").select("submitted_at").gte("submitted_at",k.toISOString()).order("submitted_at"),P=new Date;P.setDate(1),P.setHours(0,0,0,0);const{data:A}=await ee.from("earnings").select("amount").gte("created_at",P.toISOString()),O=A?.reduce((D,H)=>D+Number(H.amount),0)||0,{count:I}=await ee.from("marketplace_products").select("*",{count:"exact",head:!0}).eq("status","live"),{count:F}=await ee.from("foundation_purchases").select("*",{count:"exact",head:!0}).eq("status","completed"),{count:$}=await ee.from("stylebox_submissions").select("*",{count:"exact",head:!0}).eq("status","approved"),{count:E}=await ee.from("stylebox_submissions").select("*",{count:"exact",head:!0}),M=E&&E>0?Math.round(($||0)/E*100):0,{data:z}=await ee.from("stylebox_submissions").select("submitted_at, stylebox_id").eq("status","approved").limit(50);let R=0;if(z&&z.length>0){const H=(await Promise.all(z.map(async ae=>{const{data:U}=await ee.from("styleboxes").select("created_at").eq("id",ae.stylebox_id).single();if(U){const se=new Date(U.created_at);return(new Date(ae.submitted_at).getTime()-se.getTime())/864e5}return 0}))).filter(ae=>ae>0);R=H.length>0?Math.round(H.reduce((ae,U)=>ae+U,0)/H.length):0}const{data:te}=await ee.from("profiles").select("id, name, avatar_url, xp, rank_id").order("xp",{ascending:!1}).limit(5),V=await Promise.all((te||[]).map(async D=>{const{data:H}=await ee.from("earnings").select("amount").eq("designer_id",D.id).gte("created_at",P.toISOString()),ae=H?.reduce((Q,pe)=>Q+Number(pe.amount),0)||0,{count:U}=await ee.from("stylebox_submissions").select("*",{count:"exact",head:!0}).eq("designer_id",D.id).eq("status","approved"),{count:se}=await ee.from("marketplace_products").select("*",{count:"exact",head:!0}).eq("designer_id",D.id).eq("status","live");return{id:D.id,name:D.name||"Designer",avatar:D.avatar_url||"",rank:"Designer",revenue:ae,completedStyleboxes:U||0,publishedItems:se||0}}));o({totalDesigners:j||0,activeStyleboxes:S||0,pendingPublications:w||0,monthlyRevenue:O,founderCount:F||0,liveProducts:I||0,styleboxCompletions:$||0,approvalRate:M,pendingSubmissions:N||0,avgCompletionTime:R,topPerformingStylebox:"The Modular Kantha",submissionTrend:C||[]}),_&&c(_.slice(0,3).map(D=>({id:D.id,title:D.portfolios?.title||"Untitled",designer:{name:"Designer",avatar:"",rank:"Designer"},category:D.portfolios?.category||"Fashion",submittedAt:M0e(new Date(D.submitted_at)),status:"pending_review"}))),u(V),await v()}catch{}finally{n(!1)}},[]),v=async()=>{const j=[],{data:S}=await ee.from("profiles").select("id, name, created_at").order("created_at",{ascending:!1}).limit(2);S?.forEach(N=>{j.push({id:`reg-${N.id}`,type:"registration",title:N.name||"New Designer",description:"Joined Adorzia Studio",timestamp:new Date(N.created_at)})});const{data:w}=await ee.from("stylebox_submissions").select("id, submitted_at, stylebox_id, styleboxes(title)").eq("status","approved").order("submitted_at",{ascending:!1}).limit(2);w?.forEach(N=>{j.push({id:`sb-${N.id}`,type:"stylebox_completion",title:N.styleboxes?.title||"StyleBox",description:"Submission approved",timestamp:new Date(N.submitted_at)})});const{data:_}=await ee.from("portfolio_publications").select("id, submitted_at, portfolios(title)").eq("status","pending").order("submitted_at",{ascending:!1}).limit(2);_?.forEach(N=>{j.push({id:`pub-${N.id}`,type:"publish_request",title:N.portfolios?.title||"Publication",description:"Awaiting review",timestamp:new Date(N.submitted_at)})}),j.sort((N,k)=>k.timestamp.getTime()-N.timestamp.getTime()),h(j.slice(0,4))};f.useEffect(()=>{p();const j=ee.channel("admin-dashboard-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"profiles"},S=>{const w=S.new;t({title:"New Designer Joined!",description:w.name||w.email||"A new designer has registered"}),p()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"stylebox_submissions"},S=>{S.new,t({title:"New Submission Received!",description:"A designer has submitted a new Stylebox entry for review",action:{label:"View",onClick:()=>window.location.href="/admin/stylebox-submissions"}}),p()}).subscribe();return()=>{ee.removeChannel(j)}},[p,t]);const x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.06}}},g={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.4}}},b=[{icon:zt,value:i.founderCount.toString(),label:"F1/F2 Founders",color:"bg-admin-foreground text-admin-background"},{icon:ui,value:i.liveProducts.toString(),label:"Live Products",color:"bg-success/10 text-success"},{icon:Mr,value:i.styleboxCompletions.toLocaleString(),label:"StyleBox Completions",color:"bg-admin-muted text-admin-foreground"},{icon:ks,value:`${i.approvalRate}%`,label:"Approval Rate",color:"bg-admin-muted text-admin-foreground/70"}],y=[{icon:mt,label:"View All Designers",color:"hover:bg-admin-foreground hover:text-admin-background"},{icon:Mr,label:"Create StyleBox",color:"hover:bg-admin-foreground hover:text-admin-background"},{icon:As,label:"Review Queue",color:"hover:bg-warning/10 hover:text-warning"},{icon:Rs,label:"Process Payouts",color:"hover:bg-success/10 hover:text-success"}];return a?e.jsx(Br,{children:e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-8 max-w-[1600px] mx-auto",children:[e.jsx(rt,{className:"h-32 w-full rounded-2xl"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[1,2,3,4].map(j=>e.jsx(rt,{className:"h-32 rounded-xl"},j))})]})}):e.jsx(Br,{children:e.jsxs(W.div,{className:"p-4 sm:p-6 lg:p-8 space-y-8 max-w-[1600px] mx-auto",variants:x,initial:"hidden",animate:"visible",children:[e.jsxs(W.header,{variants:g,className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-admin-muted/60 to-admin-muted/30 p-6 sm:p-8 border-4 border-red-500",role:"banner",children:[e.jsx("div",{className:"absolute inset-0 bg-dot-pattern opacity-20"}),e.jsxs("div",{className:"relative flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-admin-foreground",children:"Dashboard"}),e.jsx(B,{className:"h-6 px-2.5 text-[10px] font-bold bg-admin-foreground text-admin-card border-0 uppercase tracking-wider rounded-full",children:"Super Admin"})]}),e.jsxs("p",{className:"text-sm text-admin-muted-foreground",children:["Welcome back, ",e.jsx("span",{className:"text-admin-foreground font-semibold",children:r?.user_metadata?.name||r?.email?.split("@")[0]}),". Overview of Adorzia Studio operations."]})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsxs(T,{variant:"outline",className:"gap-2 h-10 px-4 transition-all hover:bg-admin-muted active:scale-[0.98] border-admin-border/60 rounded-xl text-admin-foreground text-sm",children:[e.jsx(Ze,{className:"h-4 w-4 text-admin-muted-foreground"}),e.jsx("span",{className:"hidden sm:inline",children:"Last 7 Days"}),e.jsx("span",{className:"sm:hidden",children:"7 Days"})]}),e.jsxs(T,{className:"gap-2 h-10 px-4 bg-admin-foreground text-admin-background hover:bg-admin-foreground/90 transition-all active:scale-[0.98] shadow-md rounded-xl text-sm",children:[e.jsx(rB,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Review Queue"}),e.jsx("span",{className:"sm:hidden",children:"Queue"}),i.pendingPublications>0&&e.jsx(B,{className:"ml-1 bg-admin-background/20 text-admin-background h-5 px-1.5 text-xs rounded-full",children:i.pendingPublications})]})]})]})]}),e.jsxs(W.section,{variants:g,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-admin-muted/60 flex items-center justify-center",children:e.jsx(ct,{className:"h-4 w-4 text-admin-muted-foreground"})}),e.jsx("h2",{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Key Metrics"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[e.jsx($h,{title:"Total Designers",value:i.totalDesigners.toLocaleString(),subtitle:"Active accounts",icon:mt,trend:{value:12,isPositive:!0},variant:"wine"}),e.jsx($h,{title:"Active StyleBoxes",value:i.activeStyleboxes.toLocaleString(),subtitle:"In progress",icon:Mr,trend:{value:8,isPositive:!0},variant:"camel"}),e.jsx($h,{title:"Pending Publications",value:i.pendingPublications.toString(),subtitle:"Awaiting review",icon:As,variant:"warning"}),e.jsx($h,{title:"Revenue This Month",value:`$${i.monthlyRevenue.toLocaleString()}`,subtitle:"Across all designers",icon:Rs,trend:{value:18,isPositive:!0},variant:"success"})]})]}),e.jsx(W.section,{variants:g,className:"grid grid-cols-2 xl:grid-cols-4 gap-3 sm:gap-4",children:b.map(j=>e.jsx(G,{className:"group bg-admin-card border-admin-border/60 rounded-xl shadow-sm hover:shadow-md hover:border-admin-border transition-all duration-300 hover:-translate-y-0.5",children:e.jsxs(Y,{className:"p-4 flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:`h-10 w-10 sm:h-11 sm:w-11 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:scale-110 ${j.color}`,children:e.jsx(j.icon,{className:"h-[18px] w-[18px]"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-admin-foreground truncate",children:j.value}),e.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-admin-muted-foreground uppercase tracking-wider truncate",children:j.label})]})]})},j.label))}),e.jsxs(W.section,{variants:g,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-admin-muted/60 flex items-center justify-center",children:e.jsx(Eu,{className:"h-4 w-4 text-admin-muted-foreground"})}),e.jsx("h2",{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Stylebox Analytics"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs(G,{className:"bg-admin-card border-admin-border/60 rounded-xl shadow-sm",children:[e.jsx(je,{className:"pb-3 pt-5 px-5",children:e.jsx(Ne,{className:"text-sm font-semibold text-admin-foreground",children:"Performance Overview"})}),e.jsxs(Y,{className:"space-y-4 px-5 pb-5",children:[e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-admin-muted-foreground",children:"Pending Reviews"}),e.jsx(B,{variant:"outline",className:"bg-warning/10 text-warning border-warning/30 rounded-full text-xs font-semibold px-2.5",children:i.pendingSubmissions})]}),e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-admin-muted-foreground",children:"Avg Completion Time"}),e.jsxs("span",{className:"font-semibold text-admin-foreground",children:[i.avgCompletionTime," days"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-admin-muted-foreground",children:"Approval Rate"}),e.jsxs("span",{className:"font-semibold text-admin-foreground",children:[i.approvalRate,"%"]})]}),e.jsxs("div",{className:"pt-3 border-t border-admin-border/50",children:[e.jsx("p",{className:"text-xs text-admin-muted-foreground mb-1.5 uppercase tracking-wider font-medium",children:"Top Performing"}),e.jsx("p",{className:"text-sm font-semibold text-admin-foreground truncate",children:i.topPerformingStylebox||"Loading..."})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(G,{className:"bg-admin-card border-admin-border/60 rounded-xl shadow-sm h-full",children:[e.jsx(je,{className:"pb-3 pt-5 px-5",children:e.jsx(Ne,{className:"text-sm font-semibold text-admin-foreground",children:"Submission Trend (30 Days)"})}),e.jsx(Y,{className:"px-5 pb-5",children:i.submissionTrend.length>0?e.jsx("div",{className:"h-56 flex items-end justify-between gap-[2px] sm:gap-1",children:Array.from({length:30},(j,S)=>{const w=new Date;w.setDate(w.getDate()-(29-S));const _=w.toISOString().split("T")[0],N=i.submissionTrend.filter(A=>A.submitted_at?.split("T")[0]===_).length,k=i.submissionTrend.map(A=>{const O=A.submitted_at?.split("T")[0];return O?i.submissionTrend.filter(I=>I.submitted_at?.split("T")[0]===O).length:0}),C=Math.max(...k.concat([1])),P=Math.max(4,N/C*100);return e.jsxs("div",{className:"flex-1 flex flex-col items-center group/bar",children:[e.jsx("div",{className:"w-full bg-admin-foreground/80 rounded-t-sm transition-all duration-200 group-hover/bar:bg-admin-foreground",style:{height:`${P}%`,minHeight:N>0?"4px":"2px"}}),e.jsx("span",{className:"text-[8px] text-admin-muted-foreground/60 mt-1.5 font-medium",children:w.getDate()})]},S)})}):e.jsxs("div",{className:"h-56 flex items-center justify-center text-admin-muted-foreground bg-admin-muted/30 rounded-lg",children:[e.jsx(Eu,{className:"h-8 w-8 mr-2 opacity-50"}),e.jsx("span",{className:"text-sm",children:"No submission data available"})]})})]})})]})]}),e.jsxs(W.section,{variants:g,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-admin-muted/60 flex items-center justify-center",children:e.jsx(nl,{className:"h-4 w-4 text-admin-muted-foreground"})}),e.jsx("h2",{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Action Center"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-5",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(T0e,{items:l,title:"Pending Publications",viewAllLink:"/admin/publications"})}),e.jsx(D0e,{designers:d})]})]}),e.jsxs(W.section,{variants:g,className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-5",children:[e.jsx(R0e,{activities:m}),e.jsxs(G,{className:"overflow-hidden bg-admin-card border-admin-border/60 rounded-xl shadow-sm",children:[e.jsxs(je,{className:"pb-4 border-b border-admin-border/50 bg-admin-muted/30 px-5 pt-5",children:[e.jsx(Ne,{className:"text-sm font-bold uppercase tracking-wider text-admin-foreground",children:"Quick Actions"}),e.jsx("p",{className:"text-xs text-admin-muted-foreground mt-1",children:"Common administrative tasks"})]}),e.jsx(Y,{className:"p-5",children:e.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(j=>e.jsxs(T,{variant:"ghost",className:`h-auto py-5 flex-col gap-2.5 rounded-xl border border-admin-border/60 bg-admin-muted/30 text-admin-foreground transition-all duration-200 hover:bg-admin-muted hover:border-admin-border active:scale-[0.98] ${j.color}`,children:[e.jsx(j.icon,{className:"h-5 w-5"}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:j.label})]},j.label))})})]})]})]})})};function M0e(t){const s=new Date().getTime()-t.getTime(),a=Math.floor(s/36e5),n=Math.floor(s/864e5);return a<24?`${a} hours ago`:`${n} days ago`}function yg({searchValue:t,onSearchChange:r,searchPlaceholder:s="Search...",filters:a=[],onFilterClick:n}){return e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 p-4 bg-admin-muted/40 rounded-xl border border-admin-border/60",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(dr,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-admin-muted-foreground/60"}),e.jsx(ie,{placeholder:s,value:t,onChange:i=>r(i.target.value),className:"pl-10 h-10 bg-admin-card border-admin-border/60 rounded-lg focus:ring-2 focus:ring-admin-foreground/10 focus:border-admin-foreground/30 transition-all text-admin-foreground placeholder:text-admin-muted-foreground/50"})]}),a.map((i,o)=>e.jsxs(qe,{value:i.value,onValueChange:i.onChange,children:[e.jsx(Fe,{className:"w-full sm:w-[160px] h-10 bg-admin-card border-admin-border/60 rounded-lg focus:ring-2 focus:ring-admin-foreground/10 text-admin-foreground text-sm",children:e.jsx(Me,{placeholder:i.placeholder})}),e.jsx(Le,{className:"bg-admin-card border-admin-border/60 rounded-lg",children:i.options.map(l=>e.jsx(X,{value:l.value,className:"text-sm focus:bg-admin-muted",children:l.label},l.value))})]},o)),n&&e.jsx(T,{variant:"outline",size:"icon",className:"h-10 w-10 shrink-0 rounded-lg border-admin-border/60 hover:bg-admin-muted hover:border-admin-border transition-all",onClick:n,children:e.jsx(Pu,{className:"h-4 w-4 text-admin-muted-foreground"})})]})}function jg({icon:t,title:r,description:s,action:a,actionLabel:n,onAction:i,variant:o="default"}){const l=o==="error"?"bg-destructive/10":"bg-admin-muted/50",c=o==="error"?"text-destructive":"text-admin-muted-foreground";return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[t&&e.jsx("div",{className:`h-24 w-24 rounded-full ${l} flex items-center justify-center mb-4`,children:e.jsx(t,{className:`h-12 w-12 ${c}`})}),e.jsx("h3",{className:"text-lg font-semibold text-admin-foreground mb-2",children:r}),e.jsx("p",{className:"text-sm text-admin-muted-foreground text-center max-w-md mb-6",children:s}),a?e.jsx("div",{children:a}):n&&i?e.jsx(T,{onClick:i,className:"gap-2",children:n}):null]})}function wg({currentPage:t,totalPages:r,totalItems:s,itemsPerPage:a,onPageChange:n}){const i=(t-1)*a+1,o=Math.min(t*a,s),l=()=>{const c=[];if(r<=5)for(let u=1;u<=r;u++)c.push(u);else if(t<=3){for(let u=1;u<=4;u++)c.push(u);c.push("..."),c.push(r)}else if(t>=r-2){c.push(1),c.push("...");for(let u=r-3;u<=r;u++)c.push(u)}else{c.push(1),c.push("...");for(let u=t-1;u<=t+1;u++)c.push(u);c.push("..."),c.push(r)}return c};return e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-4 py-4 border-t border-admin-border/60 bg-admin-muted/20",children:[e.jsxs("p",{className:"text-sm text-admin-muted-foreground",children:["Showing ",e.jsxs("span",{className:"font-semibold text-admin-foreground",children:[i,"-",o]})," of"," ",e.jsx("span",{className:"font-semibold text-admin-foreground",children:s})," results"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:()=>n(1),disabled:t===1,className:"h-9 w-9 rounded-lg border-admin-border/60 hover:bg-admin-muted hover:border-admin-border disabled:opacity-40",children:e.jsx(sB,{className:"h-4 w-4"})}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>n(t-1),disabled:t===1,className:"h-9 px-3 rounded-lg border-admin-border/60 hover:bg-admin-muted hover:border-admin-border gap-1.5 disabled:opacity-40",children:[e.jsx(Za,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),e.jsx("div",{className:"flex items-center gap-1",children:l().map((c,d)=>c==="..."?e.jsx("span",{className:"px-2 text-admin-muted-foreground/60 text-sm",children:"..."},`ellipsis-${d}`):e.jsx(T,{variant:c===t?"default":"ghost",size:"sm",className:q("w-9 h-9 rounded-lg text-sm font-medium transition-all",c===t?"bg-admin-foreground text-admin-background hover:bg-admin-foreground/90":"hover:bg-admin-muted text-admin-foreground"),onClick:()=>typeof c=="number"&&n(c),children:c},c))}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>n(t+1),disabled:t===r,className:"h-9 px-3 rounded-lg border-admin-border/60 hover:bg-admin-muted hover:border-admin-border gap-1.5 disabled:opacity-40",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(lr,{className:"h-4 w-4"})]}),e.jsx(T,{variant:"outline",size:"icon",onClick:()=>n(r),disabled:t===r,className:"h-9 w-9 rounded-lg border-admin-border/60 hover:bg-admin-muted hover:border-admin-border disabled:opacity-40",children:e.jsx(aB,{className:"h-4 w-4"})})]})]})}const Gr=f.forwardRef(({className:t,...r},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:q("w-full caption-bottom text-sm",t),...r})}));Gr.displayName="Table";const Yr=f.forwardRef(({className:t,...r},s)=>e.jsx("thead",{ref:s,className:q("[&_tr]:border-b",t),...r}));Yr.displayName="TableHeader";const Xr=f.forwardRef(({className:t,...r},s)=>e.jsx("tbody",{ref:s,className:q("[&_tr:last-child]:border-0",t),...r}));Xr.displayName="TableBody";const F0e=f.forwardRef(({className:t,...r},s)=>e.jsx("tfoot",{ref:s,className:q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));F0e.displayName="TableFooter";const Ve=f.forwardRef(({className:t,...r},s)=>e.jsx("tr",{ref:s,className:q("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...r}));Ve.displayName="TableRow";const xe=f.forwardRef(({className:t,...r},s)=>e.jsx("th",{ref:s,className:q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));xe.displayName="TableHead";const de=f.forwardRef(({className:t,...r},s)=>e.jsx("td",{ref:s,className:q("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));de.displayName="TableCell";const L0e=f.forwardRef(({className:t,...r},s)=>e.jsx("caption",{ref:s,className:q("mt-4 text-sm text-muted-foreground",t),...r}));L0e.displayName="TableCaption";const uD={f1:"bg-amber-100 text-amber-700 border-amber-200",f2:"bg-slate-100 text-slate-700 border-slate-200",f3:"bg-orange-100 text-orange-700 border-orange-200",apprentice:"bg-blue-100 text-blue-700 border-blue-200"},$0e=()=>{const{toast:t}=Ge(),r=ft(),[s,a]=f.useState(""),[n,i]=f.useState("all-ranks"),[o,l]=f.useState("all-status"),[c,d]=f.useState(1),u=10,{data:m=[],isLoading:h,refetch:p}=Oe({queryKey:["admin-designers"],queryFn:async()=>{try{const{data:j,error:S}=await ee.from("profiles").select("*");if(S)throw S;if(!j||j.length===0)return[];const w=j.map(k=>k.user_id);let _=[],N=[];if(w.length>0){const[{data:k,error:C},{data:P,error:A}]=await Promise.all([ee.from("stylebox_submissions").select("designer_id, status").in("designer_id",w),ee.from("earnings").select("designer_id, amount").in("designer_id",w)]);_=k||[],N=P||[]}return j.map(k=>{const C=_?.filter(A=>A.designer_id===k.user_id)||[],P=N?.filter(A=>A.designer_id===k.user_id)||[];return{id:k.user_id,name:k.name||"Unknown",email:k.email||"No email",avatar:k.avatar_url,category:k.category,rank:k.founder_tier==="f1"?"f1":k.founder_tier==="f2"?"f2":k.rank_id?"f1":"apprentice",rank_name:k.founder_tier==="f1"?"F1 - Founding Legacy":k.founder_tier==="f2"?"F2 - The Pioneer":"Apprentice",subscription:k.subscription_tier,status:k.status,completedStyleboxes:C.filter(A=>A.status==="approved").length,publishedItems:C.length,revenue:P.reduce((A,O)=>A+Number(O.amount||0),0),joinedAt:new Date(k.created_at).toLocaleDateString()}})}catch(j){throw j}}}),v=ze({mutationFn:async({userId:j,status:S})=>{const{error:w}=await ee.from("profiles").update({status:S}).eq("user_id",j);if(w)throw w},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-designers"]}),t({title:"Status updated successfully"})},onError:j=>{t({title:"Error updating status",description:j.message,variant:"destructive"})}}),x=m.filter(j=>{const S=j.name.toLowerCase().includes(s.toLowerCase())||j.email.toLowerCase().includes(s.toLowerCase()),w=o==="all-status"||j.status===o,_=n==="all-ranks"||n==="f1"&&j.rank==="f1"||n==="f2"&&j.rank==="f2"||n==="apprentice"&&j.rank==="apprentice";return S&&w&&_}),g=Math.ceil(x.length/u),b=f.useMemo(()=>{const j=(c-1)*u;return x.slice(j,j+u)},[x,c]),y=j=>{d(j),window.scrollTo({top:0,behavior:"smooth"})};return e.jsx(Br,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-6 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-admin-foreground",children:"Designer Management"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground mt-1",children:"View and manage all registered designers"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{variant:"outline",className:"gap-2 h-10 px-4 transition-all hover:bg-admin-muted active:scale-[0.98]",onClick:()=>p(),disabled:h,children:[e.jsx(ga,{className:q("h-4 w-4",h&&"animate-spin")}),"Refresh"]}),e.jsxs(T,{variant:"accent",className:"gap-2 h-10 px-4 bg-admin-foreground text-admin-background hover:bg-admin-foreground/90 transition-all active:scale-[0.98] shadow-md",children:[e.jsx(Ac,{className:"h-4 w-4"}),"Add Designer"]})]})]}),e.jsx(yg,{searchValue:s,onSearchChange:j=>{a(j),d(1)},searchPlaceholder:"Search by name, email...",filters:[{value:n,onChange:j=>{i(j),d(1)},placeholder:"Rank",options:[{value:"all-ranks",label:"All Ranks"},{value:"f1",label:"F1 - Founding Legacy"},{value:"f2",label:"F2 - The Pioneer"},{value:"apprentice",label:"Apprentice"}]},{value:o,onChange:j=>{l(j),d(1)},placeholder:"Status",options:[{value:"all-status",label:"All Status"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"}]}]}),e.jsxs(G,{className:"overflow-hidden border-admin-border shadow-sm",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Gr,{children:[e.jsx(Yr,{className:"bg-admin-muted/50 sticky top-0",children:e.jsxs(Ve,{className:"border-b-2 border-admin-border hover:bg-transparent",children:[e.jsx(xe,{className:"h-12 px-4 text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Designer"}),e.jsx(xe,{className:"h-12 px-4 text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Category"}),e.jsx(xe,{className:"h-12 px-4 text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Rank"}),e.jsx(xe,{className:"h-12 px-4 text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Subscription"}),e.jsx(xe,{className:"h-12 px-4 text-xs font-bold uppercase tracking-wider text-admin-muted-foreground text-right",children:"StyleBoxes"}),e.jsx(xe,{className:"h-12 px-4 text-xs font-bold uppercase tracking-wider text-admin-muted-foreground text-right",children:"Revenue"}),e.jsx(xe,{className:"h-12 px-4 text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Status"}),e.jsx(xe,{className:"h-12 px-4 text-xs font-bold uppercase tracking-wider text-admin-muted-foreground text-right w-[100px]",children:"Actions"})]})}),e.jsx(Xr,{children:h?e.jsx(Ve,{children:e.jsx(de,{colSpan:8,className:"h-64 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin text-admin-muted-foreground"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:"Loading designers..."})]})})}):b.length===0?e.jsx(Ve,{children:e.jsx(de,{colSpan:8,className:"h-64",children:e.jsx(jg,{icon:s?il:mt,title:s?"No designers found":"No designers yet",description:s?`No results match "${s}". Try adjusting your filters.`:"Get started by inviting designers to join Adorzia.",actionLabel:s?void 0:"Invite Designer",onAction:s?void 0:()=>{}})})}):b.map(j=>e.jsxs(Ve,{className:"group hover:bg-admin-muted/30 transition-colors border-b border-admin-border/50",children:[e.jsx(de,{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(rr,{className:"h-10 w-10 ring-2 ring-admin-border",children:[e.jsx(sr,{src:j.avatar}),e.jsx(ar,{className:"bg-admin-foreground text-admin-background text-xs font-semibold",children:j.name.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"font-medium text-sm text-admin-foreground truncate",children:j.name}),e.jsx("span",{className:"text-xs text-admin-muted-foreground truncate",children:j.email})]})]})}),e.jsx(de,{className:"py-4 px-4",children:e.jsx(B,{variant:"outline",className:"capitalize text-xs border-admin-border bg-admin-muted/30",children:j.category||"N/A"})}),e.jsx(de,{className:"py-4 px-4",children:e.jsxs(B,{variant:"outline",className:q("text-xs font-medium",uD[j.rank]||uD.apprentice),children:[e.jsx(zt,{className:"h-3 w-3 mr-1"}),j.rank_name]})}),e.jsx(de,{className:"py-4 px-4",children:e.jsx(B,{variant:j.subscription==="elite"?"accent":j.subscription==="pro"?"secondary":"outline",className:"capitalize text-xs font-medium",children:j.subscription})}),e.jsx(de,{className:"py-4 px-4 text-right",children:e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-sm font-semibold text-admin-foreground",children:j.completedStyleboxes}),e.jsxs("span",{className:"text-[10px] text-admin-muted-foreground font-medium",children:["/ ",j.publishedItems," pub"]})]})}),e.jsx(de,{className:"py-4 px-4 text-right",children:e.jsxs("span",{className:"text-sm font-bold text-success",children:["$",j.revenue.toLocaleString()]})}),e.jsx(de,{className:"py-4 px-4",children:e.jsx(B,{variant:j.status==="active"?"success":"destructive",className:"capitalize text-xs font-bold",children:j.status})}),e.jsx(de,{className:"py-4 px-4 text-right",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-admin-muted transition-all active:scale-95",children:e.jsx(Hs,{className:"h-4 w-4 text-admin-muted-foreground"})})}),e.jsxs(rs,{align:"end",className:"w-48 bg-admin-card border-admin-border shadow-lg",children:[e.jsx(Hm,{className:"text-xs font-bold text-admin-muted-foreground uppercase tracking-wider",children:"Actions"}),e.jsx(Ar,{className:"bg-admin-border"}),e.jsxs(Se,{className:"cursor-pointer focus:bg-admin-muted",children:[e.jsx(Bt,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"View Profile"]}),e.jsxs(Se,{className:"cursor-pointer focus:bg-admin-muted",children:[e.jsx(ms,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"Send Message"]}),e.jsx(Ar,{className:"bg-admin-border"}),j.status==="active"?e.jsxs(Se,{className:"text-destructive cursor-pointer focus:bg-destructive/10 focus:text-destructive",onClick:()=>v.mutate({userId:j.id,status:"suspended"}),children:[e.jsx(Tm,{className:"h-4 w-4 mr-2.5"}),"Suspend Account"]}):e.jsxs(Se,{className:"text-success cursor-pointer focus:bg-success/10 focus:text-success",onClick:()=>v.mutate({userId:j.id,status:"active"}),children:[e.jsx(ga,{className:"h-4 w-4 mr-2.5"}),"Activate Account"]})]})]})})]},j.id))})]})}),!h&&x.length>0&&e.jsx(wg,{currentPage:c,totalPages:g,totalItems:x.length,itemsPerPage:u,onPageChange:y})]})]})})},q0e={pending:"bg-warning/10 text-warning border-warning/30",approved:"bg-success/10 text-success border-success/30",rejected:"bg-destructive/10 text-destructive border-destructive/30",revision_requested:"bg-orange-500/10 text-orange-500 border-orange-500/30"},z0e={pending_handoff:"bg-blue-500/10 text-blue-500 border-blue-500/30",awaiting_sampling:"bg-amber-500/10 text-amber-500 border-amber-500/30",sampling_approved:"bg-teal-500/10 text-teal-500 border-teal-500/30",production_started:"bg-purple-500/10 text-purple-500 border-purple-500/30",listing_scheduled:"bg-indigo-500/10 text-indigo-500 border-indigo-500/30",published:"bg-success/10 text-success border-success/30",discontinued:"bg-muted text-muted-foreground border-border"},B0e={pending_handoff:"Pending Handoff",awaiting_sampling:"Awaiting Sampling",sampling_approved:"Sampling Approved",production_started:"In Production",listing_scheduled:"Listing Scheduled",published:"Published",discontinued:"Discontinued"},U0e={stylebox:"StyleBox Output",walkthrough:"Walkthrough Project",independent:"Independent Design",portfolio:"Portfolio Item"};function V0e(){const{user:t}=ja(),r=ft(),[s,a]=f.useState(""),[n,i]=f.useState("all"),[o,l]=f.useState("all"),[c,d]=f.useState(1),u=10,[m,h]=f.useState(null),[p,v]=f.useState(null),[x,g]=f.useState(""),[b,y]=f.useState(3),[j,S]=f.useState(!1),[w,_]=f.useState(!1),[N,k]=f.useState(null),{data:C,isLoading:P}=Oe({queryKey:["admin-publications",o],queryFn:async()=>{let D=ee.from("portfolio_publications").select(`
          *,
          portfolio:portfolios(
            id,
            title,
            description,
            items,
            designer_id,
            designer:profiles!portfolios_designer_id_fkey(
              id,
              user_id,
              name,
              email,
              avatar_url,
              rank_id,
              xp
            )
          )
        `).order("submitted_at",{ascending:!1});o!=="all"&&(o==="pending"?D=D.eq("decision","pending"):o==="approved"?D=D.eq("decision","approved"):o==="rejected"?D=D.eq("decision","rejected"):o==="revision"?D=D.eq("decision","revision_requested"):o==="production"&&(D=D.not("marketplace_status","is",null)));const{data:H,error:ae}=await D;if(ae)throw ae;return H}}),{data:A}=Oe({queryKey:["publication-reviews",m?.id],queryFn:async()=>{if(!m?.id)return[];const{data:D,error:H}=await ee.from("publication_reviews").select("*").eq("publication_id",m.id).order("created_at",{ascending:!1});if(H)throw H;return D},enabled:!!m?.id&&j}),O=f.useMemo(()=>C?C.filter(D=>{const H=D.portfolio?.title?.toLowerCase().includes(s.toLowerCase())||D.portfolio?.designer?.name?.toLowerCase().includes(s.toLowerCase()),ae=n==="all"||D.portfolio?.category===n;return H&&ae}):[],[C,s,n]),I=Math.ceil(O.length/u),F=f.useMemo(()=>{const D=(c-1)*u;return O.slice(D,D+u)},[O,c]),$=D=>{d(D),window.scrollTo({top:0,behavior:"smooth"})},E=ze({mutationFn:async({publicationId:D,decision:H,notes:ae,rating:U})=>{const se={decision:H,decision_notes:ae,reviewed_by:t?.id,reviewed_at:new Date().toISOString()};if(U&&(se.quality_rating=U),H==="approved"){se.locked_at=new Date().toISOString(),se.marketplace_status="pending_handoff";const le=m?.portfolio?.designer;if(le){gw.indexOf(le.rank_id);const ue=Ir[le.rank_id];se.designer_revenue_share=ue?.revenueShare||20}}const{error:Q}=await ee.from("portfolio_publications").update(se).eq("id",D);if(Q)throw Q;const{error:pe}=await ee.from("publication_reviews").insert({publication_id:D,reviewer_id:t?.id,action:H,notes:ae,quality_rating:U||null});if(pe)throw pe;await ee.from("admin_logs").insert({admin_id:t?.id,action:`publication_${H}`,target_type:"publication",target_id:D,metadata:{notes:ae,quality_rating:U}})},onSuccess:(D,{decision:H})=>{r.invalidateQueries({queryKey:["admin-publications"]});const ae={approved:"Publication approved and sent to Marketplace queue",rejected:"Publication rejected",revision_requested:"Revision requested from designer"};Re.success(ae[H]||"Action completed"),v(null),h(null),g("")},onError:D=>{Re.error("Failed to process decision"),console.error(D)}}),M=ze({mutationFn:async({publicationId:D,share:H})=>{const{error:ae}=await ee.from("portfolio_publications").update({designer_revenue_share:H,revenue_override:!0}).eq("id",D);if(ae)throw ae;await ee.from("admin_logs").insert({admin_id:t?.id,action:"revenue_override",target_type:"publication",target_id:D,metadata:{new_share:H}})},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-publications"]}),Re.success("Revenue share updated"),_(!1)},onError:D=>{Re.error("Failed to update revenue share"),console.error(D)}}),z=C?.filter(D=>D.decision==="pending").length||0,R=C?.filter(D=>D.decision==="approved").length||0,te=C?.filter(D=>D.decision==="rejected").length||0,V=C?.filter(D=>D.decision==="revision_requested").length||0;return e.jsxs(Br,{children:[e.jsxs("div",{className:"p-6 lg:p-8 space-y-6 max-w-[1600px] mx-auto",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-admin-foreground",children:"Publication Queue"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground mt-1",children:"Review designer submissions and manage marketplace pipeline"})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-5",children:[e.jsx(G,{className:"border-admin-border bg-admin-card shadow-sm",children:e.jsxs(Y,{className:"p-5 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-warning/10 flex items-center justify-center shrink-0",children:e.jsx(Ze,{className:"h-6 w-6 text-warning"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:z}),e.jsx("p",{className:"text-xs text-admin-muted-foreground uppercase font-semibold tracking-wider",children:"Pending"})]})]})}),e.jsx(G,{className:"border-admin-border bg-admin-card shadow-sm",children:e.jsxs(Y,{className:"p-5 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-success/10 flex items-center justify-center shrink-0",children:e.jsx(Mt,{className:"h-6 w-6 text-success"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:R}),e.jsx("p",{className:"text-xs text-admin-muted-foreground uppercase font-semibold tracking-wider",children:"Approved"})]})]})}),e.jsx(G,{className:"border-admin-border bg-admin-card shadow-sm",children:e.jsxs(Y,{className:"p-5 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-orange-500/10 flex items-center justify-center shrink-0",children:e.jsx(of,{className:"h-6 w-6 text-orange-500"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:V}),e.jsx("p",{className:"text-xs text-admin-muted-foreground uppercase font-semibold tracking-wider",children:"Revisions"})]})]})}),e.jsx(G,{className:"border-admin-border bg-admin-card shadow-sm",children:e.jsxs(Y,{className:"p-5 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-destructive/10 flex items-center justify-center shrink-0",children:e.jsx(Rr,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:te}),e.jsx("p",{className:"text-xs text-admin-muted-foreground uppercase font-semibold tracking-wider",children:"Rejected"})]})]})})]}),e.jsx(yg,{searchValue:s,onSearchChange:D=>{a(D),d(1)},searchPlaceholder:"Search by title or designer...",filters:[{value:n,onChange:D=>{i(D),d(1)},placeholder:"Category",options:[{value:"all",label:"All Sources"},{value:"stylebox",label:"StyleBox"},{value:"walkthrough",label:"Walkthrough"},{value:"independent",label:"Independent"},{value:"portfolio",label:"Portfolio"}]}]}),e.jsxs(Nr,{value:o,onValueChange:l,className:"space-y-6",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-admin-background/80 backdrop-blur-sm py-2 -mx-2 px-2",children:e.jsxs(br,{className:"flex-wrap h-auto gap-2 bg-transparent p-0",children:[e.jsxs(Ee,{value:"all",className:"data-[state=active]:bg-admin-foreground data-[state=active]:text-admin-background gap-2 rounded-lg transition-all",children:["All",e.jsx(B,{variant:"outline",className:"text-[10px] h-4.5 px-1.5 border-admin-border",children:C?.length||0})]}),e.jsxs(Ee,{value:"pending",className:"data-[state=active]:bg-admin-foreground data-[state=active]:text-admin-background gap-2 rounded-lg transition-all",children:["Pending",e.jsx(B,{variant:"outline",className:"text-[10px] h-4.5 px-1.5 border-admin-border",children:z})]}),e.jsxs(Ee,{value:"revision",className:"data-[state=active]:bg-admin-foreground data-[state=active]:text-admin-background gap-2 rounded-lg transition-all",children:["Revisions",e.jsx(B,{variant:"outline",className:"text-[10px] h-4.5 px-1.5 border-admin-border",children:V})]}),e.jsxs(Ee,{value:"approved",className:"data-[state=active]:bg-admin-foreground data-[state=active]:text-admin-background gap-2 rounded-lg transition-all",children:["Approved",e.jsx(B,{variant:"outline",className:"text-[10px] h-4.5 px-1.5 border-admin-border",children:R})]}),e.jsx(Ee,{value:"production",className:"data-[state=active]:bg-admin-foreground data-[state=active]:text-admin-background gap-2 rounded-lg transition-all",children:"In Production"})]})}),e.jsx(Te,{value:o,className:"space-y-4",children:P?Array.from({length:3}).map((D,H)=>e.jsx(G,{className:"border-admin-border",children:e.jsx(Y,{className:"p-6",children:e.jsx("div",{className:"h-32 bg-admin-muted/50 rounded-xl animate-pulse"})})},H)):F.length===0?e.jsx(G,{className:"border-admin-border shadow-sm",children:e.jsx(Y,{className:"p-0",children:e.jsx(jg,{icon:il,title:"No publications found",description:s?`No results match "${s}". Try adjusting your filters.`:"The publication queue is empty."})})}):e.jsxs("div",{className:"space-y-4",children:[F.map(D=>{const H=D.portfolio,ae=H?.designer,U=ae?.rank_id?Ir[ae.rank_id]:null;return e.jsx(G,{className:"overflow-hidden border-admin-border hover:shadow-md transition-shadow group",children:e.jsx(Y,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"text-lg font-semibold text-admin-foreground group-hover:text-admin-foreground/80 transition-colors",children:H?.title||"Untitled"}),e.jsx(B,{variant:"outline",className:"text-[10px] font-bold uppercase tracking-wider border-admin-border bg-admin-muted/30",children:U0e[D.source_type]||D.source_type}),e.jsx(B,{variant:"outline",className:q("text-[10px] font-bold uppercase tracking-wider",q0e[D.decision]),children:D.decision==="revision_requested"?"Revision Requested":D.decision}),D.marketplace_status&&e.jsx(B,{variant:"outline",className:q("text-[10px] font-bold uppercase tracking-wider",z0e[D.marketplace_status]),children:B0e[D.marketplace_status]}),D.locked_at&&e.jsx(us,{className:"h-3.5 w-3.5 text-admin-muted-foreground"})]}),e.jsx("p",{className:"text-sm text-admin-muted-foreground line-clamp-2 max-w-3xl leading-relaxed",children:H?.description})]}),D.quality_rating&&e.jsx("div",{className:"flex items-center gap-1 bg-admin-muted/30 px-2 py-1 rounded-lg",children:Array.from({length:5}).map((se,Q)=>e.jsx(At,{className:q("h-3.5 w-3.5",Q<D.quality_rating?"text-amber-500 fill-amber-500":"text-admin-muted-foreground/30")},Q))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 pt-2 border-t border-admin-border/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(rr,{className:"h-9 w-9 ring-2 ring-admin-border",children:[e.jsx(sr,{src:ae?.avatar_url||void 0}),e.jsx(ar,{className:"bg-admin-foreground text-admin-background text-xs font-semibold",children:ae?.name?.slice(0,2).toUpperCase()||"??"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm font-semibold text-admin-foreground",children:ae?.name||"Unknown Designer"}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold uppercase tracking-wider text-admin-muted-foreground",children:[e.jsx(zt,{className:"h-3 w-3 text-warning"}),e.jsx("span",{children:U?.name||"Unranked"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Revenue Share"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-admin-foreground",children:[e.jsx(pu,{className:"h-3.5 w-3.5 text-success"}),e.jsxs("span",{children:[D.designer_revenue_share||U?.revenueShare||20,"%"]}),D.revenue_override&&e.jsx(B,{variant:"outline",className:"text-[8px] h-4 px-1 leading-none",children:"Override"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Submitted"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-semibold text-admin-foreground",children:[e.jsx(Ze,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:xt(new Date(D.submitted_at),"MMM d, yyyy")})]})]})]})]}),D.decision_notes&&D.decision!=="pending"&&e.jsxs("div",{className:q("p-4 rounded-xl border leading-relaxed",D.decision==="rejected"?"bg-destructive/5 border-destructive/20":D.decision==="revision_requested"?"bg-orange-500/5 border-orange-500/20":"bg-success/5 border-success/20"),children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-admin-muted-foreground mb-1",children:"Admin Feedback"}),e.jsx("p",{className:"text-sm text-admin-foreground",children:D.decision_notes})]})]})}),e.jsxs("div",{className:"flex lg:flex-col gap-2 p-4 lg:p-6 lg:border-l border-admin-border bg-admin-muted/30 lg:w-52",children:[e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2 h-10 font-medium border-admin-border hover:bg-admin-card transition-all active:scale-[0.98] flex-1 lg:flex-none",onClick:()=>{h(D),S(!0)},children:[e.jsx(co,{className:"h-4 w-4 text-admin-muted-foreground"}),"History"]}),(D.decision==="pending"||D.decision==="revision_requested")&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{size:"sm",className:"gap-2 h-10 font-bold bg-success hover:bg-success/90 transition-all active:scale-[0.98] shadow-sm flex-1 lg:flex-none",onClick:()=>{h(D),v("approve")},children:[e.jsx(gr,{className:"h-4 w-4"}),"Approve"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2 h-10 font-medium text-warning border-warning/30 hover:bg-warning/10 transition-all active:scale-[0.98] flex-1 lg:flex-none",onClick:()=>{h(D),v("revision")},children:[e.jsx(Vs,{className:"h-4 w-4"}),"Revisions"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2 h-10 font-medium text-destructive border-destructive/30 hover:bg-destructive/10 transition-all active:scale-[0.98] flex-1 lg:flex-none",onClick:()=>{h(D),v("reject")},children:[e.jsx(ht,{className:"h-4 w-4"}),"Reject"]})]}),D.decision==="approved"&&e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2 h-10 font-medium border-admin-border transition-all active:scale-[0.98] flex-1 lg:flex-none",onClick:()=>{h(D),_(!0),k(D.designer_revenue_share)},children:[e.jsx(pu,{className:"h-4 w-4"}),"Revenue"]}),D.marketplace_status&&e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-center text-admin-muted-foreground mt-2 lg:mt-auto py-2 border-t border-admin-border/50",children:"Marketplace Sync"})]})]})})},D.id)}),O.length>u&&e.jsx(wg,{currentPage:c,totalPages:I,totalItems:O.length,itemsPerPage:u,onPageChange:$})]})})]})]}),e.jsx(Et,{open:!!p,onOpenChange:()=>v(null),children:e.jsxs(Pt,{className:"max-w-lg border-admin-border shadow-2xl p-0 overflow-hidden",children:[e.jsx(Lt,{className:"p-6 pb-4 border-b border-admin-border bg-admin-muted/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs($t,{className:"text-xl font-bold text-admin-foreground",children:[p==="approve"&&"Approve Submission",p==="revision"&&"Request Revisions",p==="reject"&&"Reject Submission"]}),e.jsx(Us,{className:"text-sm font-medium",children:m?.portfolio?.title})]}),e.jsx(B,{variant:"outline",className:q("text-[10px] font-black uppercase tracking-widest px-2.5 py-1",p==="approve"?"bg-success/10 text-success border-success/30":p==="reject"?"bg-destructive/10 text-destructive border-destructive/30":"bg-warning/10 text-warning border-warning/30"),children:p})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(K,{className:"text-sm font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Quality Rating"}),e.jsxs("div",{className:"flex items-center gap-2 p-4 rounded-xl bg-admin-muted/30 border border-admin-border/50",children:[e.jsx("div",{className:"flex items-center gap-1.5",children:Array.from({length:5}).map((D,H)=>e.jsx("button",{type:"button",onClick:()=>y(H+1),className:"p-1 hover:scale-125 transition-all active:scale-95",children:e.jsx(At,{className:q("h-7 w-7 transition-colors",H<b?"text-amber-500 fill-amber-500":"text-admin-muted-foreground/20")})},H))}),e.jsx("div",{className:"ml-auto h-10 w-10 rounded-full bg-admin-card flex items-center justify-center border border-admin-border shadow-sm",children:e.jsx("span",{className:"text-lg font-bold text-admin-foreground",children:b})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(K,{className:"text-sm font-bold uppercase tracking-wider text-admin-muted-foreground",children:p==="approve"?"Approval Notes (Optional)":"Decision Feedback (Required)"}),e.jsx(nt,{placeholder:p==="approve"?"Internal notes for the production team...":p==="revision"?"Clearly explain what changes the designer needs to make...":"State the specific reasons for rejection...",value:x,onChange:D=>g(D.target.value),rows:5,className:"rounded-xl border-admin-border focus:ring-2 focus:ring-admin-foreground/10 resize-none leading-relaxed"}),e.jsx("p",{className:"text-[10px] text-admin-muted-foreground italic",children:"* This feedback will be visible to the designer."})]}),p==="approve"&&m&&e.jsxs("div",{className:"p-4 rounded-xl bg-success/5 border border-success/20 space-y-2",children:[e.jsx("p",{className:"text-xs font-bold text-success uppercase tracking-widest",children:"Handoff Package Preview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-[11px] text-admin-muted-foreground",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"uppercase",children:"Designer ID"}),e.jsxs("span",{className:"font-mono font-bold text-admin-foreground",children:[m.portfolio?.designer?.user_id?.slice(0,8),"..."]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"uppercase",children:"Rev Share"}),e.jsxs("span",{className:"font-bold text-admin-foreground",children:[m.designer_revenue_share||Ir[m.portfolio?.designer?.rank_id]?.revenueShare||20,"%"]})]})]})]})]}),e.jsxs(Cs,{className:"p-6 pt-0 border-t border-admin-border bg-admin-muted/30 flex-row items-center gap-3",children:[e.jsx(T,{variant:"ghost",onClick:()=>v(null),className:"flex-1 h-11 font-medium hover:bg-admin-card",children:"Cancel"}),e.jsx(T,{onClick:()=>{if(!(!m||!p)){if((p==="revision"||p==="reject")&&!x.trim()){Re.error("Notes are required");return}E.mutate({publicationId:m.id,decision:p==="revision"?"revision_requested":p,notes:x,rating:b})}},disabled:E.isPending,className:q("flex-[2] h-11 font-bold transition-all active:scale-[0.98] shadow-md",p==="approve"&&"bg-success hover:bg-success/90",p==="reject"&&"bg-destructive hover:bg-destructive/90",p==="revision"&&"bg-admin-foreground text-admin-background hover:bg-admin-foreground/90"),children:E.isPending?e.jsx(Loader2,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[p==="approve"&&"Confirm & Approve",p==="revision"&&"Request Revisions",p==="reject"&&"Confirm Rejection"]})})]})]})}),e.jsx(Et,{open:j,onOpenChange:S,children:e.jsxs(Pt,{className:"max-w-2xl border-admin-border p-0 overflow-hidden shadow-2xl",children:[e.jsx(Lt,{className:"p-6 border-b border-admin-border bg-admin-muted/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx($t,{className:"text-xl font-bold text-admin-foreground",children:"Publication History"}),e.jsx(Us,{className:"text-sm font-medium",children:m?.portfolio?.title})]}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-admin-card flex items-center justify-center border border-admin-border",children:e.jsx(co,{className:"h-5 w-5 text-admin-muted-foreground"})})]})}),e.jsx("div",{className:"p-0 bg-admin-card",children:e.jsx(rn,{className:"h-[450px]",children:A?.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50",children:[e.jsx(co,{className:"h-12 w-12 mb-4"}),e.jsx("p",{className:"font-medium",children:"No history records found"})]}):e.jsx("div",{className:"p-6 space-y-6",children:A?.map((D,H)=>e.jsxs("div",{className:"relative flex gap-4",children:[H!==A.length-1&&e.jsx("div",{className:"absolute left-4.5 top-10 bottom-0 w-0.5 bg-admin-border"}),e.jsxs("div",{className:q("h-9 w-9 rounded-full flex items-center justify-center shrink-0 shadow-sm z-10",D.action==="approved"?"bg-success text-white":D.action==="rejected"?"bg-destructive text-white":"bg-warning text-white"),children:[D.action==="approved"&&e.jsx(gr,{className:"h-5 w-5"}),D.action==="rejected"&&e.jsx(ht,{className:"h-5 w-5"}),D.action==="revision_requested"&&e.jsx(Vs,{className:"h-5 w-5"})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold text-admin-foreground uppercase tracking-wider",children:D.action.replace("_"," ")}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-admin-muted-foreground bg-admin-muted/50 px-2 py-1 rounded",children:xt(new Date(D.created_at),"MMM d, HH:mm")})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-admin-muted/30 border border-admin-border/50 leading-relaxed",children:[e.jsx("p",{className:"text-sm text-admin-foreground",children:D.notes||"No notes provided."}),D.quality_rating&&e.jsx("div",{className:"flex items-center gap-1 mt-3 pt-3 border-t border-admin-border/30",children:Array.from({length:5}).map((ae,U)=>e.jsx(At,{className:q("h-3 w-3",U<D.quality_rating?"text-amber-500 fill-amber-500":"text-admin-muted-foreground/20")},U))})]})]})]},D.id))})})}),e.jsx(Cs,{className:"p-4 border-t border-admin-border bg-admin-muted/30",children:e.jsx(T,{variant:"ghost",onClick:()=>S(!1),className:"w-full h-10 font-bold hover:bg-admin-card",children:"Close History"})})]})}),e.jsx(Et,{open:w,onOpenChange:_,children:e.jsxs(Pt,{className:"max-w-sm border-admin-border shadow-2xl p-0 overflow-hidden",children:[e.jsxs(Lt,{className:"p-6 border-b border-admin-border bg-admin-muted/30",children:[e.jsx($t,{className:"text-xl font-bold text-admin-foreground",children:"Revenue Override"}),e.jsx(Us,{className:"text-xs font-medium mt-1",children:"Adjust revenue share for superadmin operations."})]}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(K,{className:"text-xs font-bold uppercase tracking-widest text-admin-muted-foreground",children:"New Percentage"}),e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-admin-muted/30 border border-admin-border/50",children:[e.jsx(pu,{className:"h-5 w-5 text-success"}),e.jsx(ie,{type:"number",min:10,max:60,value:N||"",onChange:D=>k(parseInt(D.target.value)||null),className:"h-10 text-lg font-bold bg-admin-card border-admin-border focus:ring-2 focus:ring-success/20"}),e.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-admin-muted text-admin-muted-foreground font-black",children:"%"})]}),e.jsx("p",{className:"text-[10px] text-admin-muted-foreground italic leading-relaxed",children:"Standard range: 10-50% based on designer rank. Overriding will bypass rank-based calculations for this publication."})]})}),e.jsxs(Cs,{className:"p-6 pt-0 border-t border-admin-border bg-admin-muted/30 flex-row items-center gap-3",children:[e.jsx(T,{variant:"ghost",onClick:()=>_(!1),className:"flex-1 h-11 font-medium hover:bg-admin-card",children:"Cancel"}),e.jsx(T,{onClick:()=>{!m||!N||M.mutate({publicationId:m.id,share:N})},disabled:M.isPending||!N,className:"flex-[2] h-11 font-bold bg-admin-foreground text-admin-background hover:bg-admin-foreground/90 transition-all shadow-md",children:M.isPending?e.jsx(Loader2,{className:"h-4 w-4 animate-spin"}):"Apply Override"})]})]})})]})}function W0e({stats:t}){const r=[{label:"Submissions",value:t.submission,icon:Wt},{label:"Sampling",value:t.sampling,icon:ZD},{label:"Tech Packs",value:t.techpack,icon:eR},{label:"Pre-Production",value:t.preproduction,icon:wo},{label:"Marketplace",value:t.marketplace,icon:ui}];return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-5 gap-3",children:r.map(s=>e.jsx(G,{className:"border-border bg-card",children:e.jsxs(Y,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(s.icon,{className:"w-5 h-5 text-muted-foreground"}),e.jsx("span",{className:"text-2xl font-bold text-foreground",children:s.value})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s.label})]})},s.label))}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(G,{className:"border-border bg-card",children:e.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:e.jsx(Ti,{className:"w-4 h-4 text-destructive"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t.urgent}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent Items"})]})]})}),e.jsx(G,{className:"border-border bg-card",children:e.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted",children:e.jsx(Ze,{className:"w-4 h-4 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t.avgWaitTime}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg. Wait Time"})]})]})}),e.jsx(G,{className:"border-border bg-card",children:e.jsxs(Y,{className:"p-3 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(ks,{className:"w-4 h-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-foreground",children:t.completedToday}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed Today"})]})]})})]})]})}const H0e={low:"bg-muted text-muted-foreground",normal:"bg-secondary text-secondary-foreground",high:"bg-primary/10 text-primary",urgent:"bg-destructive/10 text-destructive"},mD={pending:{color:"text-muted-foreground",icon:Ze},in_progress:{color:"text-primary",icon:Ze},completed:{color:"text-foreground",icon:tr},rejected:{color:"text-destructive",icon:Rr},needs_attention:{color:"text-primary",icon:Vs}},K0e={submission:{primary:"Review",secondary:"Quick Reject"},sampling:{primary:"Start Sampling",secondary:"Request Info"},techpack:{primary:"Generate Tech Pack",secondary:"Manual Edit"},preproduction:{primary:"Approve Production",secondary:"Hold"},marketplace:{primary:"Create Listing",secondary:"Preview"}};function G0e({item:t,queueType:r,onAction:s,onView:a}){const n=mD[t.status]||mD.pending,i=K0e[r],o=n.icon;return e.jsx(G,{className:"border-border bg-card hover:bg-accent/50 transition-colors",children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden bg-muted shrink-0",children:[t.thumbnailUrl?e.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:e.jsx(Bt,{className:"w-6 h-6"})}),e.jsx(B,{className:q("absolute -top-1 -right-1 text-[10px] px-1.5",H0e[t.priority]),children:t.priority})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(rr,{className:"w-5 h-5",children:[e.jsx(sr,{src:t.designer.avatar}),e.jsx(ar,{className:"bg-primary text-[10px] text-primary-foreground",children:t.designer.name.slice(0,2).toUpperCase()})]}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:t.designer.name}),t.designer.rank&&e.jsx(B,{variant:"outline",className:"text-[10px]",children:t.designer.rank})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(o,{className:q("w-3.5 h-3.5",n.color)}),e.jsx("span",{className:n.color,children:t.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[t.category&&e.jsx(B,{variant:"outline",className:"text-[10px]",children:t.category}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),jn(new Date(t.submittedAt),{addSuffix:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>a?.(t.id),children:[e.jsx(Bt,{className:"w-3 h-3 mr-1"}),"View"]}),i.secondary&&e.jsx(T,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>s?.(t.id,i.secondary),children:i.secondary}),e.jsxs(T,{size:"sm",className:"h-7 text-xs",onClick:()=>s?.(t.id,i.primary),children:[i.primary,e.jsx(lr,{className:"w-3 h-3 ml-1"})]})]})]})]})]})})})}const Y0e={approve:tr,approved:tr,reject:Rr,rejected:Rr,revision:Vs,revision_requested:Vs,start_sampling:Ze,generate_tech_pack:Wt,approve_production:tr,create_listing:At},X0e={approve:"text-green-400",approved:"text-green-400",reject:"text-red-400",rejected:"text-red-400",revision:"text-amber-400",revision_requested:"text-amber-400",start_sampling:"text-blue-400",generate_tech_pack:"text-cyan-400",approve_production:"text-purple-400",create_listing:"text-green-400"};function Q0e({open:t,onOpenChange:r,itemId:s,onAction:a}){const{data:n,isLoading:i}=Oe({queryKey:["publication-detail",s],queryFn:async()=>{if(!s)return null;const{data:m,error:h}=await ee.from("portfolio_publications").select(`
          *,
          portfolio:portfolios(
            id,
            title,
            description,
            items,
            designer_id
          )
        `).eq("id",s).maybeSingle();if(h)throw h;return m},enabled:!!s&&t}),{data:o}=Oe({queryKey:["designer-profile",n?.portfolio?.designer_id],queryFn:async()=>{if(!n?.portfolio?.designer_id)return null;const{data:m,error:h}=await ee.from("profiles").select(`
          *,
          rank:ranks(name, revenue_share_percent)
        `).eq("user_id",n.portfolio.designer_id).maybeSingle();if(h)throw h;return m},enabled:!!n?.portfolio?.designer_id}),{data:l}=Oe({queryKey:["publication-reviews",s],queryFn:async()=>{if(!s)return[];const{data:m,error:h}=await ee.from("publication_reviews").select(`
          *,
          reviewer:profiles!publication_reviews_reviewer_id_fkey(name, avatar_url)
        `).eq("publication_id",s).order("created_at",{ascending:!1});if(h)throw h;return m||[]},enabled:!!s&&t});if(!s)return null;const c=n?.portfolio?.items||[],d=n?.submission_files||[],u=n?.design_metadata||{};return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"bg-admin-coffee border-admin-chocolate max-w-4xl max-h-[90vh] p-0 overflow-hidden",children:[e.jsx(Lt,{className:"p-6 pb-0",children:e.jsxs($t,{className:"text-admin-wine-foreground flex items-center gap-3",children:[e.jsx("span",{className:"truncate",children:n?.portfolio?.title||"Loading..."}),n?.status&&e.jsx(B,{variant:"outline",className:q("shrink-0",n.status==="approved"&&"border-green-500/30 text-green-400",n.status==="pending"&&"border-amber-500/30 text-amber-400",n.status==="rejected"&&"border-red-500/30 text-red-400"),children:n.status})]})}),e.jsxs(Nr,{defaultValue:"details",className:"flex-1",children:[e.jsx("div",{className:"px-6",children:e.jsxs(br,{className:"bg-admin-chocolate/50 w-full justify-start",children:[e.jsx(Ee,{value:"details",className:"data-[state=active]:bg-admin-wine data-[state=active]:text-admin-wine-foreground",children:"Details"}),e.jsxs(Ee,{value:"files",className:"data-[state=active]:bg-admin-wine data-[state=active]:text-admin-wine-foreground",children:["Files (",c.length+d.length,")"]}),e.jsxs(Ee,{value:"history",className:"data-[state=active]:bg-admin-wine data-[state=active]:text-admin-wine-foreground",children:["History (",l?.length||0,")"]})]})}),e.jsxs(rn,{className:"h-[calc(90vh-180px)]",children:[e.jsx(Te,{value:"details",className:"p-6 pt-4 space-y-6 m-0",children:i?e.jsx("div",{className:"text-center py-8 text-admin-apricot/70",children:"Loading details..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-admin-chocolate/30",children:[e.jsxs(rr,{className:"w-14 h-14 border-2 border-admin-camel/30",children:[e.jsx(sr,{src:o?.avatar_url||""}),e.jsx(ar,{className:"bg-admin-wine text-admin-wine-foreground",children:o?.name?.slice(0,2).toUpperCase()||"UN"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-admin-wine-foreground",children:o?.name||"Unknown Designer"}),o?.rank&&e.jsxs(B,{className:"bg-admin-camel/20 text-admin-camel border-0",children:[e.jsx(zt,{className:"w-3 h-3 mr-1"}),o.rank?.name]})]}),e.jsx("p",{className:"text-sm text-admin-apricot/70 mt-1",children:o?.email}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-admin-apricot/50",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(At,{className:"w-3 h-3"}),o?.xp||0," XP"]}),e.jsxs("span",{className:"capitalize",children:[o?.subscription_tier||"basic"," Plan"]}),o?.rank&&e.jsxs("span",{children:[o.rank?.revenue_share_percent,"% Revenue Share"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-admin-apricot/70 mb-2",children:"Description"}),e.jsx("p",{className:"text-admin-wine-foreground",children:n?.portfolio?.description||"No description provided."})]}),Object.keys(u).length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-admin-apricot/70 mb-3",children:"Design Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.category&&e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50 block",children:"Category"}),e.jsx("span",{className:"text-admin-wine-foreground capitalize",children:u.category})]}),u.style&&e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50 block",children:"Style"}),e.jsx("span",{className:"text-admin-wine-foreground",children:u.style})]}),u.materials&&e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30 col-span-2",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50 block",children:"Materials"}),e.jsx("span",{className:"text-admin-wine-foreground",children:u.materials})]}),u.colorPalette&&e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30 col-span-2",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50 block",children:"Color Palette"}),e.jsx("span",{className:"text-admin-wine-foreground",children:u.colorPalette})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-admin-apricot/70 mb-3",children:"Submission Info"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50 block",children:"Submitted"}),e.jsx("span",{className:"text-admin-wine-foreground",children:n?.submitted_at?xt(new Date(n.submitted_at),"PPP p"):"N/A"})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50 block",children:"Wait Time"}),e.jsx("span",{className:"text-admin-wine-foreground",children:n?.submitted_at?jn(new Date(n.submitted_at)):"N/A"})]}),n?.source_type&&e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50 block",children:"Source"}),e.jsx("span",{className:"text-admin-wine-foreground capitalize",children:n.source_type})]}),n?.marketplace_status&&e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50 block",children:"Production Stage"}),e.jsx("span",{className:"text-admin-wine-foreground capitalize",children:n.marketplace_status.replace("_"," ")})]})]})]}),n?.decision_notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-admin-apricot/70 mb-2",children:"Designer Notes"}),e.jsx("div",{className:"p-3 rounded-lg bg-admin-chocolate/30",children:e.jsx("p",{className:"text-admin-wine-foreground whitespace-pre-wrap",children:n.decision_notes})})]})]})}),e.jsx(Te,{value:"files",className:"p-6 pt-4 m-0",children:e.jsxs("div",{className:"space-y-6",children:[c.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-admin-apricot/70 mb-3 flex items-center gap-2",children:[e.jsx(mc,{className:"w-4 h-4"}),"Portfolio Items (",c.length,")"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map((m,h)=>e.jsxs("div",{className:"relative group rounded-lg overflow-hidden bg-admin-chocolate/30 aspect-square",children:[m.url||m.thumbnail?e.jsx("img",{src:m.url||m.thumbnail,alt:m.name||`Item ${h+1}`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(mc,{className:"w-8 h-8 text-admin-apricot/30"})}),e.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[e.jsx(T,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-white hover:bg-white/20",children:e.jsx(xn,{className:"w-4 h-4"})}),e.jsx(T,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-white hover:bg-white/20",children:e.jsx(vn,{className:"w-4 h-4"})})]}),m.type&&e.jsx(B,{className:"absolute bottom-2 left-2 text-[10px] bg-black/50 text-white border-0",children:m.type})]},h))})]}),d.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-admin-apricot/70 mb-3 flex items-center gap-2",children:[e.jsx(Wt,{className:"w-4 h-4"}),"Submission Files (",d.length,")"]}),e.jsx("div",{className:"space-y-2",children:d.map((m,h)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-admin-chocolate/30 hover:bg-admin-chocolate/50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded bg-admin-wine/20 flex items-center justify-center",children:e.jsx(Wt,{className:"w-5 h-5 text-admin-camel"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-admin-wine-foreground truncate",children:m.name||`File ${h+1}`}),m.size&&e.jsxs("p",{className:"text-xs text-admin-apricot/50",children:[(m.size/1024).toFixed(1)," KB"]})]}),e.jsx(T,{size:"sm",variant:"ghost",className:"text-admin-apricot hover:text-admin-wine-foreground",children:e.jsx(vn,{className:"w-4 h-4"})})]},h))})]}),c.length===0&&d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(mc,{className:"w-12 h-12 mx-auto text-admin-apricot/30 mb-3"}),e.jsx("p",{className:"text-admin-apricot/70",children:"No files attached to this submission"})]})]})}),e.jsx(Te,{value:"history",className:"p-6 pt-4 m-0",children:l&&l.length>0?e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-admin-chocolate"}),e.jsx("div",{className:"space-y-4",children:l.map((m,h)=>{const p=Y0e[m.action]||Ze,v=X0e[m.action]||"text-admin-apricot";return e.jsxs("div",{className:"relative flex gap-4 pl-2",children:[e.jsx("div",{className:q("w-7 h-7 rounded-full flex items-center justify-center shrink-0 z-10","bg-admin-coffee border-2 border-admin-chocolate"),children:e.jsx(p,{className:q("w-3.5 h-3.5",v)})}),e.jsx("div",{className:"flex-1 pb-4",children:e.jsxs("div",{className:"p-3 rounded-lg bg-admin-chocolate/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(rr,{className:"w-6 h-6",children:[e.jsx(sr,{src:m.reviewer?.avatar_url}),e.jsx(ar,{className:"bg-admin-wine text-[10px] text-admin-wine-foreground",children:m.reviewer?.name?.slice(0,2).toUpperCase()||"UN"})]}),e.jsx("span",{className:"text-sm font-medium text-admin-wine-foreground",children:m.reviewer?.name||"System"})]}),e.jsx("span",{className:"text-xs text-admin-apricot/50",children:xt(new Date(m.created_at),"MMM d, yyyy h:mm a")})]}),e.jsx("p",{className:"text-sm text-admin-wine-foreground capitalize",children:m.action.replace(/_/g," ")}),m.notes&&e.jsxs("div",{className:"mt-2 p-2 rounded bg-admin-coffee/50 text-sm text-admin-apricot/70",children:[e.jsx(po,{className:"w-3 h-3 inline mr-1"}),m.notes]}),m.quality_rating&&e.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[e.jsx("span",{className:"text-xs text-admin-apricot/50",children:"Quality:"}),Array.from({length:5}).map((x,g)=>e.jsx(At,{className:q("w-3 h-3",g<m.quality_rating?"text-admin-camel fill-admin-camel":"text-admin-chocolate")},g))]})]})})]},m.id)})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(co,{className:"w-12 h-12 mx-auto text-admin-apricot/30 mb-3"}),e.jsx("p",{className:"text-admin-apricot/70",children:"No review history yet"})]})})]})]}),e.jsxs("div",{className:"p-4 border-t border-admin-chocolate flex items-center justify-end gap-2",children:[e.jsx(T,{variant:"outline",onClick:()=>r(!1),children:"Close"}),a&&s&&e.jsx(T,{onClick:()=>a(s,"Review"),children:"Take Action"})]})]})})}function J0e(){const t=ft(),[r,s]=f.useState("submission"),[a,n]=f.useState(""),[i,o]=f.useState("all"),[l,c]=f.useState({open:!1,itemId:"",action:"",title:""}),[d,u]=f.useState(""),[m,h]=f.useState(null),{data:p,isLoading:v}=Oe({queryKey:["production-queues",r],queryFn:async()=>{const _=mv[r];let N=ee.from("portfolio_publications").select(`
          id,
          status,
          status_v2,
          marketplace_status,
          submitted_at,
          design_metadata,
          reviewer_notes,
          priority_score,
          assigned_team,
          portfolio:portfolios(
            id,
            title,
            description,
            items,
            designer_id
          )
        `).order("priority_score",{ascending:!1}).order("submitted_at",{ascending:!0});_.statuses.length>0&&(N=N.in("status_v2",_.statuses));const{data:k,error:C}=await N;if(C)throw C;const P=[...new Set(k?.map(O=>O.portfolio?.designer_id).filter(Boolean))];let A=[];if(P.length>0){const{data:O}=await ee.from("profiles").select("user_id, name, avatar_url, rank_id").in("user_id",P);A=O||[]}return(k||[]).map(O=>({...O,designerProfile:A.find(I=>I.user_id===O.portfolio?.designer_id)}))}}),{data:x}=Oe({queryKey:["queue-stats"],queryFn:async()=>{const _=Object.keys(mv),N={};for(const O of _){const I=mv[O];if(I.statuses.length>0){const{count:F}=await ee.from("portfolio_publications").select("*",{count:"exact",head:!0}).in("status_v2",I.statuses);N[O]=F||0}}const k=new Date;k.setHours(k.getHours()-48);const{count:C}=await ee.from("portfolio_publications").select("*",{count:"exact",head:!0}).lt("submitted_at",k.toISOString()).not("status_v2","in","(published,rejected,draft)"),P=new Date;P.setHours(0,0,0,0);const{count:A}=await ee.from("portfolio_publications").select("*",{count:"exact",head:!0}).gte("published_at",P.toISOString()).eq("status_v2","published");return{submission:N.submission||0,sampling:N.sampling||0,techpack:N.techpack||0,preproduction:N.preproduction||0,marketplace:N.marketplace||0,urgent:C||0,avgWaitTime:"2.4 days",completedToday:A||0}}}),g=ze({mutationFn:async({itemId:_,action:N,notes:k})=>{let C="pending_review";switch(N){case"Review":C="pending_review";break;case"Start Sampling":C="sampling";break;case"Generate Tech Pack":case"Complete Sampling":C="sample_ready";break;case"Approve Costing":C="costing_ready";break;case"Approve Production":C="pre_production";break;case"Create Listing":C="marketplace_pending";break;case"Send Preview":C="listing_preview";break;case"Publish":C="published";break;case"Quick Reject":case"Reject":C="rejected";break;case"Request Revision":C="revision_requested";break;case"Approve":C="approved";break;default:throw new Error("Unknown action")}const{data:{user:P}}=await ee.auth.getUser(),A={status_v2:C,reviewer_notes:k||null,reviewed_at:new Date().toISOString(),reviewed_by:P?.id};C==="published"&&(A.published_at=new Date().toISOString());const{error:O}=await ee.from("portfolio_publications").update(A).eq("id",_);if(O)throw O;return await ee.from("production_logs").insert({publication_id:_,action:N.toLowerCase().replace(" ","_"),to_stage:C,performed_by:P?.id,notes:k||null}),await ee.from("admin_logs").insert({admin_id:P?.id,action:`queue_${N.toLowerCase().replace(" ","_")}`,target_type:"publication",target_id:_,metadata:{notes:k,new_status:C,queue:r}}),{success:!0}},onSuccess:()=>{t.invalidateQueries({queryKey:["production-queues"]}),t.invalidateQueries({queryKey:["queue-stats"]}),Re.success("Action completed successfully"),c({open:!1,itemId:"",action:"",title:""}),u("")},onError:_=>{Re.error("Failed to process action: "+_.message)}}),b=(_,N)=>{const k=p?.find(C=>C.id===_);c({open:!0,itemId:_,action:N,title:k?.portfolio?.title||"Unknown Item"})},y=()=>{g.mutate({itemId:l.itemId,action:l.action,notes:d})},S=(p?.map(_=>{const N=new Date(_.submitted_at),k=(Date.now()-N.getTime())/(1e3*60*60);let C="normal";_.priority_score&&_.priority_score>80?C="urgent":_.priority_score&&_.priority_score>50?C="high":k>72?C="urgent":k>48?C="high":k<12&&(C="low");const P=_.portfolio?.items,A=P?.[0]?.url||P?.[0]?.thumbnail;return{id:_.id,title:_.portfolio?.title||"Untitled",designer:{name:_.designerProfile?.name||"Unknown",avatar:_.designerProfile?.avatar_url,rank:_.designerProfile?.rank_id},status:_.status_v2||_.status||"pending",priority:C,submittedAt:_.submitted_at,category:_.design_metadata?.category||"fashion",thumbnailUrl:A}})||[]).filter(_=>{const N=_.title.toLowerCase().includes(a.toLowerCase())||_.designer.name.toLowerCase().includes(a.toLowerCase()),k=i==="all"||_.priority===i;return N&&k}),w=[{id:"submission",label:"Submissions",icon:Wt,count:x?.submission},{id:"sampling",label:"Sampling",icon:ZD,count:x?.sampling},{id:"techpack",label:"Tech Packs",icon:eR,count:x?.techpack},{id:"preproduction",label:"Pre-Production",icon:wo,count:x?.preproduction},{id:"marketplace",label:"Marketplace",icon:ui,count:x?.marketplace}];return e.jsx(Br,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-foreground",children:"Production Queues"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage the end-to-end production pipeline"})]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>{t.invalidateQueries({queryKey:["production-queues"]}),t.invalidateQueries({queryKey:["queue-stats"]})},children:[e.jsx(ga,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),x&&e.jsx(W0e,{stats:x}),e.jsxs(Nr,{value:r,onValueChange:_=>s(_),children:[e.jsx(br,{className:"w-full justify-start gap-1 p-1",children:w.map(_=>e.jsxs(Ee,{value:_.id,className:"flex items-center gap-2",children:[e.jsx(_.icon,{className:"w-4 h-4"}),_.label,_.count!==void 0&&_.count>0&&e.jsx(B,{variant:"secondary",className:"ml-1 h-5 px-1.5 text-[10px]",children:_.count})]},_.id))}),e.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search by title or designer...",value:a,onChange:_=>n(_.target.value),className:"pl-9"})]}),e.jsxs(qe,{value:i,onValueChange:o,children:[e.jsxs(Fe,{className:"w-40",children:[e.jsx(Al,{className:"w-4 h-4 mr-2 text-muted-foreground"}),e.jsx(Me,{placeholder:"Priority"})]}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Priorities"}),e.jsx(X,{value:"urgent",children:"Urgent"}),e.jsx(X,{value:"high",children:"High"}),e.jsx(X,{value:"normal",children:"Normal"}),e.jsx(X,{value:"low",children:"Low"})]})]})]}),w.map(_=>e.jsx(Te,{value:_.id,className:"mt-4",children:v?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading queue items..."}):S.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_.icon,{className:"w-12 h-12 mx-auto text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No items in this queue"})]}):e.jsx("div",{className:"space-y-3",children:S.map(N=>e.jsx(G0e,{item:N,queueType:r,onAction:b,onView:k=>h(k)},N.id))})},_.id))]}),e.jsx(Et,{open:l.open,onOpenChange:_=>!_&&c({...l,open:!1}),children:e.jsxs(Pt,{children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:[l.action,": ",l.title]}),e.jsx(Us,{children:"Confirm this action and optionally add notes."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted",children:[l.action.includes("Reject")||l.action==="Hold"?e.jsx(Rr,{className:"w-5 h-5 text-destructive"}):e.jsx(tr,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-foreground",children:l.action})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Notes (optional)"}),e.jsx(nt,{value:d,onChange:_=>u(_.target.value),placeholder:"Add any notes for this action...",rows:3})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{variant:"outline",onClick:()=>c({...l,open:!1}),children:"Cancel"}),e.jsx(T,{onClick:y,disabled:g.isPending,children:g.isPending?"Processing...":"Confirm"})]})]})}),e.jsx(Q0e,{open:!!m,onOpenChange:_=>!_&&h(null),itemId:m||"",onAction:(_,N)=>{h(null),b(_,N)}})]})})}var Z0e=Symbol("radix.slottable");function ewe(t){const r=({children:s})=>e.jsx(e.Fragment,{children:s});return r.displayName=`${t}.Slottable`,r.__radixId=Z0e,r}var S8="AlertDialog",[twe]=Ur(S8,[A5]),Hi=A5(),C8=t=>{const{__scopeAlertDialog:r,...s}=t,a=Hi(r);return e.jsx(dx,{...a,...s,modal:!0})};C8.displayName=S8;var rwe="AlertDialogTrigger",k8=f.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=Hi(s);return e.jsx(S_,{...n,...a,ref:r})});k8.displayName=rwe;var swe="AlertDialogPortal",A8=t=>{const{__scopeAlertDialog:r,...s}=t,a=Hi(r);return e.jsx(ux,{...a,...s})};A8.displayName=swe;var awe="AlertDialogOverlay",P8=f.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=Hi(s);return e.jsx(Nd,{...n,...a,ref:r})});P8.displayName=awe;var Sc="AlertDialogContent",[nwe,iwe]=twe(Sc),owe=ewe("AlertDialogContent"),E8=f.forwardRef((t,r)=>{const{__scopeAlertDialog:s,children:a,...n}=t,i=Hi(s),o=f.useRef(null),l=Xe(r,o),c=f.useRef(null);return e.jsx(KH,{contentName:Sc,titleName:T8,docsSlug:"alert-dialog",children:e.jsx(nwe,{scope:s,cancelRef:c,children:e.jsxs(_d,{role:"alertdialog",...i,...n,ref:l,onOpenAutoFocus:ve(n.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(owe,{children:a}),e.jsx(cwe,{contentRef:o})]})})})});E8.displayName=Sc;var T8="AlertDialogTitle",O8=f.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=Hi(s);return e.jsx(Lm,{...n,...a,ref:r})});O8.displayName=T8;var D8="AlertDialogDescription",R8=f.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=Hi(s);return e.jsx($m,{...n,...a,ref:r})});R8.displayName=D8;var lwe="AlertDialogAction",I8=f.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=Hi(s);return e.jsx(mx,{...n,...a,ref:r})});I8.displayName=lwe;var M8="AlertDialogCancel",F8=f.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,{cancelRef:n}=iwe(M8,s),i=Hi(s),o=Xe(r,n);return e.jsx(mx,{...i,...a,ref:o})});F8.displayName=M8;var cwe=({contentRef:t})=>{const r=`\`${Sc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sc}\` by passing a \`${D8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return f.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},dwe=C8,uwe=k8,mwe=A8,L8=P8,$8=E8,q8=I8,z8=F8,B8=O8,U8=R8;const li=dwe,hD=uwe,hwe=mwe,V8=f.forwardRef(({className:t,...r},s)=>e.jsx(L8,{className:q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));V8.displayName=L8.displayName;const Nn=f.forwardRef(({className:t,...r},s)=>e.jsxs(hwe,{children:[e.jsx(V8,{}),e.jsx($8,{ref:s,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));Nn.displayName=$8.displayName;const _n=({className:t,...r})=>e.jsx("div",{className:q("flex flex-col space-y-2 text-center sm:text-left",t),...r});_n.displayName="AlertDialogHeader";const Sn=({className:t,...r})=>e.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Sn.displayName="AlertDialogFooter";const Cn=f.forwardRef(({className:t,...r},s)=>e.jsx(B8,{ref:s,className:q("text-lg font-semibold",t),...r}));Cn.displayName=B8.displayName;const kn=f.forwardRef(({className:t,...r},s)=>e.jsx(U8,{ref:s,className:q("text-sm text-muted-foreground",t),...r}));kn.displayName=U8.displayName;const An=f.forwardRef(({className:t,...r},s)=>e.jsx(q8,{ref:s,className:q($u(),t),...r}));An.displayName=q8.displayName;const Pn=f.forwardRef(({className:t,...r},s)=>e.jsx(z8,{ref:s,className:q($u({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));Pn.displayName=z8.displayName;const W8=f.createContext(null);function Ki(){const t=f.useContext(W8);if(!t)throw new Error("useWizardContext must be used within WizardProvider");return t}function fwe({children:t,initialData:r}){const[s,a]=f.useState("basic"),[n,i]=f.useState(()=>r||hC()),o=!!r?.id,l=(m,h)=>{i(p=>{const v={...p,[m]:h};if(m==="difficulty"){const x=h;v.design_guidelines={...p.design_guidelines,...rw[x],difficulty_level:x}}if(m==="category"){const x=h;v.deliverables=NY(x)}return v})},c=(m,h,p)=>{i(v=>({...v,[m]:{...v[m],[h]:p}}))},d=m=>{i(m)},u=()=>{i(hC()),a("basic")};return e.jsx(W8.Provider,{value:{formData:n,updateFormData:l,updateNestedData:c,setFormData:d,resetForm:u,currentTab:s,setCurrentTab:a,isEditing:o},children:t})}function pwe(){const{formData:t,updateFormData:r}=Ki();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Setup"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure the core details of this StyleBox"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2 space-y-2",children:[e.jsx(K,{htmlFor:"title",children:"Title *"}),e.jsx(ie,{id:"title",value:t.title,onChange:s=>r("title",s.target.value),placeholder:"e.g., Urban Minimalist Capsule Collection"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"display_id",children:"StyleBox ID"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"display_id",value:t.display_id||"Auto-generated",readOnly:!0,className:"bg-muted font-mono text-xs"}),!t.display_id&&e.jsx(ct,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground animate-pulse"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Collection Line"}),e.jsxs(qe,{value:t.collection_line||"",onValueChange:s=>r("collection_line",s),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select collection line..."})}),e.jsx(Le,{className:"bg-popover z-50",children:bY.map(s=>e.jsx(X,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Market Context"}),e.jsxs(qe,{value:t.market_context||"",onValueChange:s=>r("market_context",s),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select market context..."})}),e.jsx(Le,{className:"bg-popover z-50",children:yY.map(s=>e.jsx(X,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Season"}),e.jsxs(qe,{value:t.season||"",onValueChange:s=>r("season",s||void 0),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select season..."})}),e.jsx(Le,{className:"bg-popover z-50",children:vY.map(s=>e.jsx(X,{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"collection_size",children:"Collection Size (pieces)"}),e.jsx(ie,{id:"collection_size",type:"number",min:1,max:50,value:t.collection_size||"",onChange:s=>r("collection_size",parseInt(s.target.value)||void 0),placeholder:"e.g., 5"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Category *"}),e.jsxs(qe,{value:t.category,onValueChange:s=>r("category",s),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{className:"bg-popover z-50",children:[e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Difficulty *"}),e.jsxs(qe,{value:t.difficulty,onValueChange:s=>r("difficulty",s),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{className:"bg-popover z-50",children:[e.jsx(X,{value:"free",children:"Free"}),e.jsx(X,{value:"easy",children:"Easy"}),e.jsx(X,{value:"medium",children:"Medium"}),e.jsx(X,{value:"hard",children:"Hard"}),e.jsx(X,{value:"insane",children:"Insane"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"xp_reward",children:"XP Reward"}),e.jsx(ie,{id:"xp_reward",type:"number",min:0,step:25,value:t.xp_reward||100,onChange:s=>r("xp_reward",parseInt(s.target.value)||100)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Status"}),e.jsxs(qe,{value:t.status||"draft",onValueChange:s=>r("status",s),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{className:"bg-popover z-50",children:[e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"archived",children:"Archived"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Visibility Tags"}),e.jsxs(qe,{value:t.visibility_tags?.[0]||"",onValueChange:s=>r("visibility_tags",[s]),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select targeting..."})}),e.jsx(Le,{className:"bg-popover z-50",children:jY.map(s=>e.jsx(X,{value:s,children:s},s))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"description",children:"Short Description"}),e.jsx(nt,{id:"description",value:t.description||"",onChange:s=>r("description",s.target.value),placeholder:"Brief overview of this challenge (shown in card previews)",className:"min-h-[80px]"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(K,{children:"Featured StyleBox"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Highlight this StyleBox on the main page"})]}),e.jsx(Ws,{checked:t.is_featured||!1,onCheckedChange:s=>r("is_featured",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(K,{children:"Walkthrough Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable step-by-step tutorial experience"})]}),e.jsx(Ws,{checked:t.is_walkthrough||!1,onCheckedChange:s=>r("is_walkthrough",s)})]})]})]})}const xwe=["A-Line","Ball Gown","Empire","Mermaid","Sheath","Exoskeletal","Modular","Asymmetrical","Custom"];function gwe(){const{formData:t,updateFormData:r}=Ki(),s=t.archetype||{silhouette:"",custom_silhouette:"",rationale:"",anchor_image:""},[a,n]=f.useState(!1),[i,o]=f.useState(!1),{toast:l}=Ge(),c=(m,h)=>{r("archetype",{...s,[m]:h})},d=async m=>{o(!0);try{const h=await P1(m),p=m.name.split(".").pop(),x=`archetypes/${`${Math.random().toString(36).substring(2)}_${Date.now()}.${p}`}`,{data:g,error:b}=await ee.storage.from("stylebox-curation-assets").upload(x,h);if(b)throw b;const{data:{publicUrl:y}}=ee.storage.from("stylebox-curation-assets").getPublicUrl(x);c("anchor_image",y),l({title:"Image uploaded",description:"Anchor image has been watermarked and saved."})}catch(h){console.error("Upload error:",h),l({title:"Upload failed",description:"Failed to upload and watermark image.",variant:"destructive"})}finally{o(!1)}},u=m=>{const h=m.target.files?.[0];h&&d(h)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["Quadrant 1: The Archetype",e.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-admin-accent text-admin-accent-foreground uppercase tracking-wider",children:"Commercial Constant"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Define the foundational structure and commercial logic of the design."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Silhouette Archetype *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(qe,{value:s.silhouette||"",onValueChange:m=>c("silhouette",m),children:[e.jsx(Fe,{className:"flex-1",children:e.jsx(Me,{placeholder:"Select silhouette..."})}),e.jsx(Le,{children:xwe.map(m=>e.jsx(X,{value:m,children:m},m))})]}),s.silhouette==="Custom"&&e.jsx(ie,{placeholder:"Enter custom silhouette...",value:s.custom_silhouette||"",onChange:m=>c("custom_silhouette",m.target.value),className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"rationale",className:"flex items-center gap-1.5",children:["Rationale & Commercial Logic",e.jsx(xd,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),e.jsx(nt,{id:"rationale",value:s.rationale||"",onChange:m=>c("rationale",m.target.value),placeholder:"Explain the 'Commercial Constant' logic... (Rich Text Editor placeholder)",className:"min-h-[200px] font-serif leading-relaxed"}),e.jsx("p",{className:"text-[10px] text-muted-foreground italic",children:"* Text supports Markdown for formatting."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Anchor Reference Image *"}),e.jsx("div",{className:q("relative border-2 border-dashed rounded-xl aspect-square flex flex-col items-center justify-center transition-all duration-200 overflow-hidden bg-muted/20",a?"border-admin-accent bg-admin-accent/5":"border-admin-border hover:border-admin-accent/50",s.anchor_image&&"border-none"),onDragOver:m=>{m.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:m=>{m.preventDefault(),n(!1);const h=m.dataTransfer.files[0];h&&d(h)},children:i?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin text-admin-accent"}),e.jsx("p",{className:"text-sm font-medium",children:"Processing & Uploading..."})]}):s.anchor_image?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.anchor_image,alt:"Anchor Reference",className:"w-full h-full object-cover rounded-lg"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:e.jsx(T,{variant:"destructive",size:"icon",onClick:()=>c("anchor_image",""),children:e.jsx(ht,{className:"h-4 w-4"})})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 rounded-full bg-admin-card shadow-sm mb-4",children:e.jsx(zr,{className:"h-6 w-6 text-admin-accent"})}),e.jsxs("div",{className:"text-center px-4",children:[e.jsx("p",{className:"text-sm font-medium",children:"Drop the 'Anchor' image here"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"or click to browse from computer"})]}),e.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:u,accept:"image/*"})]})}),e.jsx("p",{className:"text-[10px] text-muted-foreground text-center mt-2",children:"Maximum file size: 20MB. High-resolution technical flats preferred."})]})]})]})}function vwe(){const{formData:t,updateFormData:r}=Ki(),s=t.mutation||{concept:"",directive:"",moodboard:[]},[a,n]=f.useState(!1),{toast:i}=Ge(),o=(u,m)=>{r("mutation",{...s,[u]:m})},l=async u=>{n(!0);const m=[...s.moodboard];try{for(const h of Array.from(u)){const p=await P1(h),v=h.name.split(".").pop(),g=`moodboards/${`${Math.random().toString(36).substring(2)}_${Date.now()}.${v}`}`,{error:b}=await ee.storage.from("stylebox-curation-assets").upload(g,p);if(b)throw b;const{data:{publicUrl:y}}=ee.storage.from("stylebox-curation-assets").getPublicUrl(g);m.push({url:y,id:Math.random().toString(36).substr(2,9)})}o("moodboard",m),i({title:"Images uploaded",description:`${u.length} images have been watermarked and added to the mood board.`})}catch(h){console.error("Upload error:",h),i({title:"Upload failed",description:"Some images failed to upload.",variant:"destructive"})}finally{n(!1)}},c=u=>{const m=u.target.files;m&&m.length>0&&l(m)},d=u=>{o("moodboard",s.moodboard.filter(m=>m.id!==u))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["Quadrant 2: The Mutation",e.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-admin-accent text-admin-accent-foreground uppercase tracking-wider",children:"The Disruption"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Define the conceptual shift and creative narrative for the mutation."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"concept",children:"Mutation Concept *"}),e.jsx(nt,{id:"concept",value:s.concept||"",onChange:u=>o("concept",u.target.value),placeholder:"Describe the high-level mutation concept... (e.g., Crystallography, Biomimicry)",className:"min-h-[120px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"directive",children:"Creative Directive *"}),e.jsx(nt,{id:"directive",value:s.directive||"",onChange:u=>o("directive",u.target.value),placeholder:"Provide specific instructions for the 'Disruption' strategy...",className:"min-h-[120px]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{children:"Visual Narrative (Mood Board)"}),e.jsxs(T,{variant:"outline",size:"sm",className:"relative cursor-pointer",disabled:a,children:[a?e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(zr,{className:"h-4 w-4 mr-2"}),"Add Images",e.jsx("input",{type:"file",multiple:!0,className:"absolute inset-0 opacity-0 cursor-pointer",onChange:c,accept:"image/*"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 p-4 border rounded-xl bg-muted/20 min-h-[300px]",children:[a&&e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center p-8 bg-background/50 backdrop-blur-sm rounded-lg border-2 border-dashed border-admin-accent/50 z-10",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin text-admin-accent mb-2"}),e.jsx("p",{className:"text-sm font-medium",children:"Watermarking & Uploading..."})]}),s.moodboard.length>0?s.moodboard.map((u,m)=>e.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border bg-background shadow-sm transition-all hover:ring-2 hover:ring-admin-accent/50",children:[e.jsx("img",{src:u.url,alt:`Moodboard ${m}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(T,{variant:"destructive",size:"icon",className:"h-6 w-6",onClick:()=>d(u.id),children:e.jsx(ht,{className:"h-3 w-3"})})}),e.jsx("div",{className:"absolute bottom-1 left-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"bg-black/60 text-white text-[10px] px-1.5 py-0.5 rounded flex items-center gap-1 cursor-grab active:cursor-grabbing",children:[e.jsx(Em,{className:"h-2.5 w-2.5"}),"Move"]})})]},u.id)):e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center text-muted-foreground",children:[e.jsx(No,{className:"h-10 w-10 mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No images added to visual narrative"}),e.jsx("p",{className:"text-xs mt-1",children:"Images will appear here for drag-reordering"})]})]}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"* Drag and drop images to reorder the visual story. High-fidelity references only."})]})]})]})}const bwe=MI,ywe=F_,jwe=$_;function wwe(){const{formData:t,updateFormData:r}=Ki(),s=t.restrictions||{points:[],tolerances:{max_weight:"",max_cost:""}},a=(l,c)=>{r("restrictions",{...s,[l]:c})},n=()=>{const l={id:Math.random().toString(36).substr(2,9),type:"Substrate",label:"",details:"",isOpen:!0};a("points",[...s.points,l])},i=l=>{a("points",s.points.filter(c=>c.id!==l))},o=(l,c,d)=>{a("points",s.points.map(u=>u.id===l?{...u,[c]:d}:u))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["Quadrant 3: The Restrictions",e.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-admin-accent text-admin-accent-foreground uppercase tracking-wider",children:"Technical Brief"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Define the technical constraints, protocols, and tolerances."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{className:"text-base font-bold",children:"Restriction Points"}),e.jsxs(T,{onClick:n,size:"sm",variant:"outline",className:"gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"})," Add Point"]})]}),e.jsxs("div",{className:"space-y-3",children:[s.points.map(l=>e.jsxs(bwe,{open:l.isOpen,onOpenChange:c=>o(l.id,"isOpen",c),className:"border rounded-xl bg-background shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"px-2 py-0.5 rounded bg-admin-accent/10 text-admin-accent text-[10px] font-bold uppercase",children:l.type}),e.jsx(ie,{placeholder:"Point Label (e.g., Fabric Weight)",value:l.label,onChange:c=>o(l.id,"label",c.target.value),className:"h-8 border-none bg-transparent font-medium focus-visible:ring-0 px-0"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>i(l.id),children:e.jsx(Hr,{className:"h-4 w-4"})}),e.jsx(ywe,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.isOpen?e.jsx(QN,{className:"h-4 w-4"}):e.jsx(di,{className:"h-4 w-4"})})})]})]}),e.jsxs(jwe,{className:"p-4 border-t space-y-4 bg-muted/5",children:[e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(K,{className:"text-xs",children:"Category"}),e.jsx(ie,{value:l.type,onChange:c=>o(l.id,"type",c.target.value),placeholder:"e.g., Substrate, Protocol",className:"h-8 text-xs"})]})}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(K,{className:"text-xs",children:"Collapsible Details / Guidelines"}),e.jsx(nt,{placeholder:"Enter technical details and specific constraints...",value:l.details,onChange:c=>o(l.id,"details",c.target.value),className:"min-h-[80px] text-xs"})]})]})]},l.id)),s.points.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border-2 border-dashed rounded-xl bg-muted/10 text-muted-foreground",children:[e.jsx(Ti,{className:"h-8 w-8 mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No technical restriction points defined"}),e.jsx(T,{onClick:n,variant:"link",className:"text-admin-accent text-xs",children:"Add your first restriction"})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"p-5 border rounded-xl bg-admin-card shadow-sm space-y-6",children:[e.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Numerical Tolerances"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"max_weight",className:"text-xs font-medium",children:"Max Allowed Weight (kg)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"max_weight",type:"text",placeholder:"e.g., 1.2",value:s.tolerances.max_weight,onChange:l=>a("tolerances",{...s.tolerances,max_weight:l.target.value}),className:"pr-10"}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-bold text-muted-foreground",children:"KG"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"max_cost",className:"text-xs font-medium",children:"Max Production Cost ($)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"max_cost",type:"text",placeholder:"e.g., 500",value:s.tolerances.max_cost,onChange:l=>a("tolerances",{...s.tolerances,max_cost:l.target.value}),className:"pr-10"}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-[10px] font-bold text-muted-foreground",children:"USD"})]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-amber-500/5 border border-amber-500/10 flex gap-3",children:[e.jsx(Ti,{className:"h-4 w-4 text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] text-amber-700 leading-relaxed",children:"Tolerances are strictly enforced during the review phase. Ensure values are realistic for the specified difficulty."})]})]})})]})]})}function Nwe(){const{formData:t,updateFormData:r}=Ki(),s=t.manifestation||{prompt:""},a=(n,i)=>{r("manifestation",{...s,[n]:i})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["Quadrant 4: The Manifestation",e.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-admin-accent text-admin-accent-foreground uppercase tracking-wider",children:"Final Prompt"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Define the final design prompt and instructions for the designer."})]}),e.jsxs("div",{className:"space-y-4 max-w-4xl",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"prompt",className:"flex items-center gap-1.5",children:["Design Prompt *",e.jsx(xd,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),e.jsx(nt,{id:"prompt",value:s.prompt||"",onChange:n=>a("prompt",n.target.value),placeholder:"Write the final prompt to the designer... This is the ultimate instruction they must follow.",className:"min-h-[300px] font-serif text-lg leading-relaxed p-6 bg-admin-card border-admin-border"}),e.jsxs("div",{className:"flex justify-between items-center text-[10px] text-muted-foreground italic px-1",children:[e.jsx("p",{children:"* This prompt will be the focal point of the designer's workspace."}),e.jsxs("p",{children:[s.prompt?.length||0," characters"]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-admin-accent/5 border border-admin-accent/10",children:[e.jsx("h4",{className:"text-xs font-bold uppercase tracking-wider text-admin-accent mb-2",children:"Curator Tip"}),e.jsxs("p",{className:"text-xs text-admin-muted-foreground leading-relaxed",children:["A strong manifestation prompt bridges the gap between the ",e.jsx("span",{className:"font-semibold text-admin-foreground italic",children:"Archetype"})," (The Constant) and the ",e.jsx("span",{className:"font-semibold text-admin-foreground italic",children:"Mutation"})," (The Disruption). It should be clear, inspiring, and technically grounded."]})]})]})]})}const _we=[{value:"PDF",label:"PDF Document"},{value:"JPG",label:"High-Res Image (JPG)"},{value:"PNG",label:"Transparent Image (PNG)"},{value:"MP4",label:"Video Documentation (MP4)"},{value:"OBJ/GLB",label:"3D Model (OBJ/GLB)"},{value:"AI/PSD",label:"Source File (AI/PSD)"}];function Swe(){const{formData:t,updateFormData:r}=Ki(),s=t.adorzia_deliverables||[],a=l=>{r("adorzia_deliverables",l)},n=()=>{const l={id:Math.random().toString(36).substr(2,9),name:"",file_type:"PDF",description:"",required:!0,grading_rubric:"",rubric_visible:!1};a([...s,l])},i=l=>{a(s.filter(c=>c.id!==l))},o=(l,c,d)=>{a(s.map(u=>u.id===l?{...u,[c]:d}:u))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["Module C: Adorzia Deliverables",e.jsx("div",{className:"px-2 py-0.5 rounded text-[10px] font-bold bg-admin-accent text-admin-accent-foreground uppercase tracking-wider",children:"Output Configurator"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Define the specific assets required from the designer and their grading criteria."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[e.jsx(K,{className:"text-base font-bold",children:"Required Assets & Grading"}),e.jsxs(T,{onClick:n,size:"sm",className:"gap-2 bg-admin-foreground text-admin-background",children:[e.jsx(Xt,{className:"h-4 w-4"})," Add Deliverable"]})]}),e.jsxs("div",{className:"space-y-6",children:[s.map((l,c)=>e.jsx("div",{className:"relative p-6 border rounded-2xl bg-background shadow-sm space-y-6 transition-all hover:border-admin-accent/30",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("span",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-muted text-[10px] font-bold",children:c+1}),e.jsx(ie,{placeholder:"Deliverable Name (e.g., Stitch Density Map)",value:l.name,onChange:d=>o(l.id,"name",d.target.value),className:"h-9 font-semibold text-base border-none focus-visible:ring-0 p-0"})]}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>i(l.id),children:e.jsx(Hr,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs(K,{className:"text-xs flex items-center gap-1.5",children:[e.jsx(nB,{className:"h-3 w-3"})," Accepted File Type"]}),e.jsxs(qe,{value:l.file_type,onValueChange:d=>o(l.id,"file_type",d),children:[e.jsx(Fe,{className:"h-9",children:e.jsx(Me,{})}),e.jsx(Le,{children:_we.map(d=>e.jsx(X,{value:d.value,children:d.label},d.value))})]})]}),e.jsx("div",{className:"flex flex-col justify-end",children:e.jsxs("div",{className:"flex items-center gap-2 h-9",children:[e.jsx(Ws,{checked:l.required,onCheckedChange:d=>o(l.id,"required",d)}),e.jsx(K,{className:"text-xs",children:"Required for submission"})]})})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(K,{className:"text-xs",children:"Brief Instructions for this Asset"}),e.jsx(nt,{placeholder:"Specific requirements for this deliverable...",value:l.description,onChange:d=>o(l.id,"description",d.target.value),className:"min-h-[60px] text-xs resize-none"})]})]}),e.jsxs("div",{className:"flex-1 p-5 rounded-xl bg-muted/30 border border-dashed space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{className:"text-xs font-bold uppercase tracking-widest flex items-center gap-1.5 text-admin-muted-foreground",children:[e.jsx(Mt,{className:"h-3.5 w-3.5"})," Grading Rubric"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.rubric_visible?e.jsx(Bt,{className:"h-3 w-3"}):e.jsx(k0,{className:"h-3 w-3"}),e.jsx(Ws,{size:"sm",checked:l.rubric_visible,onCheckedChange:d=>o(l.id,"rubric_visible",d)}),e.jsx("span",{className:"text-[10px] font-medium uppercase",children:l.rubric_visible?"Public":"Internal"})]})]}),e.jsx(nt,{placeholder:"Define evaluation criteria... (e.g., Accuracy: 40%, Innovation: 60%)",value:l.grading_rubric,onChange:d=>o(l.id,"grading_rubric",d.target.value),className:"min-h-[120px] text-xs bg-background"}),e.jsx("p",{className:"text-[9px] text-muted-foreground leading-tight italic",children:"* If set to Public, the designer will see these criteria as a guide during their workflow."})]})]})},l.id)),s.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 border-2 border-dashed rounded-3xl bg-muted/10 text-muted-foreground",children:[e.jsx("div",{className:"p-4 rounded-full bg-background shadow-sm mb-4",children:e.jsx(Mt,{className:"h-8 w-8 opacity-20"})}),e.jsx("p",{className:"text-sm font-medium",children:"No deliverables configured yet"}),e.jsx("p",{className:"text-xs mt-1 mb-4",children:"You must add at least one deliverable for the designer to submit."}),e.jsx(T,{onClick:n,variant:"outline",size:"sm",children:"Initialize Deliverables List"})]})]})]})]})}var ut=function(){return ut=Object.assign||function(r){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},ut.apply(this,arguments)};function Cwe(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(s[a[n]]=t[a[n]]);return s}function H8(t,r,s){for(var a=0,n=r.length,i;a<n;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return t.concat(i||Array.prototype.slice.call(r))}function nh(t){return t.mode==="multiple"}function ih(t){return t.mode==="range"}function Ng(t){return t.mode==="single"}var kwe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Awe(t,r){return xt(t,"LLLL y",r)}function Pwe(t,r){return xt(t,"d",r)}function Ewe(t,r){return xt(t,"LLLL",r)}function Twe(t){return"".concat(t)}function Owe(t,r){return xt(t,"cccccc",r)}function Dwe(t,r){return xt(t,"yyyy",r)}var Rwe=Object.freeze({__proto__:null,formatCaption:Awe,formatDay:Pwe,formatMonthCaption:Ewe,formatWeekNumber:Twe,formatWeekdayName:Owe,formatYearCaption:Dwe}),Iwe=function(t,r,s){return xt(t,"do MMMM (EEEE)",s)},Mwe=function(){return"Month: "},Fwe=function(){return"Go to next month"},Lwe=function(){return"Go to previous month"},$we=function(t,r){return xt(t,"cccc",r)},qwe=function(t){return"Week n. ".concat(t)},zwe=function(){return"Year: "},Bwe=Object.freeze({__proto__:null,labelDay:Iwe,labelMonthDropdown:Mwe,labelNext:Fwe,labelPrevious:Lwe,labelWeekNumber:qwe,labelWeekday:$we,labelYearDropdown:zwe});function Uwe(){var t="buttons",r=kwe,s=x1,a={},n={},i=1,o={},l=new Date;return{captionLayout:t,classNames:r,formatters:Rwe,labels:Bwe,locale:s,modifiersClassNames:a,modifiers:n,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Vwe(t){var r=t.fromYear,s=t.toYear,a=t.fromMonth,n=t.toMonth,i=t.fromDate,o=t.toDate;return a?i=va(a):r&&(i=new Date(r,0,1)),n?o=Px(n):s&&(o=new Date(s,11,31)),{fromDate:i?gl(i):void 0,toDate:o?gl(o):void 0}}var K8=f.createContext(void 0);function Wwe(t){var r,s=t.initialProps,a=Uwe(),n=Vwe(s),i=n.fromDate,o=n.toDate,l=(r=s.captionLayout)!==null&&r!==void 0?r:a.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Ng(s)||nh(s)||ih(s))&&(c=s.onSelect);var d=ut(ut(ut({},a),s),{captionLayout:l,classNames:ut(ut({},a.classNames),s.classNames),components:ut({},s.components),formatters:ut(ut({},a.formatters),s.formatters),fromDate:i,labels:ut(ut({},a.labels),s.labels),mode:s.mode||a.mode,modifiers:ut(ut({},a.modifiers),s.modifiers),modifiersClassNames:ut(ut({},a.modifiersClassNames),s.modifiersClassNames),onSelect:c,styles:ut(ut({},a.styles),s.styles),toDate:o});return e.jsx(K8.Provider,{value:d,children:t.children})}function Pr(){var t=f.useContext(K8);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function G8(t){var r=Pr(),s=r.locale,a=r.classNames,n=r.styles,i=r.formatters.formatCaption;return e.jsx("div",{className:a.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:s})})}function Hwe(t){return e.jsx("svg",ut({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Y8(t){var r,s,a=t.onChange,n=t.value,i=t.children,o=t.caption,l=t.className,c=t.style,d=Pr(),u=(s=(r=d.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&s!==void 0?s:Hwe;return e.jsxs("div",{className:l,style:c,children:[e.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:n,onChange:a,children:i}),e.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,e.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Kwe(t){var r,s=Pr(),a=s.fromDate,n=s.toDate,i=s.styles,o=s.locale,l=s.formatters.formatMonthCaption,c=s.classNames,d=s.components,u=s.labels.labelMonthDropdown;if(!a)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var m=[];if(JZ(a,n))for(var h=va(a),p=a.getMonth();p<=n.getMonth();p++)m.push(ov(h,p));else for(var h=va(new Date),p=0;p<=11;p++)m.push(ov(h,p));var v=function(g){var b=Number(g.target.value),y=ov(va(t.displayMonth),b);t.onChange(y)},x=(r=d?.Dropdown)!==null&&r!==void 0?r:Y8;return e.jsx(x,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:m.map(function(g){return e.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function Gwe(t){var r,s=t.displayMonth,a=Pr(),n=a.fromDate,i=a.toDate,o=a.locale,l=a.styles,c=a.classNames,d=a.components,u=a.formatters.formatYearCaption,m=a.labels.labelYearDropdown,h=[];if(!n)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var p=n.getFullYear(),v=i.getFullYear(),x=p;x<=v;x++)h.push(KC(aF(new Date),x));var g=function(y){var j=KC(va(s),Number(y.target.value));t.onChange(j)},b=(r=d?.Dropdown)!==null&&r!==void 0?r:Y8;return e.jsx(b,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:s.getFullYear(),caption:u(s,{locale:o}),children:h.map(function(y){return e.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function Ywe(t,r){var s=f.useState(t),a=s[0],n=s[1],i=r===void 0?a:r;return[i,n]}function Xwe(t){var r=t.month,s=t.defaultMonth,a=t.today,n=r||s||a||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&qc(i,n)<0){var d=-1*(c-1);n=Qa(i,d)}return o&&qc(n,o)<0&&(n=o),va(n)}function Qwe(){var t=Pr(),r=Xwe(t),s=Ywe(r,t.month),a=s[0],n=s[1],i=function(o){var l;if(!t.disableNavigation){var c=va(o);n(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[a,i]}function Jwe(t,r){for(var s=r.reverseMonths,a=r.numberOfMonths,n=va(t),i=va(Qa(n,a)),o=qc(i,n),l=[],c=0;c<o;c++){var d=Qa(n,c);l.push(d)}return s&&(l=l.reverse()),l}function Zwe(t,r){if(!r.disableNavigation){var s=r.toDate,a=r.pagedNavigation,n=r.numberOfMonths,i=n===void 0?1:n,o=a?i:1,l=va(t);if(!s)return Qa(l,o);var c=qc(s,t);if(!(c<i))return Qa(l,o)}}function eNe(t,r){if(!r.disableNavigation){var s=r.fromDate,a=r.pagedNavigation,n=r.numberOfMonths,i=n===void 0?1:n,o=a?i:1,l=va(t);if(!s)return Qa(l,-o);var c=qc(l,s);if(!(c<=0))return Qa(l,-o)}}var X8=f.createContext(void 0);function tNe(t){var r=Pr(),s=Qwe(),a=s[0],n=s[1],i=Jwe(a,r),o=Zwe(a,r),l=eNe(a,r),c=function(m){return i.some(function(h){return g1(m,h)})},d=function(m,h){c(m)||(h&&dF(m,h)?n(Qa(m,1+r.numberOfMonths*-1)):n(m))},u={currentMonth:a,displayMonths:i,goToMonth:n,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return e.jsx(X8.Provider,{value:u,children:t.children})}function oh(){var t=f.useContext(X8);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function fD(t){var r,s=Pr(),a=s.classNames,n=s.styles,i=s.components,o=oh().goToMonth,l=function(u){o(Qa(u,t.displayIndex?-t.displayIndex:0))},c=(r=i?.CaptionLabel)!==null&&r!==void 0?r:G8,d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:a.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:a.vhidden,children:d}),e.jsx(Kwe,{onChange:l,displayMonth:t.displayMonth}),e.jsx(Gwe,{onChange:l,displayMonth:t.displayMonth})]})}function rNe(t){return e.jsx("svg",ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sNe(t){return e.jsx("svg",ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Rp=f.forwardRef(function(t,r){var s=Pr(),a=s.classNames,n=s.styles,i=[a.button_reset,a.button];t.className&&i.push(t.className);var o=i.join(" "),l=ut(ut({},n.button_reset),n.button);return t.style&&Object.assign(l,t.style),e.jsx("button",ut({},t,{ref:r,type:"button",className:o,style:l}))});function aNe(t){var r,s,a=Pr(),n=a.dir,i=a.locale,o=a.classNames,l=a.styles,c=a.labels,d=c.labelPrevious,u=c.labelNext,m=a.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var h=d(t.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),v=u(t.nextMonth,{locale:i}),x=[o.nav_button,o.nav_button_next].join(" "),g=(r=m?.IconRight)!==null&&r!==void 0?r:sNe,b=(s=m?.IconLeft)!==null&&s!==void 0?s:rNe;return e.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(Rp,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(g,{className:o.nav_icon,style:l.nav_icon}):e.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(Rp,{name:"next-month","aria-label":v,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(b,{className:o.nav_icon,style:l.nav_icon}):e.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function pD(t){var r=Pr().numberOfMonths,s=oh(),a=s.previousMonth,n=s.nextMonth,i=s.goToMonth,o=s.displayMonths,l=o.findIndex(function(v){return g1(t.displayMonth,v)}),c=l===0,d=l===o.length-1,u=r>1&&(c||!d),m=r>1&&(d||!c),h=function(){a&&i(a)},p=function(){n&&i(n)};return e.jsx(aNe,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:m,nextMonth:n,previousMonth:a,onPreviousClick:h,onNextClick:p})}function nNe(t){var r,s=Pr(),a=s.classNames,n=s.disableNavigation,i=s.styles,o=s.captionLayout,l=s.components,c=(r=l?.CaptionLabel)!==null&&r!==void 0?r:G8,d;return n?d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?d=e.jsx(fD,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?d=e.jsxs(e.Fragment,{children:[e.jsx(fD,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(pD,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(pD,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:a.caption,style:i.caption,children:d})}function iNe(t){var r=Pr(),s=r.footer,a=r.styles,n=r.classNames.tfoot;return s?e.jsx("tfoot",{className:n,style:a.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:s})})}):e.jsx(e.Fragment,{})}function oNe(t,r,s){for(var a=s?xl(new Date):ii(new Date,{locale:t,weekStartsOn:r}),n=[],i=0;i<7;i++){var o=Ys(a,i);n.push(o)}return n}function lNe(){var t=Pr(),r=t.classNames,s=t.styles,a=t.showWeekNumber,n=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=oNe(n,i,o);return e.jsxs("tr",{style:s.head_row,className:r.head_row,children:[a&&e.jsx("td",{style:s.head_cell,className:r.head_cell}),d.map(function(u,m){return e.jsx("th",{scope:"col",className:r.head_cell,style:s.head_cell,"aria-label":c(u,{locale:n}),children:l(u,{locale:n})},m)})]})}function cNe(){var t,r=Pr(),s=r.classNames,a=r.styles,n=r.components,i=(t=n?.HeadRow)!==null&&t!==void 0?t:lNe;return e.jsx("thead",{style:a.head,className:s.head,children:e.jsx(i,{})})}function dNe(t){var r=Pr(),s=r.locale,a=r.formatters.formatDay;return e.jsx(e.Fragment,{children:a(t.date,{locale:s})})}var MS=f.createContext(void 0);function uNe(t){if(!nh(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return e.jsx(MS.Provider,{value:r,children:t.children})}return e.jsx(mNe,{initialProps:t.initialProps,children:t.children})}function mNe(t){var r=t.initialProps,s=t.children,a=r.selected,n=r.min,i=r.max,o=function(d,u,m){var h,p;(h=r.onDayClick)===null||h===void 0||h.call(r,d,u,m);var v=!!(u.selected&&n&&a?.length===n);if(!v){var x=!!(!u.selected&&i&&a?.length===i);if(!x){var g=a?H8([],a):[];if(u.selected){var b=g.findIndex(function(y){return pa(d,y)});g.splice(b,1)}else g.push(d);(p=r.onSelect)===null||p===void 0||p.call(r,g,d,u,m)}}},l={disabled:[]};a&&l.disabled.push(function(d){var u=i&&a.length>i-1,m=a.some(function(h){return pa(h,d)});return!!(u&&!m)});var c={selected:a,onDayClick:o,modifiers:l};return e.jsx(MS.Provider,{value:c,children:s})}function FS(){var t=f.useContext(MS);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function hNe(t,r){var s=r||{},a=s.from,n=s.to;return a&&n?pa(n,t)&&pa(a,t)?void 0:pa(n,t)?{from:n,to:void 0}:pa(a,t)?void 0:pw(a,t)?{from:t,to:n}:{from:a,to:t}:n?pw(t,n)?{from:n,to:t}:{from:t,to:n}:a?dF(t,a)?{from:t,to:a}:{from:a,to:t}:{from:t,to:void 0}}var LS=f.createContext(void 0);function fNe(t){if(!ih(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(LS.Provider,{value:r,children:t.children})}return e.jsx(pNe,{initialProps:t.initialProps,children:t.children})}function pNe(t){var r=t.initialProps,s=t.children,a=r.selected,n=a||{},i=n.from,o=n.to,l=r.min,c=r.max,d=function(p,v,x){var g,b;(g=r.onDayClick)===null||g===void 0||g.call(r,p,v,x);var y=hNe(p,a);(b=r.onSelect)===null||b===void 0||b.call(r,y,p,v,x)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],pa(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:vu(i,l-1),before:Ys(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Ys(i,l-1)}),!i&&o&&u.disabled.push({after:vu(o,l-1),before:Ys(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Ys(i,-c+1)}),u.disabled.push({after:Ys(i,c-1)})),i&&o){var m=Kn(o,i)+1,h=c-m;u.disabled.push({before:vu(i,h)}),u.disabled.push({after:Ys(o,h)})}!i&&o&&(u.disabled.push({before:Ys(o,-c+1)}),u.disabled.push({after:Ys(o,c-1)}))}return e.jsx(LS.Provider,{value:{selected:a,onDayClick:d,modifiers:u},children:s})}function $S(){var t=f.useContext(LS);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function ef(t){return Array.isArray(t)?H8([],t):t!==void 0?[t]:[]}function xNe(t){var r={};return Object.entries(t).forEach(function(s){var a=s[0],n=s[1];r[a]=ef(n)}),r}var En;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(En||(En={}));var gNe=En.Selected,yi=En.Disabled,vNe=En.Hidden,bNe=En.Today,y0=En.RangeEnd,j0=En.RangeMiddle,w0=En.RangeStart,yNe=En.Outside;function jNe(t,r,s){var a,n=(a={},a[gNe]=ef(t.selected),a[yi]=ef(t.disabled),a[vNe]=ef(t.hidden),a[bNe]=[t.today],a[y0]=[],a[j0]=[],a[w0]=[],a[yNe]=[],a);return t.fromDate&&n[yi].push({before:t.fromDate}),t.toDate&&n[yi].push({after:t.toDate}),nh(t)?n[yi]=n[yi].concat(r.modifiers[yi]):ih(t)&&(n[yi]=n[yi].concat(s.modifiers[yi]),n[w0]=s.modifiers[w0],n[j0]=s.modifiers[j0],n[y0]=s.modifiers[y0]),n}var Q8=f.createContext(void 0);function wNe(t){var r=Pr(),s=FS(),a=$S(),n=jNe(r,s,a),i=xNe(r.modifiers),o=ut(ut({},n),i);return e.jsx(Q8.Provider,{value:o,children:t.children})}function J8(){var t=f.useContext(Q8);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function NNe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function _Ne(t){return!!(t&&typeof t=="object"&&"from"in t)}function SNe(t){return!!(t&&typeof t=="object"&&"after"in t)}function CNe(t){return!!(t&&typeof t=="object"&&"before"in t)}function kNe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function ANe(t,r){var s,a=r.from,n=r.to;if(a&&n){var i=Kn(n,a)<0;i&&(s=[n,a],a=s[0],n=s[1]);var o=Kn(t,a)>=0&&Kn(n,t)>=0;return o}return n?pa(n,t):a?pa(a,t):!1}function PNe(t){return f1(t)}function ENe(t){return Array.isArray(t)&&t.every(f1)}function TNe(t,r){return r.some(function(s){if(typeof s=="boolean")return s;if(PNe(s))return pa(t,s);if(ENe(s))return s.includes(t);if(_Ne(s))return ANe(t,s);if(kNe(s))return s.dayOfWeek.includes(t.getDay());if(NNe(s)){var a=Kn(s.before,t),n=Kn(s.after,t),i=a>0,o=n<0,l=pw(s.before,s.after);return l?o&&i:i||o}return SNe(s)?Kn(t,s.after)>0:CNe(s)?Kn(s.before,t)>0:typeof s=="function"?s(t):!1})}function qS(t,r,s){var a=Object.keys(r).reduce(function(i,o){var l=r[o];return TNe(t,l)&&i.push(o),i},[]),n={};return a.forEach(function(i){return n[i]=!0}),s&&!g1(t,s)&&(n.outside=!0),n}function ONe(t,r){for(var s=va(t[0]),a=Px(t[t.length-1]),n,i,o=s;o<=a;){var l=qS(o,r),c=!l.disabled&&!l.hidden;if(!c){o=Ys(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),n||(n=o),o=Ys(o,1)}return i||n}var DNe=365;function Z8(t,r){var s=r.moveBy,a=r.direction,n=r.context,i=r.modifiers,o=r.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=n.weekStartsOn,d=n.fromDate,u=n.toDate,m=n.locale,h={day:Ys,week:fw,month:Qa,year:qJ,startOfWeek:function(g){return n.ISOWeek?xl(g):ii(g,{locale:m,weekStartsOn:c})},endOfWeek:function(g){return n.ISOWeek?nF(g):p1(g,{locale:m,weekStartsOn:c})}},p=h[s](t,a==="after"?1:-1);a==="before"&&d?p=zJ([d,p]):a==="after"&&u&&(p=BJ([u,p]));var v=!0;if(i){var x=qS(p,i);v=!x.disabled&&!x.hidden}return v?p:l.count>DNe?l.lastFocused:Z8(p,{moveBy:s,direction:a,context:n,modifiers:i,retry:ut(ut({},l),{count:l.count+1})})}var ez=f.createContext(void 0);function RNe(t){var r=oh(),s=J8(),a=f.useState(),n=a[0],i=a[1],o=f.useState(),l=o[0],c=o[1],d=ONe(r.displayMonths,s),u=n??(l&&r.isDateDisplayed(l))?l:d,m=function(){c(n),i(void 0)},h=function(g){i(g)},p=Pr(),v=function(g,b){if(n){var y=Z8(n,{moveBy:g,direction:b,context:p,modifiers:s});pa(n,y)||(r.goToDate(y,n),h(y))}},x={focusedDay:n,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return e.jsx(ez.Provider,{value:x,children:t.children})}function zS(){var t=f.useContext(ez);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function INe(t,r){var s=J8(),a=qS(t,s,r);return a}var BS=f.createContext(void 0);function MNe(t){if(!Ng(t.initialProps)){var r={selected:void 0};return e.jsx(BS.Provider,{value:r,children:t.children})}return e.jsx(FNe,{initialProps:t.initialProps,children:t.children})}function FNe(t){var r=t.initialProps,s=t.children,a=function(i,o,l){var c,d,u;if((c=r.onDayClick)===null||c===void 0||c.call(r,i,o,l),o.selected&&!r.required){(d=r.onSelect)===null||d===void 0||d.call(r,void 0,i,o,l);return}(u=r.onSelect)===null||u===void 0||u.call(r,i,i,o,l)},n={selected:r.selected,onDayClick:a};return e.jsx(BS.Provider,{value:n,children:s})}function tz(){var t=f.useContext(BS);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function LNe(t,r){var s=Pr(),a=tz(),n=FS(),i=$S(),o=zS(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,m=o.blur,h=o.focus,p=o.focusMonthBefore,v=o.focusMonthAfter,x=o.focusYearBefore,g=o.focusYearAfter,b=o.focusStartOfWeek,y=o.focusEndOfWeek,j=function(M){var z,R,te,V;Ng(s)?(z=a.onDayClick)===null||z===void 0||z.call(a,t,r,M):nh(s)?(R=n.onDayClick)===null||R===void 0||R.call(n,t,r,M):ih(s)?(te=i.onDayClick)===null||te===void 0||te.call(i,t,r,M):(V=s.onDayClick)===null||V===void 0||V.call(s,t,r,M)},S=function(M){var z;h(t),(z=s.onDayFocus)===null||z===void 0||z.call(s,t,r,M)},w=function(M){var z;m(),(z=s.onDayBlur)===null||z===void 0||z.call(s,t,r,M)},_=function(M){var z;(z=s.onDayMouseEnter)===null||z===void 0||z.call(s,t,r,M)},N=function(M){var z;(z=s.onDayMouseLeave)===null||z===void 0||z.call(s,t,r,M)},k=function(M){var z;(z=s.onDayPointerEnter)===null||z===void 0||z.call(s,t,r,M)},C=function(M){var z;(z=s.onDayPointerLeave)===null||z===void 0||z.call(s,t,r,M)},P=function(M){var z;(z=s.onDayTouchCancel)===null||z===void 0||z.call(s,t,r,M)},A=function(M){var z;(z=s.onDayTouchEnd)===null||z===void 0||z.call(s,t,r,M)},O=function(M){var z;(z=s.onDayTouchMove)===null||z===void 0||z.call(s,t,r,M)},I=function(M){var z;(z=s.onDayTouchStart)===null||z===void 0||z.call(s,t,r,M)},F=function(M){var z;(z=s.onDayKeyUp)===null||z===void 0||z.call(s,t,r,M)},$=function(M){var z;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),s.dir==="rtl"?l():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),s.dir==="rtl"?c():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),d();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),u();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?x():p();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?g():v();break;case"Home":M.preventDefault(),M.stopPropagation(),b();break;case"End":M.preventDefault(),M.stopPropagation(),y();break}(z=s.onDayKeyDown)===null||z===void 0||z.call(s,t,r,M)},E={onClick:j,onFocus:S,onBlur:w,onKeyDown:$,onKeyUp:F,onMouseEnter:_,onMouseLeave:N,onPointerEnter:k,onPointerLeave:C,onTouchCancel:P,onTouchEnd:A,onTouchMove:O,onTouchStart:I};return E}function $Ne(){var t=Pr(),r=tz(),s=FS(),a=$S(),n=Ng(t)?r.selected:nh(t)?s.selected:ih(t)?a.selected:void 0;return n}function qNe(t){return Object.values(En).includes(t)}function zNe(t,r){var s=[t.classNames.day];return Object.keys(r).forEach(function(a){var n=t.modifiersClassNames[a];if(n)s.push(n);else if(qNe(a)){var i=t.classNames["day_".concat(a)];i&&s.push(i)}}),s}function BNe(t,r){var s=ut({},t.styles.day);return Object.keys(r).forEach(function(a){var n;s=ut(ut({},s),(n=t.modifiersStyles)===null||n===void 0?void 0:n[a])}),s}function UNe(t,r,s){var a,n,i,o=Pr(),l=zS(),c=INe(t,r),d=LNe(t,c),u=$Ne(),m=!!(o.onDayClick||o.mode!=="default");f.useEffect(function(){var _;c.outside||l.focusedDay&&m&&pa(l.focusedDay,t)&&((_=s.current)===null||_===void 0||_.focus())},[l.focusedDay,t,s,m,c.outside]);var h=zNe(o,c).join(" "),p=BNe(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),x=(i=(n=o.components)===null||n===void 0?void 0:n.DayContent)!==null&&i!==void 0?i:dNe,g=e.jsx(x,{date:t,displayMonth:r,activeModifiers:c}),b={style:p,className:h,children:g,role:"gridcell"},y=l.focusTarget&&pa(l.focusTarget,t)&&!c.outside,j=l.focusedDay&&pa(l.focusedDay,t),S=ut(ut(ut({},b),(a={disabled:c.disabled,role:"gridcell"},a["aria-selected"]=c.selected,a.tabIndex=j||y?0:-1,a)),d),w={isButton:m,isHidden:v,activeModifiers:c,selectedDays:u,buttonProps:S,divProps:b};return w}function VNe(t){var r=f.useRef(null),s=UNe(t.date,t.displayMonth,r);return s.isHidden?e.jsx("div",{role:"gridcell"}):s.isButton?e.jsx(Rp,ut({name:"day",ref:r},s.buttonProps)):e.jsx("div",ut({},s.divProps))}function WNe(t){var r=t.number,s=t.dates,a=Pr(),n=a.onWeekNumberClick,i=a.styles,o=a.classNames,l=a.locale,c=a.labels.labelWeekNumber,d=a.formatters.formatWeekNumber,u=d(Number(r),{locale:l});if(!n)return e.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var m=c(Number(r),{locale:l}),h=function(p){n(r,s,p)};return e.jsx(Rp,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function HNe(t){var r,s,a=Pr(),n=a.styles,i=a.classNames,o=a.showWeekNumber,l=a.components,c=(r=l?.Day)!==null&&r!==void 0?r:VNe,d=(s=l?.WeekNumber)!==null&&s!==void 0?s:WNe,u;return o&&(u=e.jsx("td",{className:i.cell,style:n.cell,children:e.jsx(d,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:n.row,children:[u,t.dates.map(function(m){return e.jsx("td",{className:i.cell,style:n.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:m})},YZ(m))})]})}function xD(t,r,s){for(var a=s?.ISOWeek?nF(r):p1(r,s),n=s?.ISOWeek?xl(t):ii(t,s),i=Kn(a,n),o=[],l=0;l<=i;l++)o.push(Ys(n,l));var c=o.reduce(function(d,u){var m=s?.ISOWeek?iF(u):lF(u,s),h=d.find(function(p){return p.weekNumber===m});return h?(h.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function KNe(t,r){var s=xD(va(t),Px(t),r);if(r?.useFixedWeeks){var a=QZ(t,r);if(a<6){var n=s[s.length-1],i=n.dates[n.dates.length-1],o=fw(i,6-a),l=xD(fw(i,1),o,r);s.push.apply(s,l)}}return s}function GNe(t){var r,s,a,n=Pr(),i=n.locale,o=n.classNames,l=n.styles,c=n.hideHead,d=n.fixedWeeks,u=n.components,m=n.weekStartsOn,h=n.firstWeekContainsDate,p=n.ISOWeek,v=KNe(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:m,firstWeekContainsDate:h}),x=(r=u?.Head)!==null&&r!==void 0?r:cNe,g=(s=u?.Row)!==null&&s!==void 0?s:HNe,b=(a=u?.Footer)!==null&&a!==void 0?a:iNe;return e.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(x,{}),e.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(y){return e.jsx(g,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),e.jsx(b,{displayMonth:t.displayMonth})]})}function YNe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var XNe=YNe()?f.useLayoutEffect:f.useEffect,N0=!1,QNe=0;function gD(){return"react-day-picker-".concat(++QNe)}function JNe(t){var r,s=t??(N0?gD():null),a=f.useState(s),n=a[0],i=a[1];return XNe(function(){n===null&&i(gD())},[]),f.useEffect(function(){N0===!1&&(N0=!0)},[]),(r=t??n)!==null&&r!==void 0?r:void 0}function ZNe(t){var r,s,a=Pr(),n=a.dir,i=a.classNames,o=a.styles,l=a.components,c=oh().displayMonths,d=JNe(a.id?"".concat(a.id,"-").concat(t.displayIndex):void 0),u=a.id?"".concat(a.id,"-grid-").concat(t.displayIndex):void 0,m=[i.month],h=o.month,p=t.displayIndex===0,v=t.displayIndex===c.length-1,x=!p&&!v;n==="rtl"&&(r=[p,v],v=r[0],p=r[1]),p&&(m.push(i.caption_start),h=ut(ut({},h),o.caption_start)),v&&(m.push(i.caption_end),h=ut(ut({},h),o.caption_end)),x&&(m.push(i.caption_between),h=ut(ut({},h),o.caption_between));var g=(s=l?.Caption)!==null&&s!==void 0?s:nNe;return e.jsxs("div",{className:m.join(" "),style:h,children:[e.jsx(g,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(GNe,{id:u,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function e_e(t){var r=Pr(),s=r.classNames,a=r.styles;return e.jsx("div",{className:s.months,style:a.months,children:t.children})}function t_e(t){var r,s,a=t.initialProps,n=Pr(),i=zS(),o=oh(),l=f.useState(!1),c=l[0],d=l[1];f.useEffect(function(){n.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[n.initialFocus,c,i.focus,i.focusTarget,i]);var u=[n.classNames.root,n.className];n.numberOfMonths>1&&u.push(n.classNames.multiple_months),n.showWeekNumber&&u.push(n.classNames.with_weeknumber);var m=ut(ut({},n.styles.root),n.style),h=Object.keys(a).filter(function(v){return v.startsWith("data-")}).reduce(function(v,x){var g;return ut(ut({},v),(g={},g[x]=a[x],g))},{}),p=(s=(r=a.components)===null||r===void 0?void 0:r.Months)!==null&&s!==void 0?s:e_e;return e.jsx("div",ut({className:u.join(" "),style:m,dir:n.dir,id:n.id,nonce:a.nonce,title:a.title,lang:a.lang},h,{children:e.jsx(p,{children:o.displayMonths.map(function(v,x){return e.jsx(ZNe,{displayIndex:x,displayMonth:v},x)})})}))}function r_e(t){var r=t.children,s=Cwe(t,["children"]);return e.jsx(Wwe,{initialProps:s,children:e.jsx(tNe,{children:e.jsx(MNe,{initialProps:s,children:e.jsx(uNe,{initialProps:s,children:e.jsx(fNe,{initialProps:s,children:e.jsx(wNe,{children:e.jsx(RNe,{children:r})})})})})})})}function s_e(t){return e.jsx(r_e,ut({},t,{children:e.jsx(t_e,{initialProps:t})}))}function Ip({className:t,classNames:r,showOutsideDays:s=!0,...a}){return e.jsx(s_e,{showOutsideDays:s,className:q("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:q($u({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:q($u({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...n})=>e.jsx(Za,{className:"h-4 w-4"}),IconRight:({...n})=>e.jsx(lr,{className:"h-4 w-4"})},...a})}Ip.displayName="Calendar";function a_e({onSave:t,isLoading:r}){const{formData:s,updateFormData:a,isEditing:n}=Ki(),i=l=>{const c=Ys(new Date,l);a("submission_deadline",c.toISOString())},o=l=>{if(l)return typeof l=="string"?new Date(l):l};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Timeline & Publish"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Set deadlines, access restrictions, and publish the StyleBox"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(K,{children:"Submission Deadline"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>i(7),children:"1 Week"}),e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>i(14),children:"2 Weeks"}),e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>i(30),children:"1 Month"}),e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>i(60),children:"2 Months"})]}),e.jsxs(Df,{children:[e.jsx(Rf,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:q("w-full justify-start text-left font-normal",!s.submission_deadline&&"text-muted-foreground"),children:[e.jsx(Wr,{className:"mr-2 h-4 w-4"}),s.submission_deadline?xt(o(s.submission_deadline),"PPP"):"Pick a deadline date"]})}),e.jsx(Wu,{className:"w-auto p-0 bg-popover z-50",align:"start",children:e.jsx(Ip,{mode:"single",selected:o(s.submission_deadline),onSelect:l=>a("submission_deadline",l?.toISOString()),initialFocus:!0,disabled:l=>l<new Date})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Release Date (Optional)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Schedule when this StyleBox becomes visible to designers"}),e.jsxs(Df,{children:[e.jsx(Rf,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:q("w-full justify-start text-left font-normal",!s.release_date&&"text-muted-foreground"),children:[e.jsx(Ze,{className:"mr-2 h-4 w-4"}),s.release_date?xt(o(s.release_date),"PPP"):"Publish immediately when activated"]})}),e.jsx(Wu,{className:"w-auto p-0 bg-popover z-50",align:"start",children:e.jsx(Ip,{mode:"single",selected:o(s.release_date),onSelect:l=>a("release_date",l?.toISOString()),initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsx(K,{className:"text-sm font-medium",children:"Access Restrictions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{className:"text-xs",children:"Required Subscription Tier"}),e.jsxs(qe,{value:s.required_subscription_tier||"",onValueChange:l=>a("required_subscription_tier",l||void 0),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"No restriction"})}),e.jsxs(Le,{className:"bg-popover z-50",children:[e.jsx(X,{value:"basic",children:"Basic"}),e.jsx(X,{value:"pro",children:"Pro"}),e.jsx(X,{value:"elite",children:"Elite"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{className:"text-xs",children:"Required Rank Order"}),e.jsx(ie,{type:"number",min:0,max:7,value:s.required_rank_order??"",onChange:l=>a("required_rank_order",parseInt(l.target.value)||void 0),placeholder:"No restriction"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"0 = F1, 1 = F2, 2 = Novice, etc."})]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsx(K,{className:"text-sm font-medium",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Category"}),e.jsx("p",{className:"font-medium capitalize",children:s.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Difficulty"}),e.jsx(B,{variant:"secondary",className:"capitalize",children:s.difficulty})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"XP Reward"}),e.jsxs("p",{className:"font-medium",children:[s.xp_reward||100," XP"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Deliverables"}),e.jsxs("p",{className:"font-medium",children:[s.deliverables.length," items"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:n?"Update this StyleBox":"Create a new StyleBox"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:r,children:[r?e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Save as Draft"]}),e.jsxs(T,{type:"button",onClick:()=>t(!0),disabled:r,className:"bg-admin-wine hover:bg-admin-wine/90",children:[r?e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ai,{className:"h-4 w-4 mr-2"}),"Publish Now"]})]})]})]})}function n_e({onClose:t}){const{formData:r}=Ki(),s=r.archetype||{},a=r.mutation||{},n=r.restrictions||{points:[]},i=r.manifestation||{},o=r.adorzia_deliverables||[];return e.jsxs("div",{className:"fixed inset-0 z-[100] bg-background flex flex-col animate-in fade-in duration-200",children:[e.jsxs("div",{className:"h-16 border-b flex items-center justify-between px-6 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(B,{variant:"outline",className:"bg-background text-[10px] font-bold tracking-widest uppercase",children:"Designer Preview Mode"}),e.jsx("h2",{className:"text-sm font-semibold",children:r.title}),e.jsx(B,{variant:"secondary",className:"text-[10px] uppercase",children:r.difficulty})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(vn,{className:"h-4 w-4"})," Design Kit"]}),e.jsx(T,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(ht,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 overflow-hidden bg-[#1a1a1a] text-white",children:[e.jsxs("div",{className:"border-r border-b border-white/10 p-8 flex flex-col gap-6 relative group",children:[e.jsx("div",{className:"absolute top-4 left-4 text-[10px] font-bold text-white/40 uppercase tracking-[0.2em]",children:"Q1: Archetype"}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-8 max-w-xl mx-auto",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-3xl font-serif italic text-white/90",children:s.silhouette||"The Foundation"}),e.jsx("p",{className:"text-sm text-white/60 leading-relaxed font-light",children:s.rationale||"No rationale provided for this archetype."})]}),e.jsxs("div",{className:"relative aspect-[4/5] bg-white/5 rounded-sm overflow-hidden border border-white/5 shadow-2xl",children:[s.anchor_image?e.jsx("img",{src:s.anchor_image,alt:"Anchor",className:"w-full h-full object-contain"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/20 uppercase tracking-widest text-[10px]",children:"Reference Anchor"}),e.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(T,{size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full bg-white/10 hover:bg-white/20 border-white/10",children:e.jsx(r_,{className:"h-4 w-4 text-white"})})})]})]})]}),e.jsxs("div",{className:"border-b border-white/10 p-8 flex flex-col gap-6 relative",children:[e.jsx("div",{className:"absolute top-4 left-4 text-[10px] font-bold text-white/40 uppercase tracking-[0.2em]",children:"Q2: Mutation"}),e.jsxs("div",{className:"flex-1 flex flex-col gap-8",children:[e.jsxs("div",{className:"space-y-4 max-w-xl",children:[e.jsx("h3",{className:"text-2xl font-serif italic text-white/90",children:a.concept||"The Disruption"}),e.jsx("p",{className:"text-xs text-white/50 leading-relaxed",children:a.directive||"No creative directive provided."})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 flex-1",children:(a.moodboard?.length>0?a.moodboard:[1,2,3,4]).map((l,c)=>e.jsx("div",{className:"aspect-square bg-white/5 rounded-sm overflow-hidden border border-white/5 transition-all hover:scale-[1.02] cursor-zoom-in",children:l.url?e.jsx("img",{src:l.url,alt:`Mood ${c}`,className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500"}):e.jsxs("div",{className:"w-full h-full flex items-center justify-center text-white/10 text-[8px] uppercase tracking-widest",children:["Mood Asset ",c+1]})},c))})]})]}),e.jsxs("div",{className:"border-r border-white/10 p-8 flex flex-col gap-6 relative",children:[e.jsx("div",{className:"absolute top-4 left-4 text-[10px] font-bold text-white/40 uppercase tracking-[0.2em]",children:"Q3: Restrictions"}),e.jsxs("div",{className:"flex-1 flex flex-col gap-8 max-w-xl mx-auto w-full",children:[e.jsxs("div",{className:"space-y-6 mt-8",children:[n.points.map(l=>e.jsxs("div",{className:"border-l border-white/20 pl-6 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-[10px] font-bold text-white/30 uppercase",children:l.type}),e.jsx("h4",{className:"text-sm font-semibold tracking-wide",children:l.label})]}),e.jsx("p",{className:"text-xs text-white/40 font-light leading-relaxed",children:l.details})]},l.id)),n.points.length===0&&e.jsx("div",{className:"text-center py-12 text-white/20 text-xs italic",children:"No technical restrictions defined."})]}),(n.tolerances?.max_weight||n.tolerances?.max_cost)&&e.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-4 p-4 rounded-lg bg-white/5 border border-white/10",children:[n.tolerances.max_weight&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[8px] uppercase font-bold text-white/30 mb-1",children:"Max Weight"}),e.jsxs("div",{className:"text-lg font-mono",children:[n.tolerances.max_weight," ",e.jsx("span",{className:"text-[10px] text-white/40",children:"KG"})]})]}),n.tolerances.max_cost&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[8px] uppercase font-bold text-white/30 mb-1",children:"Max Cost"}),e.jsxs("div",{className:"text-lg font-mono",children:["$",n.tolerances.max_cost," ",e.jsx("span",{className:"text-[10px] text-white/40",children:"USD"})]})]})]})]})]}),e.jsxs("div",{className:"p-8 flex flex-col gap-6 relative bg-black/40",children:[e.jsx("div",{className:"absolute top-4 left-4 text-[10px] font-bold text-white/40 uppercase tracking-[0.2em]",children:"Q4: Manifestation"}),e.jsxs("div",{className:"flex-1 flex flex-col gap-8 max-w-xl mx-auto w-full h-full",children:[e.jsxs("div",{className:"space-y-4 text-center mt-12",children:[e.jsx("h3",{className:"text-sm font-bold uppercase tracking-[0.3em] text-white/40",children:"The Prompt"}),e.jsxs("p",{className:"text-xl font-serif text-white/80 leading-relaxed italic",children:['"',i.prompt||"Final design prompt will appear here.",'"']})]}),e.jsxs("div",{className:"flex-1 border-2 border-dashed border-white/10 rounded-2xl flex flex-col items-center justify-center gap-4 bg-white/[0.02]",children:[e.jsx("div",{className:"p-4 rounded-full bg-white/5",children:e.jsx(Upload,{className:"h-8 w-8 text-white/20"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-white/60",children:"Drag and drop your work here"}),e.jsxs("p",{className:"text-[10px] text-white/30 mt-1 uppercase tracking-widest",children:["Deliverables Required: ",o.length]})]})]})]})]})]}),e.jsxs("div",{className:"absolute right-0 top-16 bottom-0 w-80 bg-background border-l shadow-2xl p-6 hidden lg:flex flex-col gap-8",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest",children:"Deliverables Checklist"}),e.jsx("p",{className:"text-[10px] text-muted-foreground italic",children:"Complete all to activate submission"})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[o.map(l=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl border bg-muted/20 opacity-60",children:[e.jsx("div",{className:"h-5 w-5 rounded-full border border-dashed flex-shrink-0 flex items-center justify-center",children:e.jsx(us,{className:"h-2.5 w-2.5"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold",children:l.name}),e.jsx(B,{variant:"outline",className:"text-[8px] h-4 px-1.5 font-bold",children:l.file_type})]})]},l.id)),o.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground text-xs italic",children:"No deliverables configured."})]}),e.jsxs(T,{disabled:!0,className:"w-full h-12 uppercase font-bold tracking-widest text-xs gap-2",children:[e.jsx(Mt,{className:"h-4 w-4"})," Submit to Adorzia"]})]})]})}const Jl=[{id:"basic",label:"Basic Setup"},{id:"archetype",label:"Q1: Archetype"},{id:"mutation",label:"Q2: Mutation"},{id:"restrictions",label:"Q3: Restrictions"},{id:"manifestation",label:"Q4: Manifestation"},{id:"deliverables_config",label:"Deliverables"},{id:"publish",label:"Timeline"}];function i_e({open:t,onOpenChange:r,stylebox:s}){const a=s?{id:s.id,display_id:s.display_id||void 0,title:s.title,description:s.description||void 0,category:s.category,difficulty:s.difficulty,collection_line:s.collection_line||void 0,market_context:s.market_context||void 0,visibility_tags:s.visibility_tags||[],xp_reward:s.xp_reward||100,is_featured:s.is_featured||!1,is_walkthrough:s.is_walkthrough,status:s.status,version:s.version||1,season:s.season||void 0,collection_size:s.collection_size||void 0,trend_narrative:s.trend_narrative||void 0,global_drivers:s.global_drivers||void 0,local_relevance:s.local_relevance||void 0,visual_keywords:s.visual_keywords||[],moodboard_images:s.moodboard_images||[],color_system:s.color_system||[],material_direction:s.material_direction||{},technical_requirements:s.technical_requirements||{file_formats:[],required_views:[]},design_guidelines:s.design_guidelines||{difficulty_level:s.difficulty,complexity_notes:""},deliverables:Array.isArray(s.deliverables)?s.deliverables.map((n,i)=>typeof n=="string"?{id:`legacy-${i}`,name:n,required:!0}:n):[],evaluation_criteria:s.evaluation_criteria||[],submission_deadline:s.submission_deadline||void 0,release_date:s.release_date||void 0,required_subscription_tier:s.required_subscription_tier||void 0,required_rank_order:s.required_rank_order||void 0,thumbnail_url:s.thumbnail_url||void 0,pdf_url:s.pdf_url||void 0}:null;return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsx(Pt,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col p-0",children:e.jsx(fwe,{initialData:a,children:e.jsx(o_e,{onOpenChange:r,stylebox:s})})})})}function o_e({onOpenChange:t,stylebox:r}){const{formData:s,currentTab:a,setCurrentTab:n,resetForm:i,setFormData:o}=Ki(),{toast:l}=Ge(),c=ft(),[d,u]=f.useState(!1),[m,h]=f.useState(null),[p,v]=f.useState(JSON.stringify(s)),x=!!r,g=ze({mutationFn:async k=>{const{error:C}=await ee.from("styleboxes").insert(k);if(C)throw C},onSuccess:()=>{c.invalidateQueries({queryKey:["admin-styleboxes"]}),l({title:"StyleBox created",description:s.status==="active"?"The StyleBox is now live for designers.":"The StyleBox has been saved as a draft."}),i(),t(!1)},onError:k=>{console.error("StyleBox creation error:",k),l({title:"Error creating StyleBox",description:k?.message||k?.error?.message||"Failed to create StyleBox. Please check all required fields and try again.",variant:"destructive"})}}),b=ze({mutationFn:async({id:k,data:C})=>{const{error:P}=await ee.from("styleboxes").update(C).eq("id",k);if(P)throw P},onSuccess:()=>{c.invalidateQueries({queryKey:["admin-styleboxes"]}),l({title:"StyleBox updated",description:"Changes have been saved successfully."}),t(!1)},onError:k=>{l({title:"Error",description:"Failed to update StyleBox. Please try again.",variant:"destructive"}),console.error(k)}}),y=g.isPending||b.isPending,j=Jl.findIndex(k=>k.id===a),S=j>0,w=j<Jl.length-1,_=k=>{const C=k==="prev"?j-1:j+1;C>=0&&C<Jl.length&&n(Jl[C].id)};f.useEffect(()=>{const k=setInterval(()=>{const C=JSON.stringify(s);s.title.trim()&&!y&&C!==p&&(console.log("Auto-saving draft..."),N(!1),h(new Date),v(C))},6e4);return()=>clearInterval(k)},[s,y,p]);const N=(k,C=!1)=>{const P=Yh(s.title),A=yr(s.description||""),O=O_(s.trend_narrative||""),I=yr(s.global_drivers||""),F=yr(s.local_relevance||""),$=yr(s.collection_line||""),E=yr(s.market_context||"");if(!P.trim()){l({title:"Validation error",description:"Title is required.",variant:"destructive"}),n("basic");return}const M={title:P.trim(),description:A.trim()||null,category:s.category,difficulty:s.difficulty,xp_reward:s.xp_reward||100,is_featured:s.is_featured||!1,is_walkthrough:s.is_walkthrough||!1,status:k?"active":s.status||"draft",version:C?(s.version||1)+1:s.version||1,season:s.season||null,collection_size:s.collection_size||null,collection_line:$||null,market_context:E||null,visibility_tags:s.visibility_tags,...s.display_id&&{display_id:s.display_id},archetype:s.archetype,mutation:s.mutation,restrictions:s.restrictions,manifestation:s.manifestation,adorzia_deliverables:s.adorzia_deliverables,trend_narrative:O||null,global_drivers:I||null,local_relevance:F||null,visual_keywords:s.visual_keywords,moodboard_images:s.moodboard_images,color_system:s.color_system,material_direction:s.material_direction,technical_requirements:s.technical_requirements,design_guidelines:s.design_guidelines,evaluation_criteria:s.evaluation_criteria,submission_deadline:s.submission_deadline?new Date(s.submission_deadline).toISOString():null,thumbnail_url:s.thumbnail_url||null,pdf_url:s.pdf_url||null,deliverables:s.deliverables.map(z=>z.name),brief:{template_version:3},release_date:s.release_date?new Date(s.release_date).toISOString():null,required_subscription_tier:s.required_subscription_tier||null,required_rank_order:s.required_rank_order||null};if(C){const{id:z,created_at:R,updated_at:te,...V}=M;g.mutate(V)}else x&&r?b.mutate({id:r.id,data:M}):g.mutate(M)};return e.jsxs(e.Fragment,{children:[d&&e.jsx(n_e,{onClose:()=>u(!1)}),e.jsx(Lt,{className:"px-6 py-4 border-b flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx($t,{className:"font-display text-xl",children:x?"Edit StyleBox":"Create StyleBox"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",className:"h-7 px-2 gap-1.5 text-[10px] uppercase font-bold",onClick:()=>u(!0),children:[e.jsx(Bt,{className:"h-3.5 w-3.5"})," Preview"]}),x&&e.jsxs(T,{variant:"outline",size:"sm",className:"h-7 px-2 gap-1.5 text-[10px] uppercase font-bold text-amber-500 border-amber-500/50 hover:bg-amber-500/10",onClick:()=>N(!1,!0),disabled:y,children:[e.jsx(co,{className:"h-3.5 w-3.5"})," Save as Version ",(s.version||1)+1,".0"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[m&&e.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[e.jsx(Ka,{className:"h-3 w-3"})," Auto-saved ",m.toLocaleTimeString()]}),e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>t(!1),children:e.jsx(ht,{className:"h-4 w-4"})})]})]})}),e.jsxs(Nr,{value:a,onValueChange:n,className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(br,{className:"flex-shrink-0 h-auto p-1 mx-6 mt-4 grid grid-cols-4 lg:grid-cols-7 gap-1 bg-muted/50",children:Jl.map((k,C)=>e.jsxs(Ee,{value:k.id,className:"text-xs px-2 py-1.5 data-[state=active]:bg-background",children:[e.jsx("span",{className:"hidden sm:inline",children:k.label}),e.jsx("span",{className:"sm:hidden",children:C+1})]},k.id))}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[e.jsx(Te,{value:"basic",className:"m-0 mt-0",children:e.jsx(pwe,{})}),e.jsx(Te,{value:"archetype",className:"m-0 mt-0",children:e.jsx(gwe,{})}),e.jsx(Te,{value:"mutation",className:"m-0 mt-0",children:e.jsx(vwe,{})}),e.jsx(Te,{value:"restrictions",className:"m-0 mt-0",children:e.jsx(wwe,{})}),e.jsx(Te,{value:"manifestation",className:"m-0 mt-0",children:e.jsx(Nwe,{})}),e.jsx(Te,{value:"deliverables_config",className:"m-0 mt-0",children:e.jsx(Swe,{})}),e.jsx(Te,{value:"publish",className:"m-0 mt-0",children:e.jsx(a_e,{onSave:N,isLoading:y})})]}),e.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-t flex items-center justify-between bg-muted/30",children:[e.jsxs(T,{type:"button",variant:"outline",onClick:()=>_("prev"),disabled:!S,children:[e.jsx(Za,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Step ",j+1," of ",Jl.length]}),e.jsxs(T,{type:"button",variant:"outline",onClick:()=>_("next"),disabled:!w,children:["Next",e.jsx(lr,{className:"h-4 w-4 ml-1"})]})]})]})]})}const l_e={free:"bg-success/20 text-success border-success/30",easy:"bg-blue-500/20 text-blue-600 border-blue-500/30",medium:"bg-amber-500/20 text-amber-600 border-amber-500/30",hard:"bg-orange-500/20 text-orange-600 border-orange-500/30",insane:"bg-red-500/20 text-red-600 border-red-500/30"},c_e={draft:"bg-muted text-muted-foreground border-border",active:"bg-success/20 text-success border-success/30",archived:"bg-secondary text-secondary-foreground border-border"},d_e={fashion:"bg-purple-500/20 text-purple-600 border-purple-500/30",textile:"bg-teal-500/20 text-teal-600 border-teal-500/30",jewelry:"bg-pink-500/20 text-pink-600 border-pink-500/30"};function u_e(){const{toast:t}=Ge(),r=ft(),[s,a]=f.useState(""),[n,i]=f.useState("all"),[o,l]=f.useState("all"),[c,d]=f.useState("all"),[u,m]=f.useState("created_at"),[h,p]=f.useState("desc"),[v,x]=f.useState(!1),[g,b]=f.useState(null),[y,j]=f.useState(null),{data:S,isLoading:w}=Oe({queryKey:["admin-styleboxes",n,o,c,u,h],queryFn:async()=>{let I=ee.from("styleboxes").select("*").order(u,{ascending:h==="asc"});n!=="all"&&(I=I.eq("category",n)),o!=="all"&&(I=I.eq("difficulty",o)),c!=="all"&&(I=I.eq("status",c));const{data:F,error:$}=await I;if($)throw $;return F}}),_=ze({mutationFn:async I=>{const{error:F}=await ee.from("styleboxes").update({status:"archived"}).eq("id",I);if(F)throw F},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-styleboxes"]}),t({title:"StyleBox archived",description:"The StyleBox has been archived successfully."}),j(null)},onError:I=>{t({title:"Error",description:"Failed to archive StyleBox. Please try again.",variant:"destructive"})}}),N=ze({mutationFn:async I=>{const F={title:`${I.title} (Copy)`,description:I.description,category:I.category,difficulty:I.difficulty,xp_reward:I.xp_reward,brief:I.brief,deliverables:I.deliverables,status:"draft"},{error:$}=await ee.from("styleboxes").insert(F);if($)throw $},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-styleboxes"]}),t({title:"StyleBox duplicated",description:"A copy has been created as a draft."})},onError:I=>{t({title:"Error",description:"Failed to duplicate StyleBox.",variant:"destructive"})}}),k=()=>{if(!S)return;const I=["Title","Category","Difficulty","XP","Status","Created At"],F=S.map(R=>[R.title,R.category,R.difficulty,R.xp_reward?.toString()||"0",R.status,xt(new Date(R.created_at),"yyyy-MM-dd")]),$=[I.join(","),...F.map(R=>R.join(","))].join(`
`),E=new Blob([$],{type:"text/csv"}),M=URL.createObjectURL(E),z=document.createElement("a");z.href=M,z.download=`styleboxes-${xt(new Date,"yyyy-MM-dd")}.csv`,z.click(),URL.revokeObjectURL(M),t({title:"Export complete",description:"StyleBoxes exported to CSV successfully."})},C=S?.filter(I=>I.title.toLowerCase().includes(s.toLowerCase())||I.description?.toLowerCase().includes(s.toLowerCase())),P=I=>{u===I?p(h==="asc"?"desc":"asc"):(m(I),p("asc"))},A=I=>{b(I),x(!0)},O=()=>{b(null),x(!0)};return e.jsxs(Br,{children:[e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-display text-2xl font-bold text-foreground flex items-center gap-2",children:[e.jsx(Mr,{className:"h-6 w-6 text-admin-camel"}),"StyleBox Management"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Create, edit, and manage all creative challenges"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:k,children:[e.jsx(vn,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),e.jsxs(T,{onClick:O,className:"bg-admin-wine hover:bg-admin-wine/90",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add StyleBox"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center bg-card rounded-lg border p-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search by title or description...",value:s,onChange:I=>a(I.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Al,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Filters:"})]}),e.jsxs(qe,{value:n,onValueChange:i,children:[e.jsx(Fe,{className:"w-[130px]",children:e.jsx(Me,{placeholder:"Category"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Categories"}),e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]}),e.jsxs(qe,{value:o,onValueChange:l,children:[e.jsx(Fe,{className:"w-[130px]",children:e.jsx(Me,{placeholder:"Difficulty"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Levels"}),e.jsx(X,{value:"free",children:"Free"}),e.jsx(X,{value:"easy",children:"Easy"}),e.jsx(X,{value:"medium",children:"Medium"}),e.jsx(X,{value:"hard",children:"Hard"}),e.jsx(X,{value:"insane",children:"Insane"})]})]}),e.jsxs(qe,{value:c,onValueChange:d,children:[e.jsx(Fe,{className:"w-[120px]",children:e.jsx(Me,{placeholder:"Status"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Status"}),e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"archived",children:"Archived"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:S?.length||0})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-success",children:S?.filter(I=>I.status==="active").length||0})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Team Challenges"}),e.jsx("p",{className:"text-2xl font-bold text-purple-500",children:S?.filter(I=>I.is_team_challenge).length||0})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Fashion"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:S?.filter(I=>I.category==="fashion").length||0})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Textile"}),e.jsx("p",{className:"text-2xl font-bold text-teal-600",children:S?.filter(I=>I.category==="textile").length||0})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Jewelry"}),e.jsx("p",{className:"text-2xl font-bold text-pink-600",children:S?.filter(I=>I.category==="jewelry").length||0})]})]}),e.jsx("div",{className:"bg-card rounded-lg border overflow-hidden",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{className:"bg-muted/50",children:[e.jsx(xe,{className:"w-[300px]",children:e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>P("title"),className:"gap-1 -ml-3",children:["Title",e.jsx(io,{className:"h-3 w-3"})]})}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>P("difficulty"),className:"gap-1 -ml-3",children:["Difficulty",e.jsx(io,{className:"h-3 w-3"})]})}),e.jsx(xe,{children:e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>P("xp_reward"),className:"gap-1 -ml-3",children:["XP",e.jsx(io,{className:"h-3 w-3"})]})}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>P("created_at"),className:"gap-1 -ml-3",children:["Created",e.jsx(io,{className:"h-3 w-3"})]})}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:w?Array.from({length:5}).map((I,F)=>e.jsx(Ve,{children:e.jsx(de,{colSpan:7,children:e.jsx("div",{className:"h-12 bg-muted/50 rounded animate-pulse"})})},F)):C?.length===0?e.jsx(Ve,{children:e.jsxs(de,{colSpan:7,className:"text-center py-12",children:[e.jsx(Mr,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No StyleBoxes found"}),e.jsxs(T,{variant:"outline",size:"sm",className:"mt-4",onClick:O,children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Create your first StyleBox"]})]})}):C?.map(I=>e.jsxs(Ve,{className:"group hover:bg-muted/30",children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"h-10 w-10 rounded-lg bg-admin-wine/10 flex items-center justify-center relative",children:[e.jsx(ct,{className:"h-5 w-5 text-admin-wine"}),I.is_team_challenge&&e.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-purple-500 flex items-center justify-center",children:e.jsx(mt,{className:"h-2.5 w-2.5 text-white"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:I.title}),I.is_team_challenge&&e.jsx(B,{variant:"secondary",className:"text-[10px] px-1 py-0 bg-purple-500/20 text-purple-400 border-purple-500/30",children:"Team"})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 max-w-[200px]",children:I.description})]})]})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:d_e[I.category],children:I.category})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:l_e[I.difficulty],children:I.difficulty})}),e.jsxs(de,{children:[e.jsx("span",{className:"font-medium",children:I.xp_reward}),e.jsx("span",{className:"text-muted-foreground text-xs ml-1",children:"XP"})]}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:c_e[I.status],children:I.status})}),e.jsx(de,{className:"text-muted-foreground text-sm",children:xt(new Date(I.created_at),"MMM d, yyyy")}),e.jsx(de,{className:"text-right",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",className:"w-48",children:[e.jsxs(Se,{onClick:()=>A(I),children:[e.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(Se,{onClick:()=>N.mutate(I),children:[e.jsx(vd,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),e.jsx(Ar,{}),e.jsxs(Se,{onClick:()=>j(I),className:"text-destructive focus:text-destructive",children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})})]},I.id))})]})}),C&&C.length>0&&e.jsxs("div",{className:"text-sm text-muted-foreground text-center",children:["Showing ",C.length," of ",S?.length," StyleBoxes"]})]}),e.jsx(i_e,{open:v,onOpenChange:x,stylebox:g}),e.jsx(li,{open:!!y,onOpenChange:()=>j(null),children:e.jsxs(Nn,{children:[e.jsxs(_n,{children:[e.jsx(Cn,{children:"Archive StyleBox?"}),e.jsxs(kn,{children:['This will archive "',y?.title,'" and hide it from designers. You can restore it later by changing its status.']})]}),e.jsxs(Sn,{children:[e.jsx(Pn,{children:"Cancel"}),e.jsx(An,{onClick:()=>y&&_.mutate(y.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Archive"})]})]})})]})}const m_e={submitted:"bg-blue-500/20 text-blue-600 border-blue-500/30",approved:"bg-success/20 text-success border-success/30",rejected:"bg-red-500/20 text-red-600 border-red-500/30"};function h_e(){const t=ft(),[r,s]=f.useState(null),[a,n]=f.useState(!1),[i,o]=f.useState([]),[l,c]=f.useState(null),[d,u]=f.useState("all"),[m,h]=f.useState("all"),[p,v]=f.useState("all"),[x,g]=f.useState("all"),[b,y]=f.useState({from:null,to:null}),[j,S]=f.useState(""),[w,_]=f.useState("approved"),[N,k]=f.useState(75),[C,P]=f.useState(""),[A,O]=f.useState(75),[I,F]=f.useState(""),{data:$,isLoading:E}=Oe({queryKey:["admin-stylebox-submissions"],queryFn:async()=>{const{data:U,error:se}=await ee.from("stylebox_submissions").select(`
          *,
          stylebox:styleboxes(id, title, difficulty, category),
          profile:profiles!stylebox_submissions_designer_id_fkey(name, email, avatar_url)
        `).order("submitted_at",{ascending:!1});if(se)throw se;return U}}),{data:M}=Oe({queryKey:["admin-styleboxes-list"],queryFn:async()=>{const{data:U,error:se}=await ee.from("styleboxes").select("id, title").order("title");if(se)throw se;return U}}),z=ze({mutationFn:async({action:U,score:se,feedback:Q})=>{const pe=U==="approve"?"approved":"rejected",le=i.map(he=>ee.from("stylebox_submissions").update({status:pe,score:U==="approve"?se:null,reviewed_at:new Date().toISOString()}).eq("id",he)),De=(await Promise.all(le)).filter(he=>he.error);if(De.length>0)throw new Error(`Failed to process ${De.length} submissions`)},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-stylebox-submissions"]}),Re.success(`Successfully ${l}ed ${i.length} submissions`),o([]),c(null)},onError:U=>{Re.error("Failed to process bulk action: "+U.message)}}),R=ze({mutationFn:async({submissionId:U,status:se,score:Q})=>{const{error:pe}=await ee.from("stylebox_submissions").update({status:se,score:Q,reviewed_at:new Date().toISOString()}).eq("id",U);if(pe)throw pe},onSuccess:()=>{Re.success("Submission reviewed successfully!"),t.invalidateQueries({queryKey:["admin-stylebox-submissions"]}),n(!1),s(null),te()},onError:U=>{Re.error(`Error: ${U.message}`)}}),te=()=>{_("approved"),k(75),P("")},V=U=>{s(U),n(!0),te()},D=()=>{r&&R.mutate({submissionId:r.id,status:w,score:w==="approved"?N:null})},H=$?.filter(U=>{if(d!=="all"&&U.status!==d||m!=="all"&&U.stylebox_id!==m||p!=="all"&&U.stylebox?.category!==p||x!=="all"&&U.stylebox?.difficulty!==x||b.from&&new Date(U.submitted_at)<new Date(b.from)||b.to&&new Date(U.submitted_at)>new Date(b.to))return!1;if(j){const se=j.toLowerCase(),Q=U.profile?.name?.toLowerCase()||"",pe=U.profile?.email?.toLowerCase()||"",le=U.stylebox?.title?.toLowerCase()||"";if(!Q.includes(se)&&!pe.includes(se)&&!le.includes(se))return!1}return!0}),ae=$?.filter(U=>U.status==="submitted").length||0;return e.jsx(Br,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"StyleBox Submissions"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Review and score designer submissions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[ae>0&&e.jsxs(B,{className:"w-fit gap-1.5 bg-amber-500/20 text-amber-600 border-amber-500/30 py-1.5 px-3",children:[e.jsx(Ze,{className:"h-4 w-4"}),ae," Pending Review"]}),i.length>0&&e.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[i.length," selected"]}),e.jsx(Ut,{orientation:"vertical",className:"h-6"}),e.jsxs(T,{size:"sm",variant:"outline",className:"h-8 gap-1.5 text-success border-success/50 hover:bg-success/10",onClick:()=>c("approve"),disabled:z.isPending,children:[e.jsx(tr,{className:"h-4 w-4"}),"Approve All"]}),e.jsxs(T,{size:"sm",variant:"outline",className:"h-8 gap-1.5 text-destructive border-destructive/50 hover:bg-destructive/10",onClick:()=>c("reject"),disabled:z.isPending,children:[e.jsx(Rr,{className:"h-4 w-4"}),"Reject All"]}),e.jsx(T,{size:"sm",variant:"ghost",className:"h-8 px-2",onClick:()=>o([]),children:"Clear"})]})]})]}),e.jsx(G,{children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search by designer or stylebox...",value:j,onChange:U=>S(U.target.value),className:"pl-9"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative flex flex-wrap items-center gap-2",children:[e.jsxs(qe,{value:d,onValueChange:u,children:[e.jsxs(Fe,{className:"w-[140px]",children:[e.jsx(Al,{className:"h-4 w-4 mr-2"}),e.jsx(Me,{placeholder:"Status"})]}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Statuses"}),e.jsx(X,{value:"submitted",children:"Pending"}),e.jsx(X,{value:"approved",children:"Approved"}),e.jsx(X,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(qe,{value:p,onValueChange:v,children:[e.jsxs(Fe,{className:"w-[120px]",children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),e.jsx(Me,{placeholder:"Category"})]}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Categories"}),e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]}),e.jsxs(qe,{value:x,onValueChange:g,children:[e.jsxs(Fe,{className:"w-[120px]",children:[e.jsx(Ya,{className:"h-4 w-4 mr-2"}),e.jsx(Me,{placeholder:"Difficulty"})]}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Levels"}),e.jsx(X,{value:"free",children:"Free"}),e.jsx(X,{value:"easy",children:"Easy"}),e.jsx(X,{value:"medium",children:"Medium"}),e.jsx(X,{value:"hard",children:"Hard"}),e.jsx(X,{value:"insane",children:"Insane"})]})]}),e.jsxs(Df,{children:[e.jsx(Rf,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:q("w-[180px] justify-start text-left font-normal",!b.from&&"text-muted-foreground"),children:[e.jsx(Wr,{className:"mr-2 h-4 w-4"}),b.from?b.to?e.jsxs(e.Fragment,{children:[xt(new Date(b.from),"LLL dd, y")," - ","",xt(new Date(b.to),"LLL dd, y")]}):xt(new Date(b.from),"LLL dd, y"):e.jsx("span",{children:"Pick a date range"})]})}),e.jsx(Wu,{className:"w-auto p-0",align:"start",children:e.jsx(Ip,{initialFocus:!0,mode:"range",defaultMonth:b.from?new Date(b.from):new Date,selected:{from:b.from?new Date(b.from):void 0,to:b.to?new Date(b.to):void 0},onSelect:U=>{y({from:U?.from?xt(U.from,"yyyy-MM-dd"):null,to:U?.to?xt(U.to,"yyyy-MM-dd"):null})},numberOfMonths:2})})]})]})}),e.jsxs(qe,{value:m,onValueChange:h,children:[e.jsxs(Fe,{className:"w-[220px]",children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),e.jsx(Me,{placeholder:"Filter by StyleBox"})]}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All StyleBoxes"}),M?.map(U=>e.jsx(X,{value:U.id,children:U.title},U.id))]})]})]})})}),E?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((U,se)=>e.jsx(G,{className:"animate-pulse",children:e.jsxs(Y,{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-full"})]})},se))}):H?.length===0?e.jsxs(G,{className:"p-12 text-center",children:[e.jsx(Wt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No Submissions Found"}),e.jsx("p",{className:"text-muted-foreground",children:d!=="all"||m!=="all"||j?"Try adjusting your filters":"No submissions have been made yet"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H?.map(U=>e.jsx(G,{className:`hover:shadow-md transition-all cursor-pointer ${U.status==="submitted"?"border-amber-500/30 bg-amber-500/5":""}`,onClick:()=>V(U),children:e.jsxs(Y,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-semibold truncate text-sm",children:U.stylebox?.title||"Unknown StyleBox"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(B,{variant:"outline",className:"text-xs",children:U.stylebox?.category}),e.jsx(B,{variant:"outline",className:"text-xs",children:U.stylebox?.difficulty})]})]}),e.jsx(B,{className:m_e[U.status],children:U.status==="submitted"?"Pending":U.status})]}),e.jsx(Ut,{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:e.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:U.profile?.name||"Unknown Designer"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:U.profile?.email})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Wr,{className:"h-3.5 w-3.5"}),xt(new Date(U.submitted_at),"MMM d, yyyy")]}),U.score!==null&&e.jsxs("div",{className:"flex items-center gap-1.5 text-primary font-medium",children:[e.jsx(Ya,{className:"h-3.5 w-3.5"}),"Score: ",U.score]})]}),U.submission_files&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(Wt,{className:"h-3.5 w-3.5"}),Array.isArray(U.submission_files)?U.submission_files.length:0," file(s) attached"]}),e.jsx("div",{className:"flex gap-2 pt-2",children:e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1 gap-1.5",children:[e.jsx(Bt,{className:"h-3.5 w-3.5"}),"Review"]})})]})},U.id))}),e.jsx(Et,{open:a,onOpenChange:n,children:e.jsxs(Pt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Lt,{children:[e.jsxs($t,{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-primary"}),"Review Submission"]}),e.jsx(Us,{children:r?.stylebox?.title})]}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(je,{className:"pb-3",children:e.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Designer"})}),e.jsxs(Y,{className:"pt-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(Oa,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.profile?.name||"Unknown"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.profile?.email})]})]}),e.jsx("div",{className:"flex items-center gap-4 mt-4 text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Wr,{className:"h-4 w-4"}),"Submitted ",xt(new Date(r.submitted_at),"PPP 'at' p")]})})]})]}),r.description&&e.jsxs(G,{children:[e.jsx(je,{className:"pb-3",children:e.jsxs(Ne,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[e.jsx(po,{className:"h-4 w-4"}),"Designer's Notes / Hack Log"]})}),e.jsx(Y,{className:"pt-0",children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.description})})]}),e.jsxs(G,{children:[e.jsx(je,{className:"pb-3",children:e.jsx(Ne,{className:"text-sm font-medium text-muted-foreground",children:"Submitted Files"})}),e.jsx(Y,{className:"pt-0 space-y-2",children:Array.isArray(r.submission_files)&&r.submission_files.length>0?r.submission_files.map((U,se)=>e.jsxs("a",{href:U,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 rounded-lg bg-muted hover:bg-muted/80 transition-colors text-sm",children:[e.jsx(Wt,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{className:"flex-1 truncate",children:U}),e.jsx(xn,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]},se)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No files attached"})})]}),r.status==="submitted"&&e.jsxs(G,{className:"border-primary/30",children:[e.jsx(je,{className:"pb-3",children:e.jsx(Ne,{className:"text-sm font-medium",children:"Review Decision"})}),e.jsxs(Y,{className:"pt-0 space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{type:"button",variant:w==="approved"?"default":"outline",className:`flex-1 gap-2 ${w==="approved"?"bg-success hover:bg-success/90":""}`,onClick:()=>_("approved"),children:[e.jsx(tr,{className:"h-4 w-4"}),"Approve"]}),e.jsxs(T,{type:"button",variant:w==="rejected"?"destructive":"outline",className:"flex-1 gap-2",onClick:()=>_("rejected"),children:[e.jsx(Rr,{className:"h-4 w-4"}),"Reject"]})]}),w==="approved"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{children:"Score"}),e.jsx("span",{className:"text-lg font-bold text-primary",children:N})]}),e.jsx(zu,{value:[N],onValueChange:U=>k(U[0]),min:1,max:100,step:1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"1"}),e.jsx("span",{children:"50"}),e.jsx("span",{children:"100"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"feedback",children:"Feedback (Optional)"}),e.jsx(nt,{id:"feedback",placeholder:"Add feedback for the designer...",value:C,onChange:U=>P(U.target.value),rows:3})]})]})]}),r.status!=="submitted"&&e.jsx(G,{className:r.status==="approved"?"border-success/30 bg-success/5":"border-red-500/30 bg-red-500/5",children:e.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[r.status==="approved"?e.jsx(tr,{className:"h-5 w-5 text-emerald-600"}):e.jsx(Rr,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["This submission has been ",r.status]}),r.score!==null&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Score: ",r.score]}),r.reviewed_at&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Reviewed on ",xt(new Date(r.reviewed_at),"PPP")]})]})]})})]}),e.jsxs(Cs,{className:"gap-2",children:[e.jsx(T,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),r?.status==="submitted"&&e.jsx(T,{onClick:D,disabled:R.isPending,className:w==="approved"?"bg-success hover:bg-success/90":"",children:R.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[w==="approved"?e.jsx(tr,{className:"h-4 w-4 mr-2"}):e.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Confirm ",w==="approved"?"Approval":"Rejection"]})})]})]})}),e.jsx(Et,{open:!!l,onOpenChange:()=>c(null),children:e.jsxs(Pt,{children:[e.jsxs(Lt,{children:[e.jsxs($t,{children:[l==="approve"?"Approve":"Reject"," ",i.length," Submissions"]}),e.jsx(Us,{children:l==="approve"?"Approve all selected submissions with the same score and feedback.":"Reject all selected submissions with the same feedback."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[l==="approve"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"bulk-score",children:"Score (0-100)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(zu,{id:"bulk-score",min:0,max:100,step:1,value:[A],onValueChange:([U])=>O(U),className:"flex-1"}),e.jsx(ie,{type:"number",min:0,max:100,value:A,onChange:U=>O(parseInt(U.target.value)||0),className:"w-20"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"bulk-feedback",children:l==="approve"?"Feedback (Optional)":"Rejection Reason"}),e.jsx(nt,{id:"bulk-feedback",value:I,onChange:U=>F(U.target.value),placeholder:l==="approve"?"Add feedback for the designers...":"Explain why these submissions are being rejected...",className:"min-h-[100px]"})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),e.jsx(T,{variant:l==="approve"?"default":"destructive",onClick:()=>z.mutate({action:l,score:A,feedback:I}),disabled:z.isPending,children:z.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[l==="approve"?e.jsx(tr,{className:"h-4 w-4 mr-2"}):e.jsx(Rr,{className:"h-4 w-4 mr-2"}),l==="approve"?"Approve All":"Reject All"]})})]})]})})]})})}const iu={title:"",description:"",instructions:[],tips:[],deliverable:""};function f_e({open:t,onOpenChange:r,walkthrough:s}){const{toast:a}=Ge(),{user:n}=ja(),i=ft(),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,m]=f.useState("fashion"),[h,p]=f.useState("easy"),[v,x]=f.useState(50),[g,b]=f.useState("draft"),[y,j]=f.useState([{...iu}]),[S,w]=f.useState(!1),[_,N]=f.useState("none"),[k,C]=f.useState("none"),[P,A]=f.useState(""),[O,I]=f.useState(""),[F,$]=f.useState("basic");f.useEffect(()=>{if(s){l(s.title),d(s.description||""),m(s.category),p(s.difficulty),x(s.xp_reward||50),b(s.status),w(s.is_featured||!1),N(s.required_subscription_tier||"none"),C(s.required_rank_order?.toString()||"none"),A(s.release_date?s.release_date.split("T")[0]:""),I(s.archive_date?s.archive_date.split("T")[0]:"");const se=Array.isArray(s.steps)?s.steps:[{...iu}];j(se.length>0?se:[{...iu}])}else l(""),d(""),m("fashion"),p("easy"),x(50),b("draft"),j([{...iu}]),w(!1),N("none"),C("none"),A(""),I("");$("basic")},[s,t]);const E=ze({mutationFn:async()=>{const se={title:o,description:c,category:u,difficulty:h,xp_reward:v,status:g,is_walkthrough:!0,is_featured:S,steps:y,required_subscription_tier:_==="none"?null:_,required_rank_order:k==="none"?null:parseInt(k),release_date:P?new Date(P).toISOString():null,archive_date:O?new Date(O).toISOString():null,version:s?(s.version||1)+1:1,created_by:s?.created_by||n?.id};if(s){const{error:Q}=await ee.from("styleboxes").update(se).eq("id",s.id);if(Q)throw Q}else{const{error:Q}=await ee.from("styleboxes").insert(se);if(Q)throw Q}},onSuccess:()=>{i.invalidateQueries({queryKey:["admin-walkthroughs"]}),a({title:s?"Walkthrough updated":"Walkthrough created",description:s?"Changes have been saved successfully.":"New walkthrough has been created."}),r(!1)},onError:se=>{a({title:"Error",description:"Failed to save walkthrough. Please try again.",variant:"destructive"}),console.error(se)}}),M=()=>{j([...y,{...iu}])},z=se=>{y.length>1&&j(y.filter((Q,pe)=>pe!==se))},R=(se,Q,pe)=>{const le=[...y];le[se]={...le[se],[Q]:pe},j(le)},te=se=>{const Q=[...y];Q[se].instructions=[...Q[se].instructions,""],j(Q)},V=(se,Q,pe)=>{const le=[...y];le[se].instructions[Q]=pe,j(le)},D=(se,Q)=>{const pe=[...y];pe[se].instructions=pe[se].instructions.filter((le,ue)=>ue!==Q),j(pe)},H=se=>{const Q=[...y];Q[se].tips=[...Q[se].tips,""],j(Q)},ae=(se,Q,pe)=>{const le=[...y];le[se].tips[Q]=pe,j(le)},U=(se,Q)=>{const pe=[...y];pe[se].tips=pe[se].tips.filter((le,ue)=>ue!==Q),j(pe)};return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx(Lt,{children:e.jsxs($t,{className:"flex items-center gap-2",children:[e.jsx(ws,{className:"h-5 w-5 text-admin-wine"}),s?"Edit Walkthrough":"Create Walkthrough"]})}),e.jsxs(Nr,{value:F,onValueChange:$,className:"flex-1 overflow-hidden flex flex-col",children:[e.jsxs(br,{className:"grid w-full grid-cols-4",children:[e.jsx(Ee,{value:"basic",children:"Basic Info"}),e.jsxs(Ee,{value:"modules",children:["Modules (",y.length,")"]}),e.jsx(Ee,{value:"access",children:"Access Control"}),e.jsx(Ee,{value:"scheduling",children:"Scheduling"})]}),e.jsxs(rn,{className:"flex-1 mt-4",children:[e.jsx(Te,{value:"basic",className:"space-y-4 pr-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(K,{htmlFor:"title",children:"Title"}),e.jsx(ie,{id:"title",value:o,onChange:se=>l(se.target.value),placeholder:"e.g., Master Fashion Illustration"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(K,{htmlFor:"description",children:"Description"}),e.jsx(nt,{id:"description",value:c,onChange:se=>d(se.target.value),placeholder:"Describe what designers will learn...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Track/Category"}),e.jsxs(qe,{value:u,onValueChange:se=>m(se),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Difficulty"}),e.jsxs(qe,{value:h,onValueChange:se=>p(se),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"easy",children:"Easy"}),e.jsx(X,{value:"medium",children:"Medium"}),e.jsx(X,{value:"hard",children:"Hard"}),e.jsx(X,{value:"insane",children:"Insane"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"xp",children:"XP Reward"}),e.jsx(ie,{id:"xp",type:"number",min:0,max:200,value:v,onChange:se=>x(parseInt(se.target.value)||0)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Status"}),e.jsxs(qe,{value:g,onValueChange:se=>b(se),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"archived",children:"Archived"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between md:col-span-2 p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"h-4 w-4 text-amber-500"}),e.jsxs("div",{children:[e.jsx(K,{children:"Featured Walkthrough"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Highlight this walkthrough on the main page"})]})]}),e.jsx(Ws,{checked:S,onCheckedChange:w})]})]})}),e.jsxs(Te,{value:"modules",className:"space-y-4 pr-4",children:[y.map((se,Q)=>e.jsxs(G,{className:"relative",children:[e.jsx(je,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Em,{className:"h-4 w-4 text-muted-foreground cursor-grab"}),e.jsxs(B,{variant:"outline",children:["Module ",Q+1]})]}),y.length>1&&e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>z(Q),className:"h-8 w-8 text-destructive hover:text-destructive",children:e.jsx(Hr,{className:"h-4 w-4"})})]})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Module Title"}),e.jsx(ie,{value:se.title,onChange:pe=>R(Q,"title",pe.target.value),placeholder:"e.g., Creative Direction & Understanding the Brief"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Description"}),e.jsx(nt,{value:se.description,onChange:pe=>R(Q,"description",pe.target.value),placeholder:"Describe what this module covers...",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{children:"Instructions"}),e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>te(Q),children:[e.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Add"]})]}),e.jsxs("div",{className:"space-y-2",children:[se.instructions.map((pe,le)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground w-4",children:[le+1,"."]}),e.jsx(ie,{value:pe,onChange:ue=>V(Q,le,ue.target.value),placeholder:"Add an instruction step...",className:"flex-1"}),e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>D(Q,le),className:"h-8 w-8",children:e.jsx(Hr,{className:"h-3 w-3"})})]},le)),se.instructions.length===0&&e.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No instructions added yet"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{children:"Pro Tips"}),e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>H(Q),children:[e.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Add"]})]}),e.jsx("div",{className:"space-y-2",children:se.tips.map((pe,le)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"h-3 w-3 text-amber-500 shrink-0"}),e.jsx(ie,{value:pe,onChange:ue=>ae(Q,le,ue.target.value),placeholder:"Add a helpful tip...",className:"flex-1"}),e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>U(Q,le),className:"h-8 w-8",children:e.jsx(Hr,{className:"h-3 w-3"})})]},le))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Deliverable"}),e.jsx(nt,{value:se.deliverable,onChange:pe=>R(Q,"deliverable",pe.target.value),placeholder:"Describe what the designer should submit...",rows:2})]})]})]},Q)),e.jsxs(T,{variant:"outline",onClick:M,className:"w-full gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Add Module"]})]}),e.jsx(Te,{value:"access",className:"space-y-4 pr-4",children:e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"text-base flex items-center gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),"Access Requirements"]})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Required Subscription Tier"}),e.jsxs(qe,{value:_,onValueChange:N,children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"none",children:"No Requirement (Free)"}),e.jsx(X,{value:"basic",children:"Basic"}),e.jsx(X,{value:"pro",children:"Pro"}),e.jsx(X,{value:"elite",children:"Elite"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Users without this subscription will see the walkthrough as locked"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Required Rank Level"}),e.jsxs(qe,{value:k,onValueChange:C,children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"none",children:"No Requirement"}),e.jsx(X,{value:"1",children:"Novice (Level 1)"}),e.jsx(X,{value:"2",children:"Apprentice (Level 2)"}),e.jsx(X,{value:"3",children:"Designer (Level 3)"}),e.jsx(X,{value:"4",children:"Senior Designer (Level 4)"}),e.jsx(X,{value:"5",children:"Lead Designer (Level 5)"}),e.jsx(X,{value:"6",children:"Elite Designer (Level 6)"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Users below this rank will see the walkthrough as locked"})]})]})]})}),e.jsx(Te,{value:"scheduling",className:"space-y-4 pr-4",children:e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"text-base flex items-center gap-2",children:[e.jsx(Wr,{className:"h-4 w-4"}),"Release Schedule"]})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Release Date"}),e.jsx(ie,{type:"date",value:P,onChange:se=>A(se.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: Schedule when this walkthrough becomes visible to users"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Archive Date"}),e.jsx(ie,{type:"date",value:O,onChange:se=>I(se.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional: Automatically archive this walkthrough after this date"})]})]})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[e.jsx(T,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsxs(T,{onClick:()=>E.mutate(),disabled:E.isPending||!o.trim(),className:"bg-admin-wine hover:bg-admin-wine/90 gap-2",children:[e.jsx(Ka,{className:"h-4 w-4"}),E.isPending?"Saving...":"Save Walkthrough"]})]})]})})}function p_e({open:t,onOpenChange:r,walkthrough:s}){const{toast:a}=Ge(),{user:n}=ja(),i=ft(),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,m]=f.useState(!1),[h,p]=f.useState(0),[v,x]=f.useState(""),g=Array.isArray(s.steps)?s.steps:[],{data:b,isLoading:y}=Oe({queryKey:["walkthrough-progress-detail",s.id],queryFn:async()=>{const{data:C,error:P}=await ee.from("walkthrough_progress").select("*").eq("stylebox_id",s.id).order("started_at",{ascending:!1});if(P)throw P;const A=C.map(F=>F.designer_id),{data:O}=await ee.from("profiles").select("id, user_id, name, email, avatar_url").in("user_id",A),I=new Map(O?.map(F=>[F.user_id,F])||[]);return C.map(F=>({...F,profile:I.get(F.designer_id)}))},enabled:t}),j=ze({mutationFn:async({progressId:C,complete:P})=>{const{error:A}=await ee.from("walkthrough_progress").update({completed_at:P?new Date().toISOString():null,completion_override:!0,reviewed_by:n?.id,reviewed_at:new Date().toISOString(),reviewer_notes:v||null}).eq("id",C);if(A)throw A},onSuccess:(C,{complete:P})=>{i.invalidateQueries({queryKey:["walkthrough-progress-detail"]}),i.invalidateQueries({queryKey:["admin-walkthrough-stats"]}),a({title:P?"Marked as complete":"Completion reset",description:P?"User has been marked as completing this walkthrough.":"User completion status has been reset."}),d(null)},onError:C=>{a({title:"Error",description:"Failed to update completion status.",variant:"destructive"}),console.error(C)}}),S=ze({mutationFn:async({progressId:C,xp:P})=>{const{error:A}=await ee.from("walkthrough_progress").update({xp_awarded:P,xp_override:!0,reviewed_by:n?.id,reviewed_at:new Date().toISOString(),reviewer_notes:v||null}).eq("id",C);if(A)throw A},onSuccess:()=>{i.invalidateQueries({queryKey:["walkthrough-progress-detail"]}),a({title:"XP updated",description:`XP has been set to ${h}.`}),m(!1),d(null)},onError:C=>{a({title:"Error",description:"Failed to update XP.",variant:"destructive"}),console.error(C)}}),w=ze({mutationFn:async C=>{const{error:P}=await ee.from("walkthrough_progress").update({current_step:0,completed_steps:[],completed_at:null,xp_awarded:null,xp_override:!1,completion_override:!1,reviewed_by:n?.id,reviewed_at:new Date().toISOString(),reviewer_notes:"Progress reset by admin"}).eq("id",C);if(P)throw P},onSuccess:()=>{i.invalidateQueries({queryKey:["walkthrough-progress-detail"]}),i.invalidateQueries({queryKey:["admin-walkthrough-stats"]}),a({title:"Progress reset",description:"User progress has been reset to the beginning."})},onError:C=>{a({title:"Error",description:"Failed to reset progress.",variant:"destructive"}),console.error(C)}}),_=b?.filter(C=>{const P=C.profile?.name?.toLowerCase()||"",A=C.profile?.email?.toLowerCase()||"";return P.includes(o.toLowerCase())||A.includes(o.toLowerCase())}),N=b?.filter(C=>C.completed_at).length||0,k=(b?.length||0)-N;return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx(Lt,{children:e.jsxs($t,{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-5 w-5 text-admin-wine"}),"Progress: ",s.title]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(G,{children:e.jsx(Y,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-2xl font-bold",children:b?.length||0}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4 text-amber-500"}),e.jsx("span",{className:"text-2xl font-bold",children:k}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"In Progress"})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mt,{className:"h-4 w-4 text-success"}),e.jsx("span",{className:"text-2xl font-bold",children:N}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed"})]})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search by name or email...",value:o,onChange:C=>l(C.target.value),className:"pl-10"})]}),e.jsx(rn,{className:"flex-1",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{children:"Designer"}),e.jsx(xe,{children:"Progress"}),e.jsx(xe,{children:"Started"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"XP"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:y?Array.from({length:3}).map((C,P)=>e.jsx(Ve,{children:e.jsx(de,{colSpan:6,children:e.jsx("div",{className:"h-12 bg-muted/50 rounded animate-pulse"})})},P)):_?.length===0?e.jsx(Ve,{children:e.jsxs(de,{colSpan:6,className:"text-center py-8",children:[e.jsx(mt,{className:"h-8 w-8 text-muted-foreground/50 mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"No participants yet"})]})}):_?.map(C=>{const P=Array.isArray(C.completed_steps)?C.completed_steps.length:0,A=g.length>0?P/g.length*100:0;return e.jsxs(Ve,{className:"group",children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(rr,{className:"h-8 w-8",children:[e.jsx(sr,{src:C.profile?.avatar_url||void 0}),e.jsx(ar,{className:"text-xs",children:C.profile?.name?.charAt(0)||"?"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:C.profile?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:C.profile?.email})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"w-32 space-y-1",children:[e.jsx(la,{value:A,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[P,"/",g.length," steps"]})]})}),e.jsx(de,{className:"text-sm text-muted-foreground",children:xt(new Date(C.started_at),"MMM d, yyyy")}),e.jsx(de,{children:C.completed_at?e.jsxs(B,{variant:"outline",className:q("gap-1 bg-success/10 text-success border-success/30",C.completion_override&&"border-amber-500/30"),children:[e.jsx(Mt,{className:"h-3 w-3"}),"Completed",C.completion_override&&e.jsx("span",{className:"text-amber-500 text-[10px]",children:"(override)"})]}):e.jsxs(B,{variant:"outline",className:"gap-1",children:[e.jsx(Ze,{className:"h-3 w-3"}),"In Progress"]})}),e.jsx(de,{children:C.xp_awarded!==null?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ct,{className:"h-3 w-3 text-amber-500"}),e.jsx("span",{className:"font-medium",children:C.xp_awarded}),C.xp_override&&e.jsx("span",{className:"text-amber-500 text-xs",children:"(manual)"})]}):C.completed_at?e.jsxs("span",{className:"text-sm text-muted-foreground",children:["+",s.xp_reward||0]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:""})}),e.jsx(de,{className:"text-right",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",className:"w-48",children:[!C.completed_at&&e.jsxs(Se,{onClick:()=>{d(C),j.mutate({progressId:C.id,complete:!0})},children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Mark Complete"]}),C.completed_at&&e.jsxs(Se,{onClick:()=>{d(C),j.mutate({progressId:C.id,complete:!1})},children:[e.jsx(of,{className:"h-4 w-4 mr-2"}),"Reset Completion"]}),e.jsxs(Se,{onClick:()=>{d(C),p(C.xp_awarded||s.xp_reward||0),m(!0)},children:[e.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Override XP"]}),e.jsx(Ar,{}),e.jsxs(Se,{onClick:()=>w.mutate(C.id),className:"text-destructive focus:text-destructive",children:[e.jsx(of,{className:"h-4 w-4 mr-2"}),"Reset All Progress"]})]})]})})]},C.id)})})]})}),e.jsx(li,{open:u,onOpenChange:m,children:e.jsxs(Nn,{children:[e.jsxs(_n,{children:[e.jsx(Cn,{children:"Override XP Award"}),e.jsxs(kn,{children:["Set a custom XP amount for this user. This will override the default ",s.xp_reward||0," XP."]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"XP Amount"}),e.jsx(ie,{type:"number",min:0,max:500,value:h,onChange:C=>p(parseInt(C.target.value)||0)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Notes (optional)"}),e.jsx(nt,{value:v,onChange:C=>x(C.target.value),placeholder:"Reason for XP adjustment...",rows:2})]})]}),e.jsxs(Sn,{children:[e.jsx(Pn,{onClick:()=>m(!1),children:"Cancel"}),e.jsx(An,{onClick:()=>{c&&S.mutate({progressId:c.id,xp:h})},children:"Apply Override"})]})]})})]})})}const x_e={free:"bg-success/20 text-success border-success/30",easy:"bg-blue-500/20 text-blue-600 border-blue-500/30",medium:"bg-amber-500/20 text-amber-600 border-amber-500/30",hard:"bg-orange-500/20 text-orange-600 border-orange-500/30",insane:"bg-red-500/20 text-red-600 border-red-500/30"},g_e={draft:"bg-muted text-muted-foreground border-border",active:"bg-success/20 text-success border-success/30",archived:"bg-secondary text-secondary-foreground border-border"},v_e={fashion:"bg-purple-500/20 text-purple-600 border-purple-500/30",textile:"bg-teal-500/20 text-teal-600 border-teal-500/30",jewelry:"bg-pink-500/20 text-pink-600 border-pink-500/30"};function b_e(){const{toast:t}=Ge(),r=ft(),[s,a]=f.useState(""),[n,i]=f.useState("all"),[o,l]=f.useState("all"),[c,d]=f.useState("all"),[u,m]=f.useState("created_at"),[h,p]=f.useState("desc"),[v,x]=f.useState(!1),[g,b]=f.useState(null),[y,j]=f.useState(null),[S,w]=f.useState(null),{data:_,isLoading:N}=Oe({queryKey:["admin-walkthroughs",n,o,c,u,h],queryFn:async()=>{let V=ee.from("styleboxes").select("*").eq("is_walkthrough",!0).order(u,{ascending:h==="asc"});n!=="all"&&(V=V.eq("category",n)),o!=="all"&&(V=V.eq("difficulty",o)),c!=="all"&&(V=V.eq("status",c));const{data:D,error:H}=await V;if(H)throw H;return D}}),{data:k}=Oe({queryKey:["admin-walkthrough-stats"],queryFn:async()=>{const{data:V,error:D}=await ee.from("walkthrough_progress").select("stylebox_id, completed_at");if(D)throw D;const H={};return V.forEach(ae=>{H[ae.stylebox_id]||(H[ae.stylebox_id]={total:0,completed:0}),H[ae.stylebox_id].total++,ae.completed_at&&H[ae.stylebox_id].completed++}),H}}),C=ze({mutationFn:async V=>{const{error:D}=await ee.from("styleboxes").update({status:"archived"}).eq("id",V);if(D)throw D},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-walkthroughs"]}),t({title:"Walkthrough archived",description:"The walkthrough has been archived successfully."}),j(null)},onError:V=>{t({title:"Error",description:"Failed to archive walkthrough.",variant:"destructive"})}}),P=ze({mutationFn:async V=>{const{error:D}=await ee.from("styleboxes").update({status:"draft"}).eq("id",V);if(D)throw D},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-walkthroughs"]}),t({title:"Walkthrough restored",description:"The walkthrough has been restored to draft."})},onError:V=>{t({title:"Error",description:"Failed to restore walkthrough.",variant:"destructive"})}}),A=ze({mutationFn:async({id:V,featured:D})=>{const{error:H}=await ee.from("styleboxes").update({is_featured:D}).eq("id",V);if(H)throw H},onSuccess:(V,{featured:D})=>{r.invalidateQueries({queryKey:["admin-walkthroughs"]}),t({title:D?"Walkthrough featured":"Walkthrough unfeatured",description:D?"This walkthrough will now appear as featured.":"This walkthrough is no longer featured."})},onError:V=>{t({title:"Error",description:"Failed to update featured status.",variant:"destructive"})}}),O=ze({mutationFn:async V=>{const{id:D,created_at:H,updated_at:ae,created_by:U,...se}=V,Q={...se,title:`${V.title} (Copy)`,status:"draft",version:1},{error:pe}=await ee.from("styleboxes").insert(Q);if(pe)throw pe},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-walkthroughs"]}),t({title:"Walkthrough duplicated",description:"A copy has been created as a draft."})},onError:V=>{t({title:"Error",description:"Failed to duplicate walkthrough.",variant:"destructive"})}}),I=_?.filter(V=>V.title.toLowerCase().includes(s.toLowerCase())||V.description?.toLowerCase().includes(s.toLowerCase())),F=V=>{u===V?p(h==="asc"?"desc":"asc"):(m(V),p("asc"))},$=V=>{b(V),x(!0)},E=()=>{b(null),x(!0)},M=_?.length||0,z=_?.filter(V=>V.status==="active").length||0,R=Object.values(k||{}).reduce((V,D)=>V+D.total,0),te=Object.values(k||{}).reduce((V,D)=>V+D.completed,0);return e.jsx(Br,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-display text-2xl font-bold text-foreground flex items-center gap-2",children:[e.jsx(ws,{className:"h-6 w-6 text-admin-camel"}),"Walkthrough Management"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Create and manage guided learning experiences"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(T,{onClick:E,className:"bg-admin-wine hover:bg-admin-wine/90",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Create Walkthrough"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-admin-wine/10 flex items-center justify-center",children:e.jsx(ws,{className:"h-5 w-5 text-admin-wine"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:M}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Walkthroughs"})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-success/10 flex items-center justify-center",children:e.jsx(Mt,{className:"h-5 w-5 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:z}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-accent/10 flex items-center justify-center",children:e.jsx(mt,{className:"h-5 w-5 text-accent"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:R}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Learners"})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:e.jsx(ct,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:te}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Completions"})]})]})})})]}),e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center bg-card rounded-lg border p-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search walkthroughs...",value:s,onChange:V=>a(V.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Al,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(qe,{value:n,onValueChange:i,children:[e.jsx(Fe,{className:"w-[130px]",children:e.jsx(Me,{placeholder:"Category"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Tracks"}),e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]}),e.jsxs(qe,{value:o,onValueChange:l,children:[e.jsx(Fe,{className:"w-[130px]",children:e.jsx(Me,{placeholder:"Difficulty"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Levels"}),e.jsx(X,{value:"easy",children:"Easy"}),e.jsx(X,{value:"medium",children:"Medium"}),e.jsx(X,{value:"hard",children:"Hard"}),e.jsx(X,{value:"insane",children:"Insane"})]})]}),e.jsxs(qe,{value:c,onValueChange:d,children:[e.jsx(Fe,{className:"w-[120px]",children:e.jsx(Me,{placeholder:"Status"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Status"}),e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"archived",children:"Archived"})]})]})]})]}),e.jsx("div",{className:"bg-card rounded-lg border overflow-hidden",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{className:"bg-muted/50",children:[e.jsx(xe,{className:"w-[300px]",children:e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>F("title"),className:"gap-1 -ml-3",children:["Walkthrough",e.jsx(io,{className:"h-3 w-3"})]})}),e.jsx(xe,{children:"Track"}),e.jsx(xe,{children:"Difficulty"}),e.jsx(xe,{children:e.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>F("xp_reward"),className:"gap-1 -ml-3",children:["XP",e.jsx(io,{className:"h-3 w-3"})]})}),e.jsx(xe,{children:"Modules"}),e.jsx(xe,{children:"Participants"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:N?Array.from({length:5}).map((V,D)=>e.jsx(Ve,{children:e.jsx(de,{colSpan:8,children:e.jsx("div",{className:"h-12 bg-muted/50 rounded animate-pulse"})})},D)):I?.length===0?e.jsx(Ve,{children:e.jsxs(de,{colSpan:8,className:"text-center py-12",children:[e.jsx(ws,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No walkthroughs found"}),e.jsxs(T,{variant:"outline",size:"sm",className:"mt-4",onClick:E,children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Create your first walkthrough"]})]})}):I?.map(V=>{const D=Array.isArray(V.steps)?V.steps:[],H=k?.[V.id]||{total:0,completed:0};return e.jsxs(Ve,{className:"group hover:bg-muted/30",children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"h-10 w-10 rounded-lg bg-admin-wine/10 flex items-center justify-center relative",children:[e.jsx(ws,{className:"h-5 w-5 text-admin-wine"}),V.is_featured&&e.jsx(At,{className:"h-3 w-3 text-amber-500 fill-amber-500 absolute -top-1 -right-1"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium",children:V.title}),V.version&&V.version>1&&e.jsxs(B,{variant:"outline",className:"text-xs",children:["v",V.version]})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 max-w-[250px]",children:V.description})]})]})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:v_e[V.category],children:V.category})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:x_e[V.difficulty],children:V.difficulty})}),e.jsxs(de,{children:[e.jsx("span",{className:"font-medium",children:V.xp_reward}),e.jsx("span",{className:"text-muted-foreground text-xs ml-1",children:"XP"})]}),e.jsxs(de,{children:[e.jsx("span",{className:"font-medium",children:D.length}),e.jsx("span",{className:"text-muted-foreground text-xs ml-1",children:"steps"})]}),e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:H.total}),H.completed>0&&e.jsxs(B,{variant:"outline",className:"text-xs bg-success/10 text-success border-success/30",children:[H.completed," done"]})]})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:g_e[V.status],children:V.status})}),e.jsx(de,{className:"text-right",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",className:"w-48",children:[e.jsxs(Se,{onClick:()=>$(V),children:[e.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(Se,{onClick:()=>w(V),children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View Progress"]}),e.jsxs(Se,{onClick:()=>O.mutate(V),children:[e.jsx(vd,{className:"h-4 w-4 mr-2"}),"Clone"]}),e.jsxs(Se,{onClick:()=>A.mutate({id:V.id,featured:!V.is_featured}),children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),V.is_featured?"Unfeature":"Feature"]}),e.jsx(Ar,{}),V.status==="archived"?e.jsxs(Se,{onClick:()=>P.mutate(V.id),children:[e.jsx(of,{className:"h-4 w-4 mr-2"}),"Restore"]}):e.jsxs(Se,{onClick:()=>j(V),className:"text-destructive focus:text-destructive",children:[e.jsx(Gp,{className:"h-4 w-4 mr-2"}),"Archive"]})]})]})})]},V.id)})})]})}),e.jsx(li,{open:!!y,onOpenChange:()=>j(null),children:e.jsxs(Nn,{children:[e.jsxs(_n,{children:[e.jsx(Cn,{children:"Archive Walkthrough"}),e.jsxs(kn,{children:['Are you sure you want to archive "',y?.title,'"? Users will no longer be able to start this walkthrough, but existing progress will be preserved.']})]}),e.jsxs(Sn,{children:[e.jsx(Pn,{children:"Cancel"}),e.jsx(An,{onClick:()=>y&&C.mutate(y.id),className:"bg-destructive hover:bg-destructive/90",children:"Archive"})]})]})}),e.jsx(f_e,{open:v,onOpenChange:x,walkthrough:g}),S&&e.jsx(p_e,{open:!!S,onOpenChange:()=>w(null),walkthrough:S})]})})}function y_e({open:t,onOpenChange:r,designer:s,ranks:a}){const{toast:n}=Ge(),i=ft(),[o,l]=f.useState({rank_id:s.rank_id||"",xp:s.xp||0,status:s.status||"active",notes:""}),c=a.find(u=>u.id===o.rank_id);f.useEffect(()=>{l({rank_id:s.rank_id||"",xp:s.xp||0,status:s.status||"active",notes:""})},[s]);const d=ze({mutationFn:async()=>{const{error:u}=await ee.from("profiles").update({rank_id:o.rank_id||null,xp:o.xp,status:o.status}).eq("id",s.id);if(u)throw u},onSuccess:()=>{i.invalidateQueries({queryKey:["admin-designers-rankings"]}),n({title:"Designer updated",description:"Rank and XP changes have been saved."}),r(!1)},onError:u=>{n({title:"Error",description:"Failed to update designer. Please try again.",variant:"destructive"}),console.error(u)}});return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"max-w-md",children:[e.jsx(Lt,{children:e.jsxs($t,{className:"font-display text-xl flex items-center gap-2",children:[e.jsx(zt,{className:"h-5 w-5 text-admin-camel"}),"Edit Designer Rank"]})}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 space-y-1",children:[e.jsx("p",{className:"font-medium",children:s.name||"Unknown"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email}),e.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[s.category," Designer"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Rank"}),e.jsxs(qe,{value:o.rank_id,onValueChange:u=>l(m=>({...m,rank_id:u})),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select rank"})}),e.jsx(Le,{children:a.map(u=>e.jsx(X,{value:u.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:u.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",u.revenue_share_percent,"%)"]})]})},u.id))})]}),c&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Revenue Share: ",c.revenue_share_percent,"% | Priority Queue: ",c.priority_queue?"Yes":"No"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{htmlFor:"xp",className:"flex items-center gap-2",children:[e.jsx(ct,{className:"h-4 w-4 text-admin-camel"}),"XP Points"]}),e.jsx(ie,{id:"xp",type:"number",min:0,value:o.xp,onChange:u=>l(m=>({...m,xp:parseInt(u.target.value)||0}))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Manually adjust XP for special circumstances"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Status"}),e.jsxs(qe,{value:o.status,onValueChange:u=>l(m=>({...m,status:u})),children:[e.jsxs(Fe,{children:[e.jsx(Me,{}),e.jsx(Me,{})]}),e.jsxs(Le,{children:[e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"suspended",children:"Suspended"}),e.jsx(X,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"notes",children:"Admin Notes (optional)"}),e.jsx(nt,{id:"notes",value:o.notes,onChange:u=>l(m=>({...m,notes:u.target.value})),placeholder:"Reason for rank change, XP adjustment, etc.",className:"min-h-[80px]"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs(T,{variant:"ghost",onClick:()=>r(!1),children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(T,{onClick:()=>d.mutate(),disabled:d.isPending,className:"bg-admin-wine hover:bg-admin-wine/90",children:[d.isPending?e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})})}function j_e({open:t,onOpenChange:r,payout:s}){const{toast:a}=Ge(),n=ft(),[i,o]=f.useState(""),l=ze({mutationFn:async()=>{const{error:c}=await ee.from("payouts").delete().eq("id",s.id);if(c)throw c},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-payouts"]}),a({title:"Payout rejected",description:"The payout has been removed from the queue."}),r(!1)},onError:c=>{a({title:"Error",description:"Failed to reject payout. Please try again.",variant:"destructive"}),console.error(c)}});return e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"max-w-md",children:[e.jsx(Lt,{children:e.jsxs($t,{className:"font-display text-xl flex items-center gap-2 text-destructive",children:[e.jsx(Ti,{className:"h-5 w-5"}),"Reject Payout"]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-destructive/10 border border-destructive/20 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),e.jsxs("span",{className:"font-bold",children:["$",Number(s.amount).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Designer ID:"}),e.jsxs("span",{className:"font-mono text-xs",children:[s.designer_id.slice(0,12),"..."]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"reason",children:"Reason for Rejection"}),e.jsx(nt,{id:"reason",value:i,onChange:c=>o(c.target.value),placeholder:"Explain why this payout is being rejected...",className:"min-h-[100px]"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This action will remove the payout from the queue. The designer will be notified."})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx(T,{variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),e.jsxs(T,{variant:"destructive",onClick:()=>l.mutate(),disabled:l.isPending,children:[l.isPending?e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Reject Payout"]})]})]})})}const vD=["hsl(280, 75%, 55%)","hsl(260, 65%, 50%)","hsl(220, 15%, 55%)","hsl(30, 55%, 55%)","hsl(220, 70%, 55%)","hsl(142, 70%, 45%)","hsl(25, 80%, 55%)","hsl(340, 70%, 55%)"];function w_e({data:t}){return!t||t.length===0?e.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No data available"}):e.jsx(Gx,{width:"100%",height:300,children:e.jsxs(wje,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(xg,{strokeDasharray:"3 3",className:"stroke-border"}),e.jsx($o,{dataKey:"name",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},axisLine:{stroke:"hsl(var(--border))"}}),e.jsx(qo,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},axisLine:{stroke:"hsl(var(--border))"}}),e.jsx(Ua,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--foreground))"}}),e.jsx(ql,{dataKey:"count",radius:[4,4,0,0],children:t.map((r,s)=>e.jsx(Xm,{fill:vD[s%vD.length]},`cell-${s}`))})]})})}function rz(){const{data:t,isLoading:r}=Oe({queryKey:["admin-earnings-chart"],queryFn:async()=>{const a=vu(new Date,30).toISOString(),{data:n,error:i}=await ee.from("earnings").select("amount, created_at").gte("created_at",a).order("created_at",{ascending:!0});if(i)throw i;return n}}),s=(()=>{if(!t||t.length===0)return Array.from({length:7}).map((n,i)=>({date:xt(vu(new Date,6-i),"MMM d"),amount:0}));const a=new Map;return t.forEach(n=>{const i=xt(gl(new Date(n.created_at)),"MMM d");a.set(i,(a.get(i)||0)+Number(n.amount))}),Array.from(a.entries()).map(([n,i])=>({date:n,amount:i}))})();return r?e.jsx("div",{className:"h-[300px] flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading..."})}):e.jsx(Gx,{width:"100%",height:300,children:e.jsxs(_je,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"hsl(35, 70%, 50%)",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"hsl(35, 70%, 50%)",stopOpacity:0})]})}),e.jsx(xg,{strokeDasharray:"3 3",className:"stroke-border"}),e.jsx($o,{dataKey:"date",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},axisLine:{stroke:"hsl(var(--border))"}}),e.jsx(qo,{tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},axisLine:{stroke:"hsl(var(--border))"},tickFormatter:a=>`$${a}`}),e.jsx(Ua,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--foreground))"},formatter:a=>[`$${a.toLocaleString()}`,"Revenue"]}),e.jsx(Lo,{type:"monotone",dataKey:"amount",stroke:"hsl(35, 70%, 50%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})}const N_e={F1:"bg-purple-500/20 text-purple-600 border-purple-500/30",F2:"bg-indigo-500/20 text-indigo-600 border-indigo-500/30",Novice:"bg-slate-500/20 text-slate-600 border-slate-500/30",Apprentice:"bg-amber-500/20 text-amber-600 border-amber-500/30",Designer:"bg-blue-500/20 text-blue-600 border-blue-500/30",Senior:"bg-success/20 text-success border-success/30",Lead:"bg-orange-500/20 text-orange-600 border-orange-500/30",Elite:"bg-rose-500/20 text-rose-600 border-rose-500/30"},__e={active:"bg-success/20 text-success border-success/30",suspended:"bg-destructive/20 text-destructive border-destructive/30",inactive:"bg-muted text-muted-foreground border-border"},S_e={pending:"bg-amber-500/20 text-amber-600 border-amber-500/30",processed:"bg-blue-500/20 text-blue-600 border-blue-500/30",paid:"bg-success/20 text-success border-success/30"};function C_e(){const{toast:t}=Ge(),r=ft(),[s,a]=f.useState(""),[n,i]=f.useState("all"),[o,l]=f.useState("all"),[c,d]=f.useState("all"),[u,m]=f.useState("xp"),[h,p]=f.useState("desc"),[v,x]=f.useState(null),[g,b]=f.useState(null),{data:y}=Oe({queryKey:["ranks"],queryFn:async()=>{const{data:E,error:M}=await ee.from("ranks").select("*").order("rank_order",{ascending:!0});if(M)throw M;return E}}),{data:j,isLoading:S}=Oe({queryKey:["admin-designers-rankings",n,o,c],queryFn:async()=>{let E=ee.from("profiles").select("*, ranks(*)").order("xp",{ascending:!1});n!=="all"&&(E=E.eq("category",n)),c!=="all"&&(E=E.eq("status",c));const{data:M,error:z}=await E;if(z)throw z;return M}}),{data:w,isLoading:_}=Oe({queryKey:["admin-payouts"],queryFn:async()=>{const{data:E,error:M}=await ee.from("payouts").select("*").order("processed_at",{ascending:!1,nullsFirst:!0});if(M)throw M;return E}}),{data:N}=Oe({queryKey:["admin-earnings-summary"],queryFn:async()=>{const{data:E,error:M}=await ee.from("earnings").select("amount, created_at");if(M)throw M;return{total:E.reduce((R,te)=>R+Number(te.amount),0),count:E.length}}}),k=ze({mutationFn:async({id:E,status:M})=>{const{error:z}=await ee.from("payouts").update({status:M,processed_at:M!=="pending"?new Date().toISOString():null}).eq("id",E);if(z)throw z},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-payouts"]}),t({title:"Payout updated successfully"})},onError:()=>{t({title:"Failed to update payout",variant:"destructive"})}}),C=j?.filter(E=>{const M=E.name?.toLowerCase().includes(s.toLowerCase())||E.email?.toLowerCase().includes(s.toLowerCase()),z=o==="all"||E.ranks?.name===o;return M&&z}),P=w?.filter(E=>E.status==="pending")||[],A=P.reduce((E,M)=>E+Number(M.amount),0),O=w?.filter(E=>E.status==="paid").reduce((E,M)=>E+Number(M.amount),0)||0,I=y?.map(E=>({name:E.name,count:j?.filter(M=>M.rank_id===E.id).length||0}))||[],F=()=>{if(!C)return;const E=["Name","Email","Category","Rank","XP","Revenue Share %","Status"],M=C.map(D=>[D.name||"",D.email||"",D.category||"",D.ranks?.name||"Unranked",D.xp?.toString()||"0",D.ranks?.revenue_share_percent?.toString()||"0",D.status||""]),z=[E.join(","),...M.map(D=>D.join(","))].join(`
`),R=new Blob([z],{type:"text/csv"}),te=URL.createObjectURL(R),V=document.createElement("a");V.href=te,V.download=`designers-rankings-${xt(new Date,"yyyy-MM-dd")}.csv`,V.click(),URL.revokeObjectURL(te),t({title:"Export complete",description:"Designer rankings exported to CSV."})},$=()=>{if(!w)return;const E=["Designer ID","Amount","Status","Processed At"],M=w.map(D=>[D.designer_id,D.amount.toString(),D.status,D.processed_at||"Pending"]),z=[E.join(","),...M.map(D=>D.join(","))].join(`
`),R=new Blob([z],{type:"text/csv"}),te=URL.createObjectURL(R),V=document.createElement("a");V.href=te,V.download=`payouts-${xt(new Date,"yyyy-MM-dd")}.csv`,V.click(),URL.revokeObjectURL(te),t({title:"Export complete",description:"Payouts exported to CSV."})};return e.jsxs(Br,{children:[e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-display text-2xl font-bold text-foreground flex items-center gap-2",children:[e.jsx(zt,{className:"h-6 w-6 text-admin-camel"}),"Ranking & Revenue Management"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage designer ranks, revenue shares, and payouts"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(T,{variant:"outline",size:"sm",onClick:F,children:[e.jsx(vn,{className:"h-4 w-4 mr-2"}),"Export Rankings"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-admin-wine/10 flex items-center justify-center",children:e.jsx(mt,{className:"h-5 w-5 text-admin-wine"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Designers"}),e.jsx("p",{className:"text-2xl font-bold",children:j?.length||0})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:e.jsx(Ze,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Payouts"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",A.toLocaleString()]})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-success/10 flex items-center justify-center",children:e.jsx(Rs,{className:"h-5 w-5 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Paid"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",O.toLocaleString()]})]})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:e.jsx(ks,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",N?.total.toLocaleString()||0]})]})]})})})]}),e.jsxs(Nr,{defaultValue:"designers",className:"space-y-6",children:[e.jsxs(br,{children:[e.jsx(Ee,{value:"designers",children:"Designer Rankings"}),e.jsxs(Ee,{value:"payouts",className:"relative",children:["Payouts",P.length>0&&e.jsx(B,{className:"ml-2 h-5 px-1.5 bg-destructive text-destructive-foreground",children:P.length})]}),e.jsx(Ee,{value:"insights",children:"Performance Insights"})]}),e.jsxs(Te,{value:"designers",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center bg-card rounded-lg border p-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search by name or email...",value:s,onChange:E=>a(E.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Al,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(qe,{value:n,onValueChange:i,children:[e.jsx(Fe,{className:"w-[130px]",children:e.jsx(Me,{placeholder:"Category"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Categories"}),e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]}),e.jsxs(qe,{value:o,onValueChange:l,children:[e.jsx(Fe,{className:"w-[130px]",children:e.jsx(Me,{placeholder:"Rank"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Ranks"}),y?.map(E=>e.jsx(X,{value:E.name,children:E.name},E.id))]})]}),e.jsxs(qe,{value:c,onValueChange:d,children:[e.jsx(Fe,{className:"w-[120px]",children:e.jsx(Me,{placeholder:"Status"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Status"}),e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"suspended",children:"Suspended"}),e.jsx(X,{value:"inactive",children:"Inactive"})]})]})]})]}),e.jsx("div",{className:"bg-card rounded-lg border overflow-hidden",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{className:"bg-muted/50",children:[e.jsx(xe,{className:"w-[250px]",children:"Designer"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1 -ml-3",children:["Rank",e.jsx(io,{className:"h-3 w-3"})]})}),e.jsx(xe,{children:"Revenue Share"}),e.jsx(xe,{children:e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1 -ml-3",children:["XP",e.jsx(io,{className:"h-3 w-3"})]})}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:S?Array.from({length:5}).map((E,M)=>e.jsx(Ve,{children:e.jsx(de,{colSpan:7,children:e.jsx("div",{className:"h-12 bg-muted/50 rounded animate-pulse"})})},M)):C?.length===0?e.jsx(Ve,{children:e.jsxs(de,{colSpan:7,className:"text-center py-12",children:[e.jsx(mt,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No designers found"})]})}):C?.map(E=>e.jsxs(Ve,{className:"group hover:bg-muted/30",children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-admin-wine/10 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-admin-wine",children:E.name?.charAt(0)?.toUpperCase()||"?"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:E.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:E.email})]})]})}),e.jsx(de,{children:e.jsx("span",{className:"capitalize",children:E.category})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:N_e[E.ranks?.name||""]||"bg-muted",children:E.ranks?.name||"Unranked"})}),e.jsx(de,{children:e.jsxs("span",{className:"font-medium",children:[E.ranks?.revenue_share_percent||0,"%"]})}),e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ct,{className:"h-4 w-4 text-admin-camel"}),e.jsx("span",{className:"font-medium",children:E.xp?.toLocaleString()||0})]})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:__e[E.status||"inactive"],children:E.status})}),e.jsx(de,{className:"text-right",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",className:"w-48",children:[e.jsxs(Se,{onClick:()=>x(E),children:[e.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Edit Rank / XP"]}),e.jsxs(Se,{children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View Portfolio"]}),e.jsxs(Se,{children:[e.jsx(sf,{className:"h-4 w-4 mr-2"}),"View Earnings"]})]})]})})]},E.id))})]})})]}),e.jsxs(Te,{value:"payouts",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(G,{className:"px-4 py-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"}),e.jsx("p",{className:"text-lg font-bold text-amber-600",children:P.length})]}),e.jsxs(G,{className:"px-4 py-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"To Process"}),e.jsxs("p",{className:"text-lg font-bold",children:["$",A.toLocaleString()]})]})]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:$,children:[e.jsx(vn,{className:"h-4 w-4 mr-2"}),"Export Payouts"]})]}),e.jsx("div",{className:"bg-card rounded-lg border overflow-hidden",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{className:"bg-muted/50",children:[e.jsx(xe,{children:"Designer ID"}),e.jsx(xe,{children:"Amount"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Processed At"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:_?Array.from({length:3}).map((E,M)=>e.jsx(Ve,{children:e.jsx(de,{colSpan:5,children:e.jsx("div",{className:"h-12 bg-muted/50 rounded animate-pulse"})})},M)):w?.length===0?e.jsx(Ve,{children:e.jsxs(de,{colSpan:5,className:"text-center py-12",children:[e.jsx(sf,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No payouts found"})]})}):w?.map(E=>e.jsxs(Ve,{className:"group hover:bg-muted/30",children:[e.jsxs(de,{className:"font-mono text-sm",children:[E.designer_id.slice(0,8),"..."]}),e.jsx(de,{children:e.jsxs("span",{className:"font-bold",children:["$",Number(E.amount).toLocaleString()]})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:S_e[E.status],children:E.status})}),e.jsx(de,{className:"text-muted-foreground text-sm",children:E.processed_at?xt(new Date(E.processed_at),"MMM d, yyyy HH:mm"):""}),e.jsxs(de,{className:"text-right",children:[E.status==="pending"&&e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(T,{size:"sm",variant:"ghost",className:"text-success hover:text-success hover:bg-success/10",onClick:()=>k.mutate({id:E.id,status:"processed"}),children:e.jsx(gr,{className:"h-4 w-4"})}),e.jsx(T,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>b(E),children:e.jsx(ht,{className:"h-4 w-4"})})]}),E.status==="processed"&&e.jsx(T,{size:"sm",variant:"outline",onClick:()=>k.mutate({id:E.id,status:"paid"}),children:"Mark Paid"})]})]},E.id))})]})})]}),e.jsxs(Te,{value:"insights",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{className:"text-lg",children:"Rank Distribution"})}),e.jsx(Y,{children:e.jsx(w_e,{data:I})})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{className:"text-lg",children:"Revenue Over Time"})}),e.jsx(Y,{children:e.jsx(rz,{})})]})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[e.jsx(ks,{className:"h-5 w-5 text-admin-camel"}),"Top Designers by XP"]})}),e.jsx(Y,{children:e.jsx("div",{className:"space-y-3",children:C?.slice(0,5).map((E,M)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-lg font-bold text-muted-foreground w-6",children:["#",M+1]}),e.jsx("div",{className:"h-8 w-8 rounded-full bg-admin-wine/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-admin-wine",children:E.name?.charAt(0)?.toUpperCase()||"?"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:E.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:E.ranks?.name})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold",children:[E.xp?.toLocaleString()," XP"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.ranks?.revenue_share_percent,"% share"]})]})]},E.id))})})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"text-lg flex items-center gap-2",children:[e.jsx(Vs,{className:"h-5 w-5 text-amber-600"}),"Approaching Next Rank"]})}),e.jsx(Y,{children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"Designers close to ranking up will appear here once XP thresholds are configured."})})]})]})]})]}),v&&e.jsx(y_e,{open:!!v,onOpenChange:()=>x(null),designer:v,ranks:y||[]}),g&&e.jsx(j_e,{open:!!g,onOpenChange:()=>b(null),payout:g})]})}const k_e=an({name:It().min(2,"Name must be at least 2 characters").max(100),email:It().email("Invalid email address")}),A_e=an({currentPassword:It().min(8,"Password must be at least 8 characters"),newPassword:It().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^a-zA-Z0-9]/,"Password must contain at least one special character"),confirmPassword:It()}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function P_e(){const t=wr(),{user:r,signOut:s,isAdmin:a,isSuperadmin:n}=ja(),{toast:i}=Ge(),[o,l]=f.useState(!1),[c,d]=f.useState({name:"",email:"",avatar_url:""}),[u,m]=f.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[h,p]=f.useState(!1),[v,x]=f.useState(!1);f.useEffect(()=>{r&&g()},[r]);const g=async()=>{if(!r)return;const{data:P}=await ee.from("admin_profiles").select("*").eq("user_id",r.id).maybeSingle();if(P)d({name:P.name||"",email:P.email||r.email||"",avatar_url:P.avatar_url||""});else{const{data:A}=await ee.from("profiles").select("*").eq("user_id",r.id).maybeSingle();d(A?{name:A.name||"",email:A.email||r.email||"",avatar_url:A.avatar_url||""}:{name:r.user_metadata?.name||"",email:r.email||"",avatar_url:""})}},b=async(P,A)=>{if(r)try{const O={admin_id:r.id,action:P,target_type:"admin_account",target_id:r.id,metadata:A?JSON.parse(JSON.stringify(A)):null};await ee.from("admin_logs").insert([O])}catch{}},y=async P=>{const A=P.target.files?.[0];if(!A||!r){console.error("No file selected or no user logged in");return}if(A.size>2*1024*1024){i({title:"File too large",description:"Please select an image smaller than 2MB.",variant:"destructive"});return}if(!A.type.startsWith("image/")){i({title:"Invalid file type",description:"Please select an image file (JPG, PNG, WebP).",variant:"destructive"});return}x(!0);try{const O=A.name.split(".").pop(),F=`admin-avatars/${`avatar_${r.id}_${Date.now()}.${O}`}`,{error:$}=await ee.storage.from("admin-assets").upload(F,A,{cacheControl:"3600",upsert:!0});if($)throw new Error(`Upload failed: ${$.message}`);const{data:{publicUrl:E}}=ee.storage.from("admin-assets").getPublicUrl(F);d(R=>({...R,avatar_url:E}));const{data:M,error:z}=await ee.functions.invoke("manage-admin",{body:{action:"update_auth",targetUserId:r.id,avatar_url:E}});if(z)throw console.error("Edge function error:",z),new Error(z.message||"Failed to save avatar URL");console.log("Avatar update response:",M),i({title:"Avatar updated",description:"Your profile picture has been updated successfully."})}catch(O){console.error("Avatar upload error:",O),i({title:"Upload failed",description:O.message||"Failed to upload avatar. Please try again.",variant:"destructive"})}finally{x(!1)}},j=async()=>{if(r){d(P=>({...P,avatar_url:""}));try{const{error:P}=await ee.functions.invoke("manage-admin",{body:{action:"update_auth",targetUserId:r.id,avatar_url:null}});if(P)throw P;i({title:"Avatar removed",description:"Your profile picture has been removed."})}catch(P){i({title:"Error",description:P.message||"Failed to remove avatar.",variant:"destructive"})}}},S=async()=>{if(r){l(!0);try{const P=k_e.parse(c),{data:A,error:O}=await ee.functions.invoke("manage-admin",{body:{action:"update_auth",targetUserId:r.id,email:P.email,name:P.name,avatar_url:c.avatar_url}});if(O)throw O;await b("profile_update",{updated_fields:["name","email","avatar_url"]}),i({title:"Profile updated",description:"Account details and authentication updated successfully."})}catch(P){console.error("Profile update error:",P);let A=P instanceof Error?P.message:"Failed to update profile.";P.code==="23505"?A="This email address is already in use by another account.":P.message?.includes("User not found")?A="User account not found. Please log in again.":P.message?.includes("SUPABASE_SERVICE_ROLE_KEY")&&(A="Server configuration error. Please contact support."),i({title:"Update failed",description:A,variant:"destructive"})}finally{l(!1)}}},w=async()=>{if(r){l(!0);try{const P=A_e.parse(u),{data:A,error:O}=await ee.functions.invoke("manage-admin",{body:{action:"update_auth",targetUserId:r.id,password:P.newPassword}});if(O)throw O;await b("password_change"),m({currentPassword:"",newPassword:"",confirmPassword:""}),i({title:"Password updated",description:"Your authentication password has been changed successfully."})}catch(P){console.error("Password update error:",P);const A=P instanceof Error?P.message:"Failed to update password.";A.includes("WeakPassword")||P.message?.includes("weak_password")||A.toLowerCase().includes("password")&&(A.toLowerCase().includes("weak")||A.toLowerCase().includes("compromised"))?i({title:"Password Rejected",description:"The password you chose has been identified as potentially compromised. Please select a stronger, unique password that hasn't been used in data breaches.",variant:"destructive"}):P.message?.includes("SUPABASE_SERVICE_ROLE_KEY")?i({title:"Server Error",description:"Server configuration error. Please contact support.",variant:"destructive"}):i({title:"Error",description:A,variant:"destructive"})}finally{l(!1)}}},_=async P=>{p(P),await b("2fa_toggle",{enabled:P}),i({title:P?"2FA Enabled":"2FA Disabled",description:P?"Two-factor authentication has been enabled.":"Two-factor authentication has been disabled."})},N=async()=>{await b("logout"),await s(),t("/admin/login")},k=async()=>{await b("logout_all_devices"),await ee.auth.signOut({scope:"global"}),t("/admin/login")},C=P=>P.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2);return e.jsx(Br,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-6 max-w-[1200px] mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-admin-foreground",children:"Account Settings"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground mt-1",children:"Manage your admin account and security preferences"})]}),e.jsxs(B,{className:"h-7 px-3 bg-admin-foreground text-admin-background border-0 font-bold uppercase tracking-wider text-xs w-fit",children:[e.jsx(qi,{className:"h-3.5 w-3.5 mr-1.5"}),"Super Admin"]})]}),e.jsxs(G,{className:"border-admin-border shadow-sm",children:[e.jsxs(je,{className:"pb-4 border-b border-admin-border bg-admin-muted/30",children:[e.jsxs(Ne,{className:"flex items-center gap-2.5 text-base font-bold uppercase tracking-wider text-admin-foreground",children:[e.jsx(Oa,{className:"h-5 w-5"}),"Profile Information"]}),e.jsx(er,{className:"text-xs text-admin-muted-foreground",children:"Update your admin profile details"})]}),e.jsxs(Y,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center gap-5 p-5 rounded-xl bg-admin-muted/30 border border-admin-border/50",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(rr,{className:"h-16 w-16 ring-2 ring-admin-border",children:[e.jsx(sr,{src:c.avatar_url}),e.jsx(ar,{className:"bg-admin-foreground text-admin-background text-lg font-semibold",children:C(c.name||"AD")})]}),v&&e.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"h-6 w-6 animate-spin text-white"})})]}),e.jsxs("div",{className:"space-y-1.5 flex-1",children:[e.jsx("p",{className:"text-base font-semibold text-admin-foreground",children:c.name||"Admin User"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:c.email}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(B,{variant:"outline",className:"text-[10px] font-bold uppercase tracking-wider border-admin-border bg-success/10 text-success border-success/30",children:"Active"})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:y,disabled:v}),e.jsx(T,{type:"button",variant:"outline",size:"sm",className:"gap-2",disabled:v,asChild:!0,children:e.jsxs("span",{children:[e.jsx(JD,{className:"h-4 w-4"}),c.avatar_url?"Change":"Upload"]})})]}),c.avatar_url&&e.jsxs(T,{type:"button",variant:"ghost",size:"sm",className:"gap-2 text-destructive hover:text-destructive",onClick:j,disabled:v,children:[e.jsx(ht,{className:"h-4 w-4"}),"Remove"]})]})]}),e.jsx(Ut,{className:"bg-admin-border"}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(K,{htmlFor:"name",className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Full Name"}),e.jsx(ie,{id:"name",value:c.name,onChange:P=>d(A=>({...A,name:P.target.value})),placeholder:"Your name",className:"h-11 bg-admin-card border-admin-border focus:ring-2 focus:ring-admin-foreground/10"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(K,{htmlFor:"email",className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Email Address"}),e.jsx(ie,{id:"email",type:"email",value:c.email,onChange:P=>d(A=>({...A,email:P.target.value})),placeholder:"admin@adorzia.com",className:"h-11 bg-admin-card border-admin-border focus:ring-2 focus:ring-admin-foreground/10"})]})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(K,{className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Admin Role"}),e.jsx(ie,{value:"Super Admin",disabled:!0,className:"h-11 bg-admin-muted/50 border-admin-border text-admin-muted-foreground cursor-not-allowed"}),e.jsx("p",{className:"text-[10px] text-admin-muted-foreground italic",children:"You have full administrative access to the dashboard"})]}),e.jsxs(T,{className:"gap-2 h-11 px-6 bg-admin-foreground text-admin-background hover:bg-admin-foreground/90 font-bold transition-all active:scale-[0.98] shadow-md",onClick:S,disabled:o,children:[o?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(Ka,{className:"h-4 w-4"}),"Save Changes"]})]})]}),e.jsxs(G,{className:"border-admin-border shadow-sm",children:[e.jsxs(je,{className:"pb-4 border-b border-admin-border bg-admin-muted/30",children:[e.jsxs(Ne,{className:"flex items-center gap-2.5 text-base font-bold uppercase tracking-wider text-admin-foreground",children:[e.jsx(iB,{className:"h-5 w-5"}),"Password Management"]}),e.jsx(er,{className:"text-xs text-admin-muted-foreground",children:"Update your password to keep your account secure"})]}),e.jsxs(Y,{className:"space-y-5 p-6",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(K,{htmlFor:"currentPassword",className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Current Password"}),e.jsx(ie,{id:"currentPassword",type:"password",value:u.currentPassword,onChange:P=>m(A=>({...A,currentPassword:P.target.value})),placeholder:"Enter current password",className:"h-11 bg-admin-card border-admin-border focus:ring-2 focus:ring-admin-foreground/10"})]}),e.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(K,{htmlFor:"newPassword",className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"New Password"}),e.jsx(ie,{id:"newPassword",type:"password",value:u.newPassword,onChange:P=>m(A=>({...A,newPassword:P.target.value})),placeholder:"Min 6 characters",className:"h-11 bg-admin-card border-admin-border focus:ring-2 focus:ring-admin-foreground/10"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(K,{htmlFor:"confirmPassword",className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Confirm New Password"}),e.jsx(ie,{id:"confirmPassword",type:"password",value:u.confirmPassword,onChange:P=>m(A=>({...A,confirmPassword:P.target.value})),placeholder:"Confirm password",className:"h-11 bg-admin-card border-admin-border focus:ring-2 focus:ring-admin-foreground/10"})]})]}),e.jsxs(T,{className:"gap-2 h-11 px-6 bg-admin-foreground text-admin-background hover:bg-admin-foreground/90 font-bold transition-all active:scale-[0.98] shadow-md",onClick:w,disabled:o,children:[o&&e.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Update Password"]})]})]}),e.jsxs(G,{className:"border-admin-border shadow-sm",children:[e.jsxs(je,{className:"pb-4 border-b border-admin-border bg-admin-muted/30",children:[e.jsxs(Ne,{className:"flex items-center gap-2.5 text-base font-bold uppercase tracking-wider text-admin-foreground",children:[e.jsx(zD,{className:"h-5 w-5"}),"Two-Factor Authentication"]}),e.jsx(er,{className:"text-xs text-admin-muted-foreground",children:"Add an extra layer of security to your admin account"})]}),e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-5 rounded-xl bg-admin-muted/30 border border-admin-border",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("p",{className:"text-sm font-semibold text-admin-foreground",children:"Enable 2FA"}),e.jsx("p",{className:"text-xs text-admin-muted-foreground max-w-md leading-relaxed",children:"Protect your admin account with two-factor authentication via authenticator app"})]}),e.jsx(Ws,{checked:h,onCheckedChange:_})]}),h&&e.jsx("div",{className:"mt-4 p-4 rounded-xl bg-success/5 border border-success/20",children:e.jsx("p",{className:"text-xs text-admin-foreground leading-relaxed",children:" 2FA is enabled. Use your authenticator app to generate codes when signing in."})})]})]}),e.jsxs(G,{className:"border-admin-border shadow-sm",children:[e.jsxs(je,{className:"pb-4 border-b border-admin-border bg-admin-muted/30",children:[e.jsxs(Ne,{className:"flex items-center gap-2.5 text-base font-bold uppercase tracking-wider text-admin-foreground",children:[e.jsx(Cc,{className:"h-5 w-5"}),"Sessions & Sign Out"]}),e.jsx(er,{className:"text-xs text-admin-muted-foreground",children:"Manage your active sessions and sign out"})]}),e.jsxs(Y,{className:"space-y-4 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(li,{children:[e.jsx(hD,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:"gap-2 h-10 border-admin-border hover:bg-admin-muted transition-all",children:[e.jsx(Ei,{className:"h-4 w-4"}),"Sign Out"]})}),e.jsxs(Nn,{className:"border-admin-border",children:[e.jsxs(_n,{children:[e.jsx(Cn,{className:"text-admin-foreground",children:"Sign out of your account?"}),e.jsx(kn,{className:"text-admin-muted-foreground",children:"You will be signed out of this device and redirected to the login page."})]}),e.jsxs(Sn,{children:[e.jsx(Pn,{className:"border-admin-border",children:"Cancel"}),e.jsx(An,{onClick:N,className:"bg-admin-foreground hover:bg-admin-foreground/90 text-admin-background",children:"Sign Out"})]})]})]}),e.jsxs(li,{children:[e.jsx(hD,{asChild:!0,children:e.jsxs(T,{variant:"destructive",className:"gap-2 h-10 transition-all",children:[e.jsx(Ei,{className:"h-4 w-4"}),"Sign Out of All Devices"]})}),e.jsxs(Nn,{className:"border-admin-border",children:[e.jsxs(_n,{children:[e.jsx(Cn,{className:"text-admin-foreground",children:"Sign out of all devices?"}),e.jsx(kn,{className:"text-admin-muted-foreground",children:"This will sign you out of all devices where you are currently logged in. You will need to sign in again on each device."})]}),e.jsxs(Sn,{children:[e.jsx(Pn,{className:"border-admin-border",children:"Cancel"}),e.jsx(An,{onClick:k,className:"bg-destructive hover:bg-destructive/90",children:"Sign Out Everywhere"})]})]})]})]}),e.jsx(Ut,{className:"bg-admin-border"}),e.jsx("div",{className:"text-[10px] text-admin-muted-foreground italic bg-admin-muted/30 p-3 rounded-lg",children:e.jsx("p",{children:"All account changes are logged for security and audit purposes."})})]})]})]})})}function E_e({stats:t}){const r=[{title:"Total Jobs",value:t.totalJobs,subtitle:`${t.activeJobs} active`,icon:Tn,color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Total Applications",value:t.totalApplications,subtitle:"All time",icon:mt,color:"text-green-500",bg:"bg-green-500/10"},{title:"Pending Reviews",value:t.pendingReviews,subtitle:"Awaiting action",icon:Ze,color:"text-yellow-500",bg:"bg-yellow-500/10"},{title:"Hire Rate",value:`${t.hireRate}%`,subtitle:"Successful hires",icon:ks,color:"text-purple-500",bg:"bg-purple-500/10"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map(s=>e.jsx(G,{className:"border-border/50",children:e.jsx(Y,{className:"p-5",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.title}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:s.value}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.subtitle})]}),e.jsx("div",{className:`p-2.5 rounded-lg ${s.bg}`,children:e.jsx(s.icon,{className:`h-5 w-5 ${s.color}`})})]})})},s.title))})}const _0={title:"",company_name:"",company_logo:"",description:"",location:"",location_type:"remote",job_type:"full_time",salary_min:null,salary_max:null,salary_type:"annual",category:"fashion",requirements:[],benefits:[],tags:[],is_featured:!1,status:"draft",deadline:null,contact_email:"",external_link:""};function T_e({job:t,open:r,onOpenChange:s,onSubmit:a,isSubmitting:n}){const[i,o]=f.useState(_0),[l,c]=f.useState(""),[d,u]=f.useState(""),[m,h]=f.useState("");f.useEffect(()=>{o(t?{..._0,...t,requirements:Array.isArray(t.requirements)?t.requirements:[],benefits:Array.isArray(t.benefits)?t.benefits:[],tags:Array.isArray(t.tags)?t.tags:[]}:_0)},[t,r]);const p=(y,j)=>{o(S=>({...S,[y]:j}))},v=(y,j,S)=>{j.trim()&&(o(w=>({...w,[y]:[...w[y],j.trim()]})),S(""))},x=(y,j)=>{o(S=>({...S,[y]:S[y].filter((w,_)=>_!==j)}))},g=async y=>{y.preventDefault(),await a(i)},b=!!t?.id;return e.jsx(Et,{open:r,onOpenChange:s,children:e.jsx(Pt,{className:"max-w-2xl max-h-[90vh] p-0",children:e.jsx(rn,{className:"max-h-[90vh]",children:e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsx(Lt,{children:e.jsx($t,{children:b?"Edit Job":"Create New Job"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(K,{htmlFor:"title",children:"Job Title *"}),e.jsx(ie,{id:"title",value:i.title,onChange:y=>p("title",y.target.value),placeholder:"e.g., Senior Fashion Designer",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"company",children:"Company Name"}),e.jsx(ie,{id:"company",value:i.company_name||"",onChange:y=>p("company_name",y.target.value),placeholder:"Company name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"logo",children:"Company Logo URL"}),e.jsx(ie,{id:"logo",value:i.company_logo||"",onChange:y=>p("company_logo",y.target.value),placeholder:"https://..."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"description",children:"Job Description"}),e.jsx(nt,{id:"description",value:i.description||"",onChange:y=>p("description",y.target.value),placeholder:"Describe the role, responsibilities, and what makes it exciting...",rows:5})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Category"}),e.jsxs(qe,{value:i.category||"fashion",onValueChange:y=>p("category",y),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"fashion",children:"Fashion"}),e.jsx(X,{value:"textile",children:"Textile"}),e.jsx(X,{value:"jewelry",children:"Jewelry"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Job Type"}),e.jsxs(qe,{value:i.job_type||"full_time",onValueChange:y=>p("job_type",y),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"full_time",children:"Full Time"}),e.jsx(X,{value:"part_time",children:"Part Time"}),e.jsx(X,{value:"contract",children:"Contract"}),e.jsx(X,{value:"freelance",children:"Freelance"}),e.jsx(X,{value:"internship",children:"Internship"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Location Type"}),e.jsxs(qe,{value:i.location_type||"remote",onValueChange:y=>p("location_type",y),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"remote",children:"Remote"}),e.jsx(X,{value:"onsite",children:"On-site"}),e.jsx(X,{value:"hybrid",children:"Hybrid"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"location",children:"Location"}),e.jsx(ie,{id:"location",value:i.location||"",onChange:y=>p("location",y.target.value),placeholder:"City, Country"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"salaryMin",children:"Min Salary"}),e.jsx(ie,{id:"salaryMin",type:"number",value:i.salary_min||"",onChange:y=>p("salary_min",y.target.value?parseInt(y.target.value):null),placeholder:"e.g., 50000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"salaryMax",children:"Max Salary"}),e.jsx(ie,{id:"salaryMax",type:"number",value:i.salary_max||"",onChange:y=>p("salary_max",y.target.value?parseInt(y.target.value):null),placeholder:"e.g., 80000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Salary Type"}),e.jsxs(qe,{value:i.salary_type||"annual",onValueChange:y=>p("salary_type",y),children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"annual",children:"Annual"}),e.jsx(X,{value:"monthly",children:"Monthly"}),e.jsx(X,{value:"hourly",children:"Hourly"}),e.jsx(X,{value:"project",children:"Per Project"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Requirements"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{value:l,onChange:y=>c(y.target.value),placeholder:"Add a requirement...",onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),v("requirements",l,c))}}),e.jsx(T,{type:"button",variant:"outline",size:"icon",onClick:()=>v("requirements",l,c),children:e.jsx(Xt,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.requirements.map((y,j)=>e.jsxs(B,{variant:"secondary",className:"gap-1",children:[y,e.jsx(ht,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>x("requirements",j)})]},j))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Benefits"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{value:d,onChange:y=>u(y.target.value),placeholder:"Add a benefit...",onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),v("benefits",d,u))}}),e.jsx(T,{type:"button",variant:"outline",size:"icon",onClick:()=>v("benefits",d,u),children:e.jsx(Xt,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.benefits.map((y,j)=>e.jsxs(B,{variant:"secondary",className:"gap-1",children:[y,e.jsx(ht,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>x("benefits",j)})]},j))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{value:m,onChange:y=>h(y.target.value),placeholder:"Add a tag...",onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),v("tags",m,h))}}),e.jsx(T,{type:"button",variant:"outline",size:"icon",onClick:()=>v("tags",m,h),children:e.jsx(Xt,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.tags.map((y,j)=>e.jsxs(B,{variant:"outline",className:"gap-1",children:[y,e.jsx(ht,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>x("tags",j)})]},j))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"email",children:"Contact Email"}),e.jsx(ie,{id:"email",type:"email",value:i.contact_email||"",onChange:y=>p("contact_email",y.target.value),placeholder:"hr@company.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"deadline",children:"Application Deadline"}),e.jsx(ie,{id:"deadline",type:"date",value:i.deadline?i.deadline.split("T")[0]:"",onChange:y=>p("deadline",y.target.value?new Date(y.target.value).toISOString():null)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"externalLink",children:"External Application Link"}),e.jsx(ie,{id:"externalLink",type:"url",value:i.external_link||"",onChange:y=>p("external_link",y.target.value),placeholder:"https://company.com/careers/..."})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Status"}),e.jsxs(qe,{value:i.status||"draft",onValueChange:y=>p("status",y),children:[e.jsx(Fe,{className:"w-32",children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"paused",children:"Paused"}),e.jsx(X,{value:"closed",children:"Closed"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{htmlFor:"featured",children:"Featured Job"}),e.jsx(Ws,{id:"featured",checked:i.is_featured||!1,onCheckedChange:y=>p("is_featured",y)})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:n,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:n||!i.title.trim(),children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),b?"Updating...":"Creating..."]}):b?"Update Job":"Create Job"})]})]})})})})}const O_e=t=>{const r={draft:{label:"Draft",className:"bg-gray-500/10 text-gray-500"},active:{label:"Active",className:"bg-green-500/10 text-green-500"},paused:{label:"Paused",className:"bg-yellow-500/10 text-yellow-500"},closed:{label:"Closed",className:"bg-red-500/10 text-red-500"},expired:{label:"Expired",className:"bg-gray-500/10 text-gray-400"}},s=r[t||"draft"]||r.draft;return e.jsx(B,{variant:"outline",className:s.className,children:s.label})},D_e=t=>t?t.replace("_"," ").replace(/\b\w/g,r=>r.toUpperCase()):"Full Time";function R_e({jobs:t,onEdit:r,onDuplicate:s,onDelete:a,onToggleStatus:n,onToggleFeatured:i,onViewApplications:o}){return t.length===0?e.jsx(G,{className:"border-dashed",children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-4",children:e.jsx(mt,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"font-medium mb-1",children:"No jobs found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first job posting to get started"})]})}):e.jsx(G,{children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{className:"w-[300px]",children:"Job"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Type"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-center",children:"Applications"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:t.map(l=>e.jsxs(Ve,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[l.is_featured&&e.jsx(At,{className:"h-4 w-4 text-yellow-500 fill-yellow-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.company_name||"No company"})]})]})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:"capitalize",children:l.category||"fashion"})}),e.jsx(de,{className:"text-muted-foreground",children:D_e(l.job_type)}),e.jsx(de,{children:O_e(l.status)}),e.jsx(de,{className:"text-center",children:e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-1",onClick:()=>o(l.id),children:[e.jsx(mt,{className:"h-3.5 w-3.5"}),l.application_count||0]})}),e.jsx(de,{className:"text-right",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",children:[e.jsxs(Se,{onClick:()=>r(l),children:[e.jsx(ol,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(Se,{onClick:()=>s(l),children:[e.jsx(vd,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),e.jsxs(Se,{onClick:()=>o(l.id),children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View Applications"]}),e.jsx(Ar,{}),e.jsx(Se,{onClick:()=>i(l.id,!l.is_featured),children:l.is_featured?e.jsxs(e.Fragment,{children:[e.jsx(GD,{className:"h-4 w-4 mr-2"}),"Remove Featured"]}):e.jsxs(e.Fragment,{children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Make Featured"]})}),l.status==="active"?e.jsxs(Se,{onClick:()=>n(l.id,"paused"),children:[e.jsx(oB,{className:"h-4 w-4 mr-2"}),"Pause"]}):l.status==="paused"?e.jsxs(Se,{onClick:()=>n(l.id,"active"),children:[e.jsx(qD,{className:"h-4 w-4 mr-2"}),"Activate"]}):l.status==="draft"?e.jsxs(Se,{onClick:()=>n(l.id,"active"),children:[e.jsx(tr,{className:"h-4 w-4 mr-2"}),"Publish"]}):null,e.jsx(Ar,{}),e.jsxs(Se,{className:"text-destructive focus:text-destructive",onClick:()=>a(l.id),children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},l.id))})]})})}const I_e=t=>{const r={applied:{label:"Applied",className:"bg-blue-500/10 text-blue-500"},shortlisted:{label:"Shortlisted",className:"bg-yellow-500/10 text-yellow-500"},rejected:{label:"Rejected",className:"bg-red-500/10 text-red-500"},hired:{label:"Hired",className:"bg-green-500/10 text-green-500"}},s=r[t]||r.applied;return e.jsx(B,{variant:"outline",className:s.className,children:s.label})};function M_e({applications:t,isLoading:r,onUpdateStatus:s,selectedJobId:a,onJobFilter:n,jobs:i}){const[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,m]=f.useState(!1),[h,p]=f.useState(""),[v,x]=f.useState(""),[g,b]=f.useState(""),y=S=>{l(S),p(S.notes||""),x(S.status),b(S.interview_date?S.interview_date.split("T")[0]:""),d(!0)},j=async()=>{if(o){m(!0);try{await s(o.id,v,h,g?new Date(g).toISOString():void 0),d(!1)}finally{m(!1)}}};return r?e.jsx(G,{className:"border-dashed",children:e.jsx(Y,{className:"flex items-center justify-center py-12",children:e.jsx(Ue,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsx("div",{className:"w-64",children:e.jsxs(qe,{value:a||"all",onValueChange:S=>n(S==="all"?null:S),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Filter by job"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"all",children:"All Jobs"}),i.map(S=>e.jsx(X,{value:S.id,children:S.title},S.id))]})]})})}),t.length===0?e.jsx(G,{className:"border-dashed",children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-4",children:e.jsx(Wt,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"font-medium mb-1",children:"No applications found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Applications will appear here when designers apply"})]})}):e.jsx(G,{children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{className:"w-[250px]",children:"Applicant"}),e.jsx(xe,{children:"Job"}),e.jsx(xe,{children:"Applied"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Interview"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:t.map(S=>e.jsxs(Ve,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(rr,{className:"h-8 w-8",children:[e.jsx(sr,{src:S.profiles?.avatar_url||void 0}),e.jsx(ar,{children:S.profiles?.name?.charAt(0)||"U"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:S.profiles?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:S.profiles?.email})]})]})}),e.jsx(de,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:S.jobs?.title||"Unknown Job"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:S.jobs?.company_name})]})}),e.jsx(de,{className:"text-sm text-muted-foreground",children:new Date(S.applied_at).toLocaleDateString()}),e.jsx(de,{children:I_e(S.status)}),e.jsx(de,{className:"text-sm",children:S.interview_date?e.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[e.jsx(Wr,{className:"h-3.5 w-3.5"}),new Date(S.interview_date).toLocaleDateString()]}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(de,{className:"text-right",children:e.jsx(T,{variant:"outline",size:"sm",onClick:()=>y(S),children:"Review"})})]},S.id))})]})}),e.jsx(El,{open:c,onOpenChange:d,children:e.jsxs(Ao,{className:"w-full sm:max-w-lg",children:[e.jsx(qm,{children:e.jsx(zm,{children:"Review Application"})}),o&&e.jsx(rn,{className:"h-[calc(100vh-120px)] pr-4",children:e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(rr,{className:"h-14 w-14",children:[e.jsx(sr,{src:o.profiles?.avatar_url||void 0}),e.jsx(ar,{className:"text-lg",children:o.profiles?.name?.charAt(0)||"U"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:o.profiles?.name||"Unknown"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ms,{className:"h-3.5 w-3.5"}),o.profiles?.email]}),o.profiles?.category&&e.jsxs(B,{variant:"outline",className:"mt-2 capitalize",children:[o.profiles.category," Designer"]})]})]}),e.jsx(Ut,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{className:"text-muted-foreground",children:"Applied for"}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[e.jsx(pd,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.jobs?.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.jobs?.company_name})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Applied:"}),e.jsx("span",{children:new Date(o.applied_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),o.portfolio_url&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{className:"text-muted-foreground",children:"Portfolio"}),e.jsxs("a",{href:o.portfolio_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary hover:underline",children:[e.jsx(xn,{className:"h-4 w-4"}),"View Portfolio"]})]}),e.jsx(Ut,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{className:"text-muted-foreground",children:"Cover Letter"}),e.jsx("div",{className:"p-4 bg-muted/50 rounded-lg",children:e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o.cover_letter||"No cover letter provided."})})]}),e.jsx(Ut,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Status"}),e.jsxs(qe,{value:v,onValueChange:x,children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"applied",children:"Applied"}),e.jsx(X,{value:"shortlisted",children:"Shortlisted"}),e.jsx(X,{value:"rejected",children:"Rejected"}),e.jsx(X,{value:"hired",children:"Hired"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Interview Date"}),e.jsx(ie,{type:"date",value:g,onChange:S=>b(S.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Admin Notes"}),e.jsx(nt,{value:h,onChange:S=>p(S.target.value),placeholder:"Add notes about this application...",rows:4})]}),e.jsx(T,{className:"w-full",onClick:j,disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):"Update Application"})]})]})})]})})]})}const F_e=t=>{switch(t){case"applied":return e.jsx(Wt,{className:"h-4 w-4 text-blue-500"});case"shortlisted":return e.jsx(At,{className:"h-4 w-4 text-yellow-500"});case"rejected":return e.jsx(Rr,{className:"h-4 w-4 text-red-500"});case"hired":return e.jsx(tr,{className:"h-4 w-4 text-green-500"});default:return e.jsx(Tn,{className:"h-4 w-4 text-gray-500"})}},L_e=t=>{const s={applied:{label:"Applied",className:"bg-blue-100 text-blue-700 border-blue-200"},shortlisted:{label:"Shortlisted",className:"bg-yellow-100 text-yellow-700 border-yellow-200"},rejected:{label:"Rejected",className:"bg-red-100 text-red-700 border-red-200"},hired:{label:"Hired",className:"bg-green-100 text-green-700 border-green-200"}}[t];return e.jsx(B,{variant:"outline",className:`text-xs ${s.className}`,children:s.label})},$_e=t=>{const r=new Date,s=new Date(t),a=r.getTime()-s.getTime(),n=Math.floor(a/1e3),i=Math.floor(n/60),o=Math.floor(i/60),l=Math.floor(o/24);return n<60?"Just now":i<60?`${i}m ago`:o<24?`${o}h ago`:l<7?`${l}d ago`:s.toLocaleDateString("en-US",{month:"short",day:"numeric"})};function q_e({applications:t}){const r=t.map(s=>({id:s.id,type:s.status,message:`${s.profiles?.name||"Someone"} ${z_e(s.status)} for ${s.jobs?.title||"a position"}`,timestamp:s.applied_at,applicantName:s.profiles?.name||"Unknown",applicantAvatar:s.profiles?.avatar_url||void 0,jobTitle:s.jobs?.title||"Unknown Job"}));return r.length===0?e.jsxs(G,{className:"border-dashed",children:[e.jsx(je,{className:"pb-3",children:e.jsxs(Ne,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),"Recent Activity"]})}),e.jsx(Y,{children:e.jsxs("div",{className:"text-center py-6 text-muted-foreground text-sm",children:[e.jsx("p",{children:"No recent activity"}),e.jsx("p",{className:"text-xs mt-1",children:"Application updates will appear here"})]})})]}):e.jsxs(G,{children:[e.jsx(je,{className:"pb-3",children:e.jsxs(Ne,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"}),"Recent Activity",e.jsx(B,{variant:"secondary",className:"ml-auto text-xs",children:r.length})]})}),e.jsx(Y,{className:"p-0",children:e.jsx(rn,{className:"h-[200px]",children:e.jsx("div",{className:"space-y-0",children:r.map((s,a)=>e.jsxs("div",{className:`flex items-start gap-3 p-3 hover:bg-muted/50 transition-colors ${a!==r.length-1?"border-b":""}`,children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:F_e(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(rr,{className:"h-6 w-6",children:[e.jsx(sr,{src:s.applicantAvatar}),e.jsx(ar,{className:"text-xs",children:s.applicantName.charAt(0).toUpperCase()})]}),e.jsx("span",{className:"text-sm font-medium truncate",children:s.applicantName}),L_e(s.type)]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:["for ",s.jobTitle]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:$_e(s.timestamp)})]})]},s.id))})})})]})}function z_e(t){switch(t){case"applied":return"applied";case"shortlisted":return"was shortlisted";case"rejected":return"was rejected";case"hired":return"was hired";default:return"applied"}}function B_e(){const{user:t}=ja(),r=ft(),[s,a]=f.useState(!1),[n,i]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState("jobs"),[u,m]=f.useState(!1),[h,p]=f.useState(0),{data:v=[]}=xse(),{data:x=[],isLoading:g}=bse(o),{data:b}=yse(),y={totalJobs:b?.total_jobs??v.length,activeJobs:b?.active_jobs??v.filter(k=>k.status==="active").length,totalApplications:b?.total_applications??x.length,pendingReviews:b?.pending_reviews??x.filter(k=>k.status==="applied").length,hireRate:b?.total_applications?Math.round(b.hired_count/b.total_applications*100):0},j=Nse(),S=_se(),w=Sse(),_=Cse(),N=kse();return f.useEffect(()=>{if(!t)return;const k=ee.channel("admin-jobs-realtime").on("postgres_changes",{event:"*",schema:"public",table:"jobs"},C=>{console.log("[Admin Realtime] Job change:",C),C.eventType==="INSERT"?Re.success("New job created",{description:`"${C.new.title}" has been added`}):C.eventType==="UPDATE"?Re.info("Job updated",{description:`"${C.new.title}" has been modified`}):C.eventType==="DELETE"&&Re.info("Job deleted"),r.invalidateQueries({queryKey:["jobs"]}),r.invalidateQueries({queryKey:["job-application-stats"]})}).on("postgres_changes",{event:"INSERT",schema:"public",table:"job_applications"},C=>{console.log("[Admin Realtime] New application:",C),p(P=>P+1),ee.from("jobs").select("title").eq("id",C.new.job_id).single().then(({data:P})=>{Re.success("New application received!",{description:`Someone applied for "${P?.title||"a job"}"`,action:{label:"View",onClick:()=>{l(C.new.job_id),d("applications")}}})}),r.invalidateQueries({queryKey:["admin-applications"]}),r.invalidateQueries({queryKey:["job-application-stats"]})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"job_applications"},C=>{console.log("[Admin Realtime] Application updated:",C),C.old?.status!==C.new?.status&&(r.invalidateQueries({queryKey:["admin-applications"]}),r.invalidateQueries({queryKey:["job-application-stats"]}))}).subscribe(C=>{console.log("[Admin Realtime] Subscription status:",C),m(C==="SUBSCRIBED")});return()=>{ee.removeChannel(k)}},[t,r]),e.jsx(Br,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-6 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-admin-foreground",children:"Job Portal Management"}),e.jsx(B,{variant:"outline",className:`gap-1.5 text-xs ${u?"text-green-600 border-green-200 bg-green-50":"text-gray-500"}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx(P0,{className:"h-3 w-3"})," Live"]}):e.jsxs(e.Fragment,{children:[e.jsx(QD,{className:"h-3 w-3"})," Offline"]})})]}),e.jsx("p",{className:"text-sm text-admin-muted-foreground mt-1",children:"Manage job listings and review applications"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[h>0&&e.jsxs(B,{variant:"secondary",className:"gap-1.5 cursor-pointer hover:bg-secondary/80",onClick:()=>{p(0),d("applications")},children:[e.jsx(fo,{className:"h-3 w-3"}),h," new application",h>1?"s":""]}),e.jsxs(T,{onClick:()=>{i(null),a(!0)},className:"gap-2 h-10 px-4 bg-admin-foreground text-admin-background hover:bg-admin-foreground/90 transition-all active:scale-[0.98] shadow-md",children:[e.jsx(Xt,{className:"h-4 w-4"}),"New Job Listing"]})]})]}),e.jsx(E_e,{stats:y}),e.jsx(q_e,{applications:x.slice(0,5)}),e.jsxs(Nr,{value:c,onValueChange:d,className:"space-y-6",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-admin-background/80 backdrop-blur-sm py-2 -mx-2 px-2",children:e.jsxs(br,{className:"h-auto gap-2 bg-transparent p-0",children:[e.jsxs(Ee,{value:"jobs",className:"gap-2 data-[state=active]:bg-admin-foreground data-[state=active]:text-admin-background rounded-lg transition-all",children:[e.jsx(Tn,{className:"h-4 w-4"}),"Jobs",e.jsxs("span",{className:"ml-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-admin-muted/30",children:["(",v.length,")"]})]}),e.jsxs(Ee,{value:"applications",className:"gap-2 data-[state=active]:bg-admin-foreground data-[state=active]:text-admin-background rounded-lg transition-all",children:[e.jsx(mt,{className:"h-4 w-4"}),"Applications",e.jsxs("span",{className:"ml-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-admin-muted/30",children:["(",x.length,")"]})]})]})}),e.jsx(Te,{value:"jobs",className:"space-y-4",children:e.jsx(R_e,{jobs:v,onEdit:k=>{i(k),a(!0)},onDuplicate:k=>{const{id:C,...P}=k;i({...P,title:`${k.title} (Copy)`,status:"draft"}),a(!0)},onDelete:k=>S.mutate(k),onToggleStatus:(k,C)=>w.mutate({jobId:k,status:C}),onToggleFeatured:(k,C)=>_.mutate({jobId:k,isFeatured:C}),onViewApplications:k=>{l(k),d("applications")}})}),e.jsx(Te,{value:"applications",className:"space-y-4",children:e.jsx(M_e,{applications:x,isLoading:g,jobs:v.map(k=>({id:k.id,title:k.title})),selectedJobId:o,onJobFilter:l,onUpdateStatus:async(k,C,P,A)=>{t&&await N.mutateAsync({applicationId:k,status:C,notes:P,interviewDate:A,reviewedBy:t.id})}})})]}),e.jsx(T_e,{job:n,open:s,onOpenChange:a,isSubmitting:j.isPending,onSubmit:async k=>{t&&await j.mutateAsync({job:n?.id?{...k,id:n.id}:k,userId:t.id})}})]})})}function U_e(t={}){return Oe({queryKey:["admin-products",t],queryFn:async()=>{let r=ee.from("marketplace_products").select(`
          *,
          marketplace_categories(id, name, slug)
        `).order("created_at",{ascending:!1});t.status&&(r=r.eq("status",t.status)),t.is_adorzia_product!==void 0&&(r=r.eq("is_adorzia_product",t.is_adorzia_product)),t.designer_id&&(r=r.eq("designer_id",t.designer_id)),t.category_id&&(r=r.eq("category_id",t.category_id)),t.search&&(r=r.ilike("title",`%${t.search}%`));const{data:s,error:a}=await r;if(a)throw a;return s}})}function V_e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async s=>{const{data:{user:a}}=await ee.auth.getUser();if(!a)throw new Error("Not authenticated");const{data:n,error:i}=await ee.from("marketplace_products").insert({...s,created_by:a.id}).select().single();if(i)throw i;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-products"]}),t.invalidateQueries({queryKey:["admin-product-stats"]}),r({title:"Product created successfully"})},onError:s=>{r({title:"Error creating product",description:s.message,variant:"destructive"})}})}function W_e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({id:s,updates:a})=>{const{data:n,error:i}=await ee.from("marketplace_products").update(a).eq("id",s).select().single();if(i)throw i;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-products"]}),t.invalidateQueries({queryKey:["admin-product-stats"]}),r({title:"Product updated successfully"})},onError:s=>{r({title:"Error updating product",description:s.message,variant:"destructive"})}})}function H_e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async s=>{const{error:a}=await ee.from("marketplace_products").delete().eq("id",s);if(a)throw a},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-products"]}),t.invalidateQueries({queryKey:["admin-product-stats"]}),r({title:"Product deleted successfully"})},onError:s=>{r({title:"Error deleting product",description:s.message,variant:"destructive"})}})}function K_e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async s=>{const{data:{user:a}}=await ee.auth.getUser();if(!a)throw new Error("Not authenticated");const{data:n,error:i}=await ee.from("marketplace_products").update({status:"live",approved_at:new Date().toISOString(),approved_by:a.id}).eq("id",s).select().single();if(i)throw i;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-products"]}),t.invalidateQueries({queryKey:["admin-product-stats"]}),r({title:"Product approved and published"})},onError:s=>{r({title:"Error approving product",description:s.message,variant:"destructive"})}})}function G_e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async s=>{const{data:a,error:n}=await ee.from("marketplace_products").update({status:"archived"}).eq("id",s).select().single();if(n)throw n;return a},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-products"]}),t.invalidateQueries({queryKey:["admin-product-stats"]}),r({title:"Product rejected"})},onError:s=>{r({title:"Error rejecting product",description:s.message,variant:"destructive"})}})}function Y_e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({productId:s,collectionId:a})=>{const{data:n,error:i}=await ee.from("marketplace_collection_products").insert({product_id:s,collection_id:a}).select().single();if(i)throw i;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-products"]}),t.invalidateQueries({queryKey:["admin-marketplace-collections"]}),r({title:"Product linked to collection"})},onError:s=>{r({title:"Error linking product to collection",description:s.message,variant:"destructive"})}})}function X_e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({collection:s,productId:a})=>{const{data:n,error:i}=await ee.from("marketplace_collections").insert({name:s.name,description:s.description||null,designer_id:s.designer_id||null,slug:s.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),is_active:!0,is_featured:!1}).select().single();if(i)throw i;const{error:o}=await ee.from("marketplace_collection_products").insert({product_id:a,collection_id:n.id});if(o)throw o;return n},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-marketplace-collections"]}),t.invalidateQueries({queryKey:["admin-products"]}),r({title:"Collection created and product linked"})},onError:s=>{r({title:"Error creating collection",description:s.message,variant:"destructive"})}})}function Q_e(t){return Oe({queryKey:["designer-collections",t],queryFn:async()=>{if(!t)return[];const{data:r,error:s}=await ee.from("marketplace_collections").select("*").eq("designer_id",t).eq("is_active",!0).order("name");if(s)throw s;return r||[]},enabled:!!t})}function sz({selectedCount:t,onDelete:r,onActivate:s,onDeactivate:a,onAddToCollection:n,onArchive:i,onClearSelection:o,entityType:l,isDeleting:c=!1}){if(t===0)return null;const d=l==="products"?t===1?"product":"products":l==="collections"?t===1?"collection":"collections":t===1?"designer":"designers";return e.jsx(si,{children:e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:e.jsxs("div",{className:"flex items-center gap-2 bg-admin-foreground text-admin-background px-4 py-3 rounded-xl shadow-2xl border border-admin-foreground/20",children:[e.jsxs("div",{className:"flex items-center gap-2 pr-3 border-r border-admin-background/20",children:[e.jsx(B,{className:"bg-admin-background text-admin-foreground font-semibold text-sm px-2.5 py-0.5 rounded-full",children:t}),e.jsxs("span",{className:"text-sm font-medium text-admin-background/90",children:[d," selected"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[s&&(l==="products"||l==="designers")&&e.jsxs(T,{onClick:s,variant:"ghost",size:"sm",className:"h-8 px-3 text-admin-background/90 hover:text-admin-background hover:bg-admin-background/10 rounded-lg",children:[e.jsx(tr,{className:"h-4 w-4 mr-1.5"}),"Activate"]}),a&&(l==="products"||l==="designers")&&e.jsxs(T,{onClick:a,variant:"ghost",size:"sm",className:"h-8 px-3 text-admin-background/90 hover:text-admin-background hover:bg-admin-background/10 rounded-lg",children:[e.jsx(Rr,{className:"h-4 w-4 mr-1.5"}),"Deactivate"]}),n&&l==="products"&&e.jsxs(T,{onClick:n,variant:"ghost",size:"sm",className:"h-8 px-3 text-admin-background/90 hover:text-admin-background hover:bg-admin-background/10 rounded-lg",children:[e.jsx(As,{className:"h-4 w-4 mr-1.5"}),"Add to Collection"]}),i&&l==="collections"&&e.jsxs(T,{onClick:i,variant:"ghost",size:"sm",className:"h-8 px-3 text-admin-background/90 hover:text-admin-background hover:bg-admin-background/10 rounded-lg",children:[e.jsx(Gp,{className:"h-4 w-4 mr-1.5"}),"Archive"]}),e.jsxs(T,{onClick:r,variant:"ghost",size:"sm",disabled:c,className:"h-8 px-3 text-red-300 hover:text-red-200 hover:bg-red-500/20 rounded-lg",children:[e.jsx(Hr,{className:"h-4 w-4 mr-1.5"}),c?"Deleting...":"Delete"]}),e.jsx("div",{className:"w-px h-5 bg-admin-background/20 mx-1"}),e.jsx(T,{onClick:o,variant:"ghost",size:"icon",className:"h-8 w-8 text-admin-background/70 hover:text-admin-background hover:bg-admin-background/10 rounded-lg",children:e.jsx(ht,{className:"h-4 w-4"})})]})]})})})}const bD={draft:{label:"Draft",variant:"secondary"},pending_review:{label:"Pending Review",variant:"outline"},live:{label:"Live",variant:"default"},rejected:{label:"Rejected",variant:"destructive"},archived:{label:"Archived",variant:"secondary"}};function J_e({filters:t,onEdit:r}){const[s,a]=f.useState(""),[n,i]=f.useState("all"),[o,l]=f.useState("all"),[c,d]=f.useState(new Set),[u,m]=f.useState(null),[h,p]=f.useState(!1),{toast:v}=Ge(),x=ft(),g={...t,...s&&{search:s},...n!=="all"&&{status:n},...o!=="all"&&{designer_id:o}},{data:b,isLoading:y}=U_e(g),j=K_e(),S=G_e(),w=H_e(),{data:_}=Oe({queryKey:["admin-all-designers-filter"],queryFn:async()=>{const{data:R,error:te}=await ee.from("profiles").select("user_id, name, brand_name").not("name","is",null).order("name");if(te)throw te;return R||[]}}),N=b?.map(R=>R.designer_id).filter(Boolean)||[],{data:k}=Oe({queryKey:["admin-product-designers",N],queryFn:async()=>{if(N.length===0)return[];const{data:R,error:te}=await ee.from("profiles").select("user_id, name, brand_name, avatar_url").in("user_id",N);if(te)throw te;return R||[]},enabled:N.length>0}),C=ze({mutationFn:async R=>{const{error:te}=await ee.from("marketplace_products").delete().in("id",R);if(te)throw te},onSuccess:()=>{x.invalidateQueries({queryKey:["admin-products"]}),v({title:`Successfully deleted ${c.size} products`}),d(new Set),p(!1)},onError:R=>{v({title:"Failed to delete products",description:R.message,variant:"destructive"})}}),P=ze({mutationFn:async({ids:R,status:te})=>{const{error:V}=await ee.from("marketplace_products").update({status:te}).in("id",R);if(V)throw V},onSuccess:(R,{status:te})=>{x.invalidateQueries({queryKey:["admin-products"]}),v({title:`Successfully updated ${c.size} products to ${te}`}),d(new Set)},onError:R=>{v({title:"Failed to update products",description:R.message,variant:"destructive"})}}),A=R=>{d(R&&b?new Set(b.map(te=>te.id)):new Set)},O=(R,te)=>{const V=new Set(c);te?V.add(R):V.delete(R),d(V)},I=async()=>{u&&(await w.mutateAsync(u),m(null))},F=()=>{p(!0)},$=()=>{C.mutate(Array.from(c))},E=()=>{P.mutate({ids:Array.from(c),status:"live"})},M=()=>{P.mutate({ids:Array.from(c),status:"draft"})},z=b&&b.length>0&&c.size===b.length;return c.size>0&&c.size<(b?.length||0),y?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(rt,{className:"h-10 flex-1 max-w-sm rounded-lg"}),e.jsx(rt,{className:"h-10 w-32 rounded-lg"}),e.jsx(rt,{className:"h-10 w-40 rounded-lg"})]}),e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((R,te)=>e.jsx(rt,{className:"h-16 w-full rounded-xl"},te))})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-admin-muted-foreground/60"}),e.jsx(ie,{placeholder:"Search products...",value:s,onChange:R=>a(R.target.value),className:"pl-9 h-10 bg-admin-card border-admin-border/60 rounded-lg focus:ring-2 focus:ring-admin-foreground/10 text-admin-foreground"})]}),e.jsxs(qe,{value:n,onValueChange:R=>i(R),children:[e.jsx(Fe,{className:"w-[130px] h-10 bg-admin-card border-admin-border/60 rounded-lg",children:e.jsx(Me,{placeholder:"Status"})}),e.jsxs(Le,{className:"bg-admin-card border-admin-border/60 rounded-lg",children:[e.jsx(X,{value:"all",children:"All Status"}),e.jsx(X,{value:"live",children:"Live"}),e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"archived",children:"Archived"})]})]}),e.jsxs(qe,{value:o,onValueChange:l,children:[e.jsx(Fe,{className:"w-[180px] h-10 bg-admin-card border-admin-border/60 rounded-lg",children:e.jsx(Me,{placeholder:"All Designers"})}),e.jsxs(Le,{className:"bg-admin-card border-admin-border/60 rounded-lg max-h-60",children:[e.jsx(X,{value:"all",children:"All Designers"}),_?.map(R=>e.jsx(X,{value:R.user_id,children:R.brand_name||R.name},R.user_id))]})]})]}),b?.length?e.jsx("div",{className:"border border-admin-border/60 rounded-xl overflow-hidden bg-admin-card shadow-sm",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{className:"bg-admin-muted/50 hover:bg-admin-muted/50",children:[e.jsx(xe,{className:"w-[50px] py-4",children:e.jsx(Ns,{checked:z,onCheckedChange:A,"aria-label":"Select all",className:"data-[state=checked]:bg-admin-foreground data-[state=checked]:border-admin-foreground"})}),e.jsx(xe,{className:"w-[60px] text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Image"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Product"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Designer"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Price"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Stock"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Status"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Created"}),e.jsx(xe,{className:"w-[50px] py-4"})]})}),e.jsx(Xr,{children:b.map(R=>{const te=R.images,V=bD[R.status]||bD.draft,D=k?.find(ae=>ae.user_id===R.designer_id),H=c.has(R.id);return e.jsxs(Ve,{className:`transition-colors hover:bg-admin-muted/30 border-b border-admin-border/50 last:border-b-0 ${H?"bg-admin-muted/20":""}`,children:[e.jsx(de,{className:"py-4",children:e.jsx(Ns,{checked:H,onCheckedChange:ae=>O(R.id,!!ae),"aria-label":`Select ${R.title}`,className:"data-[state=checked]:bg-admin-foreground data-[state=checked]:border-admin-foreground"})}),e.jsx(de,{className:"py-4",children:e.jsx("div",{className:"h-10 w-10 rounded-lg bg-admin-muted/60 overflow-hidden border border-admin-border/30",children:te?.[0]?e.jsx("img",{src:te[0],alt:R.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center",children:e.jsx(Ot,{className:"h-4 w-4 text-admin-muted-foreground/50"})})})}),e.jsxs(de,{className:"py-4",children:[e.jsx("div",{className:"font-semibold text-admin-foreground text-sm truncate max-w-[200px]",children:R.title}),R.sku&&e.jsxs("div",{className:"text-xs text-admin-muted-foreground/70 mt-0.5",children:["SKU: ",R.sku]})]}),e.jsx(de,{className:"py-4",children:R.designer_id&&D?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(rr,{className:"h-7 w-7 rounded-md border border-admin-border/30",children:[e.jsx(sr,{src:D.avatar_url||void 0}),e.jsx(ar,{className:"rounded-md bg-admin-muted text-[10px] font-semibold",children:D.name?.slice(0,2).toUpperCase()})]}),e.jsx("span",{className:"text-xs font-medium text-admin-foreground truncate max-w-[100px]",children:D.brand_name||D.name})]}):R.is_adorzia_product?e.jsx(B,{variant:"default",className:"bg-admin-foreground text-admin-background text-[10px] font-semibold px-2 py-0.5 rounded-full",children:"Adorzia"}):e.jsx("span",{className:"text-xs text-admin-muted-foreground",children:"-"})}),e.jsxs(de,{className:"py-4",children:[e.jsxs("div",{className:"font-semibold text-admin-foreground text-sm",children:["$",R.sale_price||R.price]}),R.sale_price&&e.jsxs("div",{className:"text-xs text-admin-muted-foreground/60 line-through",children:["$",R.price]})]}),e.jsx(de,{className:"py-4",children:e.jsx("span",{className:R.inventory_count===0?"text-destructive font-semibold text-sm":"text-sm text-admin-foreground font-medium",children:R.inventory_count??""})}),e.jsx(de,{className:"py-4",children:e.jsx(B,{variant:V.variant,className:"text-[10px] font-semibold px-2 py-0.5 rounded-full capitalize",children:V.label})}),e.jsx(de,{className:"text-xs text-admin-muted-foreground/80 py-4",children:jn(new Date(R.created_at),{addSuffix:!0})}),e.jsx(de,{className:"py-4",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg hover:bg-admin-muted text-admin-muted-foreground hover:text-admin-foreground transition-colors",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",className:"bg-admin-card border-admin-border/60 rounded-xl shadow-lg p-1.5 min-w-[160px]",children:[e.jsxs(Se,{onClick:()=>r?.(R.id),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(Oi,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"Edit"]}),e.jsxs(Se,{className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(Bt,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"View on Store"]}),e.jsx(Ar,{className:"bg-admin-border/50 my-1.5"}),R.status==="pending_review"&&e.jsxs(e.Fragment,{children:[e.jsxs(Se,{onClick:()=>j.mutate(R.id),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm text-success focus:text-success focus:bg-success/10",children:[e.jsx(gr,{className:"h-4 w-4 mr-2.5"}),"Approve"]}),e.jsxs(Se,{onClick:()=>S.mutate(R.id),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm text-destructive focus:text-destructive focus:bg-destructive/10",children:[e.jsx(ht,{className:"h-4 w-4 mr-2.5"}),"Reject"]}),e.jsx(Ar,{className:"bg-admin-border/50 my-1.5"})]}),e.jsxs(Se,{onClick:()=>m(R.id),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm text-destructive focus:text-destructive focus:bg-destructive/10",children:[e.jsx(Hr,{className:"h-4 w-4 mr-2.5"}),"Delete"]})]})]})})]},R.id)})})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center bg-admin-muted/30 rounded-xl border border-admin-border/50 border-dashed",children:[e.jsx("div",{className:"h-14 w-14 rounded-xl bg-admin-muted/60 flex items-center justify-center mb-4",children:e.jsx(Ot,{className:"h-7 w-7 text-admin-muted-foreground/50"})}),e.jsx("h3",{className:"text-base font-semibold text-admin-foreground",children:"No products found"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground mt-1 max-w-xs",children:s||n!=="all"||o!=="all"?"Try adjusting your search or filters":"Start by adding your first product to the marketplace"})]}),e.jsx(sz,{selectedCount:c.size,onDelete:F,onActivate:E,onDeactivate:M,onClearSelection:()=>d(new Set),entityType:"products",isDeleting:C.isPending}),e.jsx(li,{open:!!u,onOpenChange:()=>m(null),children:e.jsxs(Nn,{className:"bg-admin-card border-admin-border/60 rounded-xl",children:[e.jsxs(_n,{children:[e.jsx(Cn,{className:"text-lg font-semibold text-admin-foreground",children:"Delete Product"}),e.jsx(kn,{className:"text-sm text-admin-muted-foreground",children:"Are you sure you want to delete this product? This action cannot be undone."})]}),e.jsxs(Sn,{className:"gap-2",children:[e.jsx(Pn,{className:"rounded-lg border-admin-border/60 hover:bg-admin-muted transition-colors",children:"Cancel"}),e.jsx(An,{onClick:I,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 rounded-lg",children:"Delete"})]})]})}),e.jsx(li,{open:h,onOpenChange:p,children:e.jsxs(Nn,{className:"bg-admin-card border-admin-border/60 rounded-xl",children:[e.jsxs(_n,{children:[e.jsxs(Cn,{className:"text-lg font-semibold text-admin-foreground",children:["Delete ",c.size," Products"]}),e.jsxs(kn,{className:"text-sm text-admin-muted-foreground",children:["Are you sure you want to delete ",c.size," selected products? This action cannot be undone."]})]}),e.jsxs(Sn,{className:"gap-2",children:[e.jsx(Pn,{className:"rounded-lg border-admin-border/60 hover:bg-admin-muted transition-colors",children:"Cancel"}),e.jsx(An,{onClick:$,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 rounded-lg",disabled:C.isPending,children:C.isPending?"Deleting...":"Delete All"})]})]})})]})}var lh=t=>t.type==="checkbox",el=t=>t instanceof Date,ta=t=>t==null;const az=t=>typeof t=="object";var ts=t=>!ta(t)&&!Array.isArray(t)&&az(t)&&!el(t),nz=t=>ts(t)&&t.target?lh(t.target)?t.target.checked:t.target.value:t,Z_e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,iz=(t,r)=>t.has(Z_e(r)),e1e=t=>{const r=t.constructor&&t.constructor.prototype;return ts(r)&&r.hasOwnProperty("isPrototypeOf")},US=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ys(t){let r;const s=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)r=new Date(t);else if(!(US&&(t instanceof Blob||a))&&(s||ts(t)))if(r=s?[]:{},!s&&!e1e(t))r=t;else for(const n in t)t.hasOwnProperty(n)&&(r[n]=ys(t[n]));else return t;return r}var _g=t=>/^\w*$/.test(t),Zr=t=>t===void 0,VS=t=>Array.isArray(t)?t.filter(Boolean):[],WS=t=>VS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(t,r,s)=>{if(!r||!ts(t))return s;const a=(_g(r)?[r]:WS(r)).reduce((n,i)=>ta(n)?n:n[i],t);return Zr(a)||a===t?Zr(t[r])?s:t[r]:a},Pa=t=>typeof t=="boolean",hr=(t,r,s)=>{let a=-1;const n=_g(r)?[r]:WS(r),i=n.length,o=i-1;for(;++a<i;){const l=n[a];let c=s;if(a!==o){const d=t[l];c=ts(d)||Array.isArray(d)?d:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Mp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ji={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HS=L.createContext(null);HS.displayName="HookFormContext";const Sg=()=>L.useContext(HS),t1e=t=>{const{children:r,...s}=t;return L.createElement(HS.Provider,{value:s},r)};var oz=(t,r,s,a=!0)=>{const n={defaultValues:r._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const o=i;return r._proxyFormState[o]!==fn.all&&(r._proxyFormState[o]=!a||fn.all),s&&(s[o]=!0),t[o]}});return n};const KS=typeof window<"u"?L.useLayoutEffect:L.useEffect;function r1e(t){const r=Sg(),{control:s=r.control,disabled:a,name:n,exact:i}=t||{},[o,l]=L.useState(s._formState),c=L.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return KS(()=>s._subscribe({name:n,formState:c.current,exact:i,callback:d=>{!a&&l({...s._formState,...d})}}),[n,a,i]),L.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),L.useMemo(()=>oz(o,s,c.current,!1),[o,s])}var Xn=t=>typeof t=="string",lz=(t,r,s,a,n)=>Xn(t)?(a&&r.watch.add(t),$e(s,t,n)):Array.isArray(t)?t.map(i=>(a&&r.watch.add(i),$e(s,i))):(a&&(r.watchAll=!0),s),UN=t=>ta(t)||!az(t);function Ni(t,r,s=new WeakSet){if(UN(t)||UN(r))return t===r;if(el(t)&&el(r))return t.getTime()===r.getTime();const a=Object.keys(t),n=Object.keys(r);if(a.length!==n.length)return!1;if(s.has(t)||s.has(r))return!0;s.add(t),s.add(r);for(const i of a){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=r[i];if(el(o)&&el(l)||ts(o)&&ts(l)||Array.isArray(o)&&Array.isArray(l)?!Ni(o,l,s):o!==l)return!1}}return!0}function VN(t){const r=Sg(),{control:s=r.control,name:a,defaultValue:n,disabled:i,exact:o,compute:l}=t||{},c=L.useRef(n),d=L.useRef(l),u=L.useRef(void 0);d.current=l;const m=L.useMemo(()=>s._getWatch(a,c.current),[s,a]),[h,p]=L.useState(d.current?d.current(m):m);return KS(()=>s._subscribe({name:a,formState:{values:!0},exact:o,callback:v=>{if(!i){const x=lz(a,s._names,v.values||s._formValues,!1,c.current);if(d.current){const g=d.current(x);Ni(g,u.current)||(p(g),u.current=g)}else p(x)}}}),[s,i,a,o]),L.useEffect(()=>s._removeUnmounted()),h}function s1e(t){const r=Sg(),{name:s,disabled:a,control:n=r.control,shouldUnregister:i,defaultValue:o}=t,l=iz(n._names.array,s),c=L.useMemo(()=>$e(n._formValues,s,$e(n._defaultValues,s,o)),[n,s,o]),d=VN({control:n,name:s,defaultValue:c,exact:!0}),u=r1e({control:n,name:s,exact:!0}),m=L.useRef(t),h=L.useRef(n.register(s,{...t.rules,value:d,...Pa(t.disabled)?{disabled:t.disabled}:{}}));m.current=t;const p=L.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$e(u.errors,s)},isDirty:{enumerable:!0,get:()=>!!$e(u.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!$e(u.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!$e(u.validatingFields,s)},error:{enumerable:!0,get:()=>$e(u.errors,s)}}),[u,s]),v=L.useCallback(y=>h.current.onChange({target:{value:nz(y),name:s},type:Mp.CHANGE}),[s]),x=L.useCallback(()=>h.current.onBlur({target:{value:$e(n._formValues,s),name:s},type:Mp.BLUR}),[s,n._formValues]),g=L.useCallback(y=>{const j=$e(n._fields,s);j&&y&&(j._f.ref={focus:()=>y.focus&&y.focus(),select:()=>y.select&&y.select(),setCustomValidity:S=>y.setCustomValidity(S),reportValidity:()=>y.reportValidity()})},[n._fields,s]),b=L.useMemo(()=>({name:s,value:d,...Pa(a)||u.disabled?{disabled:u.disabled||a}:{},onChange:v,onBlur:x,ref:g}),[s,a,u.disabled,v,x,g,d]);return L.useEffect(()=>{const y=n._options.shouldUnregister||i;n.register(s,{...m.current.rules,...Pa(m.current.disabled)?{disabled:m.current.disabled}:{}});const j=(S,w)=>{const _=$e(n._fields,S);_&&_._f&&(_._f.mount=w)};if(j(s,!0),y){const S=ys($e(n._options.defaultValues,s));hr(n._defaultValues,s,S),Zr($e(n._formValues,s))&&hr(n._formValues,s,S)}return!l&&n.register(s),()=>{(l?y&&!n._state.action:y)?n.unregister(s):j(s,!1)}},[s,n,l,i]),L.useEffect(()=>{n._setDisabledField({disabled:a,name:s})},[a,s,n]),L.useMemo(()=>({field:b,formState:u,fieldState:p}),[b,u,p])}const a1e=t=>t.render(s1e(t));var cz=(t,r,s,a,n)=>r?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[a]:n||!0}}:{},Cu=t=>Array.isArray(t)?t:[t],yD=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}},ha=t=>ts(t)&&!Object.keys(t).length,GS=t=>t.type==="file",pn=t=>typeof t=="function",Fp=t=>{if(!US)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},dz=t=>t.type==="select-multiple",YS=t=>t.type==="radio",n1e=t=>YS(t)||lh(t),S0=t=>Fp(t)&&t.isConnected;function i1e(t,r){const s=r.slice(0,-1).length;let a=0;for(;a<s;)t=Zr(t)?a++:t[r[a++]];return t}function o1e(t){for(const r in t)if(t.hasOwnProperty(r)&&!Zr(t[r]))return!1;return!0}function is(t,r){const s=Array.isArray(r)?r:_g(r)?[r]:WS(r),a=s.length===1?t:i1e(t,s),n=s.length-1,i=s[n];return a&&delete a[i],n!==0&&(ts(a)&&ha(a)||Array.isArray(a)&&o1e(a))&&is(t,s.slice(0,-1)),t}var uz=t=>{for(const r in t)if(pn(t[r]))return!0;return!1};function Lp(t,r={}){const s=Array.isArray(t);if(ts(t)||s)for(const a in t)Array.isArray(t[a])||ts(t[a])&&!uz(t[a])?(r[a]=Array.isArray(t[a])?[]:{},Lp(t[a],r[a])):ta(t[a])||(r[a]=!0);return r}function mz(t,r,s){const a=Array.isArray(t);if(ts(t)||a)for(const n in t)Array.isArray(t[n])||ts(t[n])&&!uz(t[n])?Zr(r)||UN(s[n])?s[n]=Array.isArray(t[n])?Lp(t[n],[]):{...Lp(t[n])}:mz(t[n],ta(r)?{}:r[n],s[n]):s[n]=!Ni(t[n],r[n]);return s}var ou=(t,r)=>mz(t,r,Lp(r));const jD={value:!1,isValid:!1},wD={value:!0,isValid:!0};var hz=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Zr(t[0].attributes.value)?Zr(t[0].value)||t[0].value===""?wD:{value:t[0].value,isValid:!0}:wD:jD}return jD},fz=(t,{valueAsNumber:r,valueAsDate:s,setValueAs:a})=>Zr(t)?t:r?t===""?NaN:t&&+t:s&&Xn(t)?new Date(t):a?a(t):t;const ND={isValid:!1,value:null};var pz=t=>Array.isArray(t)?t.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,ND):ND;function _D(t){const r=t.ref;return GS(r)?r.files:YS(r)?pz(t.refs).value:dz(r)?[...r.selectedOptions].map(({value:s})=>s):lh(r)?hz(t.refs).value:fz(Zr(r.value)?t.ref.value:r.value,t)}var l1e=(t,r,s,a)=>{const n={};for(const i of t){const o=$e(r,i);o&&hr(n,i,o._f)}return{criteriaMode:s,names:[...t],fields:n,shouldUseNativeValidation:a}},$p=t=>t instanceof RegExp,lu=t=>Zr(t)?t:$p(t)?t.source:ts(t)?$p(t.value)?t.value.source:t.value:t,SD=t=>({isOnSubmit:!t||t===fn.onSubmit,isOnBlur:t===fn.onBlur,isOnChange:t===fn.onChange,isOnAll:t===fn.all,isOnTouch:t===fn.onTouched});const CD="AsyncFunction";var c1e=t=>!!t&&!!t.validate&&!!(pn(t.validate)&&t.validate.constructor.name===CD||ts(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===CD)),d1e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),kD=(t,r,s)=>!s&&(r.watchAll||r.watch.has(t)||[...r.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const ku=(t,r,s,a)=>{for(const n of s||Object.keys(t)){const i=$e(t,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],n)&&!a)return!0;if(o.ref&&r(o.ref,o.name)&&!a)return!0;if(ku(l,r))break}else if(ts(l)&&ku(l,r))break}}};function AD(t,r,s){const a=$e(t,s);if(a||_g(s))return{error:a,name:s};const n=s.split(".");for(;n.length;){const i=n.join("."),o=$e(r,i),l=$e(t,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:s}}var u1e=(t,r,s,a)=>{s(t);const{name:n,...i}=t;return ha(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!a||fn.all))},m1e=(t,r,s)=>!t||!r||t===r||Cu(t).some(a=>a&&(s?a===r:a.startsWith(r)||r.startsWith(a))),h1e=(t,r,s,a,n)=>n.isOnAll?!1:!s&&n.isOnTouch?!(r||t):(s?a.isOnBlur:n.isOnBlur)?!t:(s?a.isOnChange:n.isOnChange)?t:!0,f1e=(t,r)=>!VS($e(t,r)).length&&is(t,r),p1e=(t,r,s)=>{const a=Cu($e(t,s));return hr(a,"root",r[s]),hr(t,s,a),t},tf=t=>Xn(t);function PD(t,r,s="validate"){if(tf(t)||Array.isArray(t)&&t.every(tf)||Pa(t)&&!t)return{type:s,message:tf(t)?t:"",ref:r}}var Zl=t=>ts(t)&&!$p(t)?t:{value:t,message:""},ED=async(t,r,s,a,n,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:m,max:h,pattern:p,validate:v,name:x,valueAsNumber:g,mount:b}=t._f,y=$e(s,x);if(!b||r.has(x))return{};const j=l?l[0]:o,S=O=>{n&&j.reportValidity&&(j.setCustomValidity(Pa(O)?"":O||""),j.reportValidity())},w={},_=YS(o),N=lh(o),k=_||N,C=(g||GS(o))&&Zr(o.value)&&Zr(y)||Fp(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=cz.bind(null,x,a,w),A=(O,I,F,$=ji.maxLength,E=ji.minLength)=>{const M=O?I:F;w[x]={type:O?$:E,message:M,ref:o,...P(O?$:E,M)}};if(i?!Array.isArray(y)||!y.length:c&&(!k&&(C||ta(y))||Pa(y)&&!y||N&&!hz(l).isValid||_&&!pz(l).isValid)){const{value:O,message:I}=tf(c)?{value:!!c,message:c}:Zl(c);if(O&&(w[x]={type:ji.required,message:I,ref:j,...P(ji.required,I)},!a))return S(I),w}if(!C&&(!ta(m)||!ta(h))){let O,I;const F=Zl(h),$=Zl(m);if(!ta(y)&&!isNaN(y)){const E=o.valueAsNumber||y&&+y;ta(F.value)||(O=E>F.value),ta($.value)||(I=E<$.value)}else{const E=o.valueAsDate||new Date(y),M=te=>new Date(new Date().toDateString()+" "+te),z=o.type=="time",R=o.type=="week";Xn(F.value)&&y&&(O=z?M(y)>M(F.value):R?y>F.value:E>new Date(F.value)),Xn($.value)&&y&&(I=z?M(y)<M($.value):R?y<$.value:E<new Date($.value))}if((O||I)&&(A(!!O,F.message,$.message,ji.max,ji.min),!a))return S(w[x].message),w}if((d||u)&&!C&&(Xn(y)||i&&Array.isArray(y))){const O=Zl(d),I=Zl(u),F=!ta(O.value)&&y.length>+O.value,$=!ta(I.value)&&y.length<+I.value;if((F||$)&&(A(F,O.message,I.message),!a))return S(w[x].message),w}if(p&&!C&&Xn(y)){const{value:O,message:I}=Zl(p);if($p(O)&&!y.match(O)&&(w[x]={type:ji.pattern,message:I,ref:o,...P(ji.pattern,I)},!a))return S(I),w}if(v){if(pn(v)){const O=await v(y,s),I=PD(O,j);if(I&&(w[x]={...I,...P(ji.validate,I.message)},!a))return S(I.message),w}else if(ts(v)){let O={};for(const I in v){if(!ha(O)&&!a)break;const F=PD(await v[I](y,s),j,I);F&&(O={...F,...P(I,F.message)},S(F.message),a&&(w[x]=O))}if(!ha(O)&&(w[x]={ref:j,...O},!a))return w}}return S(!0),w};const x1e={mode:fn.onSubmit,reValidateMode:fn.onChange,shouldFocusError:!0};function g1e(t={}){let r={...x1e,...t},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:pn(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},n=ts(r.defaultValues)||ts(r.values)?ys(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:ys(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const h={array:yD(),state:yD()},p=r.criteriaMode===fn.all,v=Z=>oe=>{clearTimeout(d),d=setTimeout(Z,oe)},x=async Z=>{if(!r.disabled&&(u.isValid||m.isValid||Z)){const oe=r.resolver?ha((await N()).errors):await C(a,!0);oe!==s.isValid&&h.state.next({isValid:oe})}},g=(Z,oe)=>{!r.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((Z||Array.from(l.mount)).forEach(me=>{me&&(oe?hr(s.validatingFields,me,oe):is(s.validatingFields,me))}),h.state.next({validatingFields:s.validatingFields,isValidating:!ha(s.validatingFields)}))},b=(Z,oe=[],me,Pe,ke=!0,ce=!0)=>{if(Pe&&me&&!r.disabled){if(o.action=!0,ce&&Array.isArray($e(a,Z))){const be=me($e(a,Z),Pe.argA,Pe.argB);ke&&hr(a,Z,be)}if(ce&&Array.isArray($e(s.errors,Z))){const be=me($e(s.errors,Z),Pe.argA,Pe.argB);ke&&hr(s.errors,Z,be),f1e(s.errors,Z)}if((u.touchedFields||m.touchedFields)&&ce&&Array.isArray($e(s.touchedFields,Z))){const be=me($e(s.touchedFields,Z),Pe.argA,Pe.argB);ke&&hr(s.touchedFields,Z,be)}(u.dirtyFields||m.dirtyFields)&&(s.dirtyFields=ou(n,i)),h.state.next({name:Z,isDirty:A(Z,oe),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else hr(i,Z,oe)},y=(Z,oe)=>{hr(s.errors,Z,oe),h.state.next({errors:s.errors})},j=Z=>{s.errors=Z,h.state.next({errors:s.errors,isValid:!1})},S=(Z,oe,me,Pe)=>{const ke=$e(a,Z);if(ke){const ce=$e(i,Z,Zr(me)?$e(n,Z):me);Zr(ce)||Pe&&Pe.defaultChecked||oe?hr(i,Z,oe?ce:_D(ke._f)):F(Z,ce),o.mount&&x()}},w=(Z,oe,me,Pe,ke)=>{let ce=!1,be=!1;const He={name:Z};if(!r.disabled){if(!me||Pe){(u.isDirty||m.isDirty)&&(be=s.isDirty,s.isDirty=He.isDirty=A(),ce=be!==He.isDirty);const pt=Ni($e(n,Z),oe);be=!!$e(s.dirtyFields,Z),pt?is(s.dirtyFields,Z):hr(s.dirtyFields,Z,!0),He.dirtyFields=s.dirtyFields,ce=ce||(u.dirtyFields||m.dirtyFields)&&be!==!pt}if(me){const pt=$e(s.touchedFields,Z);pt||(hr(s.touchedFields,Z,me),He.touchedFields=s.touchedFields,ce=ce||(u.touchedFields||m.touchedFields)&&pt!==me)}ce&&ke&&h.state.next(He)}return ce?He:{}},_=(Z,oe,me,Pe)=>{const ke=$e(s.errors,Z),ce=(u.isValid||m.isValid)&&Pa(oe)&&s.isValid!==oe;if(r.delayError&&me?(c=v(()=>y(Z,me)),c(r.delayError)):(clearTimeout(d),c=null,me?hr(s.errors,Z,me):is(s.errors,Z)),(me?!Ni(ke,me):ke)||!ha(Pe)||ce){const be={...Pe,...ce&&Pa(oe)?{isValid:oe}:{},errors:s.errors,name:Z};s={...s,...be},h.state.next(be)}},N=async Z=>{g(Z,!0);const oe=await r.resolver(i,r.context,l1e(Z||l.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return g(Z),oe},k=async Z=>{const{errors:oe}=await N(Z);if(Z)for(const me of Z){const Pe=$e(oe,me);Pe?hr(s.errors,me,Pe):is(s.errors,me)}else s.errors=oe;return oe},C=async(Z,oe,me={valid:!0})=>{for(const Pe in Z){const ke=Z[Pe];if(ke){const{_f:ce,...be}=ke;if(ce){const He=l.array.has(ce.name),pt=ke._f&&c1e(ke._f);pt&&u.validatingFields&&g([Pe],!0);const mr=await ED(ke,l.disabled,i,p,r.shouldUseNativeValidation&&!oe,He);if(pt&&u.validatingFields&&g([Pe]),mr[ce.name]&&(me.valid=!1,oe))break;!oe&&($e(mr,ce.name)?He?p1e(s.errors,mr,ce.name):hr(s.errors,ce.name,mr[ce.name]):is(s.errors,ce.name))}!ha(be)&&await C(be,oe,me)}}return me.valid},P=()=>{for(const Z of l.unMount){const oe=$e(a,Z);oe&&(oe._f.refs?oe._f.refs.every(me=>!S0(me)):!S0(oe._f.ref))&&Q(Z)}l.unMount=new Set},A=(Z,oe)=>!r.disabled&&(Z&&oe&&hr(i,Z,oe),!Ni(te(),n)),O=(Z,oe,me)=>lz(Z,l,{...o.mount?i:Zr(oe)?n:Xn(Z)?{[Z]:oe}:oe},me,oe),I=Z=>VS($e(o.mount?i:n,Z,r.shouldUnregister?$e(n,Z,[]):[])),F=(Z,oe,me={})=>{const Pe=$e(a,Z);let ke=oe;if(Pe){const ce=Pe._f;ce&&(!ce.disabled&&hr(i,Z,fz(oe,ce)),ke=Fp(ce.ref)&&ta(oe)?"":oe,dz(ce.ref)?[...ce.ref.options].forEach(be=>be.selected=ke.includes(be.value)):ce.refs?lh(ce.ref)?ce.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(ke)?be.checked=!!ke.find(He=>He===be.value):be.checked=ke===be.value||!!ke)}):ce.refs.forEach(be=>be.checked=be.value===ke):GS(ce.ref)?ce.ref.value="":(ce.ref.value=ke,ce.ref.type||h.state.next({name:Z,values:ys(i)})))}(me.shouldDirty||me.shouldTouch)&&w(Z,ke,me.shouldTouch,me.shouldDirty,!0),me.shouldValidate&&R(Z)},$=(Z,oe,me)=>{for(const Pe in oe){if(!oe.hasOwnProperty(Pe))return;const ke=oe[Pe],ce=Z+"."+Pe,be=$e(a,ce);(l.array.has(Z)||ts(ke)||be&&!be._f)&&!el(ke)?$(ce,ke,me):F(ce,ke,me)}},E=(Z,oe,me={})=>{const Pe=$e(a,Z),ke=l.array.has(Z),ce=ys(oe);hr(i,Z,ce),ke?(h.array.next({name:Z,values:ys(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&me.shouldDirty&&h.state.next({name:Z,dirtyFields:ou(n,i),isDirty:A(Z,ce)})):Pe&&!Pe._f&&!ta(ce)?$(Z,ce,me):F(Z,ce,me),kD(Z,l)&&h.state.next({...s,name:Z}),h.state.next({name:o.mount?Z:void 0,values:ys(i)})},M=async Z=>{o.mount=!0;const oe=Z.target;let me=oe.name,Pe=!0;const ke=$e(a,me),ce=pt=>{Pe=Number.isNaN(pt)||el(pt)&&isNaN(pt.getTime())||Ni(pt,$e(i,me,pt))},be=SD(r.mode),He=SD(r.reValidateMode);if(ke){let pt,mr;const Kt=oe.type?_D(ke._f):nz(Z),Es=Z.type===Mp.BLUR||Z.type===Mp.FOCUS_OUT,In=!d1e(ke._f)&&!r.resolver&&!$e(s.errors,me)&&!ke._f.deps||h1e(Es,$e(s.touchedFields,me),s.isSubmitted,He,be),qt=kD(me,l,Es);hr(i,me,Kt),Es?(ke._f.onBlur&&ke._f.onBlur(Z),c&&c(0)):ke._f.onChange&&ke._f.onChange(Z);const Qr=w(me,Kt,Es),nr=!ha(Qr)||qt;if(!Es&&h.state.next({name:me,type:Z.type,values:ys(i)}),In)return(u.isValid||m.isValid)&&(r.mode==="onBlur"?Es&&x():Es||x()),nr&&h.state.next({name:me,...qt?{}:Qr});if(!Es&&qt&&h.state.next({...s}),r.resolver){const{errors:ne}=await N([me]);if(ce(Kt),Pe){const ye=AD(s.errors,a,me),lt=AD(ne,a,ye.name||me);pt=lt.error,me=lt.name,mr=ha(ne)}}else g([me],!0),pt=(await ED(ke,l.disabled,i,p,r.shouldUseNativeValidation))[me],g([me]),ce(Kt),Pe&&(pt?mr=!1:(u.isValid||m.isValid)&&(mr=await C(a,!0)));Pe&&(ke._f.deps&&R(ke._f.deps),_(me,mr,pt,Qr))}},z=(Z,oe)=>{if($e(s.errors,oe)&&Z.focus)return Z.focus(),1},R=async(Z,oe={})=>{let me,Pe;const ke=Cu(Z);if(r.resolver){const ce=await k(Zr(Z)?Z:ke);me=ha(ce),Pe=Z?!ke.some(be=>$e(ce,be)):me}else Z?(Pe=(await Promise.all(ke.map(async ce=>{const be=$e(a,ce);return await C(be&&be._f?{[ce]:be}:be)}))).every(Boolean),!(!Pe&&!s.isValid)&&x()):Pe=me=await C(a);return h.state.next({...!Xn(Z)||(u.isValid||m.isValid)&&me!==s.isValid?{}:{name:Z},...r.resolver||!Z?{isValid:me}:{},errors:s.errors}),oe.shouldFocus&&!Pe&&ku(a,z,Z?ke:l.mount),Pe},te=Z=>{const oe={...o.mount?i:n};return Zr(Z)?oe:Xn(Z)?$e(oe,Z):Z.map(me=>$e(oe,me))},V=(Z,oe)=>({invalid:!!$e((oe||s).errors,Z),isDirty:!!$e((oe||s).dirtyFields,Z),error:$e((oe||s).errors,Z),isValidating:!!$e(s.validatingFields,Z),isTouched:!!$e((oe||s).touchedFields,Z)}),D=Z=>{Z&&Cu(Z).forEach(oe=>is(s.errors,oe)),h.state.next({errors:Z?s.errors:{}})},H=(Z,oe,me)=>{const Pe=($e(a,Z,{_f:{}})._f||{}).ref,ke=$e(s.errors,Z)||{},{ref:ce,message:be,type:He,...pt}=ke;hr(s.errors,Z,{...pt,...oe,ref:Pe}),h.state.next({name:Z,errors:s.errors,isValid:!1}),me&&me.shouldFocus&&Pe&&Pe.focus&&Pe.focus()},ae=(Z,oe)=>pn(Z)?h.state.subscribe({next:me=>"values"in me&&Z(O(void 0,oe),me)}):O(Z,oe,!0),U=Z=>h.state.subscribe({next:oe=>{m1e(Z.name,oe.name,Z.exact)&&u1e(oe,Z.formState||u,Jt,Z.reRenderRoot)&&Z.callback({values:{...i},...s,...oe,defaultValues:n})}}).unsubscribe,se=Z=>(o.mount=!0,m={...m,...Z.formState},U({...Z,formState:m})),Q=(Z,oe={})=>{for(const me of Z?Cu(Z):l.mount)l.mount.delete(me),l.array.delete(me),oe.keepValue||(is(a,me),is(i,me)),!oe.keepError&&is(s.errors,me),!oe.keepDirty&&is(s.dirtyFields,me),!oe.keepTouched&&is(s.touchedFields,me),!oe.keepIsValidating&&is(s.validatingFields,me),!r.shouldUnregister&&!oe.keepDefaultValue&&is(n,me);h.state.next({values:ys(i)}),h.state.next({...s,...oe.keepDirty?{isDirty:A()}:{}}),!oe.keepIsValid&&x()},pe=({disabled:Z,name:oe})=>{(Pa(Z)&&o.mount||Z||l.disabled.has(oe))&&(Z?l.disabled.add(oe):l.disabled.delete(oe))},le=(Z,oe={})=>{let me=$e(a,Z);const Pe=Pa(oe.disabled)||Pa(r.disabled);return hr(a,Z,{...me||{},_f:{...me&&me._f?me._f:{ref:{name:Z}},name:Z,mount:!0,...oe}}),l.mount.add(Z),me?pe({disabled:Pa(oe.disabled)?oe.disabled:r.disabled,name:Z}):S(Z,!0,oe.value),{...Pe?{disabled:oe.disabled||r.disabled}:{},...r.progressive?{required:!!oe.required,min:lu(oe.min),max:lu(oe.max),minLength:lu(oe.minLength),maxLength:lu(oe.maxLength),pattern:lu(oe.pattern)}:{},name:Z,onChange:M,onBlur:M,ref:ke=>{if(ke){le(Z,oe),me=$e(a,Z);const ce=Zr(ke.value)&&ke.querySelectorAll&&ke.querySelectorAll("input,select,textarea")[0]||ke,be=n1e(ce),He=me._f.refs||[];if(be?He.find(pt=>pt===ce):ce===me._f.ref)return;hr(a,Z,{_f:{...me._f,...be?{refs:[...He.filter(S0),ce,...Array.isArray($e(n,Z))?[{}]:[]],ref:{type:ce.type,name:Z}}:{ref:ce}}}),S(Z,!1,void 0,ce)}else me=$e(a,Z,{}),me._f&&(me._f.mount=!1),(r.shouldUnregister||oe.shouldUnregister)&&!(iz(l.array,Z)&&o.action)&&l.unMount.add(Z)}}},ue=()=>r.shouldFocusError&&ku(a,z,l.mount),De=Z=>{Pa(Z)&&(h.state.next({disabled:Z}),ku(a,(oe,me)=>{const Pe=$e(a,me);Pe&&(oe.disabled=Pe._f.disabled||Z,Array.isArray(Pe._f.refs)&&Pe._f.refs.forEach(ke=>{ke.disabled=Pe._f.disabled||Z}))},0,!1))},he=(Z,oe)=>async me=>{let Pe;me&&(me.preventDefault&&me.preventDefault(),me.persist&&me.persist());let ke=ys(i);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:ce,values:be}=await N();s.errors=ce,ke=ys(be)}else await C(a);if(l.disabled.size)for(const ce of l.disabled)is(ke,ce);if(is(s.errors,"root"),ha(s.errors)){h.state.next({errors:{}});try{await Z(ke,me)}catch(ce){Pe=ce}}else oe&&await oe({...s.errors},me),ue(),setTimeout(ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ha(s.errors)&&!Pe,submitCount:s.submitCount+1,errors:s.errors}),Pe)throw Pe},st=(Z,oe={})=>{$e(a,Z)&&(Zr(oe.defaultValue)?E(Z,ys($e(n,Z))):(E(Z,oe.defaultValue),hr(n,Z,ys(oe.defaultValue))),oe.keepTouched||is(s.touchedFields,Z),oe.keepDirty||(is(s.dirtyFields,Z),s.isDirty=oe.defaultValue?A(Z,ys($e(n,Z))):A()),oe.keepError||(is(s.errors,Z),u.isValid&&x()),h.state.next({...s}))},Qe=(Z,oe={})=>{const me=Z?ys(Z):n,Pe=ys(me),ke=ha(Z),ce=ke?n:Pe;if(oe.keepDefaultValues||(n=me),!oe.keepValues){if(oe.keepDirtyValues){const be=new Set([...l.mount,...Object.keys(ou(n,i))]);for(const He of Array.from(be))$e(s.dirtyFields,He)?hr(ce,He,$e(i,He)):E(He,$e(ce,He))}else{if(US&&Zr(Z))for(const be of l.mount){const He=$e(a,be);if(He&&He._f){const pt=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(Fp(pt)){const mr=pt.closest("form");if(mr){mr.reset();break}}}}if(oe.keepFieldsRef)for(const be of l.mount)E(be,$e(ce,be));else a={}}i=r.shouldUnregister?oe.keepDefaultValues?ys(n):{}:ys(ce),h.array.next({values:{...ce}}),h.state.next({values:{...ce}})}l={mount:oe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues,o.watch=!!r.shouldUnregister,h.state.next({submitCount:oe.keepSubmitCount?s.submitCount:0,isDirty:ke?!1:oe.keepDirty?s.isDirty:!!(oe.keepDefaultValues&&!Ni(Z,n)),isSubmitted:oe.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:ke?{}:oe.keepDirtyValues?oe.keepDefaultValues&&i?ou(n,i):s.dirtyFields:oe.keepDefaultValues&&Z?ou(n,Z):oe.keepDirty?s.dirtyFields:{},touchedFields:oe.keepTouched?s.touchedFields:{},errors:oe.keepErrors?s.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Ct=(Z,oe)=>Qe(pn(Z)?Z(i):Z,oe),Tt=(Z,oe={})=>{const me=$e(a,Z),Pe=me&&me._f;if(Pe){const ke=Pe.refs?Pe.refs[0]:Pe.ref;ke.focus&&(ke.focus(),oe.shouldSelect&&pn(ke.select)&&ke.select())}},Jt=Z=>{s={...s,...Z}},Er={control:{register:le,unregister:Q,getFieldState:V,handleSubmit:he,setError:H,_subscribe:U,_runSchema:N,_focusError:ue,_getWatch:O,_getDirty:A,_setValid:x,_setFieldArray:b,_setDisabledField:pe,_setErrors:j,_getFieldArray:I,_reset:Qe,_resetDefaultValues:()=>pn(r.defaultValues)&&r.defaultValues().then(Z=>{Ct(Z,r.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:De,_subjects:h,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(Z){o=Z},get _defaultValues(){return n},get _names(){return l},set _names(Z){l=Z},get _formState(){return s},get _options(){return r},set _options(Z){r={...r,...Z}}},subscribe:se,trigger:R,register:le,handleSubmit:he,watch:ae,setValue:E,getValues:te,reset:Ct,resetField:st,clearErrors:D,unregister:Q,setError:H,setFocus:Tt,getFieldState:V};return{...Er,formControl:Er}}function v1e(t={}){const r=L.useRef(void 0),s=L.useRef(void 0),[a,n]=L.useState({isDirty:!1,isValidating:!1,isLoading:pn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:pn(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:a},t.defaultValues&&!pn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=g1e(t);r.current={...l,formState:a}}const i=r.current.control;return i._options=t,KS(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),L.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),L.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),L.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),L.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),L.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),L.useEffect(()=>{t.values&&!Ni(t.values,s.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),s.current=t.values,n(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),L.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=oz(a,i),r.current}const TD=(t,r,s)=>{if(t&&"reportValidity"in t){const a=$e(s,r);t.setCustomValidity(a&&a.message||""),t.reportValidity()}},xz=(t,r)=>{for(const s in r.fields){const a=r.fields[s];a&&a.ref&&"reportValidity"in a.ref?TD(a.ref,s,t):a.refs&&a.refs.forEach(n=>TD(n,s,t))}},b1e=(t,r)=>{r.shouldUseNativeValidation&&xz(t,r);const s={};for(const a in t){const n=$e(r.fields,a),i=Object.assign(t[a]||{},{ref:n&&n.ref});if(y1e(r.names||Object.keys(t),a)){const o=Object.assign({},$e(s,a));hr(o,"root",i),hr(s,a,o)}else hr(s,a,i)}return s},y1e=(t,r)=>t.some(s=>s.startsWith(r+"."));var j1e=function(t,r){for(var s={};t.length;){var a=t[0],n=a.code,i=a.message,o=a.path.join(".");if(!s[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:n};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return t.push(m)})}),r){var c=s[o].types,d=c&&c[a.code];s[o]=cz(o,r,s,n,d?[].concat(d,a.message):a.message)}t.shift()}return s},w1e=function(t,r,s){return s===void 0&&(s={}),function(a,n,i){try{return Promise.resolve((function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](a,r)).then(function(d){return i.shouldUseNativeValidation&&xz({},i),{errors:{},values:s.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c})(0,function(o){if((function(l){return Array.isArray(l?.errors)})(o))return{values:{},errors:b1e(j1e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const N1e=t1e,gz=f.createContext({}),gs=({...t})=>e.jsx(gz.Provider,{value:{name:t.name},children:e.jsx(a1e,{...t})}),Cg=()=>{const t=f.useContext(gz),r=f.useContext(vz),{getFieldState:s,formState:a}=Sg(),n=s(t.name,a);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},vz=f.createContext({}),as=f.forwardRef(({className:t,...r},s)=>{const a=f.useId();return e.jsx(vz.Provider,{value:{id:a},children:e.jsx("div",{ref:s,className:q("space-y-2",t),...r})})});as.displayName="FormItem";const bs=f.forwardRef(({className:t,...r},s)=>{const{error:a,formItemId:n}=Cg();return e.jsx(K,{ref:s,className:q(a&&"text-destructive",t),htmlFor:n,...r})});bs.displayName="FormLabel";const ns=f.forwardRef(({...t},r)=>{const{error:s,formItemId:a,formDescriptionId:n,formMessageId:i}=Cg();return e.jsx(ko,{ref:r,id:a,"aria-describedby":s?`${n} ${i}`:`${n}`,"aria-invalid":!!s,...t})});ns.displayName="FormControl";const ac=f.forwardRef(({className:t,...r},s)=>{const{formDescriptionId:a}=Cg();return e.jsx("p",{ref:s,id:a,className:q("text-sm text-muted-foreground",t),...r})});ac.displayName="FormDescription";const Ts=f.forwardRef(({className:t,children:r,...s},a)=>{const{error:n,formMessageId:i}=Cg(),o=n?String(n?.message):r;return o?e.jsx("p",{ref:a,id:i,className:q("text-sm font-medium text-destructive",t),...s,children:o}):null});Ts.displayName="FormMessage";function _1e(){return Oe({queryKey:["admin-designers"],queryFn:async()=>{const{data:t,error:r}=await ee.from("profiles").select("user_id, name, brand_name, email, avatar_url").not("name","is",null).order("name",{ascending:!0});if(r)throw r;return(t||[]).map(s=>({id:s.user_id,name:s.name||"Unknown Designer",brand_name:s.brand_name||void 0,email:s.email||"",avatar_url:s.avatar_url||void 0}))}})}const S1e=an({title:It().min(1,"Title is required"),description:It().optional(),price:Nh.number().min(0,"Price must be positive"),sale_price:Nh.number().optional().nullable(),sku:It().optional(),inventory_count:Nh.number().optional().nullable(),category_id:It().optional().nullable(),designer_id:It().optional().nullable(),status:hw(["draft","live","archived","pending_review","rejected"]),materials:It().optional(),care_instructions:It().optional(),images:KQ(It()).default([]),is_made_to_order:IC().default(!1),is_limited_edition:IC().default(!1),edition_size:Nh.number().optional().nullable(),collection_action:hw(["none","existing","new"]).default("none"),collection_id:It().optional().nullable(),new_collection_name:It().optional(),new_collection_description:It().optional()}).refine(t=>!t.is_limited_edition||t.edition_size&&t.edition_size>0,{message:"Edition size is required and must be greater than 0 for limited edition products",path:["edition_size"]}).refine(t=>t.collection_action==="existing"?!!t.collection_id:t.collection_action==="new"?!!t.new_collection_name&&t.new_collection_name.trim().length>0:!0,{message:"Please select a collection or provide a name for the new collection",path:["collection_id"]});function C1e({product:t,onSuccess:r,onCancel:s}){const a=V_e(),n=W_e(),i=Y_e(),o=X_e(),{data:l}=Sx(),{data:c}=_1e(),[d,u]=f.useState(!1),[m,h]=f.useState(!1),p=f.useRef(null),v=v1e({resolver:w1e(S1e),defaultValues:{title:t?.title||"",description:t?.description||"",price:t?.price||0,sale_price:t?.sale_price||null,sku:t?.sku||"",inventory_count:t?.inventory_count||null,category_id:t?.category_id||null,designer_id:t?.designer_id||null,status:t?.status||"draft",materials:t?.materials?.join(", ")||"",care_instructions:t?.care_instructions||"",images:t?.images||[],is_made_to_order:t?.is_made_to_order??!1,is_limited_edition:t?.is_limited_edition??!1,edition_size:t?.edition_size||null,collection_action:"none",collection_id:null,new_collection_name:"",new_collection_description:""}}),x=VN({control:v.control,name:"designer_id"});VN({control:v.control,name:"collection_action"});const{data:g}=Q_e(x),b=async w=>{u(!0);try{let _="draft";w.status==="live"?_="live":(w.status==="archived"||w.status==="rejected")&&(_="archived");const N={title:w.title,description:w.description||null,price:w.price,sale_price:w.sale_price||null,sku:w.sku||null,inventory_count:w.inventory_count||null,category_id:w.category_id||null,designer_id:w.designer_id||null,status:_,is_adorzia_product:!0,materials:w.materials?w.materials.split(",").map(C=>C.trim()):null,care_instructions:w.care_instructions||null,images:w.images.length>0?w.images:null,is_made_to_order:w.is_made_to_order,is_limited_edition:w.is_limited_edition,edition_size:w.is_limited_edition?w.edition_size:null};let k;t?.id?k=await n.mutateAsync({id:t.id,updates:N}):k=await a.mutateAsync(N),k&&w.collection_action!=="none"&&(w.collection_action==="existing"&&w.collection_id?await i.mutateAsync({productId:k.id,collectionId:w.collection_id}):w.collection_action==="new"&&w.new_collection_name&&await o.mutateAsync({collection:{name:w.new_collection_name,description:w.new_collection_description,designer_id:w.designer_id},productId:k.id})),r?.()}finally{u(!1)}},y=async w=>{if(!w||w.length===0)return;h(!0);const _=v.getValues("images")||[],N=[];try{const{data:{user:k}}=await ee.auth.getUser();if(!k)throw new Error("Not authenticated");for(const C of Array.from(w)){const P=C.name.split(".").pop(),A=`${Date.now()}-${Math.random().toString(36).substring(7)}.${P}`,O=`${k.id}/${A}`,{error:I}=await ee.storage.from("product-images").upload(O,C);if(I)throw I;const{data:{publicUrl:F}}=ee.storage.from("product-images").getPublicUrl(O);N.push(F)}v.setValue("images",[..._,...N])}catch(k){console.error("Error uploading images:",k)}finally{h(!1),p.current&&(p.current.value="")}},j=w=>{const _=v.getValues("images")||[];v.setValue("images",_.filter((N,k)=>k!==w))},S=v.watch("images")||[];return e.jsx(N1e,{...v,children:e.jsxs("form",{onSubmit:v.handleSubmit(b),className:"space-y-6",children:[e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Basic Information"})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsx(gs,{control:v.control,name:"title",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Title"}),e.jsx(ns,{children:e.jsx(ie,{placeholder:"Product title",...w})}),e.jsx(Ts,{})]})}),e.jsx(gs,{control:v.control,name:"description",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Description"}),e.jsx(ns,{children:e.jsx(nt,{placeholder:"Product description",className:"min-h-[100px]",...w})}),e.jsx(Ts,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(gs,{control:v.control,name:"sku",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"SKU"}),e.jsx(ns,{children:e.jsx(ie,{placeholder:"SKU-001",...w})}),e.jsx(Ts,{})]})}),e.jsx(gs,{control:v.control,name:"category_id",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Category"}),e.jsxs(qe,{onValueChange:w.onChange,value:w.value||void 0,children:[e.jsx(ns,{children:e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select category"})})}),e.jsx(Le,{children:l?.map(_=>e.jsx(X,{value:_.id,children:_.name},_.id))})]}),e.jsx(Ts,{})]})})]})]})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(No,{className:"h-5 w-5"}),"Product Images"]})}),e.jsx(Y,{className:"space-y-4",children:e.jsx(gs,{control:v.control,name:"images",render:()=>e.jsxs(as,{children:[e.jsx(ns,{children:e.jsxs("div",{className:"space-y-4",children:[S.length>0&&e.jsx("div",{className:"grid grid-cols-4 gap-4",children:S.map((w,_)=>e.jsxs("div",{className:"relative aspect-square rounded-lg border overflow-hidden group",children:[e.jsx("img",{src:w,alt:`Product image ${_+1}`,className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>j(_),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ht,{className:"h-3 w-3"})})]},_))}),e.jsxs("div",{onClick:()=>p.current?.click(),className:"border-2 border-dashed border-admin-border/60 rounded-lg p-8 text-center cursor-pointer hover:border-admin-foreground/40 transition-colors",children:[e.jsx("input",{ref:p,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:w=>y(w.target.files)}),m?e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin text-admin-muted-foreground"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:"Uploading images..."})]}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(zr,{className:"h-8 w-8 text-admin-muted-foreground"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:"Click to upload images"}),e.jsx("p",{className:"text-xs text-admin-muted-foreground/60",children:"Supports multiple images"})]})]})]})}),e.jsx(Ts,{})]})})})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5"}),"Designer & Collection"]})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsx(gs,{control:v.control,name:"designer_id",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Designer"}),e.jsxs(qe,{onValueChange:_=>{w.onChange(_==="__none__"?null:_),v.setValue("collection_id",null)},value:w.value||"__none__",children:[e.jsx(ns,{children:e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select designer (optional)"})})}),e.jsxs(Le,{children:[e.jsx(X,{value:"__none__",children:"No Designer"}),c?.map(_=>e.jsx(X,{value:_.id,children:_.brand_name?`${_.name} (${_.brand_name})`:_.name},_.id))]})]}),e.jsx(ac,{children:"Select a designer to assign this product to their profile"}),e.jsx(Ts,{})]})}),x&&e.jsx(gs,{control:v.control,name:"collection_action",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Collection"}),e.jsx(ns,{children:e.jsxs(Nr,{value:w.value,onValueChange:_=>w.onChange(_),children:[e.jsxs(br,{className:"grid w-full grid-cols-3",children:[e.jsx(Ee,{value:"none",children:"No Collection"}),e.jsx(Ee,{value:"existing",children:"Existing"}),e.jsx(Ee,{value:"new",children:"New Collection"})]}),e.jsx(Te,{value:"none",className:"mt-4",children:e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:"This product will not be added to any collection."})}),e.jsx(Te,{value:"existing",className:"mt-4 space-y-4",children:e.jsx(gs,{control:v.control,name:"collection_id",render:({field:_})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Select Collection"}),e.jsxs(qe,{onValueChange:_.onChange,defaultValue:_.value||void 0,children:[e.jsx(ns,{children:e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Choose a collection"})})}),e.jsxs(Le,{children:[g?.map(N=>e.jsx(X,{value:N.id,children:N.name},N.id)),(!g||g.length===0)&&e.jsx(X,{value:"__empty__",disabled:!0,children:"No collections found for this designer"})]})]}),e.jsx(Ts,{})]})})}),e.jsxs(Te,{value:"new",className:"mt-4 space-y-4",children:[e.jsx(gs,{control:v.control,name:"new_collection_name",render:({field:_})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Collection Name"}),e.jsx(ns,{children:e.jsx(ie,{placeholder:"e.g., Summer Collection 2024",..._})}),e.jsx(Ts,{})]})}),e.jsx(gs,{control:v.control,name:"new_collection_description",render:({field:_})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Description (Optional)"}),e.jsx(ns,{children:e.jsx(nt,{placeholder:"Describe the collection...",className:"min-h-[80px]",..._})}),e.jsx(Ts,{})]})})]})]})}),e.jsx(Ts,{})]})})]})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Pricing & Inventory"})}),e.jsx(Y,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(gs,{control:v.control,name:"price",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Price ($)"}),e.jsx(ns,{children:e.jsx(ie,{type:"number",step:"0.01",...w})}),e.jsx(Ts,{})]})}),e.jsx(gs,{control:v.control,name:"sale_price",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Sale Price ($)"}),e.jsx(ns,{children:e.jsx(ie,{type:"number",step:"0.01",placeholder:"Optional",...w,value:w.value??""})}),e.jsx(Ts,{})]})}),e.jsx(gs,{control:v.control,name:"inventory_count",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Stock"}),e.jsx(ns,{children:e.jsx(ie,{type:"number",placeholder:"Unlimited",...w,value:w.value??""})}),e.jsx(Ts,{})]})})]})})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"h-5 w-5"}),"Product Type"]})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsx(gs,{control:v.control,name:"is_made_to_order",render:({field:w})=>e.jsxs(as,{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(bs,{className:"text-base",children:"Made-to-Order"}),e.jsx(ac,{children:"This product is crafted specifically for each customer after ordering"})]}),e.jsx(ns,{children:e.jsx(Ws,{checked:w.value,onCheckedChange:w.onChange})})]})}),e.jsx(gs,{control:v.control,name:"is_limited_edition",render:({field:w})=>e.jsxs(as,{className:"flex items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(bs,{className:"text-base",children:"Limited Edition"}),e.jsx(ac,{children:"This product has a limited production run"})]}),e.jsx(ns,{children:e.jsx(Ws,{checked:w.value,onCheckedChange:w.onChange})})]})}),v.watch("is_limited_edition")&&e.jsx(gs,{control:v.control,name:"edition_size",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Edition Size"}),e.jsx(ns,{children:e.jsx(ie,{type:"number",placeholder:"Number of pieces",...w,value:w.value??""})}),e.jsx(ac,{children:"Total number of pieces in this limited edition"}),e.jsx(Ts,{})]})})]})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Product Details"})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsx(gs,{control:v.control,name:"materials",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Materials"}),e.jsx(ns,{children:e.jsx(ie,{placeholder:"Cotton, Silk, Polyester (comma separated)",...w})}),e.jsx(ac,{children:"Comma separated list of materials"}),e.jsx(Ts,{})]})}),e.jsx(gs,{control:v.control,name:"care_instructions",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Care Instructions"}),e.jsx(ns,{children:e.jsx(nt,{placeholder:"Hand wash cold, lay flat to dry...",...w})}),e.jsx(Ts,{})]})})]})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{children:"Publishing"})}),e.jsx(Y,{className:"space-y-4",children:e.jsx(gs,{control:v.control,name:"status",render:({field:w})=>e.jsxs(as,{children:[e.jsx(bs,{children:"Status"}),e.jsxs(qe,{onValueChange:w.onChange,value:w.value,children:[e.jsx(ns,{children:e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select status"})})}),e.jsxs(Le,{children:[e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"live",children:"Live"}),e.jsx(X,{value:"archived",children:"Archived"})]})]}),e.jsx(Ts,{})]})})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[s&&e.jsx(T,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),e.jsxs(T,{type:"submit",disabled:d||m,children:[(d||m)&&e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),t?.id?"Update Product":"Create Product"]})]})]})})}const OD={pending:{label:"Pending",variant:"outline"},processing:{label:"Processing",variant:"secondary"},shipped:{label:"Shipped",variant:"default"},delivered:{label:"Delivered",variant:"default"},cancelled:{label:"Cancelled",variant:"destructive"},refunded:{label:"Refunded",variant:"destructive"}};function k1e(){const{data:t,isLoading:r}=Oe({queryKey:["admin-orders"],queryFn:async()=>{const{data:s,error:a}=await ee.from("marketplace_orders").select(`
          *,
          marketplace_customers(id, name, email)
        `).order("created_at",{ascending:!1}).limit(50);if(a)throw a;return s}});return r?e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((s,a)=>e.jsx(rt,{className:"h-16 w-full"},a))}):t?.length?e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{className:"bg-admin-muted/50",children:[e.jsx(xe,{children:"Order"}),e.jsx(xe,{children:"Customer"}),e.jsx(xe,{children:"Items"}),e.jsx(xe,{children:"Total"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Date"}),e.jsx(xe,{className:"w-[50px]"})]})}),e.jsx(Xr,{children:t.map(s=>{const a=OD[s.status]||OD.pending,n=s.items,i=s.marketplace_customers;return e.jsxs(Ve,{children:[e.jsx(de,{children:e.jsx("div",{className:"font-mono text-sm font-medium",children:s.order_number})}),e.jsxs(de,{children:[e.jsx("div",{className:"text-sm",children:i?.name||s.guest_email||"Guest"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:i?.email||s.guest_email})]}),e.jsxs(de,{children:[n?.length||0," item",n?.length!==1?"s":""]}),e.jsxs(de,{className:"font-medium",children:["$",s.total.toFixed(2)]}),e.jsx(de,{children:e.jsx(B,{variant:a.variant,children:a.label})}),e.jsx(de,{className:"text-sm text-muted-foreground",children:xt(new Date(s.created_at),"MMM d, yyyy")}),e.jsx(de,{children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",children:[e.jsxs(Se,{children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(Se,{children:[e.jsx(kl,{className:"h-4 w-4 mr-2"}),"Update Status"]})]})]})})]},s.id)})})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:"No orders yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Orders will appear here once customers start purchasing"})]})}function A1e(){const t=ft(),{toast:r}=Ge(),[s,a]=f.useState(!1),[n,i]=f.useState(null),[o,l]=f.useState(""),[c,d]=f.useState(""),[u,m]=f.useState(""),{data:h,isLoading:p}=Oe({queryKey:["admin-categories"],queryFn:async()=>{const{data:S,error:w}=await ee.from("marketplace_categories").select("*").order("display_order",{ascending:!0});if(w)throw w;return S}}),v=ze({mutationFn:async S=>{const{error:w}=await ee.from("marketplace_categories").insert({name:S.name,slug:S.slug,description:S.description||null,is_active:!0});if(w)throw w},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-categories"]}),r({title:"Category created"}),b()},onError:S=>{r({title:"Error",description:S.message,variant:"destructive"})}}),x=ze({mutationFn:async({id:S,data:w})=>{const{error:_}=await ee.from("marketplace_categories").update(w).eq("id",S);if(_)throw _},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-categories"]}),r({title:"Category updated"}),b()}}),g=ze({mutationFn:async S=>{const{error:w}=await ee.from("marketplace_categories").delete().eq("id",S);if(w)throw w},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-categories"]}),r({title:"Category deleted"})}}),b=()=>{a(!1),i(null),l(""),d(""),m("")},y=S=>{i(S),l(S.name),d(S.slug),m(S.description||""),a(!0)},j=()=>{n?x.mutate({id:n.id,data:{name:o,slug:c,description:u}}):v.mutate({name:o,slug:c,description:u})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Categories"}),e.jsxs(Et,{open:s,onOpenChange:a,children:[e.jsx(r1,{asChild:!0,children:e.jsxs(T,{size:"sm",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),e.jsxs(Pt,{children:[e.jsx(Lt,{children:e.jsx($t,{children:n?"Edit Category":"Add Category"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Name"}),e.jsx(ie,{value:o,onChange:S=>{l(S.target.value),n||d(S.target.value.toLowerCase().replace(/\s+/g,"-"))},placeholder:"Category name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Slug"}),e.jsx(ie,{value:c,onChange:S=>d(S.target.value),placeholder:"category-slug"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Description"}),e.jsx(ie,{value:u,onChange:S=>m(S.target.value),placeholder:"Optional description"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{variant:"outline",onClick:b,children:"Cancel"}),e.jsx(T,{onClick:j,children:n?"Update":"Create"})]})]})]})]})]}),p?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):h?.length?e.jsx("div",{className:"grid gap-3",children:h.map(S=>e.jsx(G,{children:e.jsxs(Y,{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:S.name}),!S.is_active&&e.jsx(B,{variant:"secondary",children:"Inactive"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["/",S.slug]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>y(S),children:e.jsx(Oi,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>g.mutate(S.id),children:e.jsx(Hr,{className:"h-4 w-4 text-destructive"})})]})]})},S.id))}):e.jsx(G,{children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(As,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No categories yet"})]})})]})}const P1e=()=>{const{toast:t}=Ge(),r=ft(),[s,a]=f.useState(!1),[n,i]=f.useState(null),[o,l]=f.useState(""),[c,d]=f.useState("all-designers"),[u,m]=f.useState("all-status"),[h,p]=f.useState(1),[v]=f.useState(10),[x,g]=f.useState(null),[b,y]=f.useState(!1),[j,S]=f.useState(null),[w,_]=f.useState(null),[N,k]=f.useState(null),[C,P]=f.useState(!1),A=f.useRef(null),[O,I]=f.useState(new Set),[F,$]=f.useState(!1),[E,M]=f.useState({name:"",slug:"",description:"",image_url:"",is_featured:!1,is_active:!0,designer_id:""}),[z,R]=f.useState(!1),{data:te=[],isLoading:V,refetch:D}=Oe({queryKey:["admin-marketplace-collections"],queryFn:async()=>{const{data:ne,error:ye}=await ee.from("marketplace_collections").select(`
          *,
          collection_products:marketplace_collection_products(count)
        `).order("created_at",{ascending:!1});if(ye)throw ye;const lt=ne?.filter(Vt=>Vt.designer_id).map(Vt=>Vt.designer_id)||[];let ps={};if(lt.length>0){const Vt=[...new Set(lt)],{data:Ls}=await ee.from("profiles").select("user_id, name, email, avatar_url").in("user_id",Vt);ps=Ls?.reduce((Mn,$s)=>(Mn[$s.user_id]=$s,Mn),{})||{}}return ne?.map(Vt=>({...Vt,product_count:Vt.collection_products?.[0]?.count||0,designer_name:Vt.designer_id?ps[Vt.designer_id]?.name:null}))||[]}}),{data:H=[],isLoading:ae}=Oe({queryKey:["admin-designers-for-collections"],queryFn:async()=>{const{data:ne,error:ye}=await ee.from("profiles").select("user_id, name, email, avatar_url").order("name");if(ye)throw ye;return ne||[]}}),U=ze({mutationFn:async ne=>{const ye={name:ne.name,slug:ne.slug,description:ne.description||null,image_url:ne.image_url||null,is_featured:ne.is_featured,is_active:ne.is_active,designer_id:ne.designer_id||null};if(ne.id){const{error:lt}=await ee.from("marketplace_collections").update(ye).eq("id",ne.id);if(lt)throw lt}else{const{error:lt}=await ee.from("marketplace_collections").insert([ye]);if(lt)throw lt}},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-marketplace-collections"]}),t({title:`Collection ${n?"updated":"created"} successfully`}),a(!1),oe()},onError:ne=>{t({title:`Error ${n?"updating":"creating"} collection`,description:ne.message,variant:"destructive"})}}),se=ze({mutationFn:async ne=>{const{error:ye}=await ee.from("marketplace_collections").delete().eq("id",ne);if(ye)throw ye},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-marketplace-collections"]}),t({title:"Collection deleted successfully"})},onError:ne=>{t({title:"Error deleting collection",description:ne.message,variant:"destructive"})}}),Q=ze({mutationFn:async ne=>{const{error:ye}=await ee.from("marketplace_collections").delete().in("id",ne);if(ye)throw ye},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-marketplace-collections"]}),t({title:`Successfully deleted ${O.size} collections`}),I(new Set),$(!1)},onError:ne=>{t({title:"Error deleting collections",description:ne.message,variant:"destructive"})}}),pe=ze({mutationFn:async({id:ne,isActive:ye})=>{const{error:lt}=await ee.from("marketplace_collections").update({is_active:ye}).eq("id",ne);if(lt)throw lt},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-marketplace-collections"]})}}),le=ze({mutationFn:async({id:ne,isFeatured:ye})=>{const{error:lt}=await ee.from("marketplace_collections").update({is_featured:ye}).eq("id",ne);if(lt)throw lt},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-marketplace-collections"]})}}),{data:ue=[],isLoading:De,refetch:he}=Oe({queryKey:["collection-products",j?.id],queryFn:async()=>{if(!j?.id)return[];const{data:ne,error:ye}=await ee.from("marketplace_collection_products").select("id, product_id, position").eq("collection_id",j.id).order("position",{ascending:!0});if(ye)throw console.error("Collection products error:",ye),ye;if(!ne||ne.length===0)return[];const lt=ne.map(Ls=>Ls.product_id),{data:ps,error:Vt}=await ee.from("marketplace_products").select("id, title, price, images, status, designer_id").in("id",lt);if(Vt)throw console.error("Products error:",Vt),Vt;return ne.map(Ls=>({id:Ls.id,product_id:Ls.product_id,position:Ls.position,marketplace_products:ps?.find(Mn=>Mn.id===Ls.product_id)||null}))},enabled:!!j?.id}),{data:st=[],isLoading:Qe}=Oe({queryKey:["available-products-for-collection",j?.id],queryFn:async()=>{const{data:ne,error:ye}=await ee.from("marketplace_products").select("id, title, price, images, status, designer_id").eq("status","live").order("title",{ascending:!0});if(ye)throw ye;return ne||[]},enabled:b}),Ct=ze({mutationFn:async({collectionId:ne,productId:ye})=>{const{data:lt}=await ee.from("marketplace_collection_products").select("position").eq("collection_id",ne).order("position",{ascending:!1}).limit(1),ps=(lt?.[0]?.position||0)+1,{error:Vt}=await ee.from("marketplace_collection_products").insert([{collection_id:ne,product_id:ye,position:ps}]);if(Vt)throw Vt},onSuccess:()=>{r.invalidateQueries({queryKey:["collection-products"]}),r.invalidateQueries({queryKey:["admin-marketplace-collections"]}),t({title:"Product added to collection"})},onError:ne=>{t({title:"Error adding product",description:ne.message,variant:"destructive"})}}),Tt=ze({mutationFn:async ne=>{const{error:ye}=await ee.from("marketplace_collection_products").delete().eq("id",ne);if(ye)throw ye},onSuccess:()=>{r.invalidateQueries({queryKey:["collection-products"]}),r.invalidateQueries({queryKey:["admin-marketplace-collections"]}),t({title:"Product removed from collection"})},onError:ne=>{t({title:"Error removing product",description:ne.message,variant:"destructive"})}}),Jt=async ne=>{try{if(P(!0),ne.size>5*1024*1024)return t({title:"File too large",description:"Please select an image smaller than 5MB",variant:"destructive"}),null;const ye=ne.name.split(".").pop(),ps=`collections/${`collection_${Date.now()}_${Math.random().toString(36).substring(2)}.${ye}`}`,{error:Vt}=await ee.storage.from("stylebox-curation-assets").upload(ps,ne,{cacheControl:"3600",upsert:!0});if(Vt)return console.error("Upload error:",Vt),t({title:"Upload failed",description:"Please use the URL input field instead or check storage bucket permissions.",variant:"destructive"}),null;const{data:{publicUrl:Ls}}=ee.storage.from("stylebox-curation-assets").getPublicUrl(ps);return t({title:"Image uploaded successfully"}),Ls}catch(ye){return console.error("Upload error:",ye),t({title:"Error uploading image",description:ye.message||"Upload failed",variant:"destructive"}),null}finally{P(!1)}},_t=ne=>{const ye=ne.target.files?.[0];ye&&(_(ye),k(URL.createObjectURL(ye)))},Er=()=>{_(null),k(null),A.current&&(A.current.value="")},Z=ne=>{S(ne),y(!0)},oe=()=>{M({name:"",slug:"",description:"",image_url:"",is_featured:!1,is_active:!0,designer_id:""}),i(null),_(null),k(null),A.current&&(A.current.value="")},me=ne=>{ne?(i(ne),M({name:ne.name,slug:ne.slug,description:ne.description||"",image_url:ne.image_url||"",is_featured:ne.is_featured,is_active:ne.is_active,designer_id:ne.designer_id||""}),ne.image_url&&k(ne.image_url)):oe(),a(!0)},Pe=async ne=>{ne.preventDefault(),R(!0);try{let ye=E.image_url;if(w){const lt=await Jt(w);lt&&(ye=lt)}await U.mutateAsync({...E,image_url:ye,id:n?.id})}finally{R(!1)}},ke=ne=>ne.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),ce=ne=>{M(ye=>({...ye,name:ne,slug:n?ye.slug:ke(ne)}))},be=ne=>{I(ne&&Kt?new Set(Kt.map(ye=>ye.id)):new Set)},He=(ne,ye)=>{const lt=new Set(O);ye?lt.add(ne):lt.delete(ne),I(lt)},pt=()=>{$(!0)},mr=()=>{Q.mutate(Array.from(O))},Kt=f.useMemo(()=>{let ne=[...te];if(o){const ye=o.toLowerCase();ne=ne.filter(lt=>lt.name.toLowerCase().includes(ye)||lt.description?.toLowerCase().includes(ye)||lt.designer_name?.toLowerCase().includes(ye))}return c!=="all-designers"&&(c==="no-designer"?ne=ne.filter(ye=>!ye.designer_id):ne=ne.filter(ye=>ye.designer_id===c)),u!=="all-status"&&(u==="active"?ne=ne.filter(ye=>ye.is_active):u==="inactive"?ne=ne.filter(ye=>!ye.is_active):u==="featured"&&(ne=ne.filter(ye=>ye.is_featured))),x&&ne.sort((ye,lt)=>{const ps=ye[x.key],Vt=lt[x.key];return ps==null?1:Vt==null?-1:ps<Vt?x.direction==="asc"?-1:1:ps>Vt?x.direction==="asc"?1:-1:0}),ne},[te,o,c,u,x]),Es=Kt.length>0&&O.size===Kt.length,In=f.useMemo(()=>{const ne=(h-1)*v;return Kt.slice(ne,ne+v)},[Kt,h,v]),qt=ne=>{let ye="asc";x&&x.key===ne&&x.direction==="asc"&&(ye="desc"),g({key:ne,direction:ye})},Qr=ne=>!x||x.key!==ne?null:x.direction==="asc"?"":"",nr=V||ae;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx(yg,{searchValue:o,onSearchChange:l,searchPlaceholder:"Search collections...",filters:[{placeholder:"Designer",value:c,onChange:d,options:[{value:"all-designers",label:"All Designers"},{value:"no-designer",label:"No Designer (General)"},...H.map(ne=>({value:ne.user_id,label:ne.name||ne.email}))]},{placeholder:"Status",value:u,onChange:m,options:[{value:"all-status",label:"All Statuses"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"featured",label:"Featured"}]}]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>D(),disabled:nr,children:[e.jsx(ga,{className:`h-4 w-4 mr-2 ${nr?"animate-spin":""}`}),"Refresh"]}),e.jsxs(T,{onClick:()=>me(),children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add Collection"]})]})]}),e.jsxs(G,{className:"border-admin-border/60 bg-admin-card",children:[e.jsx(je,{className:"px-6 py-4",children:e.jsxs(Ne,{children:["Collections (",Kt.length,")"]})}),e.jsx(Y,{children:nr?e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(ga,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:"Loading collections..."})]}):Kt.length===0?e.jsx(jg,{title:"No collections found",description:"There are no collections matching your current filters",action:e.jsxs(T,{onClick:()=>me(),children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add Collection"]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{className:"w-[50px]",children:e.jsx(Ns,{checked:Es,onCheckedChange:be,"aria-label":"Select all"})}),e.jsxs(xe,{className:"w-[250px] cursor-pointer hover:bg-muted/50",onClick:()=>qt("name"),children:["Collection ",Qr("name")]}),e.jsx(xe,{children:"Designer"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Products"}),e.jsxs(xe,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>qt("created_at"),children:["Created ",Qr("created_at")]}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:In.map(ne=>{const ye=O.has(ne.id);return e.jsxs(Ve,{className:ye?"bg-muted/20":"",children:[e.jsx(de,{children:e.jsx(Ns,{checked:ye,onCheckedChange:lt=>He(ne.id,!!lt),"aria-label":`Select ${ne.name}`})}),e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[ne.image_url?e.jsx("img",{src:ne.image_url,alt:ne.name,className:"w-12 h-12 rounded object-cover"}):e.jsx("div",{className:"bg-muted rounded w-12 h-12 flex items-center justify-center",children:e.jsx(As,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:ne.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["/",ne.slug]}),ne.is_featured&&e.jsxs(B,{variant:"secondary",className:"mt-1 text-xs",children:[e.jsx(At,{className:"h-3 w-3 mr-1"}),"Featured"]})]})]})}),e.jsx(de,{children:ne.designer_id?e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm",children:ne.designer_name||"Unknown"})}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"General Collection"})}),e.jsx(de,{children:e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx(B,{variant:ne.is_active?"default":"secondary",className:"w-fit cursor-pointer",onClick:()=>pe.mutate({id:ne.id,isActive:!ne.is_active}),children:ne.is_active?"Active":"Inactive"})})}),e.jsx(de,{children:e.jsxs("span",{className:"text-sm",children:[ne.product_count||0," products"]})}),e.jsx(de,{children:new Date(ne.created_at).toLocaleDateString()}),e.jsx(de,{className:"text-right",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",children:[e.jsx(Hm,{children:"Actions"}),e.jsxs(Se,{onClick:()=>me(ne),children:[e.jsx(ol,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(Se,{onClick:()=>Z(ne),children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Manage Products"]}),e.jsxs(Se,{onClick:()=>le.mutate({id:ne.id,isFeatured:!ne.is_featured}),children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),ne.is_featured?"Unfeature":"Feature"]}),e.jsx(Ar,{}),e.jsxs(Se,{onClick:()=>{confirm("Are you sure you want to delete this collection?")&&se.mutate(ne.id)},className:"text-destructive focus:text-destructive",children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},ne.id)})})]})}),e.jsx(wg,{currentPage:h,totalPages:Math.ceil(Kt.length/v),onPageChange:p,totalItems:Kt.length,itemsPerPage:v})]})})]}),e.jsx(Et,{open:s,onOpenChange:a,children:e.jsxs(Pt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Lt,{children:e.jsx($t,{children:n?"Edit Collection":"Create New Collection"})}),e.jsxs("form",{onSubmit:Pe,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"name",children:"Collection Name *"}),e.jsx(ie,{id:"name",value:E.name,onChange:ne=>ce(ne.target.value),placeholder:"e.g., Summer Essentials 2024",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"slug",children:"URL Slug *"}),e.jsx(ie,{id:"slug",value:E.slug,onChange:ne=>M(ye=>({...ye,slug:ne.target.value})),placeholder:"summer-essentials-2024",required:!0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["This will be used in the URL: /shop/collections/",E.slug||"your-slug"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"designer",children:"Assign to Designer"}),e.jsxs(qe,{value:E.designer_id||"no-designer",onValueChange:ne=>M(ye=>({...ye,designer_id:ne==="no-designer"?"":ne})),children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select a designer (optional)"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"no-designer",children:"General Collection (No Designer)"}),H.map(ne=>e.jsx(X,{value:ne.user_id,children:ne.name||ne.email},ne.user_id))]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Assign this collection to a specific designer, or leave as general collection"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"description",children:"Description"}),e.jsx(nt,{id:"description",value:E.description,onChange:ne=>M(ye=>({...ye,description:ne.target.value})),placeholder:"Describe this collection...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Collection Image"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>A.current?.click(),children:[e.jsx("input",{type:"file",ref:A,accept:"image/*",onChange:_t,className:"hidden"}),e.jsx(zr,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload image"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Max 5MB (JPG, PNG, WebP)"})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(K,{className:"text-xs text-muted-foreground",children:"Or enter image URL"}),e.jsx(ie,{value:E.image_url,onChange:ne=>{M(ye=>({...ye,image_url:ne.target.value})),ne.target.value&&!w&&k(ne.target.value)},placeholder:"https://example.com/image.jpg",className:"mt-1"})]})]}),N&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:N,alt:"Preview",className:"h-32 w-32 rounded-lg object-cover border",onError:ne=>{const ye=ne.target;ye.style.display="none";const lt=ye.nextElementSibling;lt&&(lt.style.display="flex")}}),e.jsx("div",{className:"h-32 w-32 rounded-lg border bg-muted hidden items-center justify-center text-center p-2",style:{display:"none"},children:e.jsx("span",{className:"text-xs text-muted-foreground",children:"Image unavailable"})}),e.jsx(T,{type:"button",size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:Er,children:e.jsx(ht,{className:"h-3 w-3"})}),C&&e.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center",children:e.jsx(Ue,{className:"h-6 w-6 animate-spin text-white"})})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(K,{htmlFor:"is_active",children:"Active"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Make this collection visible in the store"})]}),e.jsx(Ws,{id:"is_active",checked:E.is_active,onCheckedChange:ne=>M(ye=>({...ye,is_active:ne}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(K,{htmlFor:"is_featured",children:"Featured"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Highlight this collection on the homepage"})]}),e.jsx(Ws,{id:"is_featured",checked:E.is_featured,onCheckedChange:ne=>M(ye=>({...ye,is_featured:ne}))})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:z||C,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:z||C,children:z||C?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),C?"Uploading...":"Saving..."]}):n?"Update Collection":"Create Collection"})]})]})]})}),e.jsx(Et,{open:b,onOpenChange:y,children:e.jsxs(Pt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Lt,{children:e.jsxs($t,{children:["Manage Products - ",j?.name]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold mb-3",children:["Products in Collection (",ue.length,")"]}),De?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Ue,{className:"h-6 w-6 animate-spin"})}):ue.length===0?e.jsxs("div",{className:"text-center py-8 bg-muted/30 rounded-lg",children:[e.jsx(Ot,{className:"h-8 w-8 mx-auto text-muted-foreground/50 mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No products in this collection yet"})]}):e.jsx("div",{className:"space-y-2",children:ue.map(ne=>{const ye=ne.marketplace_products,lt=ye?.images;return e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[lt?.[0]?e.jsx("img",{src:lt[0],alt:ye?.title,className:"h-12 w-12 rounded object-cover"}):e.jsx("div",{className:"h-12 w-12 rounded bg-muted flex items-center justify-center",children:e.jsx(Ot,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:ye?.title||"Unknown Product"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",ye?.price?.toFixed(2)||"0.00"]})]}),e.jsx(T,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>Tt.mutate(ne.id),children:e.jsx(ht,{className:"h-4 w-4"})})]},ne.id)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Add Products"}),Qe?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(Ue,{className:"h-6 w-6 animate-spin"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[300px] overflow-y-auto",children:st.filter(ne=>!ue.some(ye=>ye.product_id===ne.id)).map(ne=>{const ye=ne.images;return e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{j&&Ct.mutate({collectionId:j.id,productId:ne.id})},children:[ye?.[0]?e.jsx("img",{src:ye[0],alt:ne.title,className:"h-10 w-10 rounded object-cover"}):e.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center",children:e.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:ne.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",ne.price?.toFixed(2)||"0.00"]})]}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]},ne.id)})}),st.filter(ne=>!ue.some(ye=>ye.product_id===ne.id)).length===0&&!Qe&&e.jsxs("div",{className:"text-center py-6 bg-muted/30 rounded-lg",children:[e.jsx(gr,{className:"h-6 w-6 mx-auto text-green-500 mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"All available products are already in this collection"})]})]})]}),e.jsx(Cs,{children:e.jsx(T,{variant:"outline",onClick:()=>y(!1),children:"Close"})})]})}),e.jsx(sz,{selectedCount:O.size,onDelete:pt,onClearSelection:()=>I(new Set),entityType:"collections",isDeleting:Q.isPending}),e.jsx(li,{open:F,onOpenChange:$,children:e.jsxs(Nn,{children:[e.jsxs(_n,{children:[e.jsxs(Cn,{children:["Delete ",O.size," Collections"]}),e.jsxs(kn,{children:["Are you sure you want to delete ",O.size," selected collections? This action cannot be undone."]})]}),e.jsxs(Sn,{children:[e.jsx(Pn,{children:"Cancel"}),e.jsx(An,{onClick:mr,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:Q.isPending,children:Q.isPending?"Deleting...":"Delete All"})]})]})})]})},DD={active:{label:"Active",variant:"default",className:"bg-success/10 text-success border-success/20"},inactive:{label:"Inactive",variant:"secondary",className:"bg-admin-muted text-admin-muted-foreground border-admin-border/50"},suspended:{label:"Suspended",variant:"destructive",className:"bg-destructive/10 text-destructive border-destructive/20"}};function E1e({designer:t,onView:r,onEdit:s,onStatusChange:a,onViewProducts:n,onViewCollections:i}){const o=DD[t.status]||DD.active,l=t.name?.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2)||"??",c=t.instagram_handle||t.website_url||t.twitter_handle;return e.jsx(G,{className:"group bg-admin-card border-admin-border/60 rounded-xl shadow-sm hover:shadow-lg hover:border-admin-border transition-all duration-300 overflow-hidden",children:e.jsxs(Y,{className:"p-0",children:[e.jsxs("div",{className:"p-4 pb-3 flex items-start gap-3",children:[e.jsxs(rr,{className:"h-14 w-14 rounded-xl border-2 border-admin-border/30 group-hover:border-admin-foreground/20 transition-colors",children:[e.jsx(sr,{src:t.avatar_url||void 0,alt:t.name}),e.jsx(ar,{className:"rounded-xl bg-admin-muted text-admin-foreground font-semibold text-sm",children:l})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-admin-foreground truncate",children:t.name}),t.brand_name&&e.jsxs("p",{className:"text-xs text-admin-muted-foreground truncate",children:["@",t.brand_name]}),e.jsx("div",{className:"mt-1.5",children:e.jsx(B,{variant:"outline",className:q("text-[10px] font-semibold px-2 py-0.5 rounded-full",o.className),children:o.label})})]}),e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg hover:bg-admin-muted text-admin-muted-foreground hover:text-admin-foreground opacity-0 group-hover:opacity-100 transition-all",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",className:"bg-admin-card border-admin-border/60 rounded-xl shadow-lg p-1.5 min-w-[180px]",children:[e.jsxs(Se,{onClick:r,className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(Bt,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"View Profile"]}),e.jsxs(Se,{onClick:s,className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(Oi,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"Edit Info"]}),e.jsx(Ar,{className:"bg-admin-border/50 my-1.5"}),e.jsxs(Se,{onClick:n,className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"View Products (",t.product_count,")"]}),e.jsxs(Se,{onClick:i,className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(As,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"View Collections (",t.collection_count,")"]}),e.jsx(Ar,{className:"bg-admin-border/50 my-1.5"}),t.status!=="active"&&e.jsxs(Se,{onClick:()=>a("active"),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm text-success focus:text-success focus:bg-success/10",children:[e.jsx(tr,{className:"h-4 w-4 mr-2.5"}),"Activate"]}),t.status!=="inactive"&&t.status!=="suspended"&&e.jsxs(Se,{onClick:()=>a("inactive"),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm text-admin-muted-foreground focus:bg-admin-muted",children:[e.jsx(Rr,{className:"h-4 w-4 mr-2.5"}),"Deactivate"]}),t.status!=="suspended"&&e.jsxs(Se,{onClick:()=>a("suspended"),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm text-destructive focus:text-destructive focus:bg-destructive/10",children:[e.jsx(Tm,{className:"h-4 w-4 mr-2.5"}),"Suspend"]})]})]})]}),e.jsxs("div",{className:"px-4 pb-3 flex items-center gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-admin-muted-foreground",children:[e.jsx(Ot,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"font-medium text-admin-foreground",children:t.product_count}),e.jsx("span",{children:"products"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-admin-muted-foreground",children:[e.jsx(As,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"font-medium text-admin-foreground",children:t.collection_count}),e.jsx("span",{children:"collections"})]})]}),c&&e.jsxs("div",{className:"px-4 pb-3 flex items-center gap-2",children:[t.instagram_handle&&e.jsx("a",{href:`https://instagram.com/${t.instagram_handle}`,target:"_blank",rel:"noopener noreferrer",className:"h-7 w-7 rounded-lg bg-admin-muted/60 flex items-center justify-center text-admin-muted-foreground hover:text-admin-foreground hover:bg-admin-muted transition-colors",title:`@${t.instagram_handle}`,children:e.jsx(jo,{className:"h-3.5 w-3.5"})}),t.website_url&&e.jsx("a",{href:t.website_url.startsWith("http")?t.website_url:`https://${t.website_url}`,target:"_blank",rel:"noopener noreferrer",className:"h-7 w-7 rounded-lg bg-admin-muted/60 flex items-center justify-center text-admin-muted-foreground hover:text-admin-foreground hover:bg-admin-muted transition-colors",title:"Website",children:e.jsx($i,{className:"h-3.5 w-3.5"})}),t.twitter_handle&&e.jsx("a",{href:`https://twitter.com/${t.twitter_handle}`,target:"_blank",rel:"noopener noreferrer",className:"h-7 w-7 rounded-lg bg-admin-muted/60 flex items-center justify-center text-admin-muted-foreground hover:text-admin-foreground hover:bg-admin-muted transition-colors",title:`@${t.twitter_handle}`,children:e.jsx(Cl,{className:"h-3.5 w-3.5"})})]}),e.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-admin-border/30 flex items-center gap-2",children:[e.jsxs(T,{onClick:r,variant:"outline",size:"sm",className:"flex-1 h-8 text-xs border-admin-border/60 hover:bg-admin-muted/60 rounded-lg",children:[e.jsx(Bt,{className:"h-3.5 w-3.5 mr-1.5"}),"View"]}),e.jsxs(T,{onClick:s,variant:"outline",size:"sm",className:"flex-1 h-8 text-xs border-admin-border/60 hover:bg-admin-muted/60 rounded-lg",children:[e.jsx(Oi,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]})]})]})})}const T1e={active:{label:"Active",className:"bg-success/10 text-success border-success/20"},inactive:{label:"Inactive",className:"bg-admin-muted text-admin-muted-foreground border-admin-border/50"},suspended:{label:"Suspended",className:"bg-destructive/10 text-destructive border-destructive/20"}};function O1e({designerId:t,open:r,onClose:s,onStatusChange:a}){const{data:n,isLoading:i}=Oe({queryKey:["admin-designer-profile",t],queryFn:async()=>{if(!t)return null;const{data:c,error:d}=await ee.from("profiles").select("*").eq("user_id",t).single();if(d)throw d;const{count:u}=await ee.from("marketplace_products").select("*",{count:"exact",head:!0}).eq("designer_id",t),{count:m}=await ee.from("marketplace_collections").select("*",{count:"exact",head:!0}).eq("designer_id",t),{data:h}=await ee.from("marketplace_products").select("sold_count, price").eq("designer_id",t),p=h?.reduce((v,x)=>v+(x.sold_count||0)*(x.price||0),0)||0;return{...c,user_id:c.user_id,status:"active",product_count:u||0,collection_count:m||0,total_sales:p}},enabled:!!t&&r}),o=T1e[n?.status||"active"],l=n?.name?.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2)||"??";return e.jsx(El,{open:r,onOpenChange:s,children:e.jsx(Ao,{className:"w-full sm:max-w-md bg-admin-card border-admin-border/60 overflow-y-auto",children:i?e.jsxs("div",{className:"space-y-6 pt-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(rt,{className:"h-20 w-20 rounded-xl"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(rt,{className:"h-5 w-32"}),e.jsx(rt,{className:"h-4 w-24"}),e.jsx(rt,{className:"h-5 w-16 rounded-full"})]})]}),e.jsx(rt,{className:"h-24 w-full rounded-xl"}),e.jsx(rt,{className:"h-32 w-full rounded-xl"})]}):n?e.jsxs(e.Fragment,{children:[e.jsx(qm,{className:"pb-0",children:e.jsx(zm,{className:"sr-only",children:"Designer Profile"})}),e.jsxs("div",{className:"space-y-6 pt-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(rr,{className:"h-20 w-20 rounded-xl border-2 border-admin-border/30",children:[e.jsx(sr,{src:n.avatar_url||void 0,alt:n.name}),e.jsx(ar,{className:"rounded-xl bg-admin-muted text-admin-foreground font-semibold text-lg",children:l})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl font-semibold text-admin-foreground truncate",children:n.name}),n.brand_name&&e.jsxs("p",{className:"text-sm text-admin-muted-foreground truncate",children:["@",n.brand_name]}),e.jsx("div",{className:"mt-2",children:e.jsx(B,{variant:"outline",className:q("text-xs font-semibold px-2.5 py-0.5 rounded-full",o.className),children:o.label})})]})]}),n.bio&&e.jsxs("div",{className:"bg-admin-muted/30 rounded-xl p-4",children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground mb-2",children:"About"}),e.jsx("p",{className:"text-sm text-admin-foreground/90 leading-relaxed",children:n.bio})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground mb-3",children:"Social & Contact"}),e.jsxs("div",{className:"space-y-2",children:[n.email&&e.jsxs("a",{href:`mailto:${n.email}`,className:"flex items-center gap-3 p-3 rounded-lg bg-admin-muted/30 hover:bg-admin-muted/50 transition-colors group",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-admin-muted flex items-center justify-center",children:e.jsx(ms,{className:"h-4 w-4 text-admin-muted-foreground"})}),e.jsx("span",{className:"text-sm text-admin-foreground flex-1 truncate",children:n.email}),e.jsx(xn,{className:"h-3.5 w-3.5 text-admin-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.instagram_handle&&e.jsxs("a",{href:`https://instagram.com/${n.instagram_handle}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg bg-admin-muted/30 hover:bg-admin-muted/50 transition-colors group",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(jo,{className:"h-4 w-4 text-white"})}),e.jsxs("span",{className:"text-sm text-admin-foreground flex-1",children:["@",n.instagram_handle]}),e.jsx(xn,{className:"h-3.5 w-3.5 text-admin-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.website_url&&e.jsxs("a",{href:n.website_url.startsWith("http")?n.website_url:`https://${n.website_url}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg bg-admin-muted/30 hover:bg-admin-muted/50 transition-colors group",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-admin-muted flex items-center justify-center",children:e.jsx($i,{className:"h-4 w-4 text-admin-muted-foreground"})}),e.jsx("span",{className:"text-sm text-admin-foreground flex-1 truncate",children:n.website_url}),e.jsx(xn,{className:"h-3.5 w-3.5 text-admin-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.twitter_handle&&e.jsxs("a",{href:`https://twitter.com/${n.twitter_handle}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg bg-admin-muted/30 hover:bg-admin-muted/50 transition-colors group",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-sky-500 flex items-center justify-center",children:e.jsx(Cl,{className:"h-4 w-4 text-white"})}),e.jsxs("span",{className:"text-sm text-admin-foreground flex-1",children:["@",n.twitter_handle]}),e.jsx(xn,{className:"h-3.5 w-3.5 text-admin-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground mb-3",children:"Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-admin-muted/30 rounded-xl p-4 text-center",children:[e.jsx(Ot,{className:"h-5 w-5 text-admin-muted-foreground mx-auto mb-1.5"}),e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:n.product_count}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:"Products"})]}),e.jsxs("div",{className:"bg-admin-muted/30 rounded-xl p-4 text-center",children:[e.jsx(As,{className:"h-5 w-5 text-admin-muted-foreground mx-auto mb-1.5"}),e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:n.collection_count}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:"Collections"})]}),e.jsxs("div",{className:"bg-admin-muted/30 rounded-xl p-4 text-center",children:[e.jsx(Rs,{className:"h-5 w-5 text-admin-muted-foreground mx-auto mb-1.5"}),e.jsxs("p",{className:"text-2xl font-bold text-admin-foreground",children:["$",n.total_sales?.toLocaleString()||0]}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:"Total Sales"})]}),e.jsxs("div",{className:"bg-admin-muted/30 rounded-xl p-4 text-center",children:[e.jsx(Wr,{className:"h-5 w-5 text-admin-muted-foreground mx-auto mb-1.5"}),e.jsx("p",{className:"text-lg font-bold text-admin-foreground",children:n.created_at?xt(new Date(n.created_at),"MMM yyyy"):"N/A"}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:"Joined"})]})]})]}),e.jsx(Ut,{className:"bg-admin-border/50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-admin-muted-foreground mb-3",children:"Actions"}),e.jsxs("div",{className:"space-y-2",children:[n.status!=="active"&&e.jsxs(T,{onClick:()=>a(n.user_id,"active"),className:"w-full justify-start h-10 bg-success/10 text-success hover:bg-success/20 border border-success/20 rounded-lg",variant:"ghost",children:[e.jsx(tr,{className:"h-4 w-4 mr-2"}),"Activate Designer"]}),n.status!=="inactive"&&n.status!=="suspended"&&e.jsxs(T,{onClick:()=>a(n.user_id,"inactive"),className:"w-full justify-start h-10 hover:bg-admin-muted/60 border border-admin-border/50 rounded-lg",variant:"ghost",children:[e.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Deactivate Designer"]}),n.status!=="suspended"&&e.jsxs(T,{onClick:()=>a(n.user_id,"suspended"),className:"w-full justify-start h-10 bg-destructive/10 text-destructive hover:bg-destructive/20 border border-destructive/20 rounded-lg",variant:"ghost",children:[e.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Suspend Designer"]})]})]})]})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-admin-muted-foreground",children:"Designer not found"})})})})}const D1e={active:{label:"Active",className:"bg-success/10 text-success border-success/20"},inactive:{label:"Inactive",className:"bg-admin-muted text-admin-muted-foreground border-admin-border/50"},suspended:{label:"Suspended",className:"bg-destructive/10 text-destructive border-destructive/20"}};function R1e(){const[t,r]=f.useState("grid"),[s,a]=f.useState(""),[n,i]=f.useState("all"),[o,l]=f.useState("name_asc"),[c,d]=f.useState(null),[u,m]=f.useState(!1),[h,p]=f.useState(null),{toast:v}=Ge(),x=ft(),{data:g,isLoading:b}=Oe({queryKey:["admin-designers-list",s,n,o],queryFn:async()=>{const{data:A,error:O}=await ee.from("profiles").select("user_id, name, brand_name, avatar_url, bio, email, instagram_handle, website_url, created_at").not("name","is",null);if(O)throw O;if(!A||A.length===0)return[];let F=await Promise.all(A.map(async $=>{const[{count:E},{count:M}]=await Promise.all([ee.from("marketplace_products").select("*",{count:"exact",head:!0}).eq("designer_id",$.user_id),ee.from("marketplace_collections").select("*",{count:"exact",head:!0}).eq("designer_id",$.user_id)]);return{user_id:$.user_id,name:$.name||"Unknown",brand_name:$.brand_name,avatar_url:$.avatar_url,bio:$.bio,email:$.email,instagram_handle:$.instagram_handle,website_url:$.website_url,created_at:$.created_at,status:"active",product_count:E||0,collection_count:M||0}}));if(s){const $=s.toLowerCase();F=F.filter(E=>E.name.toLowerCase().includes($)||E.brand_name?.toLowerCase().includes($)||E.email?.toLowerCase().includes($))}switch(n!=="all"&&(F=F.filter($=>$.status===n)),o){case"name_asc":F.sort(($,E)=>$.name.localeCompare(E.name));break;case"name_desc":F.sort(($,E)=>E.name.localeCompare($.name));break;case"products_desc":F.sort(($,E)=>E.product_count-$.product_count);break;case"collections_desc":F.sort(($,E)=>E.collection_count-$.collection_count);break;case"newest":F.sort(($,E)=>!$.created_at||!E.created_at?0:new Date(E.created_at).getTime()-new Date($.created_at).getTime());break}return F}}),y=ze({mutationFn:async({designerId:A,status:O})=>(console.log("Status change:",A,O),{success:!0}),onSuccess:()=>{x.invalidateQueries({queryKey:["admin-designers-list"]}),v({title:"Designer status updated successfully"}),p(null)},onError:A=>{v({title:"Failed to update status",description:A.message,variant:"destructive"})}}),j=A=>{d(A),m(!0)},S=A=>{j(A)},w=(A,O)=>{const I=g?.find(F=>F.user_id===A);I&&p({designerId:A,designerName:I.name,newStatus:O})},_=()=>{h&&y.mutate({designerId:h.designerId,status:h.newStatus})},N=A=>{v({title:"View products feature coming soon"})},k=A=>{v({title:"View collections feature coming soon"})},P=h?{active:{title:"Activate Designer",description:`Are you sure you want to activate ${h.designerName}? They will be able to manage their products and collections.`,actionLabel:"Activate",actionClass:"bg-success hover:bg-success/90"},inactive:{title:"Deactivate Designer",description:`Are you sure you want to deactivate ${h.designerName}? Their products will be hidden from the marketplace.`,actionLabel:"Deactivate",actionClass:"bg-admin-foreground hover:bg-admin-foreground/90"},suspended:{title:"Suspend Designer",description:`Are you sure you want to suspend ${h.designerName}? This will hide their products and prevent them from logging in.`,actionLabel:"Suspend",actionClass:"bg-destructive hover:bg-destructive/90"}}[h.newStatus]:null;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-admin-muted-foreground/60"}),e.jsx(ie,{placeholder:"Search designers...",value:s,onChange:A=>a(A.target.value),className:"pl-9 h-10 bg-admin-card border-admin-border/60 rounded-lg focus:ring-2 focus:ring-admin-foreground/10 text-admin-foreground"})]}),e.jsxs(qe,{value:n,onValueChange:A=>i(A),children:[e.jsx(Fe,{className:"w-[140px] h-10 bg-admin-card border-admin-border/60 rounded-lg",children:e.jsx(Me,{placeholder:"Status"})}),e.jsxs(Le,{className:"bg-admin-card border-admin-border/60 rounded-lg",children:[e.jsx(X,{value:"all",children:"All Status"}),e.jsx(X,{value:"active",children:"Active"}),e.jsx(X,{value:"inactive",children:"Inactive"}),e.jsx(X,{value:"suspended",children:"Suspended"})]})]}),e.jsxs(qe,{value:o,onValueChange:A=>l(A),children:[e.jsx(Fe,{className:"w-[160px] h-10 bg-admin-card border-admin-border/60 rounded-lg",children:e.jsx(Me,{placeholder:"Sort by"})}),e.jsxs(Le,{className:"bg-admin-card border-admin-border/60 rounded-lg",children:[e.jsx(X,{value:"name_asc",children:"Name A-Z"}),e.jsx(X,{value:"name_desc",children:"Name Z-A"}),e.jsx(X,{value:"products_desc",children:"Most Products"}),e.jsx(X,{value:"collections_desc",children:"Most Collections"}),e.jsx(X,{value:"newest",children:"Newest First"})]})]})]}),e.jsxs("div",{className:"flex items-center border border-admin-border/60 rounded-lg overflow-hidden",children:[e.jsx(T,{variant:t==="grid"?"default":"ghost",size:"icon",onClick:()=>r("grid"),className:q("h-10 w-10 rounded-none",t==="grid"?"bg-admin-foreground text-admin-background":"hover:bg-admin-muted text-admin-muted-foreground"),children:e.jsx(Am,{className:"h-4 w-4"})}),e.jsx(T,{variant:t==="list"?"default":"ghost",size:"icon",onClick:()=>r("list"),className:q("h-10 w-10 rounded-none",t==="list"?"bg-admin-foreground text-admin-background":"hover:bg-admin-muted text-admin-muted-foreground"),children:e.jsx(YD,{className:"h-4 w-4"})})]})]}),b?t==="grid"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((A,O)=>e.jsx(rt,{className:"h-64 rounded-xl"},O))}):e.jsx("div",{className:"space-y-2",children:[...Array(5)].map((A,O)=>e.jsx(rt,{className:"h-16 rounded-xl"},O))}):!g||g.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center bg-admin-muted/30 rounded-xl border border-admin-border/50 border-dashed",children:[e.jsx("div",{className:"h-14 w-14 rounded-xl bg-admin-muted/60 flex items-center justify-center mb-4",children:e.jsx(mt,{className:"h-7 w-7 text-admin-muted-foreground/50"})}),e.jsx("h3",{className:"text-base font-semibold text-admin-foreground",children:"No designers found"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground mt-1 max-w-xs",children:s||n!=="all"?"Try adjusting your search or filters":"Designers will appear here once they join the marketplace"})]}):t==="grid"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:g.map(A=>e.jsx(E1e,{designer:A,onView:()=>j(A.user_id),onEdit:()=>S(A.user_id),onStatusChange:O=>w(A.user_id,O),onViewProducts:()=>N(A.user_id),onViewCollections:()=>k(A.user_id)},A.user_id))}):e.jsx("div",{className:"border border-admin-border/60 rounded-xl overflow-hidden bg-admin-card shadow-sm",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{className:"bg-admin-muted/50 hover:bg-admin-muted/50",children:[e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Designer"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Products"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Collections"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Status"}),e.jsx(xe,{className:"text-[11px] font-bold uppercase tracking-wider text-admin-muted-foreground py-4",children:"Social"}),e.jsx(xe,{className:"w-[50px] py-4"})]})}),e.jsx(Xr,{children:g.map(A=>{const O=D1e[A.status],I=A.name?.split(" ").map(F=>F[0]).join("").toUpperCase().slice(0,2)||"??";return e.jsxs(Ve,{className:"transition-colors hover:bg-admin-muted/30 border-b border-admin-border/50 last:border-b-0",children:[e.jsx(de,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(rr,{className:"h-10 w-10 rounded-lg border border-admin-border/30",children:[e.jsx(sr,{src:A.avatar_url||void 0,alt:A.name}),e.jsx(ar,{className:"rounded-lg bg-admin-muted text-admin-foreground font-semibold text-xs",children:I})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-admin-foreground text-sm",children:A.name}),A.brand_name&&e.jsxs("p",{className:"text-xs text-admin-muted-foreground",children:["@",A.brand_name]})]})]})}),e.jsx(de,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(Ot,{className:"h-3.5 w-3.5 text-admin-muted-foreground"}),e.jsx("span",{className:"font-medium text-admin-foreground",children:A.product_count})]})}),e.jsx(de,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsx(As,{className:"h-3.5 w-3.5 text-admin-muted-foreground"}),e.jsx("span",{className:"font-medium text-admin-foreground",children:A.collection_count})]})}),e.jsx(de,{className:"py-4",children:e.jsx(B,{variant:"outline",className:q("text-[10px] font-semibold px-2 py-0.5 rounded-full",O.className),children:O.label})}),e.jsx(de,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[A.instagram_handle&&e.jsx("a",{href:`https://instagram.com/${A.instagram_handle}`,target:"_blank",rel:"noopener noreferrer",className:"h-7 w-7 rounded-lg bg-admin-muted/60 flex items-center justify-center text-admin-muted-foreground hover:text-admin-foreground hover:bg-admin-muted transition-colors",children:e.jsx(jo,{className:"h-3.5 w-3.5"})}),A.website_url&&e.jsx("a",{href:A.website_url.startsWith("http")?A.website_url:`https://${A.website_url}`,target:"_blank",rel:"noopener noreferrer",className:"h-7 w-7 rounded-lg bg-admin-muted/60 flex items-center justify-center text-admin-muted-foreground hover:text-admin-foreground hover:bg-admin-muted transition-colors",children:e.jsx($i,{className:"h-3.5 w-3.5"})})]})}),e.jsx(de,{className:"py-4",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-lg hover:bg-admin-muted",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",className:"bg-admin-card border-admin-border/60 rounded-xl shadow-lg p-1.5 min-w-[160px]",children:[e.jsxs(Se,{onClick:()=>j(A.user_id),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(Bt,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"View Profile"]}),e.jsxs(Se,{onClick:()=>S(A.user_id),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(Oi,{className:"h-4 w-4 mr-2.5 text-admin-muted-foreground"}),"Edit"]}),e.jsx(Ar,{className:"bg-admin-border/50 my-1.5"}),A.status!=="active"&&e.jsxs(Se,{onClick:()=>w(A.user_id,"active"),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm text-success focus:text-success focus:bg-success/10",children:[e.jsx(tr,{className:"h-4 w-4 mr-2.5"}),"Activate"]}),A.status!=="inactive"&&A.status!=="suspended"&&e.jsxs(Se,{onClick:()=>w(A.user_id,"inactive"),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm focus:bg-admin-muted",children:[e.jsx(Rr,{className:"h-4 w-4 mr-2.5"}),"Deactivate"]}),A.status!=="suspended"&&e.jsxs(Se,{onClick:()=>w(A.user_id,"suspended"),className:"rounded-lg cursor-pointer py-2 px-2.5 text-sm text-destructive focus:text-destructive focus:bg-destructive/10",children:[e.jsx(Tm,{className:"h-4 w-4 mr-2.5"}),"Suspend"]})]})]})})]},A.user_id)})})]})}),e.jsx(O1e,{designerId:c,open:u,onClose:()=>{m(!1),d(null)},onStatusChange:w}),e.jsx(li,{open:!!h,onOpenChange:()=>p(null),children:e.jsxs(Nn,{className:"bg-admin-card border-admin-border/60 rounded-xl",children:[e.jsxs(_n,{children:[e.jsx(Cn,{className:"text-lg font-semibold text-admin-foreground",children:P?.title}),e.jsx(kn,{className:"text-sm text-admin-muted-foreground",children:P?.description})]}),e.jsxs(Sn,{className:"gap-2",children:[e.jsx(Pn,{className:"rounded-lg border-admin-border/60 hover:bg-admin-muted transition-colors",children:"Cancel"}),e.jsx(An,{onClick:_,className:q("rounded-lg text-white",P?.actionClass),children:P?.actionLabel})]})]})})]})}const I1e=()=>{const[t,r]=KN(),[s,a]=f.useState("products"),[n,i]=f.useState(!1),[o,l]=f.useState(null),{data:c}=Oe({queryKey:["admin-marketplace-quick-stats"],queryFn:async()=>{const[{count:v},{count:x},{count:g},{count:b},{count:y}]=await Promise.all([ee.from("profiles").select("*",{count:"exact",head:!0}).not("name","is",null),ee.from("marketplace_products").select("*",{count:"exact",head:!0}),ee.from("marketplace_products").select("*",{count:"exact",head:!0}).eq("status","live"),ee.from("marketplace_collections").select("*",{count:"exact",head:!0}),ee.from("marketplace_orders").select("*",{count:"exact",head:!0}).eq("status","pending")]);return{totalDesigners:v||0,totalProducts:x||0,liveProducts:g||0,totalCollections:b||0,pendingOrders:y||0}}});f.useEffect(()=>{const v=t.get("tab");v&&["designers","products","collections","orders","categories"].includes(v)&&a(v)},[t]);const d=v=>{a(v),r({tab:v})},u=v=>{l(v),i(!0)},m=()=>{i(!1),l(null)},h=()=>{l(null),i(!0)},p=[{label:"Designers",value:c?.totalDesigners||0,icon:mt,color:"text-blue-500",bgColor:"bg-blue-500/10"},{label:"Products",value:c?.totalProducts||0,sublabel:`${c?.liveProducts||0} live`,icon:Ot,color:"text-green-500",bgColor:"bg-green-500/10"},{label:"Collections",value:c?.totalCollections||0,icon:As,color:"text-purple-500",bgColor:"bg-purple-500/10"},{label:"Pending Orders",value:c?.pendingOrders||0,icon:kc,color:"text-amber-500",bgColor:"bg-amber-500/10"}];return e.jsxs(Br,{children:[e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-admin-foreground",children:"Marketplace"}),e.jsx("p",{className:"text-sm text-admin-muted-foreground mt-1",children:"Manage designers, products, collections and orders"})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[p.map(v=>{const x=v.icon;return e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-admin-card border border-admin-border/60 rounded-lg",children:[e.jsx("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center ${v.color} ${v.bgColor}`,children:e.jsx(x,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-admin-foreground leading-none",children:v.value}),e.jsxs("p",{className:"text-[10px] text-admin-muted-foreground uppercase tracking-wider",children:[v.label,v.sublabel&&e.jsxs("span",{className:"ml-1 text-success",children:["(",v.sublabel,")"]})]})]})]},v.label)}),e.jsxs(T,{onClick:h,className:"bg-admin-foreground text-admin-background hover:bg-admin-foreground/90 transition-all rounded-lg h-10 px-4",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add Product"]})]})]}),e.jsxs(Nr,{value:s,onValueChange:d,className:"space-y-4",children:[e.jsxs(br,{className:"bg-admin-muted/60 p-1 rounded-xl h-auto flex-wrap gap-1",children:[e.jsxs(Ee,{value:"designers",className:"data-[state=active]:bg-admin-card data-[state=active]:shadow-sm rounded-lg px-4 py-2.5 text-sm font-medium transition-all gap-2",children:[e.jsx(mt,{className:"h-4 w-4"}),"Designers"]}),e.jsxs(Ee,{value:"products",className:"data-[state=active]:bg-admin-card data-[state=active]:shadow-sm rounded-lg px-4 py-2.5 text-sm font-medium transition-all gap-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),"Products"]}),e.jsxs(Ee,{value:"collections",className:"data-[state=active]:bg-admin-card data-[state=active]:shadow-sm rounded-lg px-4 py-2.5 text-sm font-medium transition-all gap-2",children:[e.jsx(As,{className:"h-4 w-4"}),"Collections"]}),e.jsxs(Ee,{value:"orders",className:"data-[state=active]:bg-admin-card data-[state=active]:shadow-sm rounded-lg px-4 py-2.5 text-sm font-medium transition-all gap-2",children:[e.jsx(kc,{className:"h-4 w-4"}),"Orders",(c?.pendingOrders||0)>0&&e.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-semibold rounded-full bg-warning/20 text-warning",children:c?.pendingOrders})]}),e.jsxs(Ee,{value:"categories",className:"data-[state=active]:bg-admin-card data-[state=active]:shadow-sm rounded-lg px-4 py-2.5 text-sm font-medium transition-all gap-2",children:[e.jsx(lB,{className:"h-4 w-4"}),"Categories"]})]}),e.jsx(Te,{value:"designers",className:"mt-0",children:e.jsx(R1e,{})}),e.jsx(Te,{value:"products",className:"mt-0",children:e.jsx(J_e,{onEdit:u})}),e.jsx(Te,{value:"collections",className:"mt-0",children:e.jsx(P1e,{})}),e.jsx(Te,{value:"orders",className:"mt-0",children:e.jsx(k1e,{})}),e.jsx(Te,{value:"categories",className:"mt-0",children:e.jsx(A1e,{})})]})]}),e.jsx(Et,{open:n,onOpenChange:i,children:e.jsxs(Pt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto bg-admin-card border-admin-border/60 rounded-xl",children:[e.jsx(Lt,{className:"pb-4 border-b border-admin-border/50",children:e.jsx($t,{className:"text-lg font-semibold text-admin-foreground",children:o?"Edit Product":"Add New Product"})}),e.jsx(C1e,{onSuccess:m,onCancel:m})]})})]})},M1e=()=>{const{toast:t}=Ge(),r=ft(),[s,a]=f.useState(""),{data:n=[],isLoading:i,refetch:o}=Oe({queryKey:["admin-payouts"],queryFn:async()=>{const{data:u,error:m}=await ee.from("payouts").select(`
          *,
          profiles:designer_id (
            name,
            email
          )
        `).order("status",{ascending:!1}).order("id",{ascending:!1});if(m)throw m;return u}}),{data:l}=Oe({queryKey:["admin-payout-stats"],queryFn:async()=>{const[{data:u},{data:m}]=await Promise.all([ee.from("earnings").select("amount"),ee.from("payouts").select("amount").eq("status","paid")]),h=u?.reduce((x,g)=>x+Number(g.amount),0)||0,p=m?.reduce((x,g)=>x+Number(g.amount),0)||0,v=n.filter(x=>x.status==="pending").reduce((x,g)=>x+Number(g.amount),0);return{totalEarned:h,totalPaidAmount:p,pendingAmount:v,payoutRate:h>0?p/h*100:0}},enabled:!!n}),c=ze({mutationFn:async({id:u,status:m})=>{const{error:h}=await ee.from("payouts").update({status:m,processed_at:new Date().toISOString()}).eq("id",u);if(h)throw h},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-payouts"]}),r.invalidateQueries({queryKey:["admin-payout-stats"]}),t({title:"Payout updated successfully"})},onError:u=>{t({title:"Error updating payout",description:u.message,variant:"destructive"})}}),d=n.filter(u=>u.profiles?.name?.toLowerCase().includes(s.toLowerCase())||u.profiles?.email?.toLowerCase().includes(s.toLowerCase())||u.designer_id.toLowerCase().includes(s.toLowerCase()));return e.jsx(Br,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold",children:"Financial Operations"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage designer earnings and payout requests"})]}),e.jsxs(T,{variant:"outline",className:"gap-2",onClick:()=>o(),disabled:i,children:[e.jsx(ga,{className:q("h-4 w-4",i&&"animate-spin")}),"Sync Data"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(G,{className:"bg-admin-card",children:e.jsxs(Y,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-success/10 flex items-center justify-center",children:e.jsx(ks,{className:"h-5 w-5 text-success"})}),e.jsx(B,{variant:"outline",className:"bg-success/5 text-success border-success/20",children:"Total"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-2xl font-bold",children:["$",l?.totalEarned.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Gross Platform Earnings"})]})]})}),e.jsx(G,{className:"bg-admin-card",children:e.jsxs(Y,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:e.jsx(Hp,{className:"h-5 w-5 text-blue-500"})}),e.jsx(B,{variant:"outline",className:"bg-blue-500/5 text-blue-500 border-blue-500/20",children:"Paid"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-2xl font-bold",children:["$",l?.totalPaidAmount.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully Disbursed"})]})]})}),e.jsx(G,{className:"bg-admin-card",children:e.jsxs(Y,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:e.jsx(Ze,{className:"h-5 w-5 text-amber-500"})}),e.jsx(B,{variant:"outline",className:"bg-amber-500/5 text-amber-500 border-amber-500/20",children:"Queue"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-2xl font-bold",children:["$",l?.pendingAmount.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending Payout Requests"})]})]})}),e.jsx(G,{className:"bg-admin-card",children:e.jsxs(Y,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-500/10 flex items-center justify-center",children:e.jsx(ra,{className:"h-5 w-5 text-purple-500"})}),e.jsx(B,{variant:"outline",className:"bg-purple-500/5 text-purple-500 border-purple-500/20",children:"Rate"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-2xl font-bold",children:[l?.payoutRate.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Payout to Revenue Ratio"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search by designer or ID...",className:"pl-10",value:s,onChange:u=>a(u.target.value)})]})}),e.jsx(G,{children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{children:"Designer"}),e.jsx(xe,{children:"Amount"}),e.jsx(xe,{children:"Requested"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:i?e.jsx(Ve,{children:e.jsx(de,{colSpan:5,className:"text-center py-12",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto text-admin-wine"})})}):d.length===0?e.jsx(Ve,{children:e.jsx(de,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"No payout requests found."})}):d.map(u=>e.jsxs(Ve,{children:[e.jsx(de,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:u.profiles?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:u.profiles?.email||u.designer_id})]})}),e.jsxs(de,{className:"font-bold",children:["$",Number(u.amount).toLocaleString()]}),e.jsx(de,{className:"text-sm text-muted-foreground",children:u.created_at?jn(new Date(u.created_at),{addSuffix:!0}):"N/A"}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:q(u.status==="pending"?"bg-amber-500/10 text-amber-500 border-amber-500/20":u.status==="paid"?"bg-success/10 text-success border-success/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"),children:u.status})}),e.jsx(de,{className:"text-right",children:u.status==="pending"?e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(T,{size:"sm",variant:"outline",className:"h-8 text-success border-success/20 hover:bg-success/10",onClick:()=>c.mutate({id:u.id,status:"paid"}),disabled:c.isPending,children:[e.jsx(Mt,{className:"h-4 w-4 mr-1"}),"Approve"]}),e.jsxs(T,{size:"sm",variant:"outline",className:"h-8 text-destructive border-destructive/20 hover:bg-destructive/5",children:[e.jsx(Rr,{className:"h-4 w-4 mr-1"}),"Reject"]})]}):e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center justify-end gap-1",children:[e.jsx(Mt,{className:"h-3 w-3"}),"Processed ",u.processed_at?new Date(u.processed_at).toLocaleDateString():""]})})]},u.id))})]})})]})]})})},F1e=()=>{const{toast:t}=Ge(),r=ft(),[s,a]=f.useState(""),[n,i]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(""),{data:u=[],isLoading:m,refetch:h}=Oe({queryKey:["admin-teams"],queryFn:async()=>{const{data:j,error:S}=await ee.from("teams").select(`
          *,
          profiles(name, email),
          team_members(count)
        `);if(S)throw S;return j}}),{data:p=[],isLoading:v,refetch:x}=Oe({queryKey:["admin-team-submissions"],queryFn:async()=>{const{data:j,error:S}=await ee.from("team_stylebox_submissions").select(`
          *,
          teams(name),
          styleboxes(title)
        `).order("created_at",{ascending:!1});if(S)throw S;return j}}),g=ze({mutationFn:async({id:j,status:S,feedback:w})=>{const{error:_}=await ee.from("team_stylebox_submissions").update({status:S,admin_feedback:w?{comment:w}:void 0,reviewed_at:new Date().toISOString(),reviewed_by:(await ee.auth.getUser()).data.user?.id}).eq("id",j);if(_)throw _},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-team-submissions"]}),l(!1),d(""),t({title:"Submission status updated"})},onError:j=>{t({title:"Update failed",description:j.message,variant:"destructive"})}}),b=j=>{i(j),l(!0)},y=u.filter(j=>j.name.toLowerCase().includes(s.toLowerCase()));return e.jsx(Br,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"Teams & Challenges"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage designer collectives and team-based certifications"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(T,{variant:"outline",className:"gap-2",onClick:()=>{h(),x()},children:[e.jsx(ga,{className:q("h-4 w-4",(m||v)&&"animate-spin")}),"Refresh"]})})]}),e.jsxs(Nr,{defaultValue:"teams",className:"space-y-6",children:[e.jsxs(br,{children:[e.jsxs(Ee,{value:"teams",className:"gap-2",children:[e.jsx(mt,{className:"h-4 w-4"}),"Teams"]}),e.jsxs(Ee,{value:"submissions",className:"gap-2",children:[e.jsx(nf,{className:"h-4 w-4"}),"Submissions"]})]}),e.jsxs(Te,{value:"teams",className:"space-y-4",children:[e.jsx(G,{children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search teams by name...",className:"pl-10",value:s,onChange:j=>a(j.target.value)})]})})}),e.jsx(G,{children:e.jsx(Y,{className:"p-0",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{children:"Team Name"}),e.jsx(xe,{children:"Founder"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Members"}),e.jsx(xe,{children:"Created At"}),e.jsx(xe,{className:"w-[50px]"})]})}),e.jsx(Xr,{children:m?e.jsx(Ve,{children:e.jsx(de,{colSpan:6,className:"text-center py-12",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto text-admin-wine"})})}):y.length===0?e.jsx(Ve,{children:e.jsx(de,{colSpan:6,className:"text-center py-12 text-muted-foreground",children:"No teams found."})}):y.map(j=>e.jsxs(Ve,{children:[e.jsx(de,{className:"font-medium",children:j.name}),e.jsxs(de,{children:[e.jsx("p",{className:"text-sm",children:j.profiles?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j.profiles?.email||""})]}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:"capitalize",children:j.category})}),e.jsx(de,{children:j.team_members?.[0]?.count||0}),e.jsx(de,{children:new Date(j.created_at).toLocaleDateString()}),e.jsx(de,{children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",children:[e.jsxs(Se,{children:[e.jsx(Bt,{className:"h-4 w-4 mr-2"}),"View Members"]}),e.jsx(Ar,{}),e.jsxs(Se,{className:"text-destructive",children:[e.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Disband Team"]})]})]})})]},j.id))})]})})})]}),e.jsx(Te,{value:"submissions",className:"space-y-4",children:e.jsx(G,{children:e.jsx(Y,{className:"p-0",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{children:"Team"}),e.jsx(xe,{children:"Challenge"}),e.jsx(xe,{children:"Started At"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Action"})]})}),e.jsx(Xr,{children:v?e.jsx(Ve,{children:e.jsx(de,{colSpan:5,className:"text-center py-12",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto text-admin-wine"})})}):p.length===0?e.jsx(Ve,{children:e.jsx(de,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"No challenge submissions found."})}):p.map(j=>e.jsxs(Ve,{children:[e.jsx(de,{className:"font-medium",children:j.teams?.name}),e.jsx(de,{children:j.styleboxes?.title}),e.jsx(de,{children:j.started_at?new Date(j.started_at).toLocaleDateString():"Not started"}),e.jsx(de,{children:e.jsx(B,{variant:j.status==="approved"?"success":j.status==="rejected"?"destructive":j.status==="pending"?"warning":"outline",className:"capitalize",children:j.status})}),e.jsx(de,{children:e.jsxs(T,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>b(j),disabled:j.status!=="pending",children:[e.jsx(nf,{className:"h-4 w-4"}),"Review"]})})]},j.id))})]})})})})]}),e.jsx(Et,{open:o,onOpenChange:l,children:e.jsxs(Pt,{className:"max-w-2xl",children:[e.jsxs(Lt,{children:[e.jsx($t,{children:"Review Team Submission"}),e.jsxs(Us,{children:["Certify the team's completion of ",n?.styleboxes?.title]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold uppercase text-muted-foreground",children:"Team"}),e.jsx("p",{className:"font-medium",children:n?.teams?.name})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold uppercase text-muted-foreground",children:"Submitted At"}),e.jsx("p",{className:"font-medium",children:n?.submitted_at?new Date(n.submitted_at).toLocaleString():"N/A"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Internal Feedback"}),e.jsx(ie,{placeholder:"Notes for the team...",value:c,onChange:j=>d(j.target.value)})]})]}),e.jsxs(Cs,{className:"gap-2 sm:gap-0",children:[e.jsxs(T,{variant:"outline",onClick:()=>g.mutate({id:n.id,status:"rejected",feedback:c}),disabled:g.isPending,children:[e.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsxs(T,{variant:"success",onClick:()=>g.mutate({id:n.id,status:"approved",feedback:c}),disabled:g.isPending,children:[e.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Approve & Certify"]})]})]})})]})})},L1e=()=>{const{toast:t}=Ge(),r=ft(),[s,a]=f.useState("broadcast"),[n,i]=f.useState("all"),[o,l]=f.useState(""),[c,d]=f.useState("announcement"),[u,m]=f.useState(""),[h,p]=f.useState(!1),{data:v=[],isLoading:x,refetch:g}=Oe({queryKey:["admin-notifications-history"],queryFn:async()=>{const{data:y,error:j}=await ee.from("notifications").select(`
          *,
          profiles(name, email)
        `).order("created_at",{ascending:!1}).limit(50);if(j)throw j;return y}}),b=async()=>{if(!u.trim()){t({title:"Message required",variant:"destructive"});return}if(n==="individual"&&!o){t({title:"Target user required",variant:"destructive"});return}p(!0);try{if(console.log("[AdminNotifications] Sending notification",{targetType:n,notificationType:c,recipientCount:n==="all"?"broadcast":1}),n==="all"){const y=c==="announcement"?"Platform Announcement":c==="alert"?"Important Alert":c==="achievement"?"Achievement Unlocked":"System Update",{data:j,error:S}=await ee.functions.invoke("broadcast-notification",{body:{type:c,message:u,title:y}});if(S)throw console.error("[AdminNotifications] Broadcast failed:",S),S;console.log("[AdminNotifications] Broadcast notification sent:",j)}else{const y=c==="announcement"?"Platform Announcement":c==="alert"?"Important Alert":c==="achievement"?"Achievement Unlocked":"System Update",{error:j}=await ee.from("notifications").insert({user_id:o,type:c,message:u,status:"unread",metadata:{sent_by:"admin",sent_at:new Date().toISOString(),title:y}});if(j)throw console.error("[AdminNotifications] Individual notification failed:",j),j;console.log("[AdminNotifications] Individual notification sent to:",o)}t({title:"Notification sent successfully",description:n==="all"?"Broadcast to all users":"Sent to selected user"}),m(""),l(""),r.invalidateQueries({queryKey:["admin-notifications-history"]})}catch(y){console.error("[AdminNotifications] Send error:",y),t({title:"Failed to send notification",description:y.message,variant:"destructive"})}finally{p(!1)}};return e.jsx(Br,{children:e.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"Notification Center"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Communicate with designers and manage system alerts"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(G,{className:"lg:col-span-1 h-fit",children:[e.jsxs(je,{children:[e.jsxs(Ne,{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-5 w-5"}),"Compose"]}),e.jsx(er,{children:"Send a new system notification"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Target Audience"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(T,{variant:n==="all"?"default":"outline",className:"gap-2",onClick:()=>i("all"),children:[e.jsx(mt,{className:"h-4 w-4"}),"All Designers"]}),e.jsxs(T,{variant:n==="individual"?"default":"outline",className:"gap-2",onClick:()=>i("individual"),children:[e.jsx(Oa,{className:"h-4 w-4"}),"Individual"]})]})]}),n==="individual"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"User ID"}),e.jsx(ie,{placeholder:"Enter user UUID...",value:o,onChange:y=>l(y.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Notification Type"}),e.jsxs(qe,{value:c,onValueChange:d,children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"announcement",children:"Announcement"}),e.jsx(X,{value:"alert",children:"Alert"}),e.jsx(X,{value:"achievement",children:"Achievement"}),e.jsx(X,{value:"system",children:"System Update"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Message"}),e.jsx(nt,{placeholder:"Type your notification message here...",className:"min-h-[120px]",value:u,onChange:y=>m(y.target.value)})]}),e.jsxs(T,{className:"w-full gap-2",onClick:b,disabled:h,children:[h?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):e.jsx(cB,{className:"h-4 w-4"}),"Send Notification"]})]})]}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(Nr,{defaultValue:"history",children:[e.jsxs(br,{children:[e.jsxs(Ee,{value:"history",className:"gap-2",children:[e.jsx(co,{className:"h-4 w-4"}),"Recent History"]}),e.jsxs(Ee,{value:"templates",className:"gap-2",children:[e.jsx(ms,{className:"h-4 w-4"}),"Email Templates"]})]}),e.jsx(Te,{value:"history",className:"mt-4",children:e.jsxs(G,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{children:[e.jsx(Ne,{children:"Sent Notifications"}),e.jsx(er,{children:"Track recently delivered communications"})]}),e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>g(),children:e.jsx(ga,{className:q("h-4 w-4",x&&"animate-spin")})})]}),e.jsx(Y,{className:"p-0",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{children:"Recipient"}),e.jsx(xe,{children:"Type"}),e.jsx(xe,{children:"Message"}),e.jsx(xe,{children:"Date"}),e.jsx(xe,{children:"Status"})]})}),e.jsx(Xr,{children:x?e.jsx(Ve,{children:e.jsx(de,{colSpan:5,className:"text-center py-12",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto text-admin-wine"})})}):v.length===0?e.jsx(Ve,{children:e.jsx(de,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"No notifications sent yet."})}):v.map(y=>e.jsxs(Ve,{children:[e.jsxs(de,{children:[e.jsx("p",{className:"text-sm font-medium",children:y.profiles?.name||"Unknown"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:y.profiles?.email||"N/A"})]}),e.jsx(de,{children:e.jsx(B,{variant:"outline",className:"capitalize",children:y.type})}),e.jsx(de,{className:"max-w-[200px] truncate",children:y.message}),e.jsx(de,{className:"text-sm",children:new Date(y.created_at).toLocaleDateString()}),e.jsx(de,{children:e.jsx(B,{variant:y.status==="read"?"success":"outline",className:"capitalize",children:y.status})})]},y.id))})]})})]})}),e.jsx(Te,{value:"templates",className:"mt-4",children:e.jsxs(G,{children:[e.jsxs(je,{children:[e.jsx(Ne,{children:"Email Templates"}),e.jsx(er,{children:"Configure system-generated emails"})]}),e.jsxs(Y,{className:"p-12 text-center",children:[e.jsx(Vs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Templates Module Coming Soon"}),e.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:"We are currently integrating with the transactional email provider to allow direct template editing."})]})]})})]})})]})]})})};function $1e(){const[t,r]=f.useState([]),{data:s,refetch:a}=Oe({queryKey:["admin-realtime-stats"],queryFn:async()=>{const{data:o,error:l}=await ee.rpc("get_admin_dashboard_stats");if(l)throw l;const c=o;return{totalDesigners:c.total_designers||0,newSignupsToday:c.new_signups_today||0,newSignupsWeek:c.new_signups_week||0,newSignupsMonth:c.new_signups_month||0,pendingSubmissions:c.pending_submissions||0,pendingPublications:c.pending_publications||0,totalRevenue:c.total_revenue||0,revenueThisMonth:c.revenue_this_month||0}},refetchInterval:3e4}),{data:n}=Oe({queryKey:["admin-recent-activity"],queryFn:async()=>{const o=[],{data:l}=await ee.from("profiles").select("id, name, email, created_at").order("created_at",{ascending:!1}).limit(5);l?.forEach(u=>{o.push({id:`signup-${u.id}`,type:"signup",message:`${u.name||u.email||"New user"} joined the platform`,timestamp:u.created_at})});const{data:c}=await ee.from("stylebox_submissions").select("id, designer_id, stylebox_id, submitted_at, status").order("submitted_at",{ascending:!1}).limit(5);c?.forEach(u=>{o.push({id:`submission-${u.id}`,type:"submission",message:`New stylebox submission (${u.status})`,timestamp:u.submitted_at})});const{data:d}=await ee.from("portfolio_publications").select("id, status, submitted_at").order("submitted_at",{ascending:!1}).limit(5);return d?.forEach(u=>{o.push({id:`publication-${u.id}`,type:"publication",message:`Publication request (${u.status})`,timestamp:u.submitted_at})}),o.sort((u,m)=>new Date(m.timestamp).getTime()-new Date(u.timestamp).getTime()).slice(0,10)},refetchInterval:3e4});f.useEffect(()=>{const o=ee.channel("admin-realtime-dashboard").on("postgres_changes",{event:"INSERT",schema:"public",table:"profiles"},l=>{console.log("New profile:",l);const c={id:`signup-${l.new.id}-${Date.now()}`,type:"signup",message:`${l.new.name||l.new.email||"New user"} joined the platform`,timestamp:l.new.created_at};r(d=>[c,...d].slice(0,20)),a()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"stylebox_submissions"},l=>{console.log("New submission:",l);const c={id:`submission-${l.new.id}-${Date.now()}`,type:"submission",message:"New stylebox submission received",timestamp:l.new.submitted_at};r(d=>[c,...d].slice(0,20)),a()}).on("postgres_changes",{event:"*",schema:"public",table:"portfolio_publications"},l=>{if(console.log("Publication change:",l),l.eventType==="INSERT"){const c={id:`publication-${l.new.id}-${Date.now()}`,type:"publication",message:"New publication request submitted",timestamp:l.new.submitted_at};r(d=>[c,...d].slice(0,20))}a()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"earnings"},l=>{console.log("New earning:",l);const c={id:`earning-${l.new.id}-${Date.now()}`,type:"earning",message:`New earning: $${Number(l.new.amount).toFixed(2)}`,timestamp:l.new.created_at};r(d=>[c,...d].slice(0,20)),a()}).subscribe();return()=>{ee.removeChannel(o)}},[a]);const i=[...t,...n||[]].filter((o,l,c)=>l===c.findIndex(d=>d.id===o.id)).sort((o,l)=>new Date(l.timestamp).getTime()-new Date(o.timestamp).getTime()).slice(0,15);return{stats:s||{totalDesigners:0,newSignupsToday:0,newSignupsWeek:0,newSignupsMonth:0,pendingSubmissions:0,pendingPublications:0,totalRevenue:0,revenueThisMonth:0},activity:i,refetchStats:a}}const q1e=()=>{const{stats:t,activity:r}=$1e(),s={signup:{icon:Ac,color:"text-success",bg:"bg-success/10"},submission:{icon:Wt,color:"text-blue-500",bg:"bg-blue-500/10"},publication:{icon:Ot,color:"text-purple-500",bg:"bg-purple-500/10"},earning:{icon:Rs,color:"text-amber-500",bg:"bg-amber-500/10"}},a=[{name:"Pending Submissions",value:t.pendingSubmissions,color:"hsl(var(--primary))"},{name:"Pending Publications",value:t.pendingPublications,color:"hsl(var(--accent))"}];return t.newSignupsToday,t.newSignupsWeek,t.newSignupsMonth,e.jsx(Br,{children:e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-display font-bold text-admin-foreground",children:"Analytics"}),e.jsx("p",{className:"text-admin-muted-foreground",children:"Real-time platform insights and metrics"})]}),e.jsxs(B,{variant:"outline",className:"gap-2 bg-success/10 text-success border-success/20",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-success animate-pulse"}),"Live"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(G,{className:"bg-admin-card border-admin-border",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-success/10 flex items-center justify-center",children:e.jsx(mt,{className:"h-6 w-6 text-success"})}),e.jsxs("div",{className:"flex items-center text-success text-sm font-medium",children:[e.jsx(ra,{className:"h-4 w-4"}),"+",t.newSignupsToday," today"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-3xl font-bold text-admin-foreground",children:t.totalDesigners.toLocaleString()}),e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:"Total Designers"})]})]})}),e.jsx(G,{className:"bg-admin-card border-admin-border",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-500/10 flex items-center justify-center",children:e.jsx(Wt,{className:"h-6 w-6 text-blue-500"})}),e.jsx(B,{variant:"secondary",className:"text-xs",children:"Pending"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-3xl font-bold text-admin-foreground",children:t.pendingSubmissions}),e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:"Stylebox Submissions"})]})]})}),e.jsx(G,{className:"bg-admin-card border-admin-border",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-purple-500/10 flex items-center justify-center",children:e.jsx(Ot,{className:"h-6 w-6 text-purple-500"})}),e.jsx(B,{variant:"secondary",className:"text-xs",children:"Pending"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-3xl font-bold text-admin-foreground",children:t.pendingPublications}),e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:"Publication Requests"})]})]})}),e.jsx(G,{className:"bg-admin-card border-admin-border",children:e.jsxs(Y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-amber-500/10 flex items-center justify-center",children:e.jsx(Rs,{className:"h-6 w-6 text-amber-500"})}),e.jsxs("div",{className:"flex items-center text-emerald-500 text-sm font-medium",children:[e.jsx(ra,{className:"h-4 w-4"}),"This month"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{className:"text-3xl font-bold text-admin-foreground",children:["$",t.revenueThisMonth.toLocaleString()]}),e.jsx("p",{className:"text-sm text-admin-muted-foreground",children:"Revenue This Month"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(G,{className:"lg:col-span-2 bg-admin-card border-admin-border",children:[e.jsxs(je,{children:[e.jsx(Ne,{className:"text-admin-foreground",children:"Revenue Trend"}),e.jsx(er,{className:"text-admin-muted-foreground",children:"Last 30 days earnings"})]}),e.jsx(Y,{children:e.jsx(rz,{})})]}),e.jsxs(G,{className:"bg-admin-card border-admin-border",children:[e.jsxs(je,{children:[e.jsx(Ne,{className:"text-admin-foreground",children:"Designer Signups"}),e.jsx(er,{className:"text-admin-muted-foreground",children:"New registrations"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-admin-muted/50",children:[e.jsx("span",{className:"text-sm text-admin-muted-foreground",children:"Today"}),e.jsx("span",{className:"font-bold text-admin-foreground",children:t.newSignupsToday})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-admin-muted/50",children:[e.jsx("span",{className:"text-sm text-admin-muted-foreground",children:"This Week"}),e.jsx("span",{className:"font-bold text-admin-foreground",children:t.newSignupsWeek})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-admin-muted/50",children:[e.jsx("span",{className:"text-sm text-admin-muted-foreground",children:"This Month"}),e.jsx("span",{className:"font-bold text-admin-foreground",children:t.newSignupsMonth})]})]}),e.jsxs("div",{className:"pt-4 border-t border-admin-border",children:[e.jsx("p",{className:"text-sm font-medium text-admin-foreground mb-3",children:"Pending Work"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"h-32 w-32",children:e.jsx(Gx,{width:"100%",height:"100%",children:e.jsx(Nje,{children:e.jsx(Wi,{data:a,cx:"50%",cy:"50%",innerRadius:35,outerRadius:55,dataKey:"value",stroke:"none",children:a.map((n,i)=>e.jsx(Xm,{fill:n.color},`cell-${i}`))})})})})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-primary"}),e.jsx("span",{className:"text-admin-muted-foreground",children:"Submissions"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-accent"}),e.jsx("span",{className:"text-admin-muted-foreground",children:"Publications"})]})]})]})]})]})]}),e.jsxs(G,{className:"bg-admin-card border-admin-border",children:[e.jsxs(je,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(Ne,{className:"text-admin-foreground flex items-center gap-2",children:[e.jsx(Cc,{className:"h-5 w-5"}),"Live Activity Feed"]}),e.jsx(er,{className:"text-admin-muted-foreground",children:"Real-time platform events"})]}),e.jsxs(B,{variant:"outline",className:"gap-1",children:[e.jsx(nl,{className:"h-3 w-3"}),r.length," events"]})]}),e.jsx(Y,{children:r.length===0?e.jsxs("div",{className:"text-center py-8 text-admin-muted-foreground",children:[e.jsx(Cc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No recent activity"}),e.jsx("p",{className:"text-sm mt-1",children:"Events will appear here in real-time"})]}):e.jsx("div",{className:"space-y-3",children:r.map(n=>{const i=s[n.type],o=i.icon;return e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-admin-muted/30 hover:bg-admin-muted/50 transition-colors",children:[e.jsx("div",{className:q("h-10 w-10 rounded-lg flex items-center justify-center",i.bg),children:e.jsx(o,{className:q("h-5 w-5",i.color)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-admin-foreground truncate",children:n.message}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:jn(new Date(n.timestamp),{addSuffix:!0})})]}),e.jsx(B,{variant:"outline",className:"text-xs shrink-0",children:n.type})]},n.id)})})})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(G,{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-500/5 border-emerald-500/20",children:e.jsxs(Y,{className:"p-4 text-center",children:[e.jsx(Mt,{className:"h-6 w-6 mx-auto text-emerald-500 mb-2"}),e.jsxs("p",{className:"text-2xl font-bold text-admin-foreground",children:["$",t.totalRevenue.toLocaleString()]}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:"Total Revenue"})]})}),e.jsx(G,{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border-blue-500/20",children:e.jsxs(Y,{className:"p-4 text-center",children:[e.jsx(ks,{className:"h-6 w-6 mx-auto text-blue-500 mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:t.newSignupsMonth}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:"Monthly Growth"})]})}),e.jsx(G,{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5 border-purple-500/20",children:e.jsxs(Y,{className:"p-4 text-center",children:[e.jsx(Eu,{className:"h-6 w-6 mx-auto text-purple-500 mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:t.pendingSubmissions+t.pendingPublications}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:"Total Pending"})]})}),e.jsx(G,{className:"bg-gradient-to-br from-amber-500/10 to-amber-500/5 border-amber-500/20",children:e.jsxs(Y,{className:"p-4 text-center",children:[e.jsx(BD,{className:"h-6 w-6 mx-auto text-amber-500 mb-2"}),e.jsxs("p",{className:"text-2xl font-bold text-admin-foreground",children:[(t.revenueThisMonth/Math.max(t.totalRevenue,1)*100).toFixed(0),"%"]}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:"Monthly Share"})]})})]})]})})},z1e=()=>{const{user:t,isSuperadmin:r}=ja(),{toast:s}=Ge(),[a,n]=f.useState("roles"),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!0),[m,h]=f.useState(""),[p,v]=f.useState(!1),[x,g]=f.useState({email:"",name:"",message:""}),[b,y]=f.useState(!1),[j,S]=f.useState("idle");f.useEffect(()=>{w()},[a]);const w=async()=>{u(!0),a==="roles"?await _():await N(),u(!1)},_=async()=>{const{data:A,error:O}=await ee.from("admin_profiles").select(`
        user_id,
        name,
        email,
        created_at,
        user_roles!inner (
          role
        )
      `).eq("user_roles.role","superadmin");if(O){const{data:I,error:F}=await ee.from("user_roles").select(`
          user_id,
          role,
          created_at,
          profiles (
            name,
            email
          )
        `).eq("role","superadmin");F||o(I.map($=>({user_id:$.user_id,name:$.profiles?.name||"Pending",email:$.profiles?.email||"Pending",role:$.role,created_at:$.created_at}))||[])}else o(A.map(I=>({user_id:I.user_id,name:I.name,email:I.email,role:I.user_roles[0]?.role,created_at:I.created_at}))||[])},N=async()=>{const{data:A,error:O}=await ee.from("auth_logs").select("*").order("created_at",{ascending:!1}).limit(50);O?s({title:"Error fetching logs",description:O.message,variant:"destructive"}):c(A||[])},k=async()=>{if(r){if(!x.email||!x.name){s({title:"Validation Error",description:"Please fill in all required fields.",variant:"destructive"});return}y(!0),S("sending");try{const{data:A,error:O}=await ee.from("admin_invitations").insert({email:x.email,name:x.name,role:"superadmin",invited_by:t?.id,message:x.message||null,expires_at:new Date(Date.now()+6048e5).toISOString()}).select().single();if(O)throw O;const{error:I}=await ee.functions.invoke("send-admin-invitation",{body:{invitationId:A.id,email:x.email,name:x.name,role:"superadmin",message:x.message,invitedByName:t?.user_metadata?.name||"System Administrator"}});if(I)throw I;await ee.from("admin_logs").insert({admin_id:t?.id,action:"invite_admin",target_type:"admin_invitation",target_id:A.id,details:{email:x.email,name:x.name,role:"superadmin"}}),S("sent"),s({title:"Invitation Sent",description:`Invitation sent to ${x.email} for superadmin role.`}),g({email:"",name:"",message:""}),setTimeout(()=>{v(!1),S("idle")},2e3)}catch(A){S("error"),console.error("Invitation error:",A);let O=A.message;A.message?.includes("admin_invitations")||A.message?.includes("invitation table")?O="The admin invitations table is not set up in the database. Please run the migration '20260201010000_admin_invitations.sql' in your Supabase project.":(A.code==="42P01"||A.message?.includes("relation")||A.message?.includes("does not exist"))&&(O="Database table missing. Please ensure all migrations have been applied to your Supabase project."),s({title:"Invitation Failed",description:O,variant:"destructive"})}finally{y(!1)}}},C=async(A,O)=>{if(r)try{const{error:I}=await ee.from("user_roles").delete().eq("user_id",A);if(I)throw I;await ee.from("admin_profiles").delete().eq("user_id",A),await ee.from("admin_logs").insert({admin_id:t?.id,action:"revoke_access",target_type:"admin_account",target_id:A,details:{email:O}}),s({title:"Access Revoked",description:`Access revoked for ${O}.`}),_()}catch(I){s({title:"Revocation Failed",description:I.message,variant:"destructive"})}},P=i.filter(A=>A.name?.toLowerCase().includes(m.toLowerCase())||A.email?.toLowerCase().includes(m.toLowerCase()));return e.jsxs(Br,{children:[e.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold",children:"Security & Access"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage administrative roles and monitor access logs"})]}),e.jsxs(B,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20 gap-2 py-1 px-3",children:[e.jsx(qh,{className:"h-4 w-4"}),"Super Admin Only"]})]}),e.jsxs(Nr,{value:a,onValueChange:n,className:"w-full",children:[e.jsxs(br,{className:"bg-admin-muted/30 border border-admin-border p-1",children:[e.jsxs(Ee,{value:"roles",className:"gap-2 data-[state=active]:bg-admin-card",children:[e.jsx(nf,{className:"h-4 w-4"}),"Role Management"]}),e.jsxs(Ee,{value:"logs",className:"gap-2 data-[state=active]:bg-admin-card",children:[e.jsx(co,{className:"h-4 w-4"}),"Audit Logs"]})]}),e.jsxs(Te,{value:"roles",className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search admins...",className:"pl-10",value:m,onChange:A=>h(A.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:_,disabled:d,children:e.jsx(ga,{className:q("h-4 w-4",d&&"animate-spin")})}),r&&e.jsxs(T,{onClick:()=>v(!0),className:"gap-2",children:[e.jsx(Ac,{className:"h-4 w-4"}),"Invite Admin"]})]})]}),e.jsx(G,{children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{children:"User"}),e.jsx(xe,{children:"Added"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:d?e.jsx(Ve,{children:e.jsx(de,{colSpan:4,className:"text-center py-8",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})})}):P.length===0?e.jsx(Ve,{children:e.jsx(de,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No administrators found."})}):P.map(A=>e.jsxs(Ve,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:A.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:A.email})]}),e.jsx(B,{variant:"wine",className:"bg-admin-wine text-admin-wine-foreground border-transparent",children:"Super Admin"})]})}),e.jsx(de,{className:"text-sm text-muted-foreground",children:jn(new Date(A.created_at),{addSuffix:!0})}),e.jsx(de,{className:"text-right",children:e.jsxs(T,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>C(A.user_id,A.email),children:[e.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Revoke"]})})]},A.user_id))})]})})]}),e.jsx(Te,{value:"logs",className:"mt-6",children:e.jsx(G,{className:"overflow-hidden",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{children:"Event"}),e.jsx(xe,{children:"User ID"}),e.jsx(xe,{children:"Time"}),e.jsx(xe,{children:"Details"})]})}),e.jsx(Xr,{children:d?e.jsx(Ve,{children:e.jsx(de,{colSpan:4,className:"text-center py-8",children:e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"})})}):l.length===0?e.jsx(Ve,{children:e.jsx(de,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No recent activity logs."})}):l.map(A=>e.jsxs(Ve,{children:[e.jsx(de,{children:e.jsx(B,{variant:"outline",className:q(A.action.includes("failed")?"bg-destructive/10 text-destructive border-destructive/20":A.action.includes("success")?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground"),children:A.action})}),e.jsx(de,{className:"font-mono text-xs truncate max-w-[120px]",children:A.user_id||"anonymous"}),e.jsx(de,{className:"text-xs text-muted-foreground",children:jn(new Date(A.created_at),{addSuffix:!0})}),e.jsx(de,{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:JSON.stringify(A.metadata)})]},A.id))})]})})})]})]}),e.jsx(Et,{open:p,onOpenChange:v,children:e.jsxs(Pt,{className:"sm:max-w-md",children:[e.jsxs(Lt,{children:[e.jsxs($t,{className:"flex items-center gap-2",children:[e.jsx(Ac,{className:"h-5 w-5"}),"Invite New Administrator"]}),e.jsx(Us,{children:"Send an invitation to join the admin team with specified role and permissions."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"invite-name",children:"Full Name *"}),e.jsx(ie,{id:"invite-name",value:x.name,onChange:A=>g(O=>({...O,name:A.target.value})),placeholder:"Enter full name",disabled:b})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"invite-email",children:"Email Address *"}),e.jsx(ie,{id:"invite-email",type:"email",value:x.email,onChange:A=>g(O=>({...O,email:A.target.value})),placeholder:"admin@company.com",disabled:b})]}),e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:"Role: Superadmin"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Full system access and management capabilities"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"invite-message",children:"Personal Message (Optional)"}),e.jsx(nt,{id:"invite-message",value:x.message,onChange:A=>g(O=>({...O,message:A.target.value})),placeholder:"Add a personal message to include in the invitation...",rows:3,disabled:b})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{variant:"outline",onClick:()=>v(!1),disabled:b,children:"Cancel"}),e.jsx(T,{onClick:k,disabled:b||!x.email||!x.name,className:q("gap-2",j==="sent"&&"bg-success hover:bg-success/90",j==="error"&&"bg-destructive hover:bg-destructive/90"),children:j==="sending"?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Sending..."]}):j==="sent"?e.jsxs(e.Fragment,{children:[e.jsx(tr,{className:"h-4 w-4"}),"Sent!"]}):j==="error"?e.jsxs(e.Fragment,{children:[e.jsx(Rr,{className:"h-4 w-4"}),"Retry"]}):e.jsxs(e.Fragment,{children:[e.jsx(ms,{className:"h-4 w-4"}),"Send Invitation"]})})]})]})})]})};function B1e(t={}){return Oe({queryKey:["articles",t],queryFn:async()=>{let r=ee.from("articles").select("*").order("created_at",{ascending:!1});t.status&&t.status!=="all"&&(r=r.eq("status",t.status)),t.category&&t.category!=="all"&&(r=r.eq("category",t.category)),t.search&&(r=r.ilike("title",`%${t.search}%`)),t.limit&&(r=r.limit(t.limit));const{data:s,error:a}=await r;if(a)throw a;return s}})}function U1e(t){return Oe({queryKey:["article",t],queryFn:async()=>{const{data:r,error:s}=await J.from("articles").select("*").eq("slug",t).single();if(s)throw s;return r},enabled:!!t})}function bz(t){return Oe({queryKey:["published-articles",t],queryFn:async()=>{let r=J.from("articles").select("*").eq("status","published").order("published_at",{ascending:!1});t&&(r=r.limit(t));const{data:s,error:a}=await r;if(a)throw a;return s}})}function V1e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async s=>{const{data:a,error:n}=await ee.from("articles").insert(s).select().single();if(n)throw n;return a},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),r({title:"Article created successfully"})},onError:s=>{r({title:"Error",description:s.message,variant:"destructive"})}})}function W1e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async({id:s,data:a})=>{const{error:n}=await ee.from("articles").update(a).eq("id",s);if(n)throw n},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),r({title:"Article updated successfully"})},onError:s=>{r({title:"Error",description:s.message,variant:"destructive"})}})}function H1e(){const t=ft(),{toast:r}=Ge();return ze({mutationFn:async s=>{const{error:a}=await ee.from("articles").delete().eq("id",s);if(a)throw a},onSuccess:()=>{t.invalidateQueries({queryKey:["articles"]}),r({title:"Article deleted"})},onError:s=>{r({title:"Error",description:s.message,variant:"destructive"})}})}const fd=[{value:"trend-report",label:"Trend Reports"},{value:"designer-spotlight",label:"Designer Spotlights"},{value:"style-guide",label:"Style Guides"},{value:"industry-news",label:"Industry News"},{value:"sustainability",label:"Sustainability"},{value:"behind-the-scenes",label:"Behind the Scenes"}];function K1e({articles:t,onEdit:r}){const[s,a]=f.useState(null),n=H1e(),i=c=>{switch(c){case"published":return"bg-success/10 text-success border-success/20";case"draft":return"bg-amber-500/10 text-amber-600 border-amber-500/20";case"archived":return"bg-slate-500/10 text-slate-600 border-slate-500/20";default:return"bg-slate-500/10 text-slate-600 border-slate-500/20"}},o=c=>fd.find(d=>d.value===c)?.label||c,l=()=>{s&&(n.mutate(s),a(null))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"rounded-lg border",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsx(xe,{children:"Title"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Published"}),e.jsx(xe,{children:"Views"}),e.jsx(xe,{className:"w-[100px]",children:"Actions"})]})}),e.jsx(Xr,{children:t.map(c=>e.jsxs(Ve,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[c.is_featured&&e.jsx(At,{className:"h-4 w-4 text-amber-500 fill-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium line-clamp-1",children:c.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",c.slug]})]})]})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",children:o(c.category)})}),e.jsx(de,{children:e.jsx(B,{className:i(c.status),children:c.status})}),e.jsx(de,{children:c.published_at?xt(new Date(c.published_at),"MMM d, yyyy"):"-"}),e.jsx(de,{children:c.view_count||0}),e.jsx(de,{children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",children:[e.jsxs(Se,{onClick:()=>r(c),children:[e.jsx(Oi,{className:"h-4 w-4 mr-2"}),"Edit"]}),c.status==="published"&&e.jsx(Se,{asChild:!0,children:e.jsxs("a",{href:`/articles/${c.slug}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(xn,{className:"h-4 w-4 mr-2"}),"View Live"]})}),e.jsxs(Se,{onClick:()=>a(c.id),className:"text-destructive",children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},c.id))})]})}),e.jsx(li,{open:!!s,onOpenChange:()=>a(null),children:e.jsxs(Nn,{children:[e.jsxs(_n,{children:[e.jsx(Cn,{children:"Delete Article"}),e.jsx(kn,{children:"Are you sure you want to delete this article? This action cannot be undone."})]}),e.jsxs(Sn,{children:[e.jsx(Pn,{children:"Cancel"}),e.jsx(An,{onClick:l,className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})}function G1e({article:t,open:r,onOpenChange:s}){const a=V1e(),n=W1e(),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(""),[m,h]=f.useState(""),[p,v]=f.useState("style-guide"),[x,g]=f.useState(""),[b,y]=f.useState(""),[j,S]=f.useState(""),[w,_]=f.useState("draft"),[N,k]=f.useState([]),[C,P]=f.useState(""),[A,O]=f.useState(!1);f.useEffect(()=>{t?(o(t.title),c(t.slug),u(t.excerpt||""),h(t.content||""),v(t.category),g(t.featured_image||""),y(t.meta_title||""),S(t.meta_description||""),_(t.status),k(t.tags||[]),O(t.is_featured||!1)):I()},[t]);const I=()=>{o(""),c(""),u(""),h(""),v("style-guide"),g(""),y(""),S(""),_("draft"),k([]),P(""),O(!1)},F=R=>{const te=Yh(R);o(te),t||c(te.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},$=()=>{const R=yr(C);R.trim()&&!N.includes(R.trim())&&(k([...N,R.trim()]),P(""))},E=R=>{k(N.filter(te=>te!==R))},M=()=>{const R=Yh(i),te=yr(d),V=O_(m),D=Yh(b||i),H=yr(j||d),ae=sanitizeStringArray(N),U={title:R,slug:l,excerpt:te||null,content:V||null,category:p,featured_image:x||null,meta_title:D,meta_description:H||null,status:w,tags:ae,is_featured:A,published_at:w==="published"?new Date().toISOString():null};t?n.mutate({id:t.id,data:U},{onSuccess:()=>s(!1)}):a.mutate(U,{onSuccess:()=>{I(),s(!1)}})},z=a.isPending||n.isPending;return e.jsx(Et,{open:r,onOpenChange:s,children:e.jsxs(Pt,{className:"max-w-4xl max-h-[90vh]",children:[e.jsx(Lt,{children:e.jsx($t,{children:t?"Edit Article":"Create New Article"})}),e.jsxs(Nr,{defaultValue:"content",className:"w-full",children:[e.jsxs(br,{className:"grid w-full grid-cols-3",children:[e.jsx(Ee,{value:"content",children:"Content"}),e.jsx(Ee,{value:"seo",children:"SEO"}),e.jsx(Ee,{value:"preview",children:"Preview"})]}),e.jsxs(rn,{className:"h-[60vh] mt-4 pr-4",children:[e.jsxs(Te,{value:"content",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Title *"}),e.jsx(ie,{value:i,onChange:R=>F(R.target.value),placeholder:"Article title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Slug"}),e.jsx(ie,{value:l,onChange:R=>c(R.target.value),placeholder:"article-slug"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Category"}),e.jsxs(qe,{value:p,onValueChange:v,children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsx(Le,{children:fd.map(R=>e.jsx(X,{value:R.value,children:R.label},R.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Status"}),e.jsxs(qe,{value:w,onValueChange:_,children:[e.jsx(Fe,{children:e.jsx(Me,{})}),e.jsxs(Le,{children:[e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"published",children:"Published"}),e.jsx(X,{value:"archived",children:"Archived"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Featured Image URL"}),e.jsx(ie,{value:x,onChange:R=>g(R.target.value),placeholder:"https://..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Excerpt"}),e.jsx(nt,{value:d,onChange:R=>u(R.target.value),placeholder:"Brief summary of the article...",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Content"}),e.jsx(nt,{value:m,onChange:R=>h(R.target.value),placeholder:"Full article content (supports markdown)...",rows:12,className:"font-mono text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Tags"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ie,{value:C,onChange:R=>P(R.target.value),placeholder:"Add a tag...",onKeyDown:R=>R.key==="Enter"&&(R.preventDefault(),$())}),e.jsx(T,{type:"button",onClick:$,variant:"secondary",children:"Add"})]}),N.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:N.map(R=>e.jsxs(B,{variant:"secondary",className:"gap-1",children:[R,e.jsx(ht,{className:"h-3 w-3 cursor-pointer",onClick:()=>E(R)})]},R))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ws,{checked:A,onCheckedChange:O}),e.jsx(K,{children:"Featured Article"})]})]}),e.jsxs(Te,{value:"seo",className:"space-y-4 mt-0",children:[e.jsxs(G,{children:[e.jsx(je,{children:e.jsx(Ne,{className:"text-base",children:"Search Engine Optimization"})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{children:["Meta Title (",b.length||i.length,"/60)"]}),e.jsx(ie,{value:b,onChange:R=>y(R.target.value),placeholder:i||"Page title for search engines",maxLength:60})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{children:["Meta Description (",j.length||d.length,"/160)"]}),e.jsx(nt,{value:j,onChange:R=>S(R.target.value),placeholder:d||"Description shown in search results",maxLength:160,rows:3})]})]})]}),e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"text-base flex items-center gap-2",children:[e.jsx(dr,{className:"h-4 w-4"}),"Google Preview"]})}),e.jsx(Y,{children:e.jsxs("div",{className:"bg-white p-4 rounded border",children:[e.jsx("p",{className:"text-blue-600 text-lg hover:underline cursor-pointer",children:b||i||"Article Title"}),e.jsxs("p",{className:"text-green-700 text-sm",children:["adorzia.com/articles/",l||"article-slug"]}),e.jsx("p",{className:"text-slate-600 text-sm mt-1",children:j||d||"Article description will appear here..."})]})})]})]}),e.jsx(Te,{value:"preview",className:"mt-0",children:e.jsxs(G,{children:[e.jsx(je,{children:e.jsxs(Ne,{className:"text-base flex items-center gap-2",children:[e.jsx(Bt,{className:"h-4 w-4"}),"Article Preview"]})}),e.jsxs(Y,{children:[x&&e.jsx("img",{src:x,alt:i,className:"w-full h-48 object-cover rounded-lg mb-4"}),e.jsx(B,{className:"mb-2",children:fd.find(R=>R.value===p)?.label}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:i||"Article Title"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:d||"Article excerpt..."}),e.jsx("div",{className:"prose prose-sm max-w-none",children:m||"Article content will appear here..."})]})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(T,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(T,{onClick:M,disabled:!i||!l||z,children:z?"Saving...":t?"Update":"Create"})]})]})})}function Y1e(){const[t,r]=f.useState(""),[s,a]=f.useState("all"),[n,i]=f.useState(!1),[o,l]=f.useState(null),{data:c,isLoading:d}=B1e({status:s!=="all"?s:void 0,search:t||void 0}),u={total:c?.length||0,published:c?.filter(p=>p.status==="published").length||0,drafts:c?.filter(p=>p.status==="draft").length||0,featured:c?.filter(p=>p.is_featured).length||0,totalViews:c?.reduce((p,v)=>p+(v.view_count||0),0)||0},m=p=>{l(p),i(!0)},h=()=>{i(!1),l(null)};return e.jsxs(Br,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Articles"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage blog posts and content marketing"})]}),e.jsxs(T,{onClick:()=>i(!0),children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"New Article"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(G,{children:e.jsxs(Y,{className:"flex items-center gap-3 p-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Wt,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:u.total}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"})]})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"flex items-center gap-3 p-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:e.jsx(Bt,{className:"h-5 w-5 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:u.published}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Published"})]})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"flex items-center gap-3 p-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:e.jsx(Tu,{className:"h-5 w-5 text-amber-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:u.drafts}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Drafts"})]})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"flex items-center gap-3 p-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:e.jsx(At,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:u.featured}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Featured"})]})]})}),e.jsx(G,{children:e.jsxs(Y,{className:"flex items-center gap-3 p-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:e.jsx(Bt,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:u.totalViews.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Views"})]})]})})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(ie,{placeholder:"Search articles...",value:t,onChange:p=>r(p.target.value),className:"pl-10"})]})}),e.jsxs(Nr,{value:s,onValueChange:a,children:[e.jsxs(br,{children:[e.jsx(Ee,{value:"all",children:"All Articles"}),e.jsx(Ee,{value:"published",children:"Published"}),e.jsx(Ee,{value:"draft",children:"Drafts"}),e.jsx(Ee,{value:"archived",children:"Archived"})]}),e.jsx(Te,{value:s,className:"mt-4",children:d?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading articles..."}):c?.length?e.jsx(K1e,{articles:c,onEdit:m}):e.jsx(G,{children:e.jsxs(Y,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Wt,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No articles found"}),e.jsx(T,{variant:"outline",className:"mt-4",onClick:()=>i(!0),children:"Create your first article"})]})})})]})]}),e.jsx(G1e,{article:o,open:n,onOpenChange:h})]})}const RD={pending:{label:"Submitted",color:"bg-blue-500/10 text-blue-500",icon:Wt},under_review:{label:"Under Review",color:"bg-amber-500/10 text-amber-500",icon:Ze},revisions_required:{label:"Feedback Sent",color:"bg-orange-500/10 text-orange-500",icon:xd},approved:{label:"Approved",color:"bg-success/10 text-success",icon:tr},rejected:{label:"Rejected",color:"bg-destructive/10 text-destructive",icon:Rr}},X1e=()=>{const{user:t}=ja(),r=wr(),[s,a]=f.useState([]),[n,i]=f.useState(!0),[o,l]=f.useState(""),[c,d]=f.useState("all"),[u,m]=f.useState("all"),h=async()=>{i(!0);try{const{data:g,error:b}=await ee.from("founding_designers_submissions").select("*").order("created_at",{ascending:!1});if(b)throw b;const y=[...new Set(g?.map(_=>_.designer_id)||[])],{data:j}=await ee.from("profiles").select("user_id, name, avatar_url, email, brand_name, is_founding_designer").in("user_id",y),S=new Map(j?.map(_=>[_.user_id,_])||[]),w=(g||[]).map(_=>({..._,designer:S.get(_.designer_id)||void 0}));a(w)}catch(g){console.error("Error fetching founding submissions:",g),Re.error("Failed to load founding submissions")}finally{i(!1)}};f.useEffect(()=>{h()},[]);const p=async g=>{try{console.log("Marking submission as under review:",g);const{data:b,error:y}=await ee.functions.invoke("manage-founding",{body:{action:"mark_review",submissionId:g}});if(y)throw console.error("Edge function error:",y),new Error(y.message||"Failed to update status");Re.success("Marked as Under Review"),h()}catch(b){console.error("Action error:",b),Re.error(b.message||"Update failed")}},v=s.filter(g=>{const b=g.collection_name.toLowerCase().includes(o.toLowerCase())||g.designer?.name?.toLowerCase().includes(o.toLowerCase())||g.designer?.brand_name?.toLowerCase().includes(o.toLowerCase()),y=c==="all"||g.status===c,j=u==="all"||u==="assigned"&&g.designer?.is_founding_designer||u==="not_assigned"&&!g.designer?.is_founding_designer;return b&&y&&j}),x={total:s.length,pending:s.filter(g=>g.status==="pending").length,approved:s.filter(g=>g.status==="approved").length,rejected:s.filter(g=>g.status==="rejected").length};return e.jsx(Br,{children:e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6 max-w-[1600px] mx-auto",children:[e.jsxs("header",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-display-lg text-admin-foreground",children:"Founding Designers Program"})]}),e.jsx("p",{className:"text-admin-muted-foreground",children:"Review and manage designer collections for the launch cohort."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Total Applications",value:x.total,icon:Wt,color:"bg-admin-muted"},{label:"Pending Review",value:x.pending,icon:Ze,color:"bg-warning/10 text-warning"},{label:"Approved Cohort",value:x.approved,icon:tr,color:"bg-success/10 text-success"},{label:"Rejected",value:x.rejected,icon:Rr,color:"bg-destructive/10 text-destructive"}].map((g,b)=>e.jsx(G,{className:"bg-admin-card border-admin-border",children:e.jsxs(Y,{className:"p-4 flex items-center gap-3",children:[e.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${g.color}`,children:e.jsx(g.icon,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-admin-foreground",children:g.value}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:g.label})]})]})},b))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-admin-muted-foreground"}),e.jsx(ie,{placeholder:"Search by collection, designer, or brand...",value:o,onChange:g=>l(g.target.value),className:"pl-10 bg-admin-card border-admin-border text-admin-foreground"})]}),e.jsxs(qe,{value:c,onValueChange:d,children:[e.jsx(Fe,{className:"w-full sm:w-[180px] bg-admin-card border-admin-border text-admin-foreground",children:e.jsx(Me,{placeholder:"Status"})}),e.jsxs(Le,{className:"bg-admin-card border-admin-border text-admin-foreground",children:[e.jsx(X,{value:"all",children:"All Statuses"}),e.jsx(X,{value:"pending",children:"Submitted"}),e.jsx(X,{value:"under_review",children:"Under Review"}),e.jsx(X,{value:"revisions_required",children:"Feedback Sent"}),e.jsx(X,{value:"approved",children:"Approved"}),e.jsx(X,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(qe,{value:u,onValueChange:m,children:[e.jsx(Fe,{className:"w-full sm:w-[180px] bg-admin-card border-admin-border text-admin-foreground",children:e.jsx(Me,{placeholder:"Founding Title"})}),e.jsxs(Le,{className:"bg-admin-card border-admin-border text-admin-foreground",children:[e.jsx(X,{value:"all",children:"All Titles"}),e.jsx(X,{value:"assigned",children:"Title Assigned"}),e.jsx(X,{value:"not_assigned",children:"Not Assigned"})]})]})]}),e.jsx(G,{className:"bg-admin-card border-admin-border",children:e.jsx(Y,{className:"p-0",children:n?e.jsx("div",{className:"p-8 text-center text-admin-muted-foreground",children:"Loading submissions..."}):v.length===0?e.jsxs("div",{className:"p-12 text-center text-admin-muted-foreground",children:[e.jsx(Wt,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),"No collections have been submitted yet."]}):e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{className:"border-admin-border hover:bg-transparent",children:[e.jsx(xe,{className:"text-admin-muted-foreground",children:"Designer / Brand"}),e.jsx(xe,{className:"text-admin-muted-foreground",children:"Collection"}),e.jsx(xe,{className:"text-admin-muted-foreground",children:"Articles"}),e.jsx(xe,{className:"text-admin-muted-foreground",children:"Submitted"}),e.jsx(xe,{className:"text-admin-muted-foreground",children:"Status"}),e.jsx(xe,{className:"text-admin-muted-foreground",children:"Founding Title"}),e.jsx(xe,{className:"text-admin-muted-foreground text-right",children:"Actions"})]})}),e.jsx(Xr,{children:v.map(g=>{const b=RD[g.status]||RD.pending;return e.jsxs(Ve,{className:"border-admin-border hover:bg-admin-muted/50 transition-colors",children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(rr,{className:"h-9 w-9 ring-1 ring-admin-border",children:[e.jsx(sr,{src:g.designer?.avatar_url||void 0}),e.jsx(ar,{className:"bg-admin-muted text-xs",children:g.designer?.name?.charAt(0)||"D"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-admin-foreground",children:g.designer?.name}),e.jsx("span",{className:"text-[10px] text-admin-muted-foreground",children:g.designer?.brand_name||"No Brand Name"})]})]})}),e.jsx(de,{children:e.jsx("span",{className:"font-medium text-admin-foreground",children:g.collection_name})}),e.jsx(de,{children:e.jsxs(B,{variant:"secondary",className:"bg-admin-muted text-admin-foreground",children:[g.articles?.length||0," Articles"]})}),e.jsx(de,{className:"text-admin-muted-foreground text-sm",children:xt(new Date(g.created_at),"MMM d, yyyy")}),e.jsx(de,{children:e.jsxs(B,{className:`${b.color} gap-1 border-0`,children:[e.jsx(b.icon,{className:"h-3 w-3"}),b.label]})}),e.jsx(de,{children:g.designer?.is_founding_designer?e.jsx(B,{className:"bg-success/10 text-success border-success/20",children:"Yes"}):e.jsx(B,{variant:"outline",className:"border-admin-border text-admin-muted-foreground",children:"No"})}),e.jsx(de,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[g.status==="pending"&&e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 text-[10px] uppercase font-bold text-amber-500 hover:bg-amber-500/10",onClick:()=>p(g.id),children:"Mark Under Review"}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 text-admin-foreground hover:bg-admin-muted",onClick:()=>{console.log("Navigating to review for ID:",g.id),r(`/admin/founding-submissions/${g.id}`)},children:e.jsx(Bt,{className:"h-4 w-4"})})]})})]},g.id)})})]})})})]})})},Q1e=({isOpen:t,onClose:r,collectionType:s="product",collectionId:a,designerId:n,onSuccess:i})=>{const[o,l]=f.useState({title:"",price:"0",status:"draft"}),[c,d]=f.useState([]),[u,m]=f.useState(!1),[h,p]=f.useState(!1),[v,x]=f.useState(!1),[g,b]=f.useState(null),[y,j]=f.useState(null),[S,w]=f.useState(new Date),[_,N]=f.useState(!1),[k,C]=f.useState(0),P=f.useRef(null),A=f.useRef(null),{toast:O}=Ge(),I=f.useMemo(()=>o,[o]),F=f.useCallback(async()=>{try{m(!0);const{data:U,error:se}=await ee.from("profiles").select("user_id, name").order("name");if(se)throw se;d(U||[])}catch(U){console.error("Error loading designers:",U),O({title:"Error loading designers",description:U.message,variant:"destructive"}),d([])}finally{m(!1)}},[O]);f.useEffect(()=>(t&&(F(),a?$():(l(s==="product"?{title:"",designer_id:n||"",price:"0",category_id:"",description:"",inventory_count:0,status:"draft",images:[],is_made_to_order:!1,is_limited_edition:!1,edition_size:void 0}:{title:"",author_id:n||"",category:"",content:"",status:"draft",featured_image:"",excerpt:"",is_featured:!1}),b(null),j(null),w(new Date))),()=>{A.current&&clearTimeout(A.current)}),[t,a,s,n,F]),f.useEffect(()=>{if(!(!t||a))return A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{te()},6e4),()=>{A.current&&clearTimeout(A.current)}},[I,t,a]);const $=async()=>{if(a)try{if(s==="product"){const{data:U,error:se}=await ee.from("marketplace_products").select("*").eq("id",a).single();if(se)throw se;l({title:U.title,designer_id:U.designer_id,price:U.price?.toString()||"0",category_id:U.category_id||"",description:U.description||"",inventory_count:U.inventory_count||0,status:U.status||"draft",images:U.images||[],is_made_to_order:U.is_made_to_order||!1,is_limited_edition:U.is_limited_edition||!1,edition_size:U.edition_size||void 0}),U.images&&U.images.length>0&&j(U.images[0])}else{const{data:U,error:se}=await ee.from("articles").select("*").eq("id",a).single();if(se)throw se;l({title:U.title,author_id:U.author_id,category:U.category||"",content:U.content||"",status:U.status||"draft",featured_image:U.featured_image||"",excerpt:U.excerpt||"",is_featured:U.is_featured||!1}),U.featured_image&&j(U.featured_image)}}catch(U){O({title:"Error loading collection details",description:U.message,variant:"destructive"})}},E=U=>{if(U.target.files&&U.target.files[0]){const se=U.target.files[0];if(se.size>5*1024*1024){O({title:"File too large",description:"Please select an image smaller than 5MB",variant:"destructive"});return}b(se),j(URL.createObjectURL(se)),z(se)}},M=()=>{b(null),j(null),C(0),P.current&&(P.current.value="")},z=async U=>{try{x(!0),C(0),(()=>{let pe=0;const le=setInterval(()=>{pe+=Math.random()*15,pe>=100&&(pe=100,clearInterval(le)),C(Math.round(pe))},100)})(),await new Promise(pe=>setTimeout(pe,Math.random()*1500+500));const Q=URL.createObjectURL(U);return C(100),O({title:"Image uploaded successfully",description:"Your image has been uploaded and processed"}),Q}catch(se){return O({title:"Error uploading image",description:se.message,variant:"destructive"}),null}finally{x(!1),setTimeout(()=>C(0),1e3)}},R=async()=>g?y&&!g?y:await z(g):(o.images&&o.images.length>0?o.images[0]:null)||o.featured_image||null,te=f.useCallback(async()=>{if(!(a||!t||Date.now()-S.getTime()<3e4))try{N(!0),localStorage.setItem(`draft_${s}`,JSON.stringify(o)),w(new Date),O({title:"Draft auto-saved",description:"Your progress has been saved automatically"})}catch(se){console.error("Auto-save failed:",se)}finally{N(!1)}},[a,t,S,o,s,O]),V=f.useCallback(()=>{setTimeout(()=>{te()},1e3)},[te]),D=U=>{const{name:se,value:Q,type:pe}=U.target,le=U.target.checked;l(ue=>({...ue,[se]:pe==="checkbox"?le:se.includes("inventory_count")||se.includes("edition_size")?Number(Q):Q}))},H=(U,se)=>{l(Q=>({...Q,[U]:se}))},ae=async U=>{U.preventDefault(),p(!0);try{const se=await R();if(s==="product"){const Q=o;let pe=[...Q.images||[]];if(se?pe=[se]:a&&Q.images&&Q.images.length>0&&(pe=Q.images),a){const{error:le}=await ee.from("marketplace_products").update({title:Q.title,designer_id:Q.designer_id,price:parseFloat(Q.price)||0,category_id:Q.category_id,description:Q.description,inventory_count:Q.inventory_count,status:Q.status,images:pe,is_made_to_order:Q.is_made_to_order,is_limited_edition:Q.is_limited_edition,edition_size:Q.is_limited_edition?Q.edition_size:null}).eq("id",a);if(le)throw le}else{const{error:le}=await ee.from("marketplace_products").insert([{title:Q.title,designer_id:Q.designer_id,price:parseFloat(Q.price)||0,category_id:Q.category_id,description:Q.description,inventory_count:Q.inventory_count,status:Q.status,images:pe,is_made_to_order:Q.is_made_to_order,is_limited_edition:Q.is_limited_edition,edition_size:Q.is_limited_edition?Q.edition_size:null}]);if(le)throw le;localStorage.removeItem(`draft_${s}`)}}else{const Q=o,pe=se||Q.featured_image;if(a){const{error:le}=await ee.from("articles").update({title:Q.title,author_id:Q.author_id,category:Q.category,content:Q.content,status:Q.status,featured_image:pe,excerpt:Q.excerpt,is_featured:Q.is_featured}).eq("id",a);if(le)throw le}else{const{error:le}=await ee.from("articles").insert([{title:Q.title,author_id:Q.author_id,category:Q.category,content:Q.content,status:Q.status,featured_image:pe,excerpt:Q.excerpt,is_featured:Q.is_featured}]);if(le)throw le;localStorage.removeItem(`draft_${s}`)}}O({title:`${s==="product"?"Product":"Article"} ${a?"updated":"created"} successfully`}),i&&i(),r()}catch(se){console.error("Submit error:",se),O({title:`Error ${a?"updating":"creating"} ${s}`,description:se.message||"An unknown error occurred",variant:"destructive"})}finally{p(!1)}};return f.useEffect(()=>{if(t){const U=performance.now();setTimeout(()=>{const Q=performance.now()-U;Q>1500&&console.warn(`CollectionManagementModal load time: ${Q}ms exceeds 1.5s requirement`)},0)}},[t]),e.jsx(Et,{open:t,onOpenChange:r,children:e.jsxs(Pt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Lt,{children:e.jsx($t,{children:a?`Edit ${s}`:`Add New ${s==="product"?"Product":"Article"}`})}),e.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[_&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-blue-50 p-2 rounded",children:[e.jsx(Ue,{className:"h-4 w-4 animate-spin"}),"Auto-saving draft..."]}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Uploading image..."}),e.jsxs("span",{children:[k,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${k}%`}})})]}),s==="product"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"title",children:"Product Title"}),e.jsx(ie,{id:"title",name:"title",value:o.title,onChange:D,onBlur:V,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"designer_id",children:"Designer"}),e.jsxs(qe,{value:o.designer_id||"",onValueChange:U=>{U!=="no-designers"&&U!=="loading"&&H("designer_id",U)},required:!0,children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:u?"Loading designers...":"Select designer"})}),e.jsx(Le,{children:u?e.jsx(X,{value:"loading",disabled:!0,children:"Loading designers..."}):c&&c.length>0?c.map(U=>e.jsx(X,{value:U.id,children:U.name},U.id)):e.jsx(X,{value:"no-designers",disabled:!0,children:"No designers available"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"price",children:"Price ($)"}),e.jsx(ie,{id:"price",name:"price",type:"number",step:"0.01",value:o.price,onChange:D,onBlur:V,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"category_id",children:"Category"}),e.jsx(ie,{id:"category_id",name:"category_id",value:o.category_id,onChange:D,onBlur:V,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"inventory_count",children:"Inventory Count"}),e.jsx(ie,{id:"inventory_count",name:"inventory_count",type:"number",value:o.inventory_count,onChange:D,onBlur:V,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Image Upload"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ie,{type:"file",accept:"image/*",onChange:E,ref:P}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload product image (Max 5MB)"})]}),y&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y,alt:"Preview",className:"h-16 w-16 object-cover rounded-md border"}),e.jsx(T,{type:"button",size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:M,children:e.jsx(ht,{className:"h-3 w-3"})})]})]}),(!o.images||o.images.length===0)&&!y&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm mb-1",children:"Current Image:"}),e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No image uploaded"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"is_made_to_order",name:"is_made_to_order",type:"checkbox",checked:o.is_made_to_order,onChange:D,className:"h-4 w-4"}),e.jsx(K,{htmlFor:"is_made_to_order",children:"Made to Order"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"is_limited_edition",name:"is_limited_edition",type:"checkbox",checked:o.is_limited_edition,onChange:D,className:"h-4 w-4"}),e.jsx(K,{htmlFor:"is_limited_edition",children:"Limited Edition"})]})]}),o.is_limited_edition&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"edition_size",children:"Edition Size"}),e.jsx(ie,{id:"edition_size",name:"edition_size",type:"number",value:o.edition_size||"",onChange:D,onBlur:V,min:"1"})]}),o.images&&o.images.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Existing Images"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.images.map((U,se)=>e.jsx("div",{className:"relative group",children:e.jsx("img",{src:U,alt:`Existing ${se}`,className:"h-16 w-16 object-cover rounded-md border"})},se))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"description",children:"Description"}),e.jsx(nt,{id:"description",name:"description",value:o.description,onChange:D,onBlur:V})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"status",children:"Status"}),e.jsxs(qe,{value:o.status,onValueChange:U=>H("status",U),required:!0,children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select status"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"live",children:"Live"}),e.jsx(X,{value:"archived",children:"Archived"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"title",children:"Article Title"}),e.jsx(ie,{id:"title",name:"title",value:o.title,onChange:D,onBlur:V,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"author_id",children:"Author"}),e.jsxs(qe,{value:o.author_id,onValueChange:U=>H("author_id",U),required:!0,children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select author"})}),e.jsx(Le,{children:c.map(U=>e.jsx(X,{value:U.id,children:U.name},U.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"category",children:"Category"}),e.jsx(ie,{id:"category",name:"category",value:o.category,onChange:D,onBlur:V,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"Featured Image Upload"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ie,{type:"file",accept:"image/*",onChange:E,ref:P}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload featured image (Max 5MB)"})]}),y&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y,alt:"Preview",className:"h-16 w-16 object-cover rounded-md border"}),e.jsx(T,{type:"button",size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:M,children:e.jsx(ht,{className:"h-3 w-3"})})]})]}),!o.featured_image&&!y&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm mb-1",children:"Current Featured Image:"}),e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No image uploaded"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"is_featured",name:"is_featured",type:"checkbox",checked:o.is_featured,onChange:D,className:"h-4 w-4"}),e.jsx(K,{htmlFor:"is_featured",children:"Feature this article"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"excerpt",children:"Excerpt"}),e.jsx(nt,{id:"excerpt",name:"excerpt",value:o.excerpt,onChange:D,onBlur:V})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"content",children:"Content"}),e.jsx(nt,{id:"content",name:"content",value:o.content,onChange:D,onBlur:V,rows:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"status",children:"Status"}),e.jsxs(qe,{value:o.status,onValueChange:U=>H("status",U),required:!0,children:[e.jsx(Fe,{children:e.jsx(Me,{placeholder:"Select status"})}),e.jsxs(Le,{children:[e.jsx(X,{value:"draft",children:"Draft"}),e.jsx(X,{value:"published",children:"Published"}),e.jsx(X,{value:"archived",children:"Archived"})]})]})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:r,disabled:h||v,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:h||v,children:v?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):h?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a?"Update":"Create"})]})]})]})})},J1e=()=>{const[t,r]=f.useState(null),[s,a]=f.useState(!1),[n,i]=f.useState(""),[o,l]=f.useState("all-designers"),[c,d]=f.useState("all"),[u,m]=f.useState("all-status"),[h,p]=f.useState(1),[v]=f.useState(10),[x,g]=f.useState(null),{data:b=[],isLoading:y,refetch:j,isError:S}=Oe({queryKey:["admin-collections-full"],queryFn:async()=>{try{const{data:D,error:H}=await ee.from("marketplace_products").select("*").order("created_at",{ascending:!1});if(H)throw console.error("Products fetch error:",H),H;const{data:ae,error:U}=await ee.from("articles").select("*").order("created_at",{ascending:!1});if(U)throw console.error("Articles fetch error:",U),U;const se=[...D?.map(ue=>ue.designer_id)||[],...ae?.map(ue=>ue.author_id)||[]].filter(Boolean);let Q={};if(se.length>0){const ue=[...new Set(se)],{data:De,error:he}=await ee.from("profiles").select("user_id, name").in("user_id",ue);he?console.error("Designer profiles fetch error:",he):Q=De?.reduce((st,Qe)=>(st[Qe.user_id]=Qe,st),{})||{}}const pe=D?.map(ue=>({id:ue.id,type:"product",title:ue.title,designer_id:ue.designer_id,designer_name:Q[ue.designer_id]?.name||"Unknown Designer",price:parseFloat(ue.price?.toString()||"0"),category:ue.category_id||"General",status:ue.status,inventory_count:ue.inventory_count||0,created_at:ue.created_at,updated_at:ue.updated_at,image_url:ue.images&&Array.isArray(ue.images)&&ue.images.length>0?ue.images[0]:null,is_made_to_order:ue.is_made_to_order||!1,is_limited_edition:ue.is_limited_edition||!1,edition_size:ue.edition_size||void 0}))||[],le=ae?.map(ue=>({id:ue.id,type:"article",title:ue.title,designer_id:ue.author_id,designer_name:Q[ue.author_id]?.name||"Unknown Author",price:0,category:ue.category||"General",status:ue.status,inventory_count:0,created_at:ue.created_at,updated_at:ue.updated_at,image_url:ue.featured_image,is_featured:ue.is_featured||!1}))||[];return[...pe,...le]}catch(D){throw console.error("Error fetching content:",D),D}},staleTime:180*1e3,gcTime:300*1e3}),{data:w=[],isLoading:_,refetch:N,isError:k}=Oe({queryKey:["admin-designers-full"],queryFn:async()=>{try{const{data:D,error:H}=await ee.from("profiles").select("*").order("name");return H?(console.error("Profiles fetch error:",H),[]):!D||D.length===0?[]:D.map(ae=>({id:ae.user_id,name:ae.name||"Unknown",email:ae.email||"No email",avatar:ae.avatar_url,category:ae.category,rank:ae.founder_tier==="f1"?"f1":ae.founder_tier==="f2"?"f2":ae.rank_id?"f1":"apprentice",rank_name:ae.founder_tier==="f1"?"F1 - Founding Legacy":ae.founder_tier==="f2"?"F2 - The Pioneer":"Apprentice",subscription:ae.subscription_tier,status:ae.status,completedStyleboxes:0,publishedItems:0,revenue:0,joinedAt:new Date(ae.created_at).toLocaleDateString()}))}catch(D){return console.error("Error in admin designers query:",D),[]}},staleTime:300*1e3,gcTime:600*1e3}),C=y||_,P=(S||k)&&b.length===0&&w.length===0&&!C,A=f.useMemo(()=>{let D=b;if(n){const H=n.toLowerCase();D=D.filter(ae=>ae.title.toLowerCase().includes(H)||ae.designer_name.toLowerCase().includes(H)||ae.category.toLowerCase().includes(H))}return o!=="all-designers"&&(D=D.filter(H=>H.designer_id===o)),c!=="all"&&(c==="products"?D=D.filter(H=>H.type==="product"):c==="articles"&&(D=D.filter(H=>H.type==="article"))),u!=="all-status"&&(D=D.filter(H=>u==="published"?H.status==="live"||H.status==="published":u==="draft"?H.status==="draft":u==="archived"?H.status==="archived":!0)),x!==null&&(D=[...D].sort((H,ae)=>H[x.key]<ae[x.key]?x.direction==="asc"?-1:1:H[x.key]>ae[x.key]?x.direction==="asc"?1:-1:0)),D},[b,n,o,c,u,x]),O=f.useMemo(()=>{const D=(h-1)*v;return A.slice(D,D+v)},[A,h,v]),I=D=>{let H="asc";x&&x.key===D&&x.direction==="asc"&&(H="desc"),g({key:D,direction:H})},F=f.useCallback(()=>{j(),N()},[j,N]),$=f.useCallback(D=>{r({id:D.id,type:D.type}),a(!0)},[]),E=f.useCallback(()=>{r(null),a(!0)},[o]),{mutate:M,isLoading:z}=ze({mutationFn:async({id:D,type:H})=>{if(H==="product"){const{error:ae}=await ee.from("marketplace_products").delete().eq("id",D);if(ae)throw ae}else{const{error:ae}=await ee.from("articles").delete().eq("id",D);if(ae)throw ae}},onSuccess:()=>{j()}}),{mutate:R}=ze({mutationFn:async({id:D,type:H,newStatus:ae})=>{if(H==="product"){const{error:U}=await ee.from("marketplace_products").update({status:ae}).eq("id",D);if(U)throw U}else{const{error:U}=await ee.from("articles").update({status:ae}).eq("id",D);if(U)throw U}},onSuccess:()=>{j()}}),te=f.useCallback(()=>{j(),a(!1),r(null)},[j]),V=D=>!x||x.key!==D?null:x.direction==="asc"?"":"";return P?e.jsx("div",{className:"p-6 lg:p-8 space-y-6 max-w-[1600px] mx-auto",children:e.jsx(G,{className:"border-destructive bg-destructive/10",children:e.jsxs(Y,{className:"p-6 flex items-center gap-3",children:[e.jsx(il,{className:"h-5 w-5 text-destructive"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-destructive",children:"Error Loading Collections"}),e.jsx("p",{className:"text-sm text-destructive/80",children:"There was an issue loading the collections data. Please try refreshing."})]}),e.jsxs(T,{variant:"destructive",onClick:F,className:"ml-auto",children:[e.jsx(ga,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})})}):e.jsxs("div",{className:"p-6 lg:p-8 space-y-6 max-w-[1600px] mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Collections"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage products and articles from all designers"})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:F,disabled:C,children:[e.jsx(ga,{className:`h-4 w-4 mr-2 ${C?"animate-spin":""}`}),"Refresh"]}),e.jsxs(T,{onClick:E,children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add Content"]})]})]}),e.jsx(yg,{searchTerm:n,onSearchChange:i,filters:[{label:"Designer",value:o,onChange:l,options:[{value:"all-designers",label:"All Designers"},...w.map(D=>({value:D.id,label:D.name}))]},{label:"Type",value:c,onChange:D=>d(D),options:[{value:"all",label:"All Types"},{value:"products",label:"Products"},{value:"articles",label:"Articles"}]},{label:"Status",value:u,onChange:m,options:[{value:"all-status",label:"All Statuses"},{value:"published",label:"Published"},{value:"draft",label:"Draft"},{value:"archived",label:"Archived"}]}]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(G,{className:"bg-blue-50 border-blue-200",children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(Ot,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Items"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:b.length})]})]})})}),e.jsx(G,{className:"bg-green-50 border-green-200",children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:e.jsx(ui,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Published"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:b.filter(D=>D.status==="live"||D.status==="published").length})]})]})})}),e.jsx(G,{className:"bg-amber-50 border-amber-200",children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-amber-100 p-2 rounded-lg",children:e.jsx(mt,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-amber-600 font-medium",children:"Designers"}),e.jsx("p",{className:"text-xl font-bold text-amber-900",children:w.length})]})]})})}),e.jsx(G,{className:"bg-purple-50 border-purple-200",children:e.jsx(Y,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:e.jsx(il,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Products"}),e.jsx("p",{className:"text-xl font-bold text-purple-900",children:b.filter(D=>D.type==="product").length})]})]})})})]}),e.jsxs(G,{children:[e.jsx(je,{className:"px-6 py-4",children:e.jsxs(Ne,{children:["Content (",A.length,")"]})}),e.jsx(Y,{children:C?e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(ga,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:"Loading collections..."})]}):A.length===0?e.jsx(jg,{title:"No collections found",description:"There are no collections matching your current filters",action:e.jsxs(T,{onClick:E,children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Add Content"]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Gr,{children:[e.jsx(Yr,{children:e.jsxs(Ve,{children:[e.jsxs(xe,{className:"w-[300px] cursor-pointer hover:bg-muted/50",onClick:()=>I("title"),children:["Title ",V("title")]}),e.jsxs(xe,{onClick:()=>I("designer_name"),className:"cursor-pointer hover:bg-muted/50",children:["Designer ",V("designer_name")]}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Type"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Price"}),e.jsxs(xe,{onClick:()=>I("created_at"),className:"cursor-pointer hover:bg-muted/50",children:["Date ",V("created_at")]}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(Xr,{children:O.map(D=>e.jsxs(Ve,{children:[e.jsx(de,{className:"font-medium max-w-xs truncate",children:e.jsxs("div",{className:"flex items-center gap-3",children:[D.image_url?e.jsx("img",{src:D.image_url,alt:D.title,className:"w-10 h-10 rounded object-cover"}):e.jsx("div",{className:"bg-muted rounded w-10 h-10 flex items-center justify-center",children:e.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})}),e.jsxs("div",{className:"truncate max-w-[200px]",children:[D.title,D.type==="product"&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[D.is_made_to_order&&e.jsx(B,{variant:"secondary",className:"text-xs",children:"Made to Order"}),D.is_limited_edition&&e.jsxs(B,{variant:"secondary",className:"text-xs",children:["Limited Edition ",D.edition_size?`(#${D.edition_size})`:""]})]})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(rr,{className:"h-8 w-8",children:[e.jsx(sr,{src:D.image_url||""}),e.jsx(ar,{children:D.designer_name.charAt(0)})]}),e.jsx("span",{children:D.designer_name})]})}),e.jsx(de,{children:e.jsx(B,{variant:"outline",children:D.category})}),e.jsx(de,{children:e.jsx(B,{variant:D.type==="product"?"default":"secondary",children:D.type==="product"?"Product":"Article"})}),e.jsx(de,{children:e.jsx(B,{variant:D.status==="live"||D.status==="published"?"default":D.status==="draft"?"secondary":"destructive",children:D.status.charAt(0).toUpperCase()+D.status.slice(1)})}),e.jsx(de,{children:D.type==="product"?`$${D.price.toFixed(2)}`:"-"}),e.jsx(de,{children:new Date(D.created_at).toLocaleDateString()}),e.jsx(de,{className:"text-right",children:e.jsxs(hs,{children:[e.jsx(fs,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",children:e.jsx(Hs,{className:"h-4 w-4"})})}),e.jsxs(rs,{align:"end",children:[e.jsx(Hm,{children:"Actions"}),e.jsxs(Se,{onClick:()=>$(D),children:[e.jsx(ol,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsx(Se,{onClick:()=>{const H=D.status==="live"||D.status==="published"?(D.type==="product","draft"):D.type==="product"?"live":"published";R.mutate({id:D.id,type:D.type,newStatus:H})},className:"focus:bg-warning/10 focus:text-warning",children:D.type==="product"&&D.status==="live"||D.type==="article"&&D.status==="published"?e.jsxs(e.Fragment,{children:[e.jsx(af,{className:"h-4 w-4 mr-2.5"}),"Deactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx(af,{className:"h-4 w-4 mr-2.5"}),"Activate"]})}),e.jsx(Ar,{}),e.jsxs(Se,{onClick:()=>M({id:D.id,type:D.type}),className:"text-destructive focus:text-destructive",disabled:z,children:[e.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},D.id))})]})}),e.jsx(wg,{currentPage:h,totalPages:Math.ceil(A.length/v),onPageChange:p,totalItems:A.length,itemsPerPage:v})]})})]}),e.jsx(Q1e,{isOpen:s,onClose:()=>a(!1),collectionType:t?.type||"product",collectionId:t?.id,designerId:t?void 0:o!=="all-designers"?o:void 0,onSuccess:te})]})},Z1e=()=>e.jsx(Br,{children:e.jsx(J1e,{})}),ID={pending:{label:"Submitted",color:"bg-blue-500/10 text-blue-500 border-blue-500/20",icon:Wt},under_review:{label:"Under Review",color:"bg-amber-500/10 text-amber-500 border-amber-500/20",icon:Ze},revisions_required:{label:"Feedback Sent",color:"bg-orange-500/10 text-orange-500 border-orange-500/20",icon:po},approved:{label:"Approved",color:"bg-success/10 text-success border-success/20",icon:tr},rejected:{label:"Rejected",color:"bg-destructive/10 text-destructive border-destructive/20",icon:Rr}},eSe=()=>{const{id:t}=ci(),r=wr(),{session:s}=ja(),[a,n]=f.useState(null),[i,o]=f.useState(!0),[l,c]=f.useState(""),[d,u]=f.useState(""),[m,h]=f.useState(""),[p,v]=f.useState(!1),[x,g]=f.useState(!1),[b,y]=f.useState("standard"),[j,S]=f.useState(!0),[w,_]=f.useState(0),N=async()=>{if(!t){console.error("No ID provided in URL params"),o(!1);return}o(!0);try{console.log("Fetching submission with ID:",t);const{data:{session:O}}=await ee.auth.getSession();console.log("Current admin session:",O?"Active":"None"),O||console.warn("No active admin session found during fetch");const{data:I,error:F}=await ee.from("founding_designers_submissions").select("*").eq("id",t.trim()).maybeSingle();if(F)throw console.error("Supabase error fetching submission:",F),F;if(!I){console.error("No submission found for ID:",t);const{data:z}=await ee.from("founding_designers_submissions").select("id").limit(10);console.log("Existing IDs in DB (sample):",z?.map(R=>R.id)),n(null);return}console.log("Submission found:",I.collection_name);const{data:$,error:E}=await ee.from("profiles").select("name, email, avatar_url, brand_name, is_founding_designer").eq("user_id",I.designer_id).maybeSingle();E&&console.warn("Error fetching designer profile:",E);const M={...I,designer:$||null};n(M),c(I.admin_feedback||""),u(I.internal_notes||"")}catch(O){console.error("Error in fetchSubmission:",O),Re.error(O.message||"Failed to load submission details")}finally{o(!1)}};f.useEffect(()=>{N()},[t]);const k=async O=>{try{console.log(`Invoking 'manage-founding' for action: ${O}`);const{data:I,error:F}=await ee.functions.invoke("manage-founding",{body:{action:O,submissionId:t,designerId:a.designer_id,feedback:l,internalNotes:d,rejectionReason:O==="reject"?m:void 0,tier:b,assignTitle:j}});if(F)throw console.error("Edge function error returned:",F),new Error(F.message||"Edge function failed to process request");const $=I?.message||`Action '${O}' completed successfully`;Re.success($),v(!1),g(!1),N()}catch(I){console.error("Action error:",I),Re.error(I.message||"Failed to process request")}};if(i)return e.jsx(Br,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});if(!a)return e.jsx(Br,{children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(qh,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),e.jsx("h2",{className:"text-xl font-bold",children:"Submission Not Found"}),e.jsx(T,{variant:"link",onClick:()=>r("/admin/founding-submissions"),children:"Back to Overview"})]})});const C=ID[a.status]||ID.pending,P=a.articles||[],A=P[w];return e.jsxs(Br,{children:[e.jsxs("div",{className:"max-w-[1400px] mx-auto space-y-6 p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(T,{variant:"ghost",size:"sm",className:"-ml-2 text-admin-muted-foreground hover:text-admin-foreground",onClick:()=>r("/admin/founding-submissions"),children:[e.jsx(ba,{className:"h-4 w-4 mr-2"})," Back to Overview"]}),e.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight",children:a.collection_name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-admin-muted-foreground",children:[e.jsx("span",{className:"font-medium text-admin-foreground",children:a.designer?.name}),e.jsx("span",{children:""}),e.jsx("span",{children:a.designer?.brand_name||"Independent"}),e.jsxs(B,{className:q("ml-2 border",C.color),children:[e.jsx(C.icon,{className:"h-3 w-3 mr-1"})," ",C.label]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:"outline",className:"border-admin-border",onClick:()=>k("feedback"),children:[e.jsx(po,{className:"h-4 w-4 mr-2"})," Send Feedback"]}),e.jsxs(T,{variant:"outline",className:"text-destructive border-destructive/20 hover:bg-destructive/10",onClick:()=>g(!0),disabled:a.status==="rejected",children:[e.jsx(Rr,{className:"h-4 w-4 mr-2"})," Reject"]}),e.jsxs(T,{className:"bg-success text-success-foreground hover:bg-success/90",onClick:()=>v(!0),disabled:a.status==="approved",children:[e.jsx(tr,{className:"h-4 w-4 mr-2"})," Approve"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs(G,{className:"bg-admin-card border-admin-border",children:[e.jsx(je,{children:e.jsx(Ne,{className:"text-sm uppercase tracking-wider text-admin-muted-foreground font-bold",children:"Collection Identity"})}),e.jsx(Y,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Description"}),e.jsx("p",{className:"text-sm leading-relaxed",children:a.design_philosophy})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Category"}),e.jsx("p",{className:"text-sm capitalize",children:a.primary_category})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Seasonal Launch"}),e.jsx("p",{className:"text-sm capitalize",children:a.target_seasonal_launch.replace("_"," ")})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Designer Vision Statement"}),e.jsxs("div",{className:"p-4 rounded-lg bg-admin-muted/20 border border-admin-border italic text-sm leading-relaxed",children:['"',a.designer_vision_statement,'"']})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold text-lg",children:["Articles Review (",P.length,")"]}),e.jsx("div",{className:"flex gap-1",children:P.map((O,I)=>e.jsx("button",{onClick:()=>_(I),className:q("h-2 w-8 rounded-full transition-all",w===I?"bg-primary":"bg-admin-border hover:bg-admin-muted")},I))})]}),A?e.jsx(G,{className:"bg-admin-card border-admin-border overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[e.jsxs("div",{className:"md:w-1/2 bg-admin-muted/30 border-r border-admin-border p-6 flex flex-col gap-4",children:[e.jsxs("div",{className:"aspect-[4/5] rounded-xl overflow-hidden border border-admin-border bg-white relative group",children:[e.jsx("img",{src:A.images?.[0]||"/placeholder.svg",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:e.jsxs(T,{variant:"secondary",size:"sm",className:"gap-2",children:[e.jsx(xn,{className:"h-4 w-4"})," View Full Size"]})})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:A.images?.map((O,I)=>e.jsx("div",{className:"aspect-square rounded-lg border border-admin-border overflow-hidden bg-white cursor-pointer hover:ring-2 ring-primary transition-all",children:e.jsx("img",{src:O,className:"w-full h-full object-cover"})},I))})]}),e.jsxs("div",{className:"md:w-1/2 p-8 space-y-8 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"text-2xl font-bold",children:A.name}),e.jsx(B,{variant:"outline",className:"border-admin-border capitalize",children:A.category})]}),e.jsxs("p",{className:"text-2xl font-display font-bold text-success",children:["$",A.estimated_price]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-6 gap-x-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Fabric / Material"}),e.jsx("p",{className:"text-sm font-medium",children:A.fabric_material})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Color(s)"}),e.jsx("p",{className:"text-sm font-medium",children:A.colors})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Size Range"}),e.jsx("p",{className:"text-sm font-medium",children:A.size_range})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Production Timeline"}),e.jsx("p",{className:"text-sm font-medium",children:A.timeline})]})]}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx(K,{className:"text-[10px] uppercase text-admin-muted-foreground",children:"Description"}),e.jsx("p",{className:"text-sm leading-relaxed text-admin-muted-foreground",children:A.description})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t border-admin-border",children:[e.jsxs(T,{variant:"ghost",disabled:w===0,onClick:()=>_(O=>O-1),children:[e.jsx(Za,{className:"h-4 w-4 mr-2"})," Previous"]}),e.jsxs(T,{variant:"ghost",disabled:w===P.length-1,onClick:()=>_(O=>O+1),children:["Next ",e.jsx(lr,{className:"h-4 w-4 ml-2"})]})]})]})]})}):e.jsxs("div",{className:"p-12 text-center bg-admin-muted/10 border-2 border-dashed border-admin-border rounded-xl",children:[e.jsx(Vs,{className:"h-12 w-12 mx-auto text-admin-muted-foreground opacity-30 mb-4"}),e.jsx("p",{className:"text-admin-muted-foreground font-medium",children:"Incomplete Submission: No articles found."})]})]}),e.jsxs(G,{className:"bg-admin-card border-admin-border",children:[e.jsxs(je,{className:"flex flex-row items-center gap-2",children:[e.jsx(co,{className:"h-4 w-4 text-admin-muted-foreground"}),e.jsx(Ne,{className:"text-sm font-bold uppercase tracking-wider text-admin-muted-foreground",children:"Audit Log & Timeline"})]}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 text-sm",children:[e.jsx("div",{className:"mt-1 h-2 w-2 rounded-full bg-blue-500 shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold",children:"Initial Submission"}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:xt(new Date(a.created_at),"MMM d, yyyy  HH:mm")})]})]}),a.status_history?.map((O,I)=>e.jsx("div",{className:"flex items-start gap-4 text-sm border-l-2 border-admin-border ml-1 pl-4 pb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-bold capitalize",children:["Status: ",O.to.replace("_"," ")]}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:xt(new Date(O.timestamp),"MMM d, yyyy  HH:mm")})]})},I))]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(G,{className:"bg-admin-card border-admin-border",children:[e.jsx(je,{children:e.jsx(Ne,{className:"text-sm uppercase tracking-wider text-admin-muted-foreground font-bold",children:"Designer Snapshot"})}),e.jsxs(Y,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(rr,{className:"h-12 w-12 border border-admin-border",children:[e.jsx(sr,{src:a.designer?.avatar_url}),e.jsx(ar,{children:a.designer?.name?.charAt(0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-admin-foreground leading-tight",children:a.designer?.name}),e.jsx("p",{className:"text-xs text-admin-muted-foreground",children:a.designer?.email})]})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold",children:[e.jsx("span",{className:"text-admin-muted-foreground",children:"Profile Progress"}),e.jsx("span",{children:"85%"})]}),e.jsx("div",{className:"w-full bg-admin-muted h-1.5 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-primary h-full w-[85%]"})})]}),e.jsx(Ut,{className:"bg-admin-border"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-admin-muted-foreground",children:"Founding Title"}),e.jsx(B,{variant:a.designer?.is_founding_designer?"default":"outline",className:"text-[10px]",children:a.designer?.is_founding_designer?"Assigned":"Not Assigned"})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-admin-muted-foreground",children:"Previous Submissions"}),e.jsx("span",{className:"font-bold",children:"0"})]})]})]})]}),e.jsxs(G,{className:"bg-admin-card border-admin-border shadow-sm ring-1 ring-primary/10",children:[e.jsxs(je,{className:"pb-3 flex flex-row items-center gap-2",children:[e.jsx(qh,{className:"h-4 w-4 text-primary"}),e.jsx(Ne,{className:"text-sm font-bold text-primary uppercase tracking-wider",children:"Internal Notes"})]}),e.jsx(Y,{children:e.jsx(nt,{placeholder:"Visible only to admin team...",value:d,onChange:O=>u(O.target.value),className:"bg-admin-muted/30 border-admin-border text-xs min-h-[150px] resize-none"})})]}),e.jsxs(G,{className:"bg-admin-card border-admin-border",children:[e.jsxs(je,{className:"pb-3 flex flex-row items-center gap-2",children:[e.jsx(po,{className:"h-4 w-4 text-admin-muted-foreground"}),e.jsx(Ne,{className:"text-sm font-bold uppercase tracking-wider",children:"Feedback to Designer"})]}),e.jsxs(Y,{className:"space-y-4",children:[e.jsx(nt,{placeholder:"Tell the designer what needs to be changed...",value:l,onChange:O=>c(O.target.value),className:"bg-admin-muted/30 border-admin-border text-xs min-h-[150px] resize-none"}),e.jsx("p",{className:"text-[10px] text-admin-muted-foreground leading-relaxed italic",children:"* Sending feedback will unlock the submission for editing."})]})]})]})]})]}),e.jsx(Et,{open:p,onOpenChange:v,children:e.jsxs(Pt,{className:"max-w-md bg-admin-card border-admin-border text-admin-foreground",children:[e.jsxs(Lt,{children:[e.jsxs($t,{className:"flex items-center gap-2 text-success",children:[e.jsx(dB,{className:"h-5 w-5"}),"Confirm Approval"]}),e.jsx(Us,{className:"text-admin-muted-foreground",children:"This will finalize the collection and promote the designer."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-success/5 border border-success/20",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{className:"font-bold",children:"Assign Founding Designer Title"}),e.jsx("p",{className:"text-[10px] text-admin-muted-foreground",children:"Displays official badge on public profile."})]}),e.jsx(Ws,{checked:j,onCheckedChange:S})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{className:"text-xs uppercase font-bold text-admin-muted-foreground",children:"Select Payout Tier"}),e.jsxs(qe,{value:b,onValueChange:y,children:[e.jsx(Fe,{className:"bg-admin-muted border-admin-border",children:e.jsx(Me,{})}),e.jsxs(Le,{className:"bg-admin-card border-admin-border text-admin-foreground",children:[e.jsx(X,{value:"standard",children:"Standard Founding (Default)"}),e.jsx(X,{value:"f1",children:"Tier F1 (Priority Visibility)"}),e.jsx(X,{value:"f2",children:"Tier F2 (Elite Splits)"})]})]})]})]}),e.jsxs(Cs,{children:[e.jsx(T,{variant:"ghost",onClick:()=>v(!1),children:"Cancel"}),e.jsx(T,{className:"bg-success text-success-foreground",onClick:()=>k("approve"),children:"Approve & Promote"})]})]})}),e.jsx(Et,{open:x,onOpenChange:g,children:e.jsxs(Pt,{className:"max-w-md bg-admin-card border-admin-border text-admin-foreground",children:[e.jsxs(Lt,{children:[e.jsxs($t,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(qh,{className:"h-5 w-5"}),"Reject Submission"]}),e.jsx(Us,{className:"text-admin-muted-foreground",children:"This action is irreversible and will lock the submission."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(K,{className:"text-xs uppercase font-bold",children:["Rejection Reason ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(nt,{placeholder:"Explain the decision...",value:m,onChange:O=>h(O.target.value),className:"bg-admin-muted border-admin-border min-h-[120px] text-xs",required:!0})]})}),e.jsxs(Cs,{children:[e.jsx(T,{variant:"ghost",onClick:()=>g(!1),children:"Cancel"}),e.jsx(T,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>k("reject"),disabled:!m.trim(),children:"Confirm Rejection"})]})]})})]})},tSe=({adminId:t})=>{const[r,s]=f.useState([]),[a,n]=f.useState([]),[i,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState([]),[m,h]=f.useState(""),[p,v]=f.useState(!0),[x,g]=f.useState("pending");f.useEffect(()=>{(async()=>{try{const{data:N,error:k}=await J.from("publication_requests").select(`
            *,
            projects!publication_requests_project_id_fkey(
              id, title, description, designer_id, category, tags, thumbnail_url, project_type, metadata, status, visibility, created_at
            )
          `).order("submitted_at",{ascending:!1});if(k)throw k;const C=N.map(A=>({...A,project:A.projects}));n(C);const P=C.filter(A=>A.status==="pending");s(P),v(!1)}catch(N){console.error("Error fetching publication requests:",N),v(!1)}})()},[]),f.useEffect(()=>{if(!i){c(null),u([]);return}i.project&&(c(i.project),(async()=>{const{data:N,error:k}=await J.from("project_assets").select("*").eq("project_id",i.project_id).order("display_order");k?console.error("Error loading assets:",k):u(N||[])})())},[i]);const b=async(_,N,k)=>{try{const{error:C}=await J.from("publication_requests").update({status:N,admin_notes:k||null,reviewed_at:new Date().toISOString(),reviewed_by:t}).eq("id",_);if(C)throw C;n(P=>P.map(A=>A.id===_?{...A,status:N,admin_notes:k||null,reviewed_at:new Date().toISOString(),reviewed_by:t}:A)),s(P=>P.filter(A=>A.id!==_)),N==="approved"&&await y(_),i?.id===_&&o(null)}catch(C){console.error("Error reviewing request:",C)}},y=async _=>{try{const{data:N,error:k}=await J.from("publication_requests").select(`
          *,
          projects!publication_requests_project_id_fkey(*)
        `).eq("id",_).single();if(k)throw k;const C=N,P=C.projects,{data:A,error:O}=await J.from("marketplace_products").insert([{title:P.title,description:P.description||"",designer_id:P.designer_id,price:0,inventory_count:0,status:"draft",images:P.metadata?.images||[],tags:P.tags||[],portfolio_publication_id:C.id}]).select().single();if(O)throw O;await J.from("publication_requests").update({marketplace_conversion_id:A.id}).eq("id",_),console.log(`Converted request ${_} to product ${A.id}`)}catch(N){console.error("Error converting to product:",N)}},j=_=>{b(_,"approved",m),h("")},S=_=>{b(_,"rejected",m),h("")},w=_=>{b(_,"under_review",m),h("")};return p?e.jsx("div",{className:"p-6",children:"Loading publication requests..."}):e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Publication Request Review"}),e.jsxs("div",{className:"flex border-b mb-6",children:[e.jsxs("button",{className:`px-4 py-2 font-medium ${x==="pending"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>g("pending"),children:["Pending (",r.length,")"]}),e.jsxs("button",{className:`px-4 py-2 font-medium ${x==="all"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>g("all"),children:["All Requests (",a.length,")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:x==="pending"?"Pending Requests":"All Requests"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(x==="pending"?r:a).map(_=>{const N=_.project;return e.jsxs("div",{className:`border rounded-lg p-3 cursor-pointer ${i?.id===_.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>o(_),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-medium truncate",children:_.request_title}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${_.status==="pending"?"bg-yellow-200 text-yellow-800":_.status==="approved"?"bg-green-200 text-green-800":_.status==="rejected"?"bg-red-200 text-red-800":"bg-blue-200 text-blue-800"}`,children:_.status})]}),e.jsxs("p",{className:"text-xs text-gray-600 truncate",children:["Project: ",N?.title||"N/A"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["By: ",_.designer_id," | ",new Date(_.submitted_at).toLocaleDateString()]})]},_.id)})})]}),e.jsx("div",{className:"lg:col-span-2",children:i?e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:i.request_title}),e.jsx("p",{className:"text-gray-600",children:i.request_description})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${i.status==="pending"?"bg-yellow-200 text-yellow-800":i.status==="approved"?"bg-green-200 text-green-800":i.status==="rejected"?"bg-red-200 text-red-800":"bg-blue-200 text-blue-800"}`,children:i.status})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Project Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Title:"})," ",l.title]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Category:"})," ",l.category||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",l.project_type]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Visibility:"})," ",l.visibility]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("strong",{children:"Description:"}),e.jsx("p",{className:"text-sm",children:l.description})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Project Assets"}),d.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:d.map(_=>e.jsxs("div",{className:"border rounded p-2",children:[e.jsx("div",{className:"text-xs truncate",children:_.file_name}),e.jsx("div",{className:"text-xs text-gray-500",children:_.asset_category||"N/A"}),e.jsx("a",{href:_.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline block mt-1",children:"View"})]},_.id))}):e.jsx("p",{className:"text-gray-500",children:"No assets uploaded for this project."})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Review Decision"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Admin Notes"}),e.jsx("textarea",{value:m,onChange:_=>h(_.target.value),className:"w-full p-2 border rounded",rows:3,placeholder:"Enter notes for the designer..."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>j(i.id),disabled:i.status!=="pending",className:`px-4 py-2 rounded ${i.status==="pending"?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Approve for Marketplace"}),e.jsx("button",{onClick:()=>w(i.id),disabled:i.status!=="pending",className:`px-4 py-2 rounded ${i.status==="pending"?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Request Review"}),e.jsx("button",{onClick:()=>S(i.id),disabled:i.status!=="pending",className:`px-4 py-2 rounded ${i.status==="pending"?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Reject Request"})]}),i.marketplace_conversion_id&&e.jsxs("div",{className:"mt-4 p-3 bg-green-100 rounded text-green-800",children:[" Converted to marketplace product: ",i.marketplace_conversion_id]})]}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Submitted:"})," ",new Date(i.submitted_at).toLocaleString()]}),i.reviewed_at&&e.jsxs("p",{children:[e.jsx("strong",{children:"Reviewed:"})," ",new Date(i.reviewed_at).toLocaleString()," by ",i.reviewed_by]}),i.admin_notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",i.admin_notes]})]})]}):e.jsx("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-12 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Select a publication request to review"})})})]})]})},rSe=()=>{const{adminUser:t}=ja();return t?e.jsxs("div",{children:[e.jsx("div",{className:"bg-white shadow",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Publication Requests"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Review designer submissions for marketplace publication"})]})}),e.jsx("main",{children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsx(tSe,{adminId:t.id})})})]}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Access Denied"}),e.jsx("p",{children:"Please log in as an admin to review publication requests."})]})};function sSe(){const[t,r]=f.useState(null),{data:s,isLoading:a}=bz(),n=t?s?.filter(c=>c.category===t):s,i=s?.find(c=>c.is_featured),o=n?.filter(c=>c.id!==i?.id),l=c=>fd.find(d=>d.value===c)?.label||c;return e.jsxs(Qs,{children:[e.jsx(wa,{title:"Articles | Adorzia - Fashion Design Insights & Trends",description:"Explore trend reports, designer spotlights, style guides, and industry news from the world of emerging fashion design.",url:"https://adorzia.com/articles",keywords:"fashion articles, design trends, style guides, designer spotlights, fashion industry news"}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"py-20 px-4 bg-gradient-to-b from-muted/50 to-background",children:e.jsxs("div",{className:"container max-w-6xl mx-auto text-center",children:[e.jsx(W.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold mb-4",children:"Articles & Insights"}),e.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Discover trend reports, designer spotlights, and industry insights from the world of emerging fashion design."})]})}),e.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[e.jsx(T,{variant:t===null?"default":"outline",size:"sm",onClick:()=>r(null),children:"All"}),fd.map(c=>e.jsx(T,{variant:t===c.value?"default":"outline",size:"sm",onClick:()=>r(c.value),children:c.label},c.value))]}),a?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((c,d)=>e.jsxs(G,{children:[e.jsx(rt,{className:"h-48 w-full"}),e.jsxs(Y,{className:"p-4",children:[e.jsx(rt,{className:"h-4 w-20 mb-2"}),e.jsx(rt,{className:"h-6 w-full mb-2"}),e.jsx(rt,{className:"h-4 w-full"})]})]},d))}):s?.length?e.jsxs(e.Fragment,{children:[i&&!t&&e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:e.jsx(fe,{to:`/articles/${i.slug}`,children:e.jsx(G,{className:"overflow-hidden group hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"grid md:grid-cols-2",children:[i.featured_image&&e.jsx("div",{className:"relative h-64 md:h-auto overflow-hidden",children:e.jsx("img",{src:i.featured_image,alt:i.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),e.jsxs(Y,{className:"p-8 flex flex-col justify-center",children:[e.jsx(B,{className:"w-fit mb-4",children:"Featured"}),e.jsx(B,{variant:"outline",className:"w-fit mb-2",children:l(i.category)}),e.jsx("h2",{className:"text-2xl font-bold mb-3 group-hover:text-primary transition-colors",children:i.title}),e.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-2",children:i.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Wr,{className:"h-4 w-4"}),i.published_at&&xt(new Date(i.published_at),"MMM d, yyyy")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Bt,{className:"h-4 w-4"}),i.view_count||0," views"]})]})]})]})})})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o?.map((c,d)=>e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},children:e.jsx(fe,{to:`/articles/${c.slug}`,children:e.jsxs(G,{className:"h-full overflow-hidden group hover:shadow-lg transition-shadow",children:[c.featured_image&&e.jsx("div",{className:"relative h-48 overflow-hidden",children:e.jsx("img",{src:c.featured_image,alt:c.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),e.jsxs(Y,{className:"p-4",children:[e.jsx(B,{variant:"outline",className:"mb-2",children:l(c.category)}),e.jsx("h3",{className:"font-semibold mb-2 group-hover:text-primary transition-colors line-clamp-2",children:c.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:c.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:c.published_at&&xt(new Date(c.published_at),"MMM d, yyyy")}),e.jsxs("span",{className:"flex items-center gap-1 text-primary font-medium",children:["Read more ",e.jsx(St,{className:"h-3 w-3"})]})]})]})]})})},c.id))})]}):e.jsx("div",{className:"text-center py-20",children:e.jsx("p",{className:"text-muted-foreground",children:"No articles published yet."})})]})]})]})}function aSe(){const{slug:t}=ci(),{data:r,isLoading:s,error:a}=U1e(t||""),{data:n}=bz(4),i=d=>fd.find(u=>u.value===d)?.label||d,o=d=>{if(!d)return 1;const u=d.split(/\s+/).length;return Math.ceil(u/200)},l=async()=>{navigator.share&&r&&await navigator.share({title:r.title,text:r.excerpt||"",url:window.location.href})};if(s)return e.jsx(Qs,{children:e.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-12",children:[e.jsx(rt,{className:"h-8 w-32 mb-8"}),e.jsx(rt,{className:"h-12 w-full mb-4"}),e.jsx(rt,{className:"h-6 w-64 mb-8"}),e.jsx(rt,{className:"h-96 w-full mb-8"}),e.jsx(rt,{className:"h-4 w-full mb-2"}),e.jsx(rt,{className:"h-4 w-full mb-2"}),e.jsx(rt,{className:"h-4 w-3/4"})]})});if(a||!r)return e.jsx(Qs,{children:e.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-20 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Article Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"The article you're looking for doesn't exist or has been removed."}),e.jsx(T,{asChild:!0,children:e.jsxs(fe,{to:"/articles",children:[e.jsx(ba,{className:"h-4 w-4 mr-2"}),"Back to Articles"]})})]})});const c=n?.filter(d=>d.id!==r.id&&d.category===r.category).slice(0,3);return e.jsxs(Qs,{children:[e.jsx(wa,{title:`${r.meta_title||r.title} | Adorzia`,description:r.meta_description||r.excerpt||"",image:r.featured_image||void 0,url:`https://adorzia.com/articles/${r.slug}`,type:"article",keywords:r.tags?.join(", ")||"",author:"Adorzia"}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"Article",headline:r.title,description:r.excerpt,image:r.featured_image,datePublished:r.published_at,dateModified:r.updated_at,author:{"@type":"Organization",name:"Adorzia"},publisher:{"@type":"Organization",name:"Adorzia",logo:{"@type":"ImageObject",url:"https://adorzia.com/logo.png"}}})}}),e.jsxs("article",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"container max-w-4xl mx-auto px-4 pt-8",children:e.jsxs(fe,{to:"/articles",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(ba,{className:"h-4 w-4"}),"Back to Articles"]})}),e.jsx("header",{className:"container max-w-4xl mx-auto px-4 py-8",children:e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[e.jsx(B,{variant:"outline",className:"mb-4",children:i(r.category)}),e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4",children:r.title}),r.excerpt&&e.jsx("p",{className:"text-xl text-muted-foreground mb-6",children:r.excerpt}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[r.published_at&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Wr,{className:"h-4 w-4"}),xt(new Date(r.published_at),"MMMM d, yyyy")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"h-4 w-4"}),o(r.content)," min read"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Bt,{className:"h-4 w-4"}),r.view_count||0," views"]}),e.jsxs(T,{variant:"ghost",size:"sm",onClick:l,children:[e.jsx(Pm,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})}),r.featured_image&&e.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"container max-w-5xl mx-auto px-4 mb-12",children:e.jsx("img",{src:r.featured_image,alt:r.title,className:"w-full h-64 md:h-96 object-cover rounded-xl"})}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"container max-w-3xl mx-auto px-4 pb-12",children:[e.jsx(xx,{html:r.content||"",className:"prose prose-lg max-w-none dark:prose-invert"}),r.tags&&r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-8 pt-8 border-t",children:r.tags.map(d=>e.jsx(B,{variant:"secondary",children:d},d))})]}),c&&c.length>0&&e.jsx("section",{className:"bg-muted/50 py-12",children:e.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Related Articles"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:c.map(d=>e.jsx(fe,{to:`/articles/${d.slug}`,children:e.jsxs("div",{className:"bg-background rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[d.featured_image&&e.jsx("img",{src:d.featured_image,alt:d.title,className:"w-full h-40 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx(B,{variant:"outline",className:"mb-2 text-xs",children:i(d.category)}),e.jsx("h3",{className:"font-semibold line-clamp-2",children:d.title})]})]})},d.id))})]})})]})]})}const yz=f.forwardRef(({...t},r)=>e.jsx("nav",{ref:r,"aria-label":"breadcrumb",...t}));yz.displayName="Breadcrumb";const jz=f.forwardRef(({className:t,...r},s)=>e.jsx("ol",{ref:s,className:q("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...r}));jz.displayName="BreadcrumbList";const WN=f.forwardRef(({className:t,...r},s)=>e.jsx("li",{ref:s,className:q("inline-flex items-center gap-1.5",t),...r}));WN.displayName="BreadcrumbItem";const wz=f.forwardRef(({asChild:t,className:r,...s},a)=>{const n=t?ko:"a";return e.jsx(n,{ref:a,className:q("transition-colors hover:text-foreground",r),...s})});wz.displayName="BreadcrumbLink";const Nz=f.forwardRef(({className:t,...r},s)=>e.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:q("font-normal text-foreground",t),...r}));Nz.displayName="BreadcrumbPage";const _z=({children:t,className:r,...s})=>e.jsx("li",{role:"presentation","aria-hidden":"true",className:q("[&>svg]:size-3.5",r),...s,children:t??e.jsx(lr,{})});_z.displayName="BreadcrumbSeparator";function nSe(){const{slug:t}=ci(),{data:r}=Sx(),s=r?.find(i=>i.slug===t),{data:a,isLoading:n}=Nf({category:t,limit:24});return!s&&!n?e.jsx(cr,{children:e.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Category Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"The category you're looking for doesn't exist."}),e.jsx(T,{asChild:!0,children:e.jsxs(fe,{to:"/shop/products",children:[e.jsx(ba,{className:"h-4 w-4 mr-2"}),"Browse All Products"]})})]})}):e.jsxs(cr,{children:[e.jsx(wa,{title:s?.seo_title||`${s?.name||"Category"} | Adorzia Shop`,description:s?.seo_description||s?.description||"",url:`https://adorzia.com/shop/category/${t}`,keywords:[...s?.focus_areas||[],...s?.vibe_tags||[]].join(", ")}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Shop",item:"https://adorzia.com/shop"},{"@type":"ListItem",position:2,name:s?.name,item:`https://adorzia.com/shop/category/${t}`}]})}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"CollectionPage",name:s?.name,description:s?.description,url:`https://adorzia.com/shop/category/${t}`,numberOfItems:a?.products?.length||0})}}),e.jsxs("div",{className:"min-h-screen",children:[e.jsx("section",{className:"relative py-16 md:py-24 px-4 overflow-hidden",style:{backgroundImage:s?.banner_image_url?`linear-gradient(to bottom, rgba(0,0,0,0.5), rgba(0,0,0,0.7)), url(${s.banner_image_url})`:void 0,backgroundColor:s?.banner_image_url?void 0:"hsl(var(--muted))",backgroundSize:"cover",backgroundPosition:"center"},children:e.jsxs("div",{className:"container max-w-6xl mx-auto",children:[e.jsx(yz,{className:"mb-6",children:e.jsxs(jz,{children:[e.jsx(WN,{children:e.jsx(wz,{href:"/shop",className:s?.banner_image_url?"text-white/80 hover:text-white":"",children:"Shop"})}),e.jsx(_z,{className:s?.banner_image_url?"text-white/60":""}),e.jsx(WN,{children:e.jsx(Nz,{className:s?.banner_image_url?"text-white":"",children:s?.name||e.jsx(rt,{className:"h-4 w-32"})})})]})}),e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:s?.banner_image_url?"text-white":"",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-4",children:s?.name||e.jsx(rt,{className:"h-12 w-64"})}),e.jsx("p",{className:`text-lg max-w-2xl mb-6 ${s?.banner_image_url?"text-white/90":"text-muted-foreground"}`,children:s?.description||e.jsx(rt,{className:"h-6 w-full"})}),s?.focus_areas&&s.focus_areas.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("span",{className:`text-sm font-medium ${s?.banner_image_url?"text-white/70":"text-muted-foreground"}`,children:"Focus:"}),s.focus_areas.map((i,o)=>e.jsx(B,{variant:"secondary",className:s?.banner_image_url?"bg-white/20 text-white border-white/30":"",children:i},o))]}),s?.vibe_tags&&s.vibe_tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(ct,{className:`h-4 w-4 mt-0.5 ${s?.banner_image_url?"text-white/70":"text-muted-foreground"}`}),s.vibe_tags.map((i,o)=>e.jsxs("span",{className:`text-sm italic ${s?.banner_image_url?"text-white/80":"text-muted-foreground"}`,children:[i,o<s.vibe_tags.length-1?"  ":""]},o))]})]})]})}),e.jsxs("section",{className:"container max-w-6xl mx-auto px-4 py-12",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Am,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("span",{className:"text-muted-foreground",children:[a?.products?.length||0," products"]})]})}),n?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((i,o)=>e.jsxs("div",{children:[e.jsx(rt,{className:"aspect-[3/4] w-full mb-3"}),e.jsx(rt,{className:"h-4 w-3/4 mb-2"}),e.jsx(rt,{className:"h-4 w-1/2"})]},o))}):a?.products?.length?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.products.map((i,o)=>e.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.05},children:e.jsx(ml,{id:i.id,title:i.title,price:i.price,salePrice:i.sale_price,images:i.images||[],designerName:i.designer_name,averageRating:i.average_rating,reviewCount:i.review_count,isNew:i.is_new,isBestseller:i.is_bestseller,slug:i.slug})},i.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No products in this category yet."}),e.jsx(T,{asChild:!0,variant:"outline",children:e.jsx(fe,{to:"/shop/products",children:"Browse All Products"})})]})]}),r&&r.length>1&&e.jsx("section",{className:"bg-muted/50 py-12",children:e.jsxs("div",{className:"container max-w-6xl mx-auto px-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Explore Other Categories"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.filter(i=>i.slug!==t&&i.is_active).map(i=>e.jsx(fe,{to:`/shop/category/${i.slug}`,children:e.jsx(B,{variant:"outline",className:"px-4 py-2 text-sm hover:bg-primary hover:text-primary-foreground transition-colors cursor-pointer",children:i.name})},i.id))})]})})]})]})}const iSe=new Pz;function oSe({children:t}){return e.jsx(y_,{children:e.jsx(S9,{children:e.jsx(C9,{children:e.jsx(z9,{children:t})})})})}function lSe({children:t}){return e.jsx(w9,{children:e.jsx(N9,{children:t})})}function cSe({children:t}){return e.jsx(y_,{children:e.jsx(MR,{attribute:"class",defaultTheme:"light",storageKey:"website-theme",disableTransitionOnChange:!0,children:t})})}function dSe({children:t}){return e.jsx(y_,{children:e.jsx(MR,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:t})})}const uSe=()=>(f.useEffect(()=>(L9(),console.log("[App] API request monitoring started"),()=>{}),[]),e.jsx(Ez,{client:iSe,children:e.jsxs(Mu,{children:[e.jsx(GU,{}),e.jsx(PV,{}),e.jsxs(Oz,{children:[e.jsx(F9,{}),e.jsxs(Dz,{children:[e.jsxs(Ie,{element:e.jsx(cSe,{children:e.jsx(ch,{})}),children:[e.jsx(Ie,{index:!0,element:e.jsx(J7,{})}),e.jsx(Ie,{path:"about",element:e.jsx(SK,{})}),e.jsx(Ie,{path:"styleboxes-info",element:e.jsx($K,{})}),e.jsx(Ie,{path:"blog",element:e.jsx(EY,{})}),e.jsx(Ie,{path:"competitions",element:e.jsx(UK,{})}),e.jsx(Ie,{path:"studio-info",element:e.jsx(HK,{})}),e.jsx(Ie,{path:"monetization",element:e.jsx(QK,{})}),e.jsx(Ie,{path:"pricing",element:e.jsx(gG,{})}),e.jsx(Ie,{path:"brands",element:e.jsx(wG,{})}),e.jsx(Ie,{path:"support",element:e.jsx(oY,{})}),e.jsx(Ie,{path:"designers",element:e.jsx(kY,{})}),e.jsx(Ie,{path:"studios",element:e.jsx(_Y,{})}),e.jsx(Ie,{path:"articles",element:e.jsx(sSe,{})}),e.jsx(Ie,{path:"articles/:slug",element:e.jsx(aSe,{})}),e.jsx(Ie,{path:"shop",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(tX,{})})})}),e.jsx(Ie,{path:"shop/products",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(gC,{})})})}),e.jsx(Ie,{path:"shop/designers",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(nQ,{})})})}),e.jsx(Ie,{path:"shop/designer/:id",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(iQ,{})})})}),e.jsx(Ie,{path:"shop/collections",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(oQ,{})})})}),e.jsx(Ie,{path:"shop/collection/:slug",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(lQ,{})})})}),e.jsx(Ie,{path:"shop/product/:id",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(YX,{})})})}),e.jsx(Ie,{path:"shop/category/:slug",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(nSe,{})})})}),e.jsx(Ie,{path:"shop/cart",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(XX,{})})})}),e.jsx(Ie,{path:"shop/checkout",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(sQ,{})})})}),e.jsx(Ie,{path:"shop/order-confirmation/:orderId",element:e.jsx(zs,{children:e.jsx(aQ,{})})}),e.jsx(Ie,{path:"shop/order/:orderNumber",element:e.jsx(zs,{children:e.jsx(cQ,{})})}),e.jsx(Ie,{path:"shop/account",element:e.jsx(D2,{children:e.jsx(zs,{children:e.jsx(mQ,{})})})}),e.jsx(Ie,{path:"shop/wishlist",element:e.jsx(D2,{children:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(pQ,{})})})})}),e.jsx(Ie,{path:"shop/faq",element:e.jsx(zs,{children:e.jsx(bQ,{})})}),e.jsx(Ie,{path:"shop/policies",element:e.jsx(zs,{children:e.jsx(yQ,{})})}),e.jsx(Ie,{path:"shop/new-arrivals",element:e.jsx($a,{children:e.jsx(zs,{children:e.jsx(gC,{})})})}),e.jsx(Ie,{path:"shop/auth",element:e.jsx(JQ,{})})]}),e.jsxs(Ie,{children:[e.jsxs(Ie,{element:e.jsx(dSe,{children:e.jsx(ch,{})}),children:[e.jsx(Ie,{path:"/auth",element:e.jsx(rJ,{})}),e.jsx(Ie,{path:"/forgot-password",element:e.jsx(aJ,{})}),e.jsx(Ie,{path:"/reset-password",element:e.jsx(iJ,{})}),e.jsx(Ie,{path:"/unauthorized",element:e.jsx(oJ,{})})]}),e.jsxs(Ie,{element:e.jsx(oSe,{children:e.jsx(ch,{})}),children:[e.jsx(Ie,{path:"/subscription",element:e.jsx(Zs,{children:e.jsx(Tje,{})})}),e.jsx(Ie,{path:"/dashboard",element:e.jsx(Zs,{children:e.jsx(ore,{})})}),e.jsx(Ie,{path:"/walkthroughs",element:e.jsx(Zs,{children:e.jsx(ure,{})})}),e.jsx(Ie,{path:"/walkthroughs/:id",element:e.jsx(Zs,{children:e.jsx(mre,{})})}),e.jsx(Ie,{path:"/styleboxes",element:e.jsx(Zs,{children:e.jsx(hre,{})})}),e.jsx(Ie,{path:"/styleboxes/:id",element:e.jsx(Zs,{children:e.jsx(wre,{})})}),e.jsx(Ie,{path:"/portfolio",element:e.jsx(Zs,{children:e.jsx(Qre,{})})}),e.jsx(Ie,{path:"/founding-designers",element:e.jsx(Zs,{children:e.jsx(Kje,{})})}),e.jsx(Ie,{path:"/profile",element:e.jsx(Zs,{children:e.jsx(Lje,{})})}),e.jsx(Ie,{path:"/teams",element:e.jsx(Zs,{children:e.jsx(Dse,{})})}),e.jsx(Ie,{path:"/jobs",element:e.jsx(Zs,{children:e.jsx(Ase,{})})}),e.jsx(Ie,{path:"/analytics",element:e.jsx(Zs,{children:e.jsx(Cje,{})})}),e.jsx(Ie,{path:"/notifications",element:e.jsx(Zs,{children:e.jsx($je,{})})}),e.jsx(Ie,{path:"/settings",element:e.jsx(Zs,{children:e.jsx(Pje,{})})}),e.jsx(Ie,{path:"/projects",element:e.jsx(Zs,{children:e.jsx(Xje,{})})})]}),e.jsxs(Ie,{element:e.jsx(lSe,{children:e.jsx(ch,{})}),children:[e.jsx(Ie,{path:"/admin/login",element:e.jsx(Jje,{})}),e.jsx(Ie,{path:"/admin",element:e.jsx(Jr,{children:e.jsx(I0e,{})})}),e.jsx(Ie,{path:"/admin/designers",element:e.jsx(Jr,{children:e.jsx($0e,{})})}),e.jsx(Ie,{path:"/admin/styleboxes",element:e.jsx(Jr,{children:e.jsx(u_e,{})})}),e.jsx(Ie,{path:"/admin/stylebox-submissions",element:e.jsx(Jr,{children:e.jsx(h_e,{})})}),e.jsx(Ie,{path:"/admin/walkthroughs",element:e.jsx(Jr,{children:e.jsx(b_e,{})})}),e.jsx(Ie,{path:"/admin/rankings",element:e.jsx(Jr,{children:e.jsx(C_e,{})})}),e.jsx(Ie,{path:"/admin/publications",element:e.jsx(Jr,{children:e.jsx(V0e,{})})}),e.jsx(Ie,{path:"/admin/queues",element:e.jsx(Jr,{children:e.jsx(J0e,{})})}),e.jsx(Ie,{path:"/admin/settings",element:e.jsx(Jr,{requireSuperadmin:!0,children:e.jsx(P_e,{})})}),e.jsx(Ie,{path:"/admin/jobs",element:e.jsx(Jr,{children:e.jsx(B_e,{})})}),e.jsx(Ie,{path:"/admin/marketplace",element:e.jsx(Jr,{children:e.jsx(I1e,{})})}),e.jsx(Ie,{path:"/admin/payouts",element:e.jsx(Jr,{children:e.jsx(M1e,{})})}),e.jsx(Ie,{path:"/admin/teams",element:e.jsx(Jr,{children:e.jsx(F1e,{})})}),e.jsx(Ie,{path:"/admin/notifications",element:e.jsx(Jr,{children:e.jsx(L1e,{})})}),e.jsx(Ie,{path:"/admin/analytics",element:e.jsx(Jr,{children:e.jsx(q1e,{})})}),e.jsx(Ie,{path:"/admin/security",element:e.jsx(Jr,{requireSuperadmin:!0,children:e.jsx(z1e,{})})}),e.jsx(Ie,{path:"/admin/articles",element:e.jsx(Jr,{children:e.jsx(Y1e,{})})}),e.jsx(Ie,{path:"/admin/collections",element:e.jsx(Jr,{children:e.jsx(Z1e,{})})}),e.jsx(Ie,{path:"/admin/founding-submissions",element:e.jsx(Jr,{children:e.jsx(X1e,{})})}),e.jsx(Ie,{path:"/admin/founding-submissions/:id",element:e.jsx(Jr,{children:e.jsx(eSe,{})})}),e.jsx(Ie,{path:"/admin/publication-requests",element:e.jsx(Jr,{children:e.jsx(rSe,{})})})]}),e.jsx(Ie,{path:"*",element:e.jsx(Gje,{})})]})]})]})]})}));window.addEventListener("error",t=>{});window.addEventListener("unhandledrejection",t=>{});function mSe(){return e.jsx(uSe,{})}try{const t=document.getElementById("root");if(!t)throw new Error("Root container not found");mB.createRoot(t).render(e.jsx(mSe,{}))}catch{document.body.innerHTML=`
    <div style="display:flex;align-items:center;justify-content:center;min-height:100vh;background:#0d0d0d;color:#f8f9fa;font-family:system-ui,sans-serif;">
      <div style="text-align:center;padding:2rem;">
        <h1 style="font-size:2rem;margin-bottom:1rem;">Application Error</h1>
        <p style="margin-bottom:1rem;">Failed to initialize the application.</p>
        <button 
          onclick="location.reload()" 
          style="margin-top:1rem;padding:0.5rem 1rem;background:#f8f9fa;color:#0d0d0d;border:none;border-radius:4px;cursor:pointer;">
          Reload Page
        </button>
      </div>
    </div>
  `}
